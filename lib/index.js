(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["UIKernel"] = factory();
	else
		root["UIKernel"] = factory();
})(global, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/node.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/browser.js":
/*!************************!*\
  !*** ./src/browser.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _common_setImmediate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common/setImmediate */ "./src/common/setImmediate.js");
/* harmony import */ var _common_setImmediate__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_common_setImmediate__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_variables__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common/variables */ "./src/common/variables.js");
/* harmony import */ var _grid_models_applyGridFilters__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./grid/models/applyGridFilters */ "./src/grid/models/applyGridFilters.js");
/* harmony import */ var _grid_Component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./grid/Component */ "./src/grid/Component.js");
/* harmony import */ var _form_FormService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./form/FormService */ "./src/form/FormService.js");
/* harmony import */ var _form_connectForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./form/connectForm */ "./src/form/connectForm.js");
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _grid_export_exportGridData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./grid/export/exportGridData */ "./src/grid/export/exportGridData.js");
/* harmony import */ var _grid_export_exporters_toJSON__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./grid/export/exporters/toJSON */ "./src/grid/export/exporters/toJSON.js");
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _grid_models_GridXhrModel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./grid/models/GridXhrModel */ "./src/grid/models/GridXhrModel.js");
/* harmony import */ var _grid_models_GridCollectionModel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./grid/models/GridCollectionModel */ "./src/grid/models/GridCollectionModel.js");
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./common/Events */ "./src/common/Events.js");
/* harmony import */ var _form_FormModel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./form/FormModel */ "./src/form/FormModel.js");
/* harmony import */ var _form_FormXhrModel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./form/FormXhrModel */ "./src/form/FormXhrModel.js");
/* harmony import */ var _list_ListXhrModel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./list/ListXhrModel */ "./src/list/ListXhrModel.js");
/* harmony import */ var _form_AbstractFormModel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./form/AbstractFormModel */ "./src/form/AbstractFormModel.js");
/* harmony import */ var _grid_models_AbstractGridModel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./grid/models/AbstractGridModel */ "./src/grid/models/AbstractGridModel.js");
/* harmony import */ var _list_AbstractListModel__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./list/AbstractListModel */ "./src/list/AbstractListModel.js");
/* harmony import */ var _form_adapters_GridToFormUpdate__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./form/adapters/GridToFormUpdate */ "./src/form/adapters/GridToFormUpdate.js");
/* harmony import */ var _form_adapters_GridToFormCreate__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./form/adapters/GridToFormCreate */ "./src/form/adapters/GridToFormCreate.js");
/* harmony import */ var _editors_Select__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./editors/Select */ "./src/editors/Select.js");
/* harmony import */ var _editors_SuggestBox__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./editors/SuggestBox */ "./src/editors/SuggestBox.js");
/* harmony import */ var _editors_DatePicker__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./editors/DatePicker */ "./src/editors/DatePicker.js");
/* harmony import */ var _editors_Checkbox__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./editors/Checkbox */ "./src/editors/Checkbox.js");
/* harmony import */ var _editors_Number__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./editors/Number */ "./src/editors/Number.js");
/* harmony import */ var _common_ArgumentsError__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./common/ArgumentsError */ "./src/common/ArgumentsError.js");
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./common/ThrottleError */ "./src/common/ThrottleError.js");
/* harmony import */ var _common_validation_rules_boolean__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./common/validation/rules/boolean */ "./src/common/validation/rules/boolean.js");
/* harmony import */ var _common_validation_rules_date__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./common/validation/rules/date */ "./src/common/validation/rules/date.js");
/* harmony import */ var _common_validation_rules_enum__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./common/validation/rules/enum */ "./src/common/validation/rules/enum.js");
/* harmony import */ var _common_validation_rules_set__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./common/validation/rules/set */ "./src/common/validation/rules/set.js");
/* harmony import */ var _common_validation_rules_float__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./common/validation/rules/float */ "./src/common/validation/rules/float.js");
/* harmony import */ var _common_validation_rules_regExp__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./common/validation/rules/regExp */ "./src/common/validation/rules/regExp.js");
/* harmony import */ var _common_validation_rules_notNull__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./common/validation/rules/notNull */ "./src/common/validation/rules/notNull.js");
/* harmony import */ var _common_validation_rules_number__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./common/validation/rules/number */ "./src/common/validation/rules/number.js");
/* harmony import */ var _common_validation_rules_notEmpty__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./common/validation/rules/notEmpty */ "./src/common/validation/rules/notEmpty.js");
/* harmony import */ var _form_mixin__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./form/mixin */ "./src/form/mixin.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */






































var UIKernel = {
  applyGridFilters: _grid_models_applyGridFilters__WEBPACK_IMPORTED_MODULE_2__["default"],
  Grid: _grid_Component__WEBPACK_IMPORTED_MODULE_3__["default"],
  Form: _form_FormService__WEBPACK_IMPORTED_MODULE_4__["default"],
  connectForm: _form_connectForm__WEBPACK_IMPORTED_MODULE_5__["default"],
  createValidator: _common_validation_Validator__WEBPACK_IMPORTED_MODULE_6__["default"].create,
  exportGridData: _grid_export_exportGridData__WEBPACK_IMPORTED_MODULE_7__["default"],
  toJSON: _grid_export_exporters_toJSON__WEBPACK_IMPORTED_MODULE_8__["default"],
  ValidationErrors: _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"],
  Models: {
    Grid: {
      Xhr: _grid_models_GridXhrModel__WEBPACK_IMPORTED_MODULE_10__["default"],
      Collection: _grid_models_GridCollectionModel__WEBPACK_IMPORTED_MODULE_11__["default"]
    },
    Events: _common_Events__WEBPACK_IMPORTED_MODULE_12__["default"],
    Form: _form_FormModel__WEBPACK_IMPORTED_MODULE_13__["default"],
    FormXhr: _form_FormXhrModel__WEBPACK_IMPORTED_MODULE_14__["default"],
    List: {
      Xhr: _list_ListXhrModel__WEBPACK_IMPORTED_MODULE_15__["default"]
    }
  },
  AbstractModels: {
    Form: _form_AbstractFormModel__WEBPACK_IMPORTED_MODULE_16__["default"],
    Grid: _grid_models_AbstractGridModel__WEBPACK_IMPORTED_MODULE_17__["default"],
    List: _list_AbstractListModel__WEBPACK_IMPORTED_MODULE_18__["default"]
  },
  Adapters: {
    Grid: {
      ToFormUpdate: _form_adapters_GridToFormUpdate__WEBPACK_IMPORTED_MODULE_19__["default"],
      ToFormCreate: _form_adapters_GridToFormCreate__WEBPACK_IMPORTED_MODULE_20__["default"]
    }
  },
  Editors: {
    Select: _editors_Select__WEBPACK_IMPORTED_MODULE_21__["default"],
    SuggestBox: _editors_SuggestBox__WEBPACK_IMPORTED_MODULE_22__["default"],
    DatePicker: _editors_DatePicker__WEBPACK_IMPORTED_MODULE_23__["default"],
    Checkbox: _editors_Checkbox__WEBPACK_IMPORTED_MODULE_24__["default"],
    Number: _editors_Number__WEBPACK_IMPORTED_MODULE_25__["default"]
  },
  ArgumentsError: _common_ArgumentsError__WEBPACK_IMPORTED_MODULE_26__["default"],
  ThrottleError: _common_ThrottleError__WEBPACK_IMPORTED_MODULE_27__["default"],
  Validators: {
    "boolean": _common_validation_rules_boolean__WEBPACK_IMPORTED_MODULE_28__["default"],
    date: _common_validation_rules_date__WEBPACK_IMPORTED_MODULE_29__["default"],
    "enum": _common_validation_rules_enum__WEBPACK_IMPORTED_MODULE_30__["default"],
    set: _common_validation_rules_set__WEBPACK_IMPORTED_MODULE_31__["default"],
    "float": _common_validation_rules_float__WEBPACK_IMPORTED_MODULE_32__["default"],
    regExp: _common_validation_rules_regExp__WEBPACK_IMPORTED_MODULE_33__["default"],
    notNull: _common_validation_rules_notNull__WEBPACK_IMPORTED_MODULE_34__["default"],
    number: _common_validation_rules_number__WEBPACK_IMPORTED_MODULE_35__["default"],
    notEmpty: _common_validation_rules_notEmpty__WEBPACK_IMPORTED_MODULE_36__["default"]
  },
  Mixins: {
    Form: _form_mixin__WEBPACK_IMPORTED_MODULE_37__["default"]
  },
  _get: _common_variables__WEBPACK_IMPORTED_MODULE_1__["default"].get,
  _set: _common_variables__WEBPACK_IMPORTED_MODULE_1__["default"].set
};
/* harmony default export */ __webpack_exports__["default"] = (UIKernel);

/***/ }),

/***/ "./src/common/ArgumentsError.js":
/*!**************************************!*\
  !*** ./src/common/ArgumentsError.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function ArgumentsError(message) {
  Error.call(this, message);
  this.name = 'ArgumentsError';
  this.message = message;
  this.status = this.statusCode = 422;
  this.stack = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getStack"])();
}

ArgumentsError.prototype = Object.create(Error.prototype);
ArgumentsError.prototype.constructor = ArgumentsError;
/* harmony default export */ __webpack_exports__["default"] = (ArgumentsError);

/***/ }),

/***/ "./src/common/Events.js":
/*!******************************!*\
  !*** ./src/common/Events.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "@babel/runtime/helpers/typeof");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./src/common/utils.js");




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Events control model
 */

var EventsModel =
/*#__PURE__*/
function () {
  function EventsModel() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, EventsModel);

    this._subscribers = {};
  }
  /**
   * Subscribe to inner model event
   *
   * @param {string}      event   Event ID
   * @param {Function}    cb      CallBack function
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(EventsModel, [{
    key: "on",
    value: function on(event, cb) {
      if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this._subscribers[event]) !== 'object') {
        this._subscribers[event] = [];
      }

      this._subscribers[event].push(cb);
    }
    /**
     * Unsubscribe from inner model event
     *
     * @param {number}      event   Event ID
     * @param {Function}    cb      CallBack function
     */

  }, {
    key: "off",
    value: function off(event, cb) {
      if (this._subscribers[event]) {
        this._subscribers[event] = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["without"])(this._subscribers[event], cb);
      }
    }
    /**
     * Trigger inner model event
     *
     * @param {number}  event   Event ID
     * @param {...*}    params
     */

  }, {
    key: "trigger",
    value: function trigger(event) {
      if (!this._subscribers[event] || !this._subscribers[event].length) {
        return;
      }

      for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        params[_key - 1] = arguments[_key];
      }

      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = this._subscribers[event][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var subscriber = _step.value;
          subscriber.apply(void 0, params);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator["return"] != null) {
            _iterator["return"]();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
    /**
     * Returns the number of listeners listening to the event
     *
     * @param {string} event name
     */

  }, {
    key: "listenerCount",
    value: function listenerCount(event) {
      return this._subscribers[event] ? this._subscribers[event].length : 0;
    }
    /**
     * Removes all listeners of the specified event
     *
     * @param {string} event name
     */

  }, {
    key: "removeAllListeners",
    value: function removeAllListeners(event) {
      this._subscribers[event] = [];
    }
  }]);

  return EventsModel;
}();

/* harmony default export */ __webpack_exports__["default"] = (EventsModel);

/***/ }),

/***/ "./src/common/Portal.js":
/*!******************************!*\
  !*** ./src/common/Portal.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "@babel/runtime/helpers/assertThisInitialized");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils */ "./src/common/utils.js");







/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var portalClass = '__portal';

var Portal =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(Portal, _React$Component);

  function Portal(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Portal);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(Portal).call(this, props));
    _this._onDocumentMouseDown = _this._onDocumentMouseDown.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this));
    _this._onDocumentMouseScroll = _this._onDocumentMouseScroll.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this));
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Portal, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      document.addEventListener('mousedown', this._onDocumentMouseDown, false);
      document.addEventListener('scroll', this._onDocumentMouseScroll, true);
      var portal = document.createElement('div');
      document.body.appendChild(portal);
      portal.className = portalClass;
      this.portal = portal;
      this.renderPortal();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.removeEventListener('mousedown', this._onDocumentMouseDown, false);
      document.removeEventListener('scroll', this._onDocumentMouseScroll, true);
      react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.unmountComponentAtNode(this.portal);
      document.body.removeChild(this.portal);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this.renderPortal();
    }
  }, {
    key: "_isDocumentEventOwner",
    value: function _isDocumentEventOwner(target) {
      return target === this.portal || this.portal.contains(target);
    }
  }, {
    key: "_onDocumentMouseDown",
    value: function _onDocumentMouseDown(e) {
      if (this.props.onDocumentMouseDown) {
        this.props.onDocumentMouseDown(e, this._isDocumentEventOwner(e.target));
      }
    }
  }, {
    key: "_onDocumentMouseScroll",
    value: function _onDocumentMouseScroll(e) {
      if (this.props.onDocumentMouseScroll) {
        this.props.onDocumentMouseScroll(e, this._isDocumentEventOwner(e.target));
      }
    }
  }, {
    key: "renderPortal",
    value: function renderPortal() {
      react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.render(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", Object(_utils__WEBPACK_IMPORTED_MODULE_9__["omit"])(this.props, ['onDocumentMouseDown', 'onDocumentMouseScroll']), this.props.children), this.portal);
    }
  }, {
    key: "render",
    value: function render() {
      return null;
    }
  }]);

  return Portal;
}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);

Portal.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.node,
  onDocumentMouseDown: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,
  onDocumentMouseScroll: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func
};
/* harmony default export */ __webpack_exports__["default"] = (Portal);

/***/ }),

/***/ "./src/common/ThrottleError.js":
/*!*************************************!*\
  !*** ./src/common/ThrottleError.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function ThrottleError() {
  Error.call(this);
  this.name = 'ThrottleError';
  this.message = 'Too many function call';
  this.stack = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getStack"])();
}

ThrottleError.prototype = Object.create(Error.prototype);
ThrottleError.prototype.constructor = ThrottleError;

ThrottleError.createWithParentStack = function (stack) {
  var err = new ThrottleError();
  err.stack += '\n' + stack;
  return err;
};

/* harmony default export */ __webpack_exports__["default"] = (ThrottleError);

/***/ }),

/***/ "./src/common/callbackify.js":
/*!***********************************!*\
  !*** ./src/common/callbackify.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

var functionsNames = [];
/* harmony default export */ __webpack_exports__["default"] = (function (func) {
  var hideWarning = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var funcName = func.name;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var lastArgumentIndex = args.length - 1;
    var cb = args[lastArgumentIndex];

    if (typeof cb === 'function' && !cb.__ignoreUIKernelWarning) {
      if (!functionsNames.includes(funcName) && !hideWarning) {
        Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["warn"])("You are using callback in: '".concat(funcName, "'. Use promise instead.\n").concat(JSON.stringify(args)));
        functionsNames.push(funcName);
      }

      var result = func.apply(this, args);

      if (result && result.then) {
        result.then(function (data) {
          cb(null, data);
        })["catch"](function (err) {
          cb(err);
        });
      }
    } else {
      return func.apply(this, args);
    }
  };
});

/***/ }),

/***/ "./src/common/defaultXhr.js":
/*!**********************************!*\
  !*** ./src/common/defaultXhr.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _variables__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./variables */ "./src/common/variables.js");
/* harmony import */ var xhr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! xhr */ "xhr");
/* harmony import */ var xhr__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(xhr__WEBPACK_IMPORTED_MODULE_1__);
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



function defaultXhr(settings) {
  return new Promise(function (resolve, reject) {
    xhr__WEBPACK_IMPORTED_MODULE_1___default()(settings, function (err, response, body) {
      if (response.statusCode === 200) {
        resolve(body);
        return;
      }

      if (!err) {
        err = new Error();
        err.statusCode = response.statusCode;
        err.message = 'Status Code: ' + err.statusCode;
      }

      if (body) {
        try {
          var parsedBody = JSON.parse(body);
          err.message = parsedBody.message || body;
        } catch (e) {
          err.message = body;
        }
      }

      reject(err);
    });
  });
}

if (!_variables__WEBPACK_IMPORTED_MODULE_0__["default"].get('xhr')) {
  _variables__WEBPACK_IMPORTED_MODULE_0__["default"].set('xhr', defaultXhr);
}

/* harmony default export */ __webpack_exports__["default"] = (function (settings) {
  return _variables__WEBPACK_IMPORTED_MODULE_0__["default"].get('xhr')(settings);
});

/***/ }),

/***/ "./src/common/setImmediate.js":
/*!************************************!*\
  !*** ./src/common/setImmediate.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */
if (typeof window !== 'undefined' && typeof window.setImmediate !== 'function') {
  window.setImmediate = function () {
    var head = {};
    var tail = head;
    var ID = Math.random();

    function onMessage(e) {
      if (e.data !== ID) {
        return;
      }

      head = head.next;
      var func = head.func;
      delete head.func;
      func();
    }

    if (window.addEventListener) {
      window.addEventListener('message', onMessage, false);
    } else {
      window.attachEvent('onmessage', onMessage);
    }

    return window.postMessage ? function (func) {
      tail = tail.next = {
        func: func
      };
      window.postMessage(ID, '*');
    } : function (func) {
      setTimeout(func, 0);
    };
  }();
}

/***/ }),

/***/ "./src/common/toPromise.js":
/*!*********************************!*\
  !*** ./src/common/toPromise.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

var functionsNames = [];

function toPromise(func, hideWarning) {
  var funcName = func.name;

  function promiseWarn(text) {
    if (!hideWarning) {
      if (!functionsNames.includes(funcName)) {
        Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["warn"])(text);
        functionsNames.push(funcName);
      }
    }
  }

  return function () {
    for (var _len = arguments.length, mainArguments = new Array(_len), _key = 0; _key < _len; _key++) {
      mainArguments[_key] = arguments[_key];
    }

    var promise;
    var callbackPromise = new Promise(function (resolve, reject) {
      function toPromiseCallback(err, data) {
        if (err) {
          return reject(err);
        }

        resolve(data);
      }

      toPromiseCallback.__ignoreUIKernelWarning = true;
      mainArguments.push(toPromiseCallback);
      promise = func.apply(void 0, mainArguments);
    });

    if (promise) {
      if (promise.then && promise["catch"]) {
        return promise;
      }

      promiseWarn("The return value is not a Promise in '".concat(funcName, "'.\n") + "Arguments: ".concat(JSON.stringify(mainArguments), "\n") + "Returns: ".concat(JSON.stringify(promise)));
      return callbackPromise;
    } else {
      promiseWarn("You are using callback in: '".concat(funcName, "'. Use promise instead.\n") + "Arguments: ".concat(JSON.stringify(mainArguments)));
      return callbackPromise;
    }
  };
}

/* harmony default export */ __webpack_exports__["default"] = (toPromise);

/***/ }),

/***/ "./src/common/utils.js":
/*!*****************************!*\
  !*** ./src/common/utils.js ***!
  \*****************************/
/*! exports provided: isIntersection, size, indexOf, throttle, parseValueFromEvent, Decorator, decorate, isEqual, clone, cloneDeep, isEmpty, isDefined, forEach, pluck, find, findIndex, omit, escape, zipObject, pick, mapKeys, reduce, union, at, pairs, toDate, without, last, getRecordChanges, getStack, warn, toEncodedString, asyncHandler, parents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIntersection", function() { return isIntersection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "size", function() { return size; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "indexOf", function() { return indexOf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throttle", function() { return throttle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseValueFromEvent", function() { return parseValueFromEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Decorator", function() { return Decorator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "decorate", function() { return decorate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEqual", function() { return isEqual; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clone", function() { return clone; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cloneDeep", function() { return cloneDeep; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEmpty", function() { return isEmpty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDefined", function() { return isDefined; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forEach", function() { return forEach; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pluck", function() { return pluck; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "find", function() { return find; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findIndex", function() { return findIndex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "omit", function() { return omit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "escape", function() { return escape; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "zipObject", function() { return zipObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pick", function() { return pick; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapKeys", function() { return mapKeys; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reduce", function() { return reduce; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "union", function() { return union; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "at", function() { return at; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pairs", function() { return pairs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toDate", function() { return toDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "without", function() { return without; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "last", function() { return last; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRecordChanges", function() { return getRecordChanges; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStack", function() { return getStack; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "warn", function() { return warn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toEncodedString", function() { return toEncodedString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "asyncHandler", function() { return asyncHandler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parents", function() { return parents; });
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "@babel/runtime/helpers/typeof");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "@babel/runtime/helpers/slicedToArray");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ThrottleError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ThrottleError */ "./src/common/ThrottleError.js");



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseClone(obj, isDeep) {
  var cloned;
  var es6types = ['[object Set]', '[object WeakSet]', '[object Map]', '[object WeakMap]'];

  if (!(obj instanceof Object) || obj instanceof Date || obj instanceof Function || obj instanceof RegExp) {
    return obj;
  }

  if (Array.isArray(obj)) {
    cloned = [];
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = obj[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var el = _step.value;
        cloned.push(isDeep ? baseClone(el, true) : el);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator["return"] != null) {
          _iterator["return"]();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
  } else if (es6types.includes(obj.toString())) {
    cloned = new obj.constructor(obj);
  } else {
    cloned = {};

    for (var _i = 0, _Object$entries = Object.entries(obj); _i < _Object$entries.length; _i++) {
      var _Object$entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_Object$entries[_i], 2),
          field = _Object$entries$_i[0],
          value = _Object$entries$_i[1];

      cloned[field] = isDeep ? baseClone(value, true) : value;
    }
  }

  return cloned;
}
/**
 * Check if two arrays intersection exists
 */


function isIntersection(a, b) {
  var c;

  if (a.length > b.length) {
    c = a;
    a = b;
    b = c;
  }

  var _iteratorNormalCompletion2 = true;
  var _didIteratorError2 = false;
  var _iteratorError2 = undefined;

  try {
    for (var _iterator2 = a[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
      var el = _step2.value;

      if (indexOf(b, el) > -1) {
        return true;
      }
    }
  } catch (err) {
    _didIteratorError2 = true;
    _iteratorError2 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
        _iterator2["return"]();
      }
    } finally {
      if (_didIteratorError2) {
        throw _iteratorError2;
      }
    }
  }

  return false;
}
/**
 * Define object size
 *
 * @param   {Object}    obj     Object
 * @return  {number}    Object size
 */

function size(obj) {
  return Object.keys(obj).length;
}
/**
 * Element position (isEqual checking)
 *
 * @param   {Array}   arr   Array
 * @param   {*}       item  Element item
 * @return  {number}
 */

function indexOf(arr, item) {
  for (var i = 0; i < arr.length; i++) {
    if (isEqual(arr[i], item)) {
      return i;
    }
  }

  return -1;
}
function throttle(func) {
  var worked = false;
  var nextArguments;
  var nextResolve;
  var nextReject;
  return function () {
    if (typeof arguments[arguments.length - 1] === 'function') {
      return throttleCallback(func).apply(this, arguments);
    } else {
      return throttlePromise(func).apply(this, arguments);
    }
  }; // it is still used in FormMixin._validateForm so we can't remove it yet

  function throttleCallback(func) {
    return function run() {
      var ctx = this; // Function context

      var cb = arguments[arguments.length - 1];
      var argumentsArray = [].slice.call(arguments);

      if (worked) {
        // Set as the next call
        nextArguments = arguments;
        return;
      }

      worked = true;

      var cbWrapper = function cbWrapper() {
        if (!nextWorker() && typeof cb === 'function') {
          cb.apply(null, arguments);
        }
      };

      if (typeof cb === 'function') {
        argumentsArray[argumentsArray.length - 1] = cbWrapper;
        func.apply(this, argumentsArray.concat(nextWorker));
      } else {
        func.apply(this, argumentsArray.concat(cbWrapper, nextWorker));
      }

      function nextWorker() {
        worked = false;

        if (nextArguments) {
          var args = nextArguments;
          nextArguments = null;
          run.apply(ctx, args);
          return true;
        }

        return false;
      }
    };
  }

  function throttlePromise(func) {
    /**
     * @throws {ThrottleError} Too many function call
     */
    return function run() {
      var _this = this;

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      var parentStack = getStack(2);
      return new Promise(function (resolve, reject) {
        if (worked) {
          if (nextArguments) {
            nextReject(_ThrottleError__WEBPACK_IMPORTED_MODULE_2__["default"].createWithParentStack(parentStack));
          }

          nextArguments = args;
          nextResolve = resolve;
          nextReject = reject;
          return;
        }

        worked = true;
        func.apply(_this, args).then(function (result) {
          worked = false;

          if (nextArguments) {
            nextResolve(run.apply(_this, nextArguments));
            nextArguments = null;
            reject(_ThrottleError__WEBPACK_IMPORTED_MODULE_2__["default"].createWithParentStack(parentStack));
            return;
          }

          resolve(result);
        })["catch"](function (err) {
          worked = false;
          reject(err);
        });
      });
    };
  }
}
function parseValueFromEvent(event) {
  if (event && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(event) === 'object' && event.target && ['INPUT', 'TEXTAREA', 'SELECT'].indexOf(event.target.tagName) >= 0) {
    switch (event.target.type) {
      case 'checkbox':
        return event.target.checked;
    }

    return event.target.value;
  }

  return event;
}
function Decorator(obj, decor) {
  Object.assign(this, decor);

  for (var i in obj) {
    if (typeof obj[i] === 'function' && !decor[i]) {
      this[i] = obj[i].bind(obj);
    }
  }
}
function decorate(obj, decor) {
  Decorator.prototype = obj;
  return new Decorator(obj, decor);
}
/**
 * Checking at equals params
 *
 * @param a
 * @param b
 * @returns {boolean}
 */

function isEqual(a, b) {
  if (a === null || b === null || a === undefined || b === undefined || typeof a === 'function' || typeof b === 'function' || a instanceof RegExp || b instanceof RegExp) {
    return a === b;
  }

  if (a === b || a.valueOf() === b.valueOf() || a !== a && b !== b) {
    return true;
  }

  if (Array.isArray(a) && (!Array.isArray(b) || a.length !== b.length) || !(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(a) === 'object')) {
    return false;
  }

  var p = Object.keys(a);
  return Object.keys(b).every(function (i) {
    return p.indexOf(i) >= 0;
  }) && p.every(function (i) {
    return isEqual(a[i], b[i]);
  });
}
/**
 * Clone object
 *
 * @param obj
 * @returns {*}
 */

function clone(obj) {
  return baseClone(obj, false);
}
function cloneDeep(obj) {
  return baseClone(obj, true);
}
function isEmpty(value) {
  if (!value) {
    return true;
  }

  if (Array.isArray(value)) {
    return value.length === 0;
  }

  if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(value) === 'object') {
    return Object.keys(value).length === 0;
  }

  if (typeof value === 'string') {
    return value.trim().length === 0;
  }

  return false;
}
function isDefined(value) {
  return value !== null && value !== undefined;
}
function forEach(obj, func, ctx) {
  for (var i in obj) {
    func.call(ctx, obj[i], i);
  }
}
function pluck(arr, field) {
  return arr.map(function (item) {
    return item[field];
  });
}
function find(arr, func) {
  for (var i in arr) {
    if (func(arr[i], i)) {
      return arr[i];
    }
  }

  return null;
}
function findIndex(obj, func) {
  for (var i in obj) {
    if (func(obj[i], i)) {
      return i;
    }
  }

  return -1;
}
function omit(obj, predicate) {
  var result = {};

  for (var _i2 = 0, _Object$entries2 = Object.entries(obj); _i2 < _Object$entries2.length; _i2++) {
    var _Object$entries2$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_Object$entries2[_i2], 2),
        field = _Object$entries2$_i[0],
        value = _Object$entries2$_i[1];

    if (typeof predicate === 'string' && predicate !== field || Array.isArray(predicate) && !predicate.includes(field) || typeof predicate === 'function' && !predicate(value, field)) {
      result[field] = value;
    }
  }

  return result;
}
function escape(string) {
  var reUnescaped = /[&<>"'`]/g;
  var escapes = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    '\'': '&#39;',
    '`': '&#96;'
  };
  string = "".concat(string === null ? '' : string.toString());

  if (string && reUnescaped.test(string)) {
    return string.replace(reUnescaped, function (chr) {
      return escapes[chr];
    });
  }

  return string;
}
function zipObject(keys, values) {
  var result = {};

  for (var i = 0; i < keys.length; i++) {
    result[keys[i]] = values[i];
  }

  return result;
}
function pick(obj, keys, defaultValue) {
  return keys.reduce(function (result, key) {
    if (obj.hasOwnProperty(key)) {
      result[key] = obj[key];
    } else if (defaultValue !== undefined) {
      result[key] = defaultValue;
    }

    return result;
  }, {});
}
function mapKeys(object, iteratee) {
  var result = {};

  for (var _i3 = 0, _Object$entries3 = Object.entries(object); _i3 < _Object$entries3.length; _i3++) {
    var _Object$entries3$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_Object$entries3[_i3], 2),
        key = _Object$entries3$_i[0],
        value = _Object$entries3$_i[1];

    result[iteratee(value, key)] = value;
  }

  return result;
}
function reduce(obj, func, value) {
  for (var i in obj) {
    value = func(value, obj[i], i);
  }

  return value;
}
function union() {
  var elements = {};

  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }

  for (var _i4 = 0, _args = args; _i4 < _args.length; _i4++) {
    var arg = _args[_i4];
    var _iteratorNormalCompletion3 = true;
    var _didIteratorError3 = false;
    var _iteratorError3 = undefined;

    try {
      for (var _iterator3 = arg[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
        var el = _step3.value;
        elements[el] = el;
      }
    } catch (err) {
      _didIteratorError3 = true;
      _iteratorError3 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion3 && _iterator3["return"] != null) {
          _iterator3["return"]();
        }
      } finally {
        if (_didIteratorError3) {
          throw _iteratorError3;
        }
      }
    }
  }

  return Object.values(elements);
}
function at(obj, keys) {
  var result = [];

  if (!Array.isArray(keys)) {
    return [obj[keys]];
  }

  var _iteratorNormalCompletion4 = true;
  var _didIteratorError4 = false;
  var _iteratorError4 = undefined;

  try {
    for (var _iterator4 = keys[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
      var key = _step4.value;
      result.push(obj[key]);
    }
  } catch (err) {
    _didIteratorError4 = true;
    _iteratorError4 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion4 && _iterator4["return"] != null) {
        _iterator4["return"]();
      }
    } finally {
      if (_didIteratorError4) {
        throw _iteratorError4;
      }
    }
  }

  return result;
}
function pairs(obj) {
  var result = [];

  for (var i in obj) {
    result.push([i, obj[i]]);
  }

  return result;
}
function toDate(value) {
  var date;

  if (typeof value === 'number') {
    return new Date(value);
  }

  if (typeof value === 'string') {
    date = new Date(value);
    date.setTime(date.getTime() + date.getTimezoneOffset() * 60 * 1000); // Convert UTC to local time

    return date;
  }

  return new Date(value);
}
function without(arr, el) {
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    if (Array.isArray(el) ? indexOf(el, arr[i]) > -1 : isEqual(arr[i], el)) {
      continue;
    }

    result.push(arr[i]);
  }

  return result;
}
function last(arr) {
  return arr[arr.length - 1];
}
function getRecordChanges(model, data, changes, newChanges) {
  var result = Object.assign({}, changes, newChanges);

  for (var i in result) {
    if (isEqual(data[i], result[i])) {
      delete result[i];
    }
  }

  Object.assign(result, pick(data, model.getValidationDependency(Object.keys(result))));
  return result;
}
function getStack() {
  var deep = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  // We add here try..catch because in IE Error.stack is available only
  // for thrown errors: https://msdn.microsoft.com/ru-ru/library/windows/apps/hh699850.aspx
  var stack = '';
  var stackTraceLimitDefault = Error.stackTraceLimit;
  Error.stackTraceLimit = deep + 12;

  try {
    throw new Error();
  } catch (e) {
    if (e.stack) {
      // Error.stack is unavailable in old browsers
      stack = e.stack.split('\n').slice(2 + deep) // Here we delete rows 'Error' and 'at getStack(utils.js:427)'
      .join('\n');
    }
  }

  Error.stackTraceLimit = stackTraceLimitDefault;
  return stack;
}
function warn(message) {
  console.warn(message, '\n', getStack(1));
}
function toEncodedString(value) {
  return encodeURIComponent(typeof value === 'string' ? value : JSON.stringify(value));
}
function asyncHandler(router) {
  return function (req, res, next) {
    var promise = router(req, res, next);

    if (promise && promise.then) {
      return promise["catch"](next);
    }

    next(new Error('asyncHandler expected to take async function.'));
  };
}
function parents(element, selector) {
  var result = [];

  while (element = element.parentElement) {
    if (element.matches(selector)) {
      result.push(element);
    }
  }

  return result;
}

/***/ }),

/***/ "./src/common/validation/ValidationErrors.js":
/*!***************************************************!*\
  !*** ./src/common/validation/ValidationErrors.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "@babel/runtime/helpers/slicedToArray");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "@babel/runtime/helpers/toConsumableArray");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__);






/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */
var ValidationErrors =
/*#__PURE__*/
function () {
  /**
   * Field errors control manager
   * @constructor
   */
  function ValidationErrors() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ValidationErrors);

    this._fields = new Map();
  }
  /**
   * Convert JSON to ValidationErrors object
   *
   * @param   {{:string[]}}      jsonObject
   * @return  {ValidationErrors}
   * @static
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ValidationErrors, [{
    key: "add",

    /**
     * Add an error
     *
     * @param {string}                  field       Field name
     * @param {string|{string message}} error       Error text
     * @return {ValidationErrors}
     */
    value: function add(field, error) {
      error = this._formErrorValue(error);

      if (!this._fields.has(field)) {
        this._fields.set(field, [error]);

        return this;
      }

      var fieldErrors = this._fields.get(field);

      if (!fieldErrors.includes(error)) {
        fieldErrors.push(error);
      }

      return this;
    }
    /**
     * Field has error flag
     *
     * @param   {string}      field     Field name
     * @returns {boolean}
     */

  }, {
    key: "hasError",
    value: function hasError(field) {
      return this._fields.has(field);
    }
    /**
     * Get field errors
     *
     * @param   {string}      field     Field name
     * @returns {Array|null}  Errors array or null
     */

  }, {
    key: "getFieldErrors",
    value: function getFieldErrors(field) {
      return this._fields.get(field) || null;
    }
    /**
     * Get field errors message
     *
     * @param   {string}      field     Field name
     * @returns {Array|null}  Errors array or null
     */

  }, {
    key: "getFieldErrorMessages",
    value: function getFieldErrorMessages(field) {
      var fieldErrors = this._fields.get(field);

      if (fieldErrors) {
        return fieldErrors.map(function (error) {
          return error.message;
        });
      }

      return null;
    }
    /**
     * Get field names array, that contain errors
     *
     * @returns {string[]|null}
     */

  }, {
    key: "getFailedFields",
    value: function getFailedFields() {
      var fields = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(this._fields.keys());

      return fields.length ? fields : null;
    }
    /**
     * Errors absence check
     *
     * @returns {boolean} Errors presence
     */

  }, {
    key: "isEmpty",
    value: function isEmpty() {
      return this._fields.size === 0;
    }
    /**
     * Clear specific field errors
     *
     * @param   {string}  field  Field name
     * @returns {ValidationErrors}
     */

  }, {
    key: "clearField",
    value: function clearField(field) {
      this._fields["delete"](field);

      return this;
    }
    /**
     * Clear errors list
     *
     * @return {ValidationErrors}
     */

  }, {
    key: "clear",
    value: function clear() {
      this._fields = new Map();
      return this;
    }
    /**
     * Convert errors to JSON
     *
     * @return {{[string]: Array<string>}}
     */

  }, {
    key: "toJSON",
    value: function toJSON() {
      var json = {};
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = this._fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _step$value = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_step.value, 2),
              key = _step$value[0],
              value = _step$value[1];

          json[key] = value;
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator["return"] != null) {
            _iterator["return"]();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return json;
    }
    /**
     * Clone object
     *
     * @return {ValidationErrors}
     */

  }, {
    key: "clone",
    value: function clone() {
      return ValidationErrors.createFromJSON(this.toJSON());
    }
    /**
     * Merge object
     *
     * @return {ValidationErrors}
     */

  }, {
    key: "merge",
    value: function merge(validationErrors) {
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = validationErrors.getErrors()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var _errors;

          var _step2$value = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_step2.value, 2),
              field = _step2$value[0],
              newErrors = _step2$value[1];

          var errors = this._fields.get(field);

          if (!errors) {
            errors = [];

            this._fields.set(field, errors);
          }

          (_errors = errors).push.apply(_errors, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(newErrors));
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
            _iterator2["return"]();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }

      return this;
    }
    /**
     * Get errors iterator
     *
     * @return {[string, string[]][]}
     */

  }, {
    key: "getErrors",
    value: function getErrors() {
      return this._fields;
    }
  }, {
    key: "_formErrorValue",
    value: function _formErrorValue(error) {
      if (typeof error === 'string') {
        return {
          message: error
        };
      }

      if (!error.message) {
        throw new Error('Invalid error value. Error must be string or object with "message" property.');
      }

      return error;
    }
  }], [{
    key: "createFromJSON",
    value: function createFromJSON(jsonObject) {
      var validationErrors = new ValidationErrors();

      var _loop = function _loop() {
        var _Object$entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_Object$entries[_i], 2),
            key = _Object$entries$_i[0],
            value = _Object$entries$_i[1];

        value.forEach(function (errMessage) {
          return validationErrors.add(key, errMessage);
        });
      };

      for (var _i = 0, _Object$entries = Object.entries(jsonObject); _i < _Object$entries.length; _i++) {
        _loop();
      }

      return validationErrors;
    }
    /**
     * Create ValidationErrors object with one error
     *
     * @param {string}                  field
     * @param {string|{error: string}}  error
     * @return {ValidationErrors}
     */

  }, {
    key: "createWithError",
    value: function createWithError(field, error) {
      var validationErrors = new ValidationErrors();
      validationErrors.add(field, error);
      return validationErrors;
    }
  }]);

  return ValidationErrors;
}();

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default()(ValidationErrors, "merge", function () {
  var jsonErrors = [{}];

  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  for (var _i2 = 0, _args = args; _i2 < _args.length; _i2++) {
    var arg = _args[_i2];
    jsonErrors.push(arg.toJSON());
  } // TODO Need deep merge


  return ValidationErrors.createFromJSON(Object.assign.apply(Object, jsonErrors));
});

/* harmony default export */ __webpack_exports__["default"] = (ValidationErrors);

/***/ }),

/***/ "./src/common/validation/Validator.js":
/*!********************************************!*\
  !*** ./src/common/validation/Validator.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "@babel/runtime/helpers/slicedToArray");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _ValidationErrors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _ArgumentsError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ArgumentsError */ "./src/common/ArgumentsError.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils */ "./src/common/utils.js");






/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var Validator =
/*#__PURE__*/
function () {
  /**
   * Validation check model
   *
   * @constructor
   */
  function Validator() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, Validator);

    this._settings = {
      validators: {},
      groupValidators: [],
      asyncValidators: {},
      asyncGroupValidators: [],
      asyncDependenies: []
    };
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(Validator, [{
    key: "field",

    /**
     * Add field sync validators
     *
     * @param {string}      field       Field name
     * @param {...Function} validators  Field validators
     * @returns {Validator} validator
     */
    value: function field(_field) {
      if (!this._settings.validators[_field]) {
        this._settings.validators[_field] = [];
      }

      for (var _len = arguments.length, validators = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        validators[_key - 1] = arguments[_key];
      }

      this._settings.validators[_field] = this._settings.validators[_field].concat(validators);
      return this;
    }
    /**
     * Specify multiple sync validators for fields group
     *
     * @param {Array}      fields              Fields array
     * @param {Function}   validatorFunction   Validator function
     * @returns {Validator} validator
     */

  }, {
    key: "fields",
    value: function fields(_fields, validatorFunction) {
      this._settings.groupValidators.push({
        fields: _fields,
        fn: validatorFunction
      });

      return this;
    }
    /**
     * Point which fields server validation needs
     *
     * @param {Array}   fields   Fields array
     * @returns {Validator} validator
     */

  }, {
    key: "asyncDependence",
    value: function asyncDependence(fields) {
      this._settings.asyncDependenies.push(fields);

      return this;
    }
    /**
     * Add field async validators
     *
     * @param {string}     field               Field name
     * @param {Function}   validatorFunction   Validator function
     * @returns {Validator} validator
     */

  }, {
    key: "asyncField",
    value: function asyncField(field, validatorFunction) {
      if (!this._settings.asyncValidators[field]) {
        this._settings.asyncValidators[field] = [];
      }

      this._settings.asyncValidators[field].push(validatorFunction);

      return this;
    }
    /**
     * Specify multiple async validators for fields group
     *
     * @param {Array}      fields              Fields array
     * @param {Function}   validatorFunction   Validator function
     * @returns {Validator} validator
     */

  }, {
    key: "asyncFields",
    value: function asyncFields(fields, validatorFunction) {
      this._settings.asyncGroupValidators.push({
        fields: fields,
        fn: validatorFunction
      });

      return this;
    }
    /**
     * Get all dependent fields validation needs
     *
     * @param {Array}   fields    Fields array
     * @returns {Array} fields
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      var result = [];
      var length;
      var groups = Object(_utils__WEBPACK_IMPORTED_MODULE_7__["pluck"])(this._settings.groupValidators.concat(this._settings.asyncGroupValidators), 'fields').concat(this._settings.asyncDependenies);

      while (length !== result.length) {
        length = result.length;

        for (var i = 0; i < groups.length; i++) {
          if (!Object(_utils__WEBPACK_IMPORTED_MODULE_7__["isIntersection"])(groups[i], fields) && !Object(_utils__WEBPACK_IMPORTED_MODULE_7__["isIntersection"])(groups[i], result)) {
            continue;
          }

          for (var j = 0; j < groups[i].length; j++) {
            var field = groups[i][j];

            if (fields.indexOf(field) >= 0 || result.indexOf(field) >= 0) {
              continue;
            }

            result.push(field);
          }
        }
      }

      return result;
    }
    /**
     * Check client record validity
     *
     * @param {Object}  record   Record
     * @returns {ValidationErrors|null} Record validity
     */

  }, {
    key: "isValidRecord",
    value: function () {
      var _isValidRecord = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(record) {
        var fields, errors, awaitStack, promises, dependentFields, _i, _Object$entries, _Object$entries$_i, _field2, value, validators, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, validator, _error, asyncValidators, _iteratorNormalCompletion4, _didIteratorError4, _iteratorError4, _iterator4, _step4, asyncValidator, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, groupValidator, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, asyncGroupValidator, asyncErrors, error, field;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                fields = Object.keys(record);
                errors = new _ValidationErrors__WEBPACK_IMPORTED_MODULE_5__["default"]();
                awaitStack = [];
                promises = [];
                dependentFields = this.getValidationDependency(fields);

                if (!dependentFields.length) {
                  _context.next = 7;
                  break;
                }

                throw new _ArgumentsError__WEBPACK_IMPORTED_MODULE_6__["default"]('Not enough fields for validator: ' + dependentFields.join(', '));

              case 7:
                _i = 0, _Object$entries = Object.entries(record);

              case 8:
                if (!(_i < _Object$entries.length)) {
                  _context.next = 66;
                  break;
                }

                _Object$entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_Object$entries[_i], 2), _field2 = _Object$entries$_i[0], value = _Object$entries$_i[1];
                validators = this._settings.validators[_field2];

                if (!validators) {
                  _context.next = 31;
                  break;
                }

                _iteratorNormalCompletion3 = true;
                _didIteratorError3 = false;
                _iteratorError3 = undefined;
                _context.prev = 15;

                for (_iterator3 = validators[Symbol.iterator](); !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                  validator = _step3.value;
                  _error = validator(value);

                  if (_error) {
                    errors.add(_field2, _error);
                  }
                }

                _context.next = 23;
                break;

              case 19:
                _context.prev = 19;
                _context.t0 = _context["catch"](15);
                _didIteratorError3 = true;
                _iteratorError3 = _context.t0;

              case 23:
                _context.prev = 23;
                _context.prev = 24;

                if (!_iteratorNormalCompletion3 && _iterator3["return"] != null) {
                  _iterator3["return"]();
                }

              case 26:
                _context.prev = 26;

                if (!_didIteratorError3) {
                  _context.next = 29;
                  break;
                }

                throw _iteratorError3;

              case 29:
                return _context.finish(26);

              case 30:
                return _context.finish(23);

              case 31:
                asyncValidators = this._settings.asyncValidators[_field2];

                if (!asyncValidators) {
                  _context.next = 63;
                  break;
                }

                _iteratorNormalCompletion4 = true;
                _didIteratorError4 = false;
                _iteratorError4 = undefined;
                _context.prev = 36;
                _iterator4 = asyncValidators[Symbol.iterator]();

              case 38:
                if (_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done) {
                  _context.next = 49;
                  break;
                }

                asyncValidator = _step4.value;
                awaitStack.push(_field2);
                _context.t1 = promises;
                _context.next = 44;
                return asyncValidator(value);

              case 44:
                _context.t2 = _context.sent;

                _context.t1.push.call(_context.t1, _context.t2);

              case 46:
                _iteratorNormalCompletion4 = true;
                _context.next = 38;
                break;

              case 49:
                _context.next = 55;
                break;

              case 51:
                _context.prev = 51;
                _context.t3 = _context["catch"](36);
                _didIteratorError4 = true;
                _iteratorError4 = _context.t3;

              case 55:
                _context.prev = 55;
                _context.prev = 56;

                if (!_iteratorNormalCompletion4 && _iterator4["return"] != null) {
                  _iterator4["return"]();
                }

              case 58:
                _context.prev = 58;

                if (!_didIteratorError4) {
                  _context.next = 61;
                  break;
                }

                throw _iteratorError4;

              case 61:
                return _context.finish(58);

              case 62:
                return _context.finish(55);

              case 63:
                _i++;
                _context.next = 8;
                break;

              case 66:
                // Add sync and async group validators
                _iteratorNormalCompletion = true;
                _didIteratorError = false;
                _iteratorError = undefined;
                _context.prev = 69;

                for (_iterator = this._settings.groupValidators[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  groupValidator = _step.value;

                  if (Object(_utils__WEBPACK_IMPORTED_MODULE_7__["isIntersection"])(groupValidator.fields, fields)) {
                    groupValidator.fn(record, errors);
                  }
                }

                _context.next = 77;
                break;

              case 73:
                _context.prev = 73;
                _context.t4 = _context["catch"](69);
                _didIteratorError = true;
                _iteratorError = _context.t4;

              case 77:
                _context.prev = 77;
                _context.prev = 78;

                if (!_iteratorNormalCompletion && _iterator["return"] != null) {
                  _iterator["return"]();
                }

              case 80:
                _context.prev = 80;

                if (!_didIteratorError) {
                  _context.next = 83;
                  break;
                }

                throw _iteratorError;

              case 83:
                return _context.finish(80);

              case 84:
                return _context.finish(77);

              case 85:
                _iteratorNormalCompletion2 = true;
                _didIteratorError2 = false;
                _iteratorError2 = undefined;
                _context.prev = 88;
                _iterator2 = this._settings.asyncGroupValidators[Symbol.iterator]();

              case 90:
                if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {
                  _context.next = 102;
                  break;
                }

                asyncGroupValidator = _step2.value;

                if (!Object(_utils__WEBPACK_IMPORTED_MODULE_7__["isIntersection"])(asyncGroupValidator.fields, fields)) {
                  _context.next = 99;
                  break;
                }

                awaitStack.push(null);
                _context.t5 = promises;
                _context.next = 97;
                return asyncGroupValidator.fn(record, errors);

              case 97:
                _context.t6 = _context.sent;

                _context.t5.push.call(_context.t5, _context.t6);

              case 99:
                _iteratorNormalCompletion2 = true;
                _context.next = 90;
                break;

              case 102:
                _context.next = 108;
                break;

              case 104:
                _context.prev = 104;
                _context.t7 = _context["catch"](88);
                _didIteratorError2 = true;
                _iteratorError2 = _context.t7;

              case 108:
                _context.prev = 108;
                _context.prev = 109;

                if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
                  _iterator2["return"]();
                }

              case 111:
                _context.prev = 111;

                if (!_didIteratorError2) {
                  _context.next = 114;
                  break;
                }

                throw _iteratorError2;

              case 114:
                return _context.finish(111);

              case 115:
                return _context.finish(108);

              case 116:
                _context.next = 118;
                return Promise.all(promises);

              case 118:
                asyncErrors = _context.sent;

                while (asyncErrors.length) {
                  error = asyncErrors.pop();
                  field = awaitStack.pop();

                  if (error && field) {
                    errors.add(field, error);
                  }
                }

                return _context.abrupt("return", errors);

              case 121:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[15, 19, 23, 31], [24,, 26, 30], [36, 51, 55, 63], [56,, 58, 62], [69, 73, 77, 85], [78,, 80, 84], [88, 104, 108, 116], [109,, 111, 115]]);
      }));

      function isValidRecord(_x) {
        return _isValidRecord.apply(this, arguments);
      }

      return isValidRecord;
    }()
  }], [{
    key: "create",
    value: function create() {
      return new Validator();
    }
  }]);

  return Validator;
}();

/* harmony default export */ __webpack_exports__["default"] = (Validator);

/***/ }),

/***/ "./src/common/validation/rules/boolean.js":
/*!************************************************!*\
  !*** ./src/common/validation/rules/boolean.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, error, value) {
  error = error || 'Not boolean';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(value)) {
    if (notNull) {
      return error;
    }

    return;
  }

  if (typeof value !== 'boolean') {
    return error;
  }
}
/**
 * Create boolean validator
 *
 * @param {string} error Error message
 * @returns {Function} Validator
 */


var validator = function validator(error) {
  return baseValidator.bind(null, false, error);
};

validator.notNull = function (error) {
  return baseValidator.bind(null, true, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/validation/rules/date.js":
/*!*********************************************!*\
  !*** ./src/common/validation/rules/date.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "@babel/runtime/helpers/typeof");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");


/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, min, max, error, value) {
  error = error || 'Invalid date';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_1__["isDefined"])(value)) {
    if (notNull) {
      return error;
    }

    return;
  }

  var typeOfValue = _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(value);

  if (typeOfValue !== 'number' && typeOfValue !== 'string' && !(value instanceof Date)) {
    return error;
  }

  value = Object(_utils__WEBPACK_IMPORTED_MODULE_1__["toDate"])(value);

  if (isNaN(value)) {
    return error;
  }

  if (min && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["toDate"])(min) > value) {
    return error;
  }

  if (max && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["toDate"])(max) < value) {
    return error;
  }
}
/**
 * Create date validator
 *
 * @param {Date}    [min]   Min date
 * @param {Date}    [max]   Max date
 * @param {string}  error   Error message
 * @returns {Function} Validator
 */


var validator = function validator(min, max, error) {
  return baseValidator.bind(null, false, min, max, error);
};

validator.notNull = function (min, max, error) {
  return baseValidator.bind(null, true, min, max, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/validation/rules/enum.js":
/*!*********************************************!*\
  !*** ./src/common/validation/rules/enum.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, variants, error, value) {
  error = error || 'Not in variants';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(value)) {
    if (notNull) {
      return error;
    }

    return;
  }

  if (variants.indexOf(value) < 0) {
    return error;
  }
}
/**
 * Create enum validator
 *
 * @param variants
 * @param {string} error Error message
 * @returns {Function}
 */


var validator = function validator(variants, error) {
  return baseValidator.bind(null, false, variants, error);
};

validator.notNull = function (variants, error) {
  return baseValidator.bind(null, true, variants, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/validation/rules/float.js":
/*!**********************************************!*\
  !*** ./src/common/validation/rules/float.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, min, max, error, value) {
  error = error || 'Invalid float';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(value)) {
    if (notNull) {
      return error;
    }

    return;
  }

  if (typeof value !== 'number' || isNaN(value) || !isFinite(value) || typeof min === 'number' && value < min || typeof max === 'number' && value > max) {
    return error;
  }
}
/**
 * Create float validator
 *
 * @param min
 * @param max
 * @param {string} error Error message
 * @returns {Function}
 */


var validator = function validator(min, max, error) {
  return baseValidator.bind(null, false, min, max, error);
};

validator.notNull = function (min, max, error) {
  return baseValidator.bind(null, true, min, max, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/validation/rules/notEmpty.js":
/*!*************************************************!*\
  !*** ./src/common/validation/rules/notEmpty.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Check if value is not empty string, array and object. Not null, undefined, 0
 *
 * @param {string} [error="Can not be empty"] Error message
 * @returns {Function}
 */

/* harmony default export */ __webpack_exports__["default"] = (function (error) {
  error = error || 'Can not be empty';
  return function (value) {
    if (Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(value) || typeof value === 'number' && (isNaN(value) || !isFinite(value))) {
      return error;
    }
  };
});

/***/ }),

/***/ "./src/common/validation/rules/notNull.js":
/*!************************************************!*\
  !*** ./src/common/validation/rules/notNull.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Create NULL validator
 *
 * @param {string} [error = "Can not be empty"] Error message
 * @returns {Function}
 */

/* harmony default export */ __webpack_exports__["default"] = (function (error) {
  error = error || 'Can not be empty';
  return function (value) {
    if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(value) || value === '' || typeof value === 'number' && (isNaN(value) || !isFinite(value))) {
      return error;
    }
  };
});

/***/ }),

/***/ "./src/common/validation/rules/number.js":
/*!***********************************************!*\
  !*** ./src/common/validation/rules/number.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, min, max, error, value) {
  error = error || 'Invalid number';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(value)) {
    if (notNull) {
      return error;
    }

    return;
  }

  if (typeof value !== 'number' || isNaN(value) || parseInt(value, 10).toString() !== value.toString() || typeof min === 'number' && value < min || typeof max === 'number' && value > max) {
    return error;
  }
}
/**
 * Create range Number validator
 *
 * @param min
 * @param max
 * @param {string} error Error message
 * @returns {Function}
 */


var validator = function validator(min, max, error) {
  return baseValidator.bind(null, false, min, max, error);
};

validator.notNull = function (min, max, error) {
  return baseValidator.bind(null, true, min, max, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/validation/rules/regExp.js":
/*!***********************************************!*\
  !*** ./src/common/validation/rules/regExp.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, regExp, error, value) {
  error = error || 'Invalid value';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(value) || value === '') {
    if (notNull) {
      return error;
    }

    return;
  }

  if (typeof value !== 'string' || !regExp.test(value)) {
    return error;
  }
}
/**
 * Create RegEx validator
 *
 * @param regExp
 * @param {string} error Error message
 * @returns {Function}
 */


var validator = function validator(regExp, error) {
  return baseValidator.bind(null, false, regExp, error);
};

validator.notNull = function (regExp, error) {
  return baseValidator.bind(null, true, regExp, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/validation/rules/set.js":
/*!********************************************!*\
  !*** ./src/common/validation/rules/set.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, variants, error, values) {
  error = error || 'Not in variants';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(values) || !values.length) {
    if (notNull) {
      return error;
    }

    return;
  }

  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var value = _step.value;

      if (variants.indexOf(value) < 0) {
        return error;
      }
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator["return"] != null) {
        _iterator["return"]();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }
}
/**
 * Create set validator
 *
 * @param variants
 * @param {string} error Error message
 * @returns {Function}
 */


var validator = function validator(variants, error) {
  return baseValidator.bind(null, false, variants, error);
};

validator.notNull = function (variants, error) {
  return baseValidator.bind(null, true, variants, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/variables.js":
/*!*********************************!*\
  !*** ./src/common/variables.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */
var variables = {};
/* harmony default export */ __webpack_exports__["default"] = ({
  get: function get(key) {
    return variables[key];
  },
  set: function set(key, value) {
    variables[key] = value;
  }
});

/***/ }),

/***/ "./src/editors/Checkbox.js":
/*!*********************************!*\
  !*** ./src/editors/Checkbox.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "@babel/runtime/helpers/objectWithoutProperties");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



function Checkbox(props) {
  var indeterminate = props.indeterminate,
      otherProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(props, ["indeterminate"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, otherProps, {
    type: "checkbox",
    ref: function ref(input) {
      if (input) {
        input.indeterminate = indeterminate;
      }
    }
  }));
}

Checkbox.propTypes = {
  indeterminate: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (Checkbox);

/***/ }),

/***/ "./src/editors/DatePicker.js":
/*!***********************************!*\
  !*** ./src/editors/DatePicker.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_datepicker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-datepicker */ "react-datepicker");
/* harmony import */ var react_datepicker__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_datepicker__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ "moment");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */






var DatePickerEditor =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(DatePickerEditor, _React$Component);

  function DatePickerEditor() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, DatePickerEditor);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(DatePickerEditor).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(DatePickerEditor, [{
    key: "onChange",
    value: function onChange(date) {
      if (date) {
        date = date.format(this.props.format);
      }

      this.props.onChange(date);
    }
  }, {
    key: "render",
    value: function render() {
      var otherProps = Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["omit"])(this.props, ['textFormat', 'value', 'onChange', 'min', 'max']);
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_datepicker__WEBPACK_IMPORTED_MODULE_8___default.a, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, otherProps, {
        dateFormat: this.props.textFormat,
        selected: this.props.value && moment__WEBPACK_IMPORTED_MODULE_9___default()(this.props.value),
        onChange: this.onChange.bind(this),
        minDate: this.props.min && moment__WEBPACK_IMPORTED_MODULE_9___default()(this.props.min),
        maxDate: this.props.max && moment__WEBPACK_IMPORTED_MODULE_9___default()(this.props.max),
        todayButton: 'Today'
      }));
    }
  }]);

  return DatePickerEditor;
}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(DatePickerEditor, "propTypes", {
  format: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,
  textFormat: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,
  min: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any,
  max: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any,
  value: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any,
  show: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,
  onBlur: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired
});

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(DatePickerEditor, "defaultProps", {
  textFormat: 'YYYY-MM-DD'
});

/* harmony default export */ __webpack_exports__["default"] = (DatePickerEditor);

/***/ }),

/***/ "./src/editors/Number.js":
/*!*******************************!*\
  !*** ./src/editors/Number.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_validation_rules_float__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/validation/rules/float */ "./src/common/validation/rules/float.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */





var isInvalidFloat = Object(_common_validation_rules_float__WEBPACK_IMPORTED_MODULE_7__["default"])(null, null, true);

var NumberEditor =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(NumberEditor, _React$Component);

  function NumberEditor(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, NumberEditor);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(NumberEditor).call(this, props));
    _this.state = {
      value: props.value
    };
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(NumberEditor, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_8__["isEqual"])(this.state.value, nextProps.value)) {
        Object(react_dom__WEBPACK_IMPORTED_MODULE_9__["findDOMNode"])(this.input).value = this.state.value = nextProps.value;
      }
    }
  }, {
    key: "_onChangeHandler",
    value: function _onChangeHandler(e) {
      var target = e.target;
      var valueAsNumber = parseFloat(target.value); // Edge doesn't support "target.valueAsNumber"

      if (target.value === '' && target.validity.valid) {
        // Invalid number set empty string and valid=false to event
        this.state.value = null;
      } else if (isInvalidFloat(valueAsNumber)) {
        this.state.value = '';
      } else {
        this.state.value = valueAsNumber;
      }

      this.props.onChange(this.state.value);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        step: "any"
      }, Object(_common_utils__WEBPACK_IMPORTED_MODULE_8__["omit"])(this.props, 'value'), {
        type: "number",
        ref: function ref(input) {
          return _this2.input = input;
        },
        onChange: this._onChangeHandler.bind(this),
        defaultValue: this.props.value
      }));
    }
  }]);

  return NumberEditor;
}(react__WEBPACK_IMPORTED_MODULE_10___default.a.Component);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(NumberEditor, "propTypes", {
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired,
  value: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.number, // String should be allowed, because when we start typing negative number,
  // there is appearing a warning in console after '-' symbol
  prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.string])
});

/* harmony default export */ __webpack_exports__["default"] = (NumberEditor);

/***/ }),

/***/ "./src/editors/Select.js":
/*!*******************************!*\
  !*** ./src/editors/Select.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var SelectEditor =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(SelectEditor, _React$Component);

  function SelectEditor(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, SelectEditor);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(SelectEditor).call(this, props));
    _this.state = {
      options: props.options,
      loading: Boolean(props.model)
    };
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(SelectEditor, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      if (this.props.model) {
        this.props.model.read('').then(function (data) {
          data.unshift([null, '']);

          _this2.setState({
            options: data,
            loading: false
          });
        })["catch"](function (err) {
          console.error(err);
        });
      }
    }
  }, {
    key: "getOptions",
    value: function getOptions() {
      return this.props.model ? this.state.options : this.props.options;
    }
  }, {
    key: "handleChange",
    value: function handleChange(e) {
      var option = this.getOptions()[e.target.value];

      if (!(option instanceof Array)) {
        option = [option, option];
      }

      this.props.onChange(option[0]);

      if (this.props.onLabelChange) {
        this.props.onLabelChange(option[1]);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var options = this.getOptions();
      var valueIndex = Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["findIndex"])(options, function (option) {
        return Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["isEqual"])(option instanceof Array ? option[0] : option, _this3.props.value);
      });
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("select", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["omit"])(this.props, ['value', 'options']), {
        value: valueIndex,
        onChange: this.handleChange.bind(this),
        disabled: this.props.disabled || this.state.loading
      }), options.map(function (item, index) {
        var optionProps = item instanceof Array && item[2] instanceof Object ? item[2] : {};
        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("option", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
          key: index,
          value: index
        }, optionProps), item instanceof Array ? item[1] : item);
      }));
    }
  }]);

  return SelectEditor;
}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(SelectEditor, "propTypes", {
  options: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array,
  // shape: [[value, label, props], ...] or [label1, label2, ...]
  //                           `props` will be passed to each corresponding <option />
  model: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.shape({
    read: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func
  }),
  disabled: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,
  onLabelChange: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,
  value: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.any
});

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(SelectEditor, "defaultProps", {
  options: []
});

/* harmony default export */ __webpack_exports__["default"] = (SelectEditor);

/***/ }),

/***/ "./src/editors/SuggestBox.js":
/*!***********************************!*\
  !*** ./src/editors/SuggestBox.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "@babel/runtime/helpers/assertThisInitialized");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _common_toPromise__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/toPromise */ "./src/common/toPromise.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/* harmony import */ var _common_Portal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../common/Portal */ "./src/common/Portal.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../common/ThrottleError */ "./src/common/ThrottleError.js");











/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */







var popupId = '__suggestBoxPopUp';
var classes = {
  option: '__suggestBoxPopUp-option',
  optionFocused: '__suggestBoxPopUp-option-focused',
  optionSelectable: '__suggestBoxPopUp-option-selectable',
  optionTypes: {
    group: '__suggestBoxPopUp-option-group',
    header: '__suggestBoxPopUp-option-header',
    subitem: '__suggestBoxPopUp-option-subitem',
    empty: '__suggestBoxPopUp-option-empty'
  },
  searchBlock: '__suggestBox-search',
  selectBtn: '__suggestBox-select-btn',
  arrow: '__suggestBox-arrow',
  up: '__suggestBox-up'
};
var TAB_KEY = 9;
var ENTER_KEY = 13;
var ESCAPE_KEY = 27;
var ARROW_UP_KEY = 38;
var ARROW_DOWN_KEY = 40;
var MIN_POPUP_HEIGHT = 100;

var SuggestBoxEditor =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(SuggestBoxEditor, _React$Component);

  function SuggestBoxEditor(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, SuggestBoxEditor);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(SuggestBoxEditor).call(this, props));
    _this._loadData = Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["throttle"])(_this._loadData);
    _this.state = {
      isOpened: false,
      options: [],
      selectedOptionKey: null,
      lastValidLabel: '',
      label: '',
      popupStyles: {}
    };
    _this._onInputFocus = _this._onInputFocus.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._onInputKeyDown = _this._onInputKeyDown.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._onInputValueChange = _this._onInputValueChange.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._focusOption = _this._focusOption.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._onDocumentMouseDown = _this._onDocumentMouseDown.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._onDocumentMouseScroll = _this._onDocumentMouseScroll.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._toggleList = _this._toggleList.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._openList = _this._openList.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(SuggestBoxEditor, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this._isMounted = true;

      if (this.props.defaultLabel) {
        this._setLabelTo(this.props.defaultLabel, true);
      } else if (this.props.hasOwnProperty('label')) {
        this._setLabelTo(this.props.label, true);
      } else {
        this._getLabelFromModel(this.props.model, this.props.value);
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._isMounted = false;
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps, nextState) {
      return this.state !== nextState || !Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["isEqual"])(this.props.value, nextProps.value) || this.props.disabled !== nextProps.disabled;
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["isEqual"])(this.props.value, nextProps.value)) {
        if (!this.props.hasOwnProperty('label')) {
          this._getLabelFromModel(nextProps.model, nextProps.value);
        }
      }

      if (this.props.label !== nextProps.label) {
        this._setLabelTo(nextProps.label, true);
      }
    }
  }, {
    key: "_getOptionLabel",
    value: function _getOptionLabel(option) {
      return Array.isArray(option.label) ? option.label[option.label.length - 1] : option.label;
    }
  }, {
    key: "_setLabelTo",
    value: function _setLabelTo(label, markAsValid) {
      if (label === null || label === undefined) {
        label = '';
      }

      this.setState({
        label: label,
        lastValidLabel: markAsValid ? label : this.state.lastValidLabel
      });
    }
  }, {
    key: "_getLabelFromModel",
    value: function _getLabelFromModel(model, id) {
      var _this2 = this;

      if (id === null || id === undefined) {
        return this._setLabelTo('', true);
      }

      model.getLabel(id).then(function (label) {
        if (!_this2._isMounted) {
          return;
        }

        _this2._setLabelTo(label, true);
      })["catch"](function (err) {
        if (err) {
          console.error(err);
          throw err;
        }
      });
    }
  }, {
    key: "_updateList",
    value: function () {
      var _updateList2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(searchPattern) {
        var options, content;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                _context.next = 3;
                return this._loadData(searchPattern);

              case 3:
                options = _context.sent;
                _context.next = 11;
                break;

              case 6:
                _context.prev = 6;
                _context.t0 = _context["catch"](0);

                if (_context.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_16__["default"]) {
                  _context.next = 10;
                  break;
                }

                throw _context.t0;

              case 10:
                return _context.abrupt("return");

              case 11:
                if (!this._isMounted) {
                  _context.next = 14;
                  break;
                }

                _context.next = 14;
                return this.setState({
                  options: options,
                  selectedOptionKey: null,
                  loading: false
                });

              case 14:
                content = document.querySelector("".concat(popupId, " .__suggestBoxPopUp-content"));

                if (content) {
                  content.style = {
                    bottom: 'auto',
                    position: 'static'
                  };
                }

                this._scrollListTo();

              case 17:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[0, 6]]);
      }));

      function _updateList(_x) {
        return _updateList2.apply(this, arguments);
      }

      return _updateList;
    }()
  }, {
    key: "_loadData",
    value: function _loadData(searchPattern) {
      return this.props.model.read(searchPattern || '');
    }
  }, {
    key: "_openList",
    value: function () {
      var _openList2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(searchPattern) {
        var _this3 = this;

        var focusFirstOption,
            popupStyles,
            key,
            selectedOptionKey,
            _args2 = arguments;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                focusFirstOption = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : false;

                if (!(this.props.disabled || this.state.isOpened)) {
                  _context2.next = 3;
                  break;
                }

                return _context2.abrupt("return");

              case 3:
                popupStyles = this._getComputedPopupStyles();

                if (popupStyles) {
                  _context2.next = 6;
                  break;
                }

                return _context2.abrupt("return");

              case 6:
                _context2.next = 8;
                return Object(_common_toPromise__WEBPACK_IMPORTED_MODULE_10__["default"])(this.setState.bind(this), true)({
                  isOpened: true,
                  loading: true,
                  popupStyles: popupStyles
                });

              case 8:
                Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).select();
                _context2.next = 11;
                return this._updateList(searchPattern);

              case 11:
                if (this.state.options.length) {
                  _context2.next = 13;
                  break;
                }

                return _context2.abrupt("return");

              case 13:
                if (!focusFirstOption) {
                  _context2.next = 18;
                  break;
                }

                key = this.state.options[0].type !== 'group' ? 0 : 1;
                _context2.next = 17;
                return this._focusOption(key, true);

              case 17:
                return _context2.abrupt("return");

              case 18:
                selectedOptionKey = Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["findIndex"])(this.state.options, function (option) {
                  return Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["isEqual"])(option.id, _this3.props.value);
                });

                if (selectedOptionKey !== -1) {
                  this._focusOptionAndScrollIntoView(Number(selectedOptionKey));
                }

              case 20:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function _openList(_x2) {
        return _openList2.apply(this, arguments);
      }

      return _openList;
    }()
  }, {
    key: "_onInputFocus",
    value: function () {
      var _onInputFocus2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(e) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return this._openList();

              case 2:
                if (this._isMounted) {
                  _context3.next = 4;
                  break;
                }

                return _context3.abrupt("return");

              case 4:
                Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).select();

                if (this.props.onFocus) {
                  this.props.onFocus(e);
                }

              case 6:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function _onInputFocus(_x3) {
        return _onInputFocus2.apply(this, arguments);
      }

      return _onInputFocus;
    }()
  }, {
    key: "_closeList",
    value: function _closeList(shouldBlur) {
      if (shouldBlur) {
        Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).blur();
      }

      if (!this.state.isOpened || !this._isMounted) {
        return;
      }

      this.setState({
        options: [],
        selectedOptionKey: null,
        isOpened: false
      });
    }
  }, {
    key: "_toggleList",
    value: function () {
      var _toggleList2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (!this.state.isOpened) {
                  _context4.next = 4;
                  break;
                }

                this._closeList();

                _context4.next = 6;
                break;

              case 4:
                _context4.next = 6;
                return this._openList();

              case 6:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function _toggleList() {
        return _toggleList2.apply(this, arguments);
      }

      return _toggleList;
    }()
  }, {
    key: "_selectOption",
    value: function _selectOption(option) {
      option = option || {
        id: null,
        label: '',
        metadata: {}
      };
      this.props.onChange(option.id, option);

      if (this.props.onLabelChange) {
        this.props.onLabelChange(option.label);
      }

      if (this.props.onMetadataChange) {
        this.props.onMetadataChange(option.metadata);
      }

      Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).select();
    }
  }, {
    key: "_focusOption",
    value: function () {
      var _focusOption2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee5(key, shouldSetLabel) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                if (shouldSetLabel === true) {
                  this._setLabelTo(this.state.options[key].label);
                }

                if (!this.state.isOpened) {
                  _context5.next = 5;
                  break;
                }

                this._focusOptionAndScrollIntoView(key);

                _context5.next = 8;
                break;

              case 5:
                _context5.next = 7;
                return this._openList(null);

              case 7:
                this._focusOptionAndScrollIntoView(key);

              case 8:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function _focusOption(_x4, _x5) {
        return _focusOption2.apply(this, arguments);
      }

      return _focusOption;
    }()
  }, {
    key: "_focusOptionAndScrollIntoView",
    value: function _focusOptionAndScrollIntoView(key) {
      this.state.selectedOptionKey = key;
      var focusedItems = document.querySelector(".".concat(classes.optionFocused));
      var currentItem = document.querySelector(".".concat(classes.option, "[data-key=\"").concat(key, "\"]"));

      if (focusedItems) {
        focusedItems.classList.remove(classes.optionFocused);
      }

      if (currentItem) {
        currentItem.classList.add(classes.optionFocused);
      }

      var domOption = document.querySelectorAll("#".concat(popupId, " li[data-key=\"").concat(key, "\"]"))[0];

      this._scrollListTo(domOption);
    }
  }, {
    key: "_focusNextOption",
    value: function _focusNextOption() {
      if (!this.state.options.length) {
        return;
      }

      if (this.state.selectedOptionKey === null) {
        this.state.selectedOptionKey = 0;
        return this._focusOption(this.state.selectedOptionKey, true);
      }

      var key;

      for (key = this.state.selectedOptionKey + 1; key < this.state.options.length; key++) {
        if (this.state.options[key].id) {
          return this._focusOption(key, true);
        }
      }

      for (key = 0; key < this.state.selectedOptionKey + 1; key++) {
        if (this.state.options[key].id) {
          return this._focusOption(key, true);
        }
      }
    }
  }, {
    key: "_focusPrevOption",
    value: function _focusPrevOption() {
      if (this.state.selectedOptionKey === null) {
        this.state.selectedOptionKey = 0;
        return this._focusOption(this.state.selectedOptionKey);
      }

      var key;

      for (key = this.state.selectedOptionKey - 1; key >= 0; key--) {
        if (this.state.options[key].id) {
          return this._focusOption(key, true);
        }
      }

      for (key = this.state.options.length - 1; key > this.state.selectedOptionKey - 1; key--) {
        if (this.state.options[key].id) {
          return this._focusOption(key, true);
        }
      }
    }
  }, {
    key: "_scrollListTo",
    value: function _scrollListTo(target) {
      var container = document.querySelector("#".concat(popupId, ":first-child"));

      if (!container) {
        return;
      }

      if (!target) {
        container.scrollTop = 0;
        return;
      }

      if (target.offsetTop - container.scrollTop >= container.clientHeight - target.clientHeight) {
        container.scrollTop = target.offsetTop - container.clientHeight + target.clientHeight;
      } else if (target.offsetTop - container.scrollTop < 0) {
        container.scrollTop = target.offsetTop;
      }
    }
  }, {
    key: "_isParentOf",
    value: function _isParentOf(child) {
      while (child) {
        child = child.parentNode;

        if (child === Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this)) {
          return true;
        }
      }

      return false;
    }
  }, {
    key: "_onDocumentMouseDown",
    value: function _onDocumentMouseDown(e, isOwner) {
      if (e.button !== 0) {
        return;
      }

      var target = e.target;

      if (isOwner) {
        if (!target.classList.contains(classes.option)) {
          target = target.parentNode;
        }

        if (target.classList.contains(classes.optionSelectable) && this.state.isOpened) {
          this._selectOption(this.state.options[target.getAttribute('data-key')]);

          this._closeList(true);
        }
      } else {
        // q where to test
        if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["parents"])(target, ".".concat(classes.searchBlock)).length) {
          if (!Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).value) {
            this._selectOption(null);
          } else {
            this._setLabelTo(this.state.lastValidLabel);
          }
        }

        if (!this._isParentOf(e.target)) {
          this._closeList(true);
        }
      }
    }
  }, {
    key: "_onDocumentMouseScroll",
    value: function _onDocumentMouseScroll(e, isOwner) {
      if (!isOwner && this.state.isOpened) {
        var popupStyles = this._getComputedPopupStyles();

        if (popupStyles) {
          this.setState({
            popupStyles: this._getComputedPopupStyles()
          });
        } else {
          this._setLabelTo(this.state.lastValidLabel);

          this._closeList(true);
        }
      }
    }
  }, {
    key: "_onInputKeyDown",
    value: function _onInputKeyDown(e) {
      if (this.props.disabled) {
        return;
      }

      switch (e.keyCode) {
        case ARROW_DOWN_KEY:
          e.preventDefault();

          if (!this.state.isOpened) {
            return this._openList('', true);
          }

          this._focusNextOption();

          break;

        case ARROW_UP_KEY:
          e.preventDefault();

          if (!this.state.isOpened) {
            return this._openList();
          }

          this._focusPrevOption();

          break;

        case ENTER_KEY:
          e.preventDefault();

          if (this.state.selectedOptionKey === null) {
            this._selectOption(null);
          } else {
            this._selectOption(this.state.options[this.state.selectedOptionKey]);
          }

          this._closeList();

          break;

        case TAB_KEY:
        case ESCAPE_KEY:
          if (e.keyCode === ESCAPE_KEY) {
            e.preventDefault();
          }

          if (!e.target.value || !this.props.value) {
            this._setLabelTo('');

            this._selectOption(null);
          } else {
            this._setLabelTo(this.state.lastValidLabel);
          }

          this._closeList();

          break;
      }
    }
  }, {
    key: "_onInputValueChange",
    value: function () {
      var _onInputValueChange2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee6(e) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                this._setLabelTo(e.target.value);

                if (!this.state.isOpened) {
                  _context6.next = 6;
                  break;
                }

                _context6.next = 4;
                return this._updateList(e.target.value);

              case 4:
                _context6.next = 8;
                break;

              case 6:
                _context6.next = 8;
                return this._openList(e.target.value);

              case 8:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function _onInputValueChange(_x6) {
        return _onInputValueChange2.apply(this, arguments);
      }

      return _onInputValueChange;
    }()
  }, {
    key: "_getComputedPopupStyles",
    value: function _getComputedPopupStyles() {
      var inputStyles = window.getComputedStyle(Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input));
      var popupStyle = {};
      var inputOffset = Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).getBoundingClientRect();
      var inputWidth = inputStyles.width;
      var inputHeight = parseInt(inputStyles.height);

      if (inputOffset.top + inputHeight <= 0 || inputOffset.top >= window.innerHeight) {
        return null;
      }

      var offsetTop = inputOffset.top + inputHeight;
      var offsetLeft = inputOffset.left;

      if (typeof window !== 'undefined') {
        var availableSpace = window.innerHeight - offsetTop;

        if (availableSpace < MIN_POPUP_HEIGHT) {
          popupStyle.maxHeight = inputOffset.top;
          popupStyle.bottom = -inputOffset.top;
        } else {
          popupStyle.maxHeight = availableSpace;
          popupStyle.top = offsetTop;
        }
      }

      popupStyle.minWidth = inputWidth;
      popupStyle.left = offsetLeft;
      return popupStyle;
    }
  }, {
    key: "focus",
    value: function focus() {
      Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).focus();
    }
  }, {
    key: "render",
    value: function render() {
      var _this4 = this;

      var arrowClasses = [classes.arrow];
      var options;
      var optionsPopup = null;

      if (this.state.isOpened) {
        arrowClasses.push(classes.up);

        if (this.state.loading) {
          options = react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("li", {
            className: [classes.option, classes.optionTypes.empty].join(' ')
          }, this.props.loadingElement);
        } else {
          if (!this.state.options.length) {
            options = react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("li", {
              className: [classes.option, classes.optionTypes.empty].join(' ')
            }, this.props.notFoundElement);
          } else {
            options = this.state.options.map(function (option, key) {
              var optionClassNames = [classes.option];

              if (key === _this4.state.selectedOptionKey) {
                optionClassNames.push(classes.optionFocused);
              }

              if (option.id !== undefined) {
                optionClassNames.push(classes.optionSelectable);
              }

              if (option.type) {
                optionClassNames.push(classes.optionTypes[option.type] || option.type);
              }

              return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("li", {
                key: key,
                "data-key": key,
                onMouseOver: _this4._focusOption.bind(_this4, key),
                className: optionClassNames.join(' ')
              }, Array.isArray(option.label) ? option.label.map(function (label, columnKey) {
                return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
                  key: columnKey
                }, label);
              }) : react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", null, option.label));
            });
          }
        }

        optionsPopup = react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_common_Portal__WEBPACK_IMPORTED_MODULE_12__["default"], {
          id: popupId,
          style: this.state.popupStyles,
          onDocumentMouseDown: this._onDocumentMouseDown,
          onDocumentMouseScroll: this._onDocumentMouseScroll,
          className: "__suggestBoxPopUp"
        }, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
          className: "__suggestBoxPopUp-content"
        }, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("ul", null, options)));
      }

      return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
        className: "__suggestBox"
      }, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
        className: classes.searchBlock
      }, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["omit"])(this.props, ['model', 'value', 'onChange', 'onLabelChange', 'onFocus', 'select', 'notFoundElement', 'loadingElement', 'defaultLabel', 'onMetadataChange']), {
        ref: function ref(input) {
          return _this4.input = input;
        },
        type: "text",
        onClick: this._openList,
        onFocus: this._onInputFocus,
        onKeyDown: this._onInputKeyDown,
        onChange: this._onInputValueChange,
        value: this.state.label
      })), react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
        onClick: this._toggleList,
        className: classes.selectBtn
      }, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
        className: arrowClasses.join(' ')
      }))), optionsPopup);
    }
  }]);

  return SuggestBoxEditor;
}(react__WEBPACK_IMPORTED_MODULE_14___default.a.Component);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(SuggestBoxEditor, "propTypes", {
  disabled: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.bool,
  model: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.shape({
    read: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func,
    getLabel: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func
  }),
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func.isRequired,
  onLabelChange: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func,
  onMetadataChange: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func,
  value: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.any,
  defaultLabel: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.string,
  label: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.string,
  notFoundElement: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.element,
  loadingElement: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.element,
  onFocus: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func
});

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(SuggestBoxEditor, "defaultProps", {
  disabled: false,
  notFoundElement: react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", null, "Nothing found"),
  loadingElement: react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", null, "Loading..."),
  value: null
});

/* harmony default export */ __webpack_exports__["default"] = (SuggestBoxEditor);

/***/ }),

/***/ "./src/form/AbstractFormModel.js":
/*!***************************************!*\
  !*** ./src/form/AbstractFormModel.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/Events */ "./src/common/Events.js");






/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



var AbstractFormModel =
/*#__PURE__*/
function (_EventsModel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(AbstractFormModel, _EventsModel);

  /**
   * Abstract form model
   *
   * @constructor
   */
  function AbstractFormModel() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, AbstractFormModel);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(AbstractFormModel).call(this));
  }
  /**
   * Get data
   *
   * @param {Array} fields     Required fields
   * @returns {Object}  Promise
   * @abstract
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(AbstractFormModel, [{
    key: "getData",
    value: function getData()
    /*fields*/
    {
      return Promise.resolve({});
    }
    /**
     * Process form data
     *
     * @param   {Object}      changes     Form data
     * @returns {Object}  Promise
     * @abstract
     */

  }, {
    key: "submit",
    value: function submit()
    /*changes*/
    {
      return Promise.resolve();
    }
    /**
     * Record validity check
     *
     * @param {Object}      record  Record object
     * @returns {Object}  Promise
     * @abstract
     */

  }, {
    key: "isValidRecord",
    value: function isValidRecord()
    /*record*/
    {
      return Promise.resolve(new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__["default"]());
    }
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields  Fields list
     * @returns {Array}  Dependencies
     * @abstract
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency()
    /*fields*/
    {
      return [];
    }
  }]);

  return AbstractFormModel;
}(_common_Events__WEBPACK_IMPORTED_MODULE_6__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (AbstractFormModel);

/***/ }),

/***/ "./src/form/FormExpressApi.js":
/*!************************************!*\
  !*** ./src/form/FormExpressApi.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! express */ "express");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");





/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var FormExpressApi =
/*#__PURE__*/
function () {
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(FormExpressApi, null, [{
    key: "create",
    value: function create() {
      return new FormExpressApi();
    }
  }]);

  function FormExpressApi() {
    var _this = this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, FormExpressApi);

    this.middlewares = {
      getData: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(req, res, next) {
          var fields, model, data;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  fields = req.query.fields ? JSON.parse(req.query.fields) : null;
                  model = _this._getModel(req, res);
                  _context.prev = 2;
                  _context.next = 5;
                  return model.getData(fields);

                case 5:
                  data = _context.sent;

                  _this._result(null, data, req, res, next);

                  _context.next = 12;
                  break;

                case 9:
                  _context.prev = 9;
                  _context.t0 = _context["catch"](2);

                  _this._result(_context.t0, null, req, res, next);

                case 12:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, null, [[2, 9]]);
        }));

        return function (_x, _x2, _x3) {
          return _ref.apply(this, arguments);
        };
      }())],
      submit: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(req, res, next) {
          var model, data;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  model = _this._getModel(req, res);
                  _context2.prev = 1;
                  _context2.next = 4;
                  return model.submit(req.body);

                case 4:
                  data = _context2.sent;

                  _this._result(null, {
                    data: data,
                    error: null
                  }, req, res, next);

                  _context2.next = 14;
                  break;

                case 8:
                  _context2.prev = 8;
                  _context2.t0 = _context2["catch"](1);

                  if (!(_context2.t0 && !(_context2.t0 instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_4__["default"]))) {
                    _context2.next = 13;
                    break;
                  }

                  _this._result(_context2.t0, null, req, res, next);

                  return _context2.abrupt("return");

                case 13:
                  _this._result(null, {
                    data: null,
                    error: _context2.t0
                  }, req, res, next);

                case 14:
                case "end":
                  return _context2.stop();
              }
            }
          }, _callee2, null, [[1, 8]]);
        }));

        return function (_x4, _x5, _x6) {
          return _ref2.apply(this, arguments);
        };
      }())],
      validate: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(req, res, next) {
          var model, data;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  model = _this._getModel(req, res);
                  _context3.prev = 1;
                  _context3.next = 4;
                  return model.isValidRecord(req.body);

                case 4:
                  data = _context3.sent;

                  _this._result(null, data, req, res, next);

                  _context3.next = 11;
                  break;

                case 8:
                  _context3.prev = 8;
                  _context3.t0 = _context3["catch"](1);

                  _this._result(_context3.t0, null, req, res, next);

                case 11:
                case "end":
                  return _context3.stop();
              }
            }
          }, _callee3, null, [[1, 8]]);
        }));

        return function (_x7, _x8, _x9) {
          return _ref3.apply(this, arguments);
        };
      }())]
    };
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(FormExpressApi, [{
    key: "model",
    value: function model(_model) {
      if (typeof _model === 'function') {
        this._getModel = _model;
      } else {
        this._getModel = function () {
          return _model;
        };
      }

      return this;
    }
  }, {
    key: "getRouter",
    value: function getRouter() {
      return new express__WEBPACK_IMPORTED_MODULE_5___default.a.Router().get('/', this.middlewares.getData).post('/', this.middlewares.submit).post('/validation', this.middlewares.validate);
    }
  }, {
    key: "getData",
    value: function getData(middlewares) {
      return this._addMidelwares('getData', middlewares);
    }
  }, {
    key: "submit",
    value: function submit(middlewares) {
      return this._addMidelwares('submit', middlewares);
    }
  }, {
    key: "validate",
    value: function validate(middlewares) {
      return this._addMidelwares('validate', middlewares);
    }
  }, {
    key: "_addMidelwares",
    value: function _addMidelwares(method, middlewares) {
      if (!Array.isArray(middlewares)) {
        middlewares = [middlewares];
      }

      this.middlewares[method] = middlewares.concat(this.middlewares[method]);
      return this;
    } // Default implementation

  }, {
    key: "_getModel",
    value: function _getModel() {
      throw Error('Model is not defined.');
    }
  }, {
    key: "_result",
    value: function _result(err, data, req, res, next) {
      if (err) {
        next(err);
      } else {
        res.json(data);
      }
    }
  }]);

  return FormExpressApi;
}();

/* harmony default export */ __webpack_exports__["default"] = (FormExpressApi);

/***/ }),

/***/ "./src/form/FormModel.js":
/*!*******************************!*\
  !*** ./src/form/FormModel.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _AbstractFormModel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AbstractFormModel */ "./src/form/AbstractFormModel.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var FormModel =
/*#__PURE__*/
function (_AbstractFormModel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(FormModel, _AbstractFormModel);

  /**
   * Simple form model
   *
   * @param {Object}    defaultValues Default form field values
   * @param {Validator} validation    Validation
   * @constructor
   */
  function FormModel(defaultValues, validation) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, FormModel);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(FormModel).call(this));
    _this._validation = validation || new _common_validation_Validator__WEBPACK_IMPORTED_MODULE_7__["default"]();
    _this._data = defaultValues ? Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["clone"])(defaultValues) : {};
    return _this;
  }
  /**
   * Get data
   *
   * @param {Array}    fields     Required fields
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(FormModel, [{
    key: "getData",
    value: function () {
      var _getData = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(fields) {
        var record, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, field;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                record = {};

                if (!fields) {
                  _context.next = 23;
                  break;
                }

                _iteratorNormalCompletion = true;
                _didIteratorError = false;
                _iteratorError = undefined;
                _context.prev = 5;

                for (_iterator = fields[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  field = _step.value;
                  record[field] = this._data[field];
                }

                _context.next = 13;
                break;

              case 9:
                _context.prev = 9;
                _context.t0 = _context["catch"](5);
                _didIteratorError = true;
                _iteratorError = _context.t0;

              case 13:
                _context.prev = 13;
                _context.prev = 14;

                if (!_iteratorNormalCompletion && _iterator["return"] != null) {
                  _iterator["return"]();
                }

              case 16:
                _context.prev = 16;

                if (!_didIteratorError) {
                  _context.next = 19;
                  break;
                }

                throw _iteratorError;

              case 19:
                return _context.finish(16);

              case 20:
                return _context.finish(13);

              case 21:
                _context.next = 24;
                break;

              case 23:
                record = Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["clone"])(this._data);

              case 24:
                return _context.abrupt("return", record);

              case 25:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[5, 9, 13, 21], [14,, 16, 20]]);
      }));

      function getData(_x) {
        return _getData.apply(this, arguments);
      }

      return getData;
    }()
    /**
     * Process form data
     *
     * @param {Object}      changes     Form data
     */

  }, {
    key: "submit",
    value: function () {
      var _submit = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(changes) {
        var validErrors;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return this.isValidRecord(changes);

              case 2:
                validErrors = _context2.sent;

                if (validErrors.isEmpty()) {
                  _context2.next = 5;
                  break;
                }

                throw validErrors;

              case 5:
                Object.assign(this._data, changes);
                this.trigger('update', changes);
                return _context2.abrupt("return", changes);

              case 8:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function submit(_x2) {
        return _submit.apply(this, arguments);
      }

      return submit;
    }()
    /**
     * Validation check
     *
     * @param {Object}      record
     */

  }, {
    key: "isValidRecord",
    value: function () {
      var _isValidRecord = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(record) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return this._validation.isValidRecord(record);

              case 2:
                return _context3.abrupt("return", _context3.sent);

              case 3:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function isValidRecord(_x3) {
        return _isValidRecord.apply(this, arguments);
      }

      return isValidRecord;
    }()
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields   Fields list
     * @returns {Array}  Dependencies
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      return this._validation.getValidationDependency(fields);
    }
  }]);

  return FormModel;
}(_AbstractFormModel__WEBPACK_IMPORTED_MODULE_8__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (FormModel);

/***/ }),

/***/ "./src/form/FormService.js":
/*!*********************************!*\
  !*** ./src/form/FormService.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread */ "@babel/runtime/helpers/objectSpread");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "@babel/runtime/helpers/toConsumableArray");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/Events */ "./src/common/Events.js");
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../common/ThrottleError */ "./src/common/ThrottleError.js");








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */






var FormService =
/*#__PURE__*/
function () {
  function FormService() {
    var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5___default()(this, FormService);

    this._data = null;
    this._changes = null;
    this._errors = new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"]();
    this._warnings = new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"]();
    this._warningsValidator = null;
    this._eventEmitter = new _common_Events__WEBPACK_IMPORTED_MODULE_7__["default"]();
    this._isNotInitialized = true;
    this.fields = fields;
    this._validateForm = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["throttle"])(this._validateForm.bind(this));
    this.validateForm = this.validateForm.bind(this);
    this._onModelChange = this._onModelChange.bind(this);
    this.clearChanges = this.clearChanges.bind(this);
    this.clearError = this.clearError.bind(this);
    this.clearValidation = this.clearValidation.bind(this);
    this.updateField = this.updateField.bind(this);
    this.validateField = this.validateField.bind(this);
    this._getData = this._getData.bind(this);
    this._getChanges = this._getChanges.bind(this);
  }
  /**
   * Initialize form
   *
   * @param {Object}            settings                                Configuration
   * @param {Array}             settings.fields                         Fields list, that are required to display
   * @param {FormModel}         settings.model                          Model of form
   * @param {Object}            [settings.data]                         Preset data
   * @param {Object}            [settings.changes                       Preset changes
   * @param {bool}              [settings.submitAll=false]              Send all form for validity check
   * @param {bool}              [settings.partialErrorChecking=false]   Activate partial gradual form validation
   * @param {bool}              [settings.showDependentFields=false]    Mark the fields which are involved in the group validation
   * @param {Validator}         [settings.warningsValidator]            Warnings validator for fields
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6___default()(FormService, [{
    key: "init",
    value: function () {
      var _init = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(settings) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (settings.model) {
                  _context.next = 2;
                  break;
                }

                throw Error('You must specify the model');

              case 2:
                this._data = settings.data || null;
                this._changes = settings.changes || {};
                this._isSubmitting = false;
                this.showDependentFields = settings.showDependentFields || false;
                this._partialErrorChecking = settings.partialErrorChecking; // Current mode

                this._partialErrorCheckingDefault = settings.partialErrorChecking; // Default mode

                this.model = settings.model; // FormModel

                this.submitAll = settings.submitAll;
                this._warningsValidator = settings.warningsValidator || new _common_validation_Validator__WEBPACK_IMPORTED_MODULE_8__["default"]();
                this.validating = false;
                this._hiddenValidationFields = [];
                this.submitting = false;
                this._isNotInitialized = false;

                if (settings.hasOwnProperty('fields')) {
                  this.fields = settings.fields;
                }

                if (this._data) {
                  _context.next = 20;
                  break;
                }

                _context.next = 19;
                return settings.model.getData(this.fields);

              case 19:
                this._data = _context.sent;

              case 20:
                this.model.on('update', this._onModelChange);

                this._setState();

                if (settings.partialErrorChecking) {
                  _context.next = 25;
                  break;
                }

                _context.next = 25;
                return this.validateForm();

              case 25:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function init(_x) {
        return _init.apply(this, arguments);
      }

      return init;
    }()
  }, {
    key: "getAll",
    value: function getAll() {
      var isLoaded = this._isLoaded();

      if (!isLoaded) {
        var emptyData = {
          isLoaded: isLoaded,
          data: {},
          originalData: {},
          changes: {},
          errors: new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"](),
          warnings: new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"](),
          isSubmitting: false
        };
        emptyData.fields = this._getFields(emptyData.data, emptyData.changes, emptyData.errors, emptyData.warnings);
        return emptyData;
      }

      var data = this._getData();

      var changes = this._getChangesFields();

      var errors = this._getDisplayedErrors(this._errors);

      var warnings = this._getDisplayedErrors(this._warnings);

      return {
        isLoaded: isLoaded,
        data: data,
        originalData: this._data,
        changes: changes,
        errors: errors,
        warnings: warnings,
        // Note that we return errors and warnings both in bunch as a property and for each field separately
        // - it is redundantly, but handy :)
        fields: this._getFields(data, changes, errors, warnings),
        isSubmitting: this._isSubmitting
      };
    }
    /**
     * Update form value. Is used as the Editors onChange handler
     *
     * @param {string}  field  Parameter
     * @param {*}       value  Event or data
     */

  }, {
    key: "updateField",
    value: function () {
      var _updateField = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2(field, value) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return this.set(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, field, Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["parseValueFromEvent"])(value)));

              case 2:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function updateField(_x2, _x3) {
        return _updateField.apply(this, arguments);
      }

      return updateField;
    }()
  }, {
    key: "addChangeListener",
    value: function addChangeListener(func) {
      this._eventEmitter.on('update', func);
    }
  }, {
    key: "removeChangeListener",
    value: function removeChangeListener(func) {
      this._eventEmitter.off('update', func);

      if (this._eventEmitter.listenerCount('update') === 0 && !this._isNotInitialized) {
        this.model.off('update', this._onModelChange);
      }
    }
  }, {
    key: "removeAllListeners",
    value: function removeAllListeners() {
      this._eventEmitter.removeAllListeners('update');

      this.model.off('update', this._onModelChange);
    }
    /**
     * @param {string|string[]} fields
     */

  }, {
    key: "clearValidation",
    value: function clearValidation(fields) {
      if (this._isNotInitialized) {
        return;
      } // We keep info about _hiddenValidationFields for cases when clearValidation was called while validateForm was
      // called and haven't finished, so then old validation result shouldn't show errors for _hiddenValidationFields
      // fields, but the next called validations will clear _hiddenValidationFields so the fields will get errors again.
      // Use case: a user changed field 'name', a validation started, the user focused field 'age' so we called
      // clearValidation('age'), the validation finished and returned errors for fields 'name' and 'age', but we
      // shouldn't show error for field 'age' because the user has just focused it. Then user blured field 'age', a new
      // validation stated and it should show errors for field 'age'.


      if (Array.isArray(fields)) {
        var _this$_hiddenValidati;

        (_this$_hiddenValidati = this._hiddenValidationFields).push.apply(_this$_hiddenValidati, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(fields));
      } else {
        this._hiddenValidationFields.push(fields);
      }

      this._setState();
    }
  }, {
    key: "clearError",
    value: function clearError(field) {
      console.warn('Deprecated: FormService method "clearError" renamed to "clearValidation"');
      this.clearValidation(field);
    }
  }, {
    key: "validateField",
    value: function () {
      var _validateField = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee3(field, value) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return this.set(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, field, Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["parseValueFromEvent"])(value)), true);

              case 2:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function validateField(_x4, _x5) {
        return _validateField.apply(this, arguments);
      }

      return validateField;
    }()
    /**
     * Set data in the form
     *
     * @param {Object}    data              Data
     * @param {bool}      [validate=false]  Validate form
     */

  }, {
    key: "set",
    value: function () {
      var _set = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee4(data, validate) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (this._isLoaded()) {
                  _context4.next = 2;
                  break;
                }

                return _context4.abrupt("return");

              case 2:
                this._changes = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["getRecordChanges"])(this.model, this._data, this._changes, data);

                this._setState();

                if (!validate) {
                  _context4.next = 14;
                  break;
                }

                _context4.prev = 5;
                _context4.next = 8;
                return this.validateForm();

              case 8:
                _context4.next = 14;
                break;

              case 10:
                _context4.prev = 10;
                _context4.t0 = _context4["catch"](5);

                if (_context4.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_11__["default"]) {
                  _context4.next = 14;
                  break;
                }

                throw _context4.t0;

              case 14:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this, [[5, 10]]);
      }));

      function set(_x6, _x7) {
        return _set.apply(this, arguments);
      }

      return set;
    }()
  }, {
    key: "submitData",
    value: function () {
      var _submitData = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee5(data) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                if (!this._isNotInitialized) {
                  _context5.next = 2;
                  break;
                }

                return _context5.abrupt("return");

              case 2:
                _context5.next = 4;
                return this.set(data);

              case 4:
                _context5.next = 6;
                return this.submit();

              case 6:
                return _context5.abrupt("return", _context5.sent);

              case 7:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function submitData(_x8) {
        return _submitData.apply(this, arguments);
      }

      return submitData;
    }()
    /**
     * Send form data to the model
     */

  }, {
    key: "submit",
    value: function () {
      var _submit = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee6() {
        var changes, countOfHiddenValidationFieldsToRemove, data, validationErrors, newChanges, actualChanges;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                if (!(this._isNotInitialized || this._isSubmitting)) {
                  _context6.next = 2;
                  break;
                }

                return _context6.abrupt("return");

              case 2:
                changes = this._getChanges();
                this._isSubmitting = true;
                this._partialErrorChecking = false;
                countOfHiddenValidationFieldsToRemove = this._hiddenValidationFields.length;

                this._setState(); // Send changes to model


                _context6.prev = 7;
                _context6.next = 10;
                return this.model.submit(changes);

              case 10:
                data = _context6.sent;
                _context6.next = 20;
                break;

              case 13:
                _context6.prev = 13;
                _context6.t0 = _context6["catch"](7);

                if (_context6.t0 instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"]) {
                  _context6.next = 19;
                  break;
                }

                this._isSubmitting = false;

                this._setState();

                throw _context6.t0;

              case 19:
                validationErrors = _context6.t0;

              case 20:
                this._isSubmitting = false;
                newChanges = this._getChanges();
                actualChanges = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["isEqual"])(changes, newChanges);

                if (actualChanges) {
                  if (validationErrors) {
                    this._errors = validationErrors;
                  } else {
                    this._errors = new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"]();
                    this._changes = {};
                  }
                }

                this._hiddenValidationFields.splice(0, countOfHiddenValidationFieldsToRemove);

                this._setState();

                if (!validationErrors) {
                  _context6.next = 28;
                  break;
                }

                throw validationErrors;

              case 28:
                return _context6.abrupt("return", data);

              case 29:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this, [[7, 13]]);
      }));

      function submit() {
        return _submit.apply(this, arguments);
      }

      return submit;
    }()
  }, {
    key: "clearFieldChanges",
    value: function clearFieldChanges(field) {
      if (this._isNotInitialized) {
        return;
      }

      this._errors.clearField(field);

      this._warnings.clearField(field);

      delete this._changes[field];

      this._setState();
    }
  }, {
    key: "clearChanges",
    value: function clearChanges() {
      if (this._isNotInitialized) {
        return;
      }

      this._errors.clear();

      this._warnings.clear();

      this._changes = {};
      this._partialErrorChecking = this._partialErrorCheckingDefault;

      this._setState();
    }
  }, {
    key: "setPartialErrorChecking",
    value: function setPartialErrorChecking(value) {
      this._partialErrorChecking = value;

      this._setState();
    }
  }, {
    key: "getPartialErrorChecking",
    value: function getPartialErrorChecking() {
      return this._partialErrorChecking;
    }
  }, {
    key: "validateForm",
    value: function () {
      var _validateForm2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee7() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _context7.prev = 0;
                _context7.next = 3;
                return this._validateForm();

              case 3:
                return _context7.abrupt("return", _context7.sent);

              case 6:
                _context7.prev = 6;
                _context7.t0 = _context7["catch"](0);

                if (_context7.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_11__["default"]) {
                  _context7.next = 10;
                  break;
                }

                throw _context7.t0;

              case 10:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, this, [[0, 6]]);
      }));

      function validateForm() {
        return _validateForm2.apply(this, arguments);
      }

      return validateForm;
    }()
  }, {
    key: "_validateForm",
    value: function () {
      var _validateForm3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee8() {
        var countOfHiddenValidationFieldsToRemove, displayedErrors, displayedWarning;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                if (!this._isNotInitialized) {
                  _context8.next = 2;
                  break;
                }

                return _context8.abrupt("return");

              case 2:
                // We should remove only those hiddenValidationFields that were present before validation started and keep those
                // that were added after validation started (so it is possible and ok that field 'name' may be present 2 times:
                // 1 for old validation call and 1 for the new).
                // Take into account that _validateForm is throttled, so next calls will be skipped or scheduled after current call
                // finishes. It means we don't need to care about parallel calls because they are impossible.
                countOfHiddenValidationFieldsToRemove = this._hiddenValidationFields.length;
                this.validating = true;
                _context8.prev = 4;
                _context8.next = 7;
                return Promise.all([this._runValidator(this.model, this._getChanges, '_errors'), this._runValidator(this._warningsValidator, this._getData, '_warnings')]);

              case 7:
                _context8.prev = 7;
                this.validating = false;

                this._hiddenValidationFields.splice(0, countOfHiddenValidationFieldsToRemove);

                this._setState();

                return _context8.finish(7);

              case 12:
                displayedErrors = this._getDisplayedErrors(this._errors);
                displayedWarning = this._getDisplayedErrors(this._warnings);
                return _context8.abrupt("return", {
                  errors: !displayedErrors.isEmpty() ? displayedErrors : null,
                  warnings: !displayedWarning.isEmpty() ? displayedWarning : null
                });

              case 15:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee8, this, [[4,, 7, 12]]);
      }));

      function _validateForm() {
        return _validateForm3.apply(this, arguments);
      }

      return _validateForm;
    }()
  }, {
    key: "_getFields",
    value: function _getFields(data, changes, errors, warnings) {
      var proxy = new Proxy({}, {
        get: function get(target, fieldName) {
          return {
            value: data[fieldName],
            isChanged: changes.hasOwnProperty(fieldName),
            errors: errors.getFieldErrorMessages(fieldName),
            warnings: warnings.getFieldErrorMessages(fieldName)
          };
        }
      }); // Explicit declaration of fields in an object

      if (this.fields) {
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
          for (var _iterator = this.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var field = _step.value;
            proxy[field] = proxy[field];
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator["return"] != null) {
              _iterator["return"]();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
      }

      return proxy;
    }
    /**
     * Check is data loaded
     *
     * @returns {boolean}
     */

  }, {
    key: "_isLoaded",
    value: function _isLoaded() {
      return this._data !== null;
    }
    /**
     * Get form changes
     *
     * @return {{}}
     */

  }, {
    key: "_getChangesFields",
    value: function _getChangesFields() {
      // TODO _getChanges
      var changes = {};

      for (var field in this._changes) {
        if (!this._isDependentField(field)) {
          changes[field] = this._changes[field];
        }
      }

      return changes;
    }
    /**
     * Filter errors depending on the partialErrorChecking mode and clearValidation method
     *
     * @param {ValidationErrors}  validationErrors
     * @returns {ValidationErrors} Form fields
     */

  }, {
    key: "_getDisplayedErrors",
    value: function _getDisplayedErrors(validationErrors) {
      var filteredErrors = validationErrors.clone();
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = validationErrors.getErrors().keys()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var field = _step2.value;
          var isFieldPristine = !this._changes.hasOwnProperty(field) || Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["isEqual"])(this._changes[field], this._data[field]);

          if (this._hiddenValidationFields.includes(field) || this._partialErrorChecking && isFieldPristine) {
            filteredErrors.clearField(field);
          }
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
            _iterator2["return"]();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }

      return filteredErrors;
    }
  }, {
    key: "_setState",
    value: function _setState() {
      this._eventEmitter.trigger('update', this.getAll());
    }
    /**
     * Model records changes handler
     *
     * @param {Object} changes  Changes
     * @private
     */

  }, {
    key: "_onModelChange",
    value: function _onModelChange(changes) {
      this._data = _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, this._data, changes);

      this._setState();
    }
  }, {
    key: "_getData",
    value: function _getData() {
      return Object.assign({}, this._data, this._changes);
    }
  }, {
    key: "_getChanges",
    value: function _getChanges() {
      // Send all data or just changed fields in addiction of form configuration
      if (this.submitAll) {
        return this._getData();
      }

      return this._changes;
    }
  }, {
    key: "_isDependentField",
    value: function _isDependentField(field) {
      return this._changes.hasOwnProperty(field) && Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["isEqual"])(this._changes[field], this._data[field]);
    }
  }, {
    key: "_runValidator",
    value: function () {
      var _runValidator2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee9(validator, getData, output) {
        var data, validErrors;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                data = getData();

                if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["isEmpty"])(data)) {
                  _context9.next = 4;
                  break;
                }

                this[output].clear();
                return _context9.abrupt("return");

              case 4:
                _context9.prev = 4;
                _context9.next = 7;
                return validator.isValidRecord(data);

              case 7:
                validErrors = _context9.sent;
                _context9.next = 14;
                break;

              case 10:
                _context9.prev = 10;
                _context9.t0 = _context9["catch"](4);
                this[output].clear();
                throw _context9.t0;

              case 14:
                if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["isEqual"])(data, getData())) {
                  this[output] = validErrors;
                }

              case 15:
              case "end":
                return _context9.stop();
            }
          }
        }, _callee9, this, [[4, 10]]);
      }));

      function _runValidator(_x9, _x10, _x11) {
        return _runValidator2.apply(this, arguments);
      }

      return _runValidator;
    }()
  }]);

  return FormService;
}();

/* harmony default export */ __webpack_exports__["default"] = (FormService);

/***/ }),

/***/ "./src/form/FormXhrModel.js":
/*!**********************************!*\
  !*** ./src/form/FormXhrModel.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _common_defaultXhr__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/defaultXhr */ "./src/common/defaultXhr.js");
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/Events */ "./src/common/Events.js");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! url */ "url");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_11__);








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */






var FormXhrModel =
/*#__PURE__*/
function (_EventsModel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(FormXhrModel, _EventsModel);

  function FormXhrModel(settings) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, FormXhrModel);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(FormXhrModel).call(this));

    if (!settings.api) {
      throw Error('Initialization problem: \'api\' must be specified.');
    }

    _this._validator = settings.validator || new _common_validation_Validator__WEBPACK_IMPORTED_MODULE_8__["default"]();
    _this._xhr = settings.xhr || _common_defaultXhr__WEBPACK_IMPORTED_MODULE_9__["default"];
    _this._apiUrl = settings.api.replace(/([^/])\?/, '$1/?') // Add "/" before "?"
    .replace(/^[^?]*[^/]$/, '$&/'); // Add "/" to the end

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(FormXhrModel, [{
    key: "getData",
    value: function () {
      var _getData = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(fields) {
        var parsedUrl, response;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                parsedUrl = url__WEBPACK_IMPORTED_MODULE_11___default.a.parse(this._apiUrl, true);
                parsedUrl.query.fields = JSON.stringify(fields);
                delete parsedUrl.search;
                _context.next = 5;
                return this._xhr({
                  method: 'GET',
                  uri: url__WEBPACK_IMPORTED_MODULE_11___default.a.format(parsedUrl)
                });

              case 5:
                response = _context.sent;
                return _context.abrupt("return", JSON.parse(response));

              case 7:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function getData(_x) {
        return _getData.apply(this, arguments);
      }

      return getData;
    }()
  }, {
    key: "submit",
    value: function () {
      var _submit = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(changes) {
        var body;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return this._xhr({
                  method: 'POST',
                  headers: {
                    'Content-type': 'application/json'
                  },
                  uri: this._apiUrl,
                  body: JSON.stringify(changes)
                });

              case 2:
                body = _context2.sent;
                body = JSON.parse(body);

                if (!body.error) {
                  _context2.next = 6;
                  break;
                }

                throw _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_7__["default"].createFromJSON(body.error);

              case 6:
                this.trigger('update', body.data);
                return _context2.abrupt("return", body.data);

              case 8:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function submit(_x2) {
        return _submit.apply(this, arguments);
      }

      return submit;
    }()
    /**
     * Validation check
     *
     * @param {Object}      record
     */

  }, {
    key: "isValidRecord",
    value: function isValidRecord(record) {
      return this._validator.isValidRecord(record);
    }
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields   Fields list
     * @returns {Array}  Dependencies
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      return this._validator.getValidationDependency(fields);
    }
  }]);

  return FormXhrModel;
}(_common_Events__WEBPACK_IMPORTED_MODULE_10__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (FormXhrModel);

/***/ }),

/***/ "./src/form/adapters/GridToFormCreate.js":
/*!***********************************************!*\
  !*** ./src/form/adapters/GridToFormCreate.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/Events */ "./src/common/Events.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



var GridToFormCreate =
/*#__PURE__*/
function (_Events) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(GridToFormCreate, _Events);

  /**
   * Adapter allows to use Grid model as a model for new form record creation
   *
   * @param {AbstractGridModel}   model           Grid model
   * @param {Object}              [initialData]   Default field values
   * @constructor
   */
  function GridToFormCreate(model, initialData) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, GridToFormCreate);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(GridToFormCreate).call(this));
    _this._adapter = {
      model: model,
      initialData: initialData || {}
    };
    return _this;
  }
  /**
   * Get data
   *
   * @param {Array}     fields     Required fields
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(GridToFormCreate, [{
    key: "getData",
    value: function () {
      var _getData = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(fields) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!(fields && fields.length)) {
                  _context.next = 2;
                  break;
                }

                return _context.abrupt("return", Object(_common_utils__WEBPACK_IMPORTED_MODULE_8__["pick"])(this._adapter.initialData, fields));

              case 2:
                return _context.abrupt("return", this._adapter.initialData);

              case 3:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function getData(_x) {
        return _getData.apply(this, arguments);
      }

      return getData;
    }()
    /**
     * Create new record
     *
     * @param   {Object}      data      Record
     */

  }, {
    key: "submit",
    value: function () {
      var _submit = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(data) {
        var model;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                model = this._adapter.model;
                _context2.next = 3;
                return model.create(data);

              case 3:
                return _context2.abrupt("return", _context2.sent);

              case 4:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function submit(_x2) {
        return _submit.apply(this, arguments);
      }

      return submit;
    }()
    /**
     * Validation checking
     *
     * @param {Object}      record  Record object
     */

  }, {
    key: "isValidRecord",
    value: function () {
      var _isValidRecord = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(record) {
        var model;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                model = this._adapter.model;
                _context3.next = 3;
                return model.isValidRecord(record, null);

              case 3:
                return _context3.abrupt("return", _context3.sent);

              case 4:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function isValidRecord(_x3) {
        return _isValidRecord.apply(this, arguments);
      }

      return isValidRecord;
    }()
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields
     * @returns {Array}  Dependencies
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      return this._adapter.model.getValidationDependency(fields);
    }
  }]);

  return GridToFormCreate;
}(_common_Events__WEBPACK_IMPORTED_MODULE_7__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (GridToFormCreate);

/***/ }),

/***/ "./src/form/adapters/GridToFormUpdate.js":
/*!***********************************************!*\
  !*** ./src/form/adapters/GridToFormUpdate.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/Events */ "./src/common/Events.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var GridToFormUpdate =
/*#__PURE__*/
function (_Events) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(GridToFormUpdate, _Events);

  /**
   * Adapter that allows us to use Grid model record as a form model
   *
   * @param {AbstractGridModel} model   Grid model
   * @param {number|string}     id      Record ID
   * @constructor
   */
  function GridToFormUpdate(model, id) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, GridToFormUpdate);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(GridToFormUpdate).call(this));
    _this._adapter = {
      model: model,
      id: id
    };
    _this._onUpdateHandlers = [];
    return _this;
  }
  /**
   * Subscribe to inner model event
   *
   * @param {string}      event   Event ID
   * @param {Function}    cb      CallBack function
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(GridToFormUpdate, [{
    key: "on",
    value: function on(event, cb) {
      var ctx = this;

      if (event !== 'update') {
        _common_Events__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.on.call(this, event, cb);
        return;
      } // onChange filters out table events, that do not regard to our record


      function onChange(changes) {
        for (var i = 0; i < changes.length; i++) {
          if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["isEqual"])(changes[i][0], ctx._adapter.id)) {
            cb(changes[i][1]);
            return;
          }
        }
      }

      this._onUpdateHandlers.push({
        originalCallback: cb,
        wrappedCallback: onChange
      });

      this._adapter.model.on('update', onChange);
    }
    /**
     * Unsubscribe from inner model event
     *
     * @param {string}      event   Event ID
     * @param {Function}    cb      CallBack function
     */

  }, {
    key: "off",
    value: function off(event, cb) {
      var ctx = this;
      var newOnUpdateHandlers = [];

      if (event !== 'update') {
        _common_Events__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.off.call(this, event, cb);
        return;
      }

      this._onUpdateHandlers.forEach(function (handler) {
        if (handler.originalCallback === cb) {
          ctx._adapter.model.off('update', handler.wrappedCallback);
        } else {
          newOnUpdateHandlers.push(handler);
        }
      });

      this._onUpdateHandlers = newOnUpdateHandlers;
    }
  }, {
    key: "listenerCount",
    value: function listenerCount(event) {
      return this._adapter.model.listenerCount(event);
    }
    /**
     * Get data
     *
     * @param {Array}     fields     Required fields
     */

  }, {
    key: "getData",
    value: function () {
      var _getData = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(fields) {
        var model;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                model = this._adapter.model;
                _context.next = 3;
                return model.getRecord(this._adapter.id, fields);

              case 3:
                return _context.abrupt("return", _context.sent);

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function getData(_x) {
        return _getData.apply(this, arguments);
      }

      return getData;
    }()
    /**
     * Apply changes
     *
     * @param   {Object}      changes     Form data
     */

  }, {
    key: "submit",
    value: function () {
      var _submit = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(changes) {
        var record, model, result;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                record = Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["clone"])(changes);
                model = this._adapter.model;
                _context2.next = 4;
                return model.update([[this._adapter.id, record]]);

              case 4:
                result = _context2.sent;
                result = result[0][1];

                if (!(result instanceof Error || result instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_7__["default"])) {
                  _context2.next = 8;
                  break;
                }

                throw result;

              case 8:
                return _context2.abrupt("return", result);

              case 9:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function submit(_x2) {
        return _submit.apply(this, arguments);
      }

      return submit;
    }()
    /**
     * Record validity check
     *
     * @param {Object}      record  Record object
     */

  }, {
    key: "isValidRecord",
    value: function () {
      var _isValidRecord = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(record) {
        var model;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                model = this._adapter.model;
                _context3.next = 3;
                return model.isValidRecord(record, this._adapter.id);

              case 3:
                return _context3.abrupt("return", _context3.sent);

              case 4:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function isValidRecord(_x3) {
        return _isValidRecord.apply(this, arguments);
      }

      return isValidRecord;
    }()
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields  Fields list
     * @returns {Array}  Dependencies
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      return this._adapter.model.getValidationDependency(fields);
    }
  }]);

  return GridToFormUpdate;
}(_common_Events__WEBPACK_IMPORTED_MODULE_8__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (GridToFormUpdate);

/***/ }),

/***/ "./src/form/connectForm.js":
/*!*********************************!*\
  !*** ./src/form/connectForm.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "@babel/runtime/helpers/assertThisInitialized");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _FormService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./FormService */ "./src/form/FormService.js");










/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



function connectForm() {
  var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  return function (Component) {
    return (
      /*#__PURE__*/
      function (_React$Component) {
        _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(ComponentWithFormService, _React$Component);

        function ComponentWithFormService() {
          var _this;

          _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, ComponentWithFormService);

          _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(ComponentWithFormService).call(this));
          _this.form = new _FormService__WEBPACK_IMPORTED_MODULE_10__["default"](fields);
          _this.state = _this.form.getAll();
          _this.onFormChange = _this.onFormChange.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
          return _this;
        }

        _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(ComponentWithFormService, [{
          key: "componentDidMount",
          value: function () {
            var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
            /*#__PURE__*/
            _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {
              var state;
              return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
                while (1) {
                  switch (_context.prev = _context.next) {
                    case 0:
                      state = this.form.getAll();

                      if (state.isLoaded) {
                        this.setState(state);
                      }

                      this.form.addChangeListener(this.onFormChange);

                    case 3:
                    case "end":
                      return _context.stop();
                  }
                }
              }, _callee, this);
            }));

            function componentDidMount() {
              return _componentDidMount.apply(this, arguments);
            }

            return componentDidMount;
          }()
        }, {
          key: "componentWillUnmount",
          value: function componentWillUnmount() {
            this.form.removeChangeListener(this.onFormChange);
          }
        }, {
          key: "onFormChange",
          value: function onFormChange(newFormState) {
            this.setState(newFormState);
          }
        }, {
          key: "render",
          value: function render() {
            return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Component, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, this.props, {
              formData: this.state,
              formService: this.form
            }));
          }
        }]);

        return ComponentWithFormService;
      }(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component)
    );
  };
}

/* harmony default export */ __webpack_exports__["default"] = (connectForm);

/***/ }),

/***/ "./src/form/mixin.js":
/*!***************************!*\
  !*** ./src/form/mixin.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/* harmony import */ var _common_toPromise__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/toPromise */ "./src/common/toPromise.js");
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_callbackify__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/callbackify */ "./src/common/callbackify.js");




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */





/**
 * Grid form mixin
 * @mixin
 */

var FormMixin = {
  getInitialState: function getInitialState() {
    this._validateForm = Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["throttle"])(this._validateForm);

    if (this._handleModelChange.name.indexOf('bound ') !== 0) {
      // Support React.createClass and mixin-decorators
      this._handleModelChange = this._handleModelChange.bind(this);
      this._getData = this._getData.bind(this);
      this._getChanges = this._getChanges.bind(this);
      this.validateForm = this.validateForm.bind(this);
    }

    return {
      _formMixin: null
    };
  },
  componentWillMount: function componentWillMount() {
    this._isUnmounted = false;
  },
  componentWillUnmount: function componentWillUnmount() {
    this._isUnmounted = true;

    if (!this._isNotInitialized()) {
      this.state._formMixin.model.off('update', this._handleModelChange);
    }
  },

  /**
   * Initialize form
   *
   * @param {Object}            settings                                Configuration
   * @param {Array}             settings.fields                         Fields list, that are required to display
   * @param {FormModel}         settings.model                          Model of form
   * @param {Object}            [settings.data]                         Preset data
   * @param {Object}            [settings.changes                       Preset changes
   * @param {bool}              [settings.submitAll=false]              Send all form for validity check
   * @param {bool}              [settings.partialErrorChecking=false]   Activate partial gradual form validation
   * @param {bool}              [settings.showDependentFields=false]    Mark the fields which are involved in the group validation
   * @param {bool}              [settings.autoSubmit]                   Automatic submit before updateField
   * @param {Function}          [settings.autoSubmitHandler]            Automatic submit handler
   * @param {Validator}         [settings.warningsValidator]            Warningss validator for fields
   * @param {Function}          [cb]                                    CallBack function
   */
  initForm: Object(_common_callbackify__WEBPACK_IMPORTED_MODULE_7__["default"])(
  /*#__PURE__*/
  function () {
    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(settings) {
      var data, err;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              this._initState(settings);

              if (this.state._formMixin.data) {
                _context.next = 19;
                break;
              }

              _context.prev = 2;
              _context.next = 5;
              return settings.model.getData(settings.fields);

            case 5:
              data = _context.sent;
              _context.next = 11;
              break;

            case 8:
              _context.prev = 8;
              _context.t0 = _context["catch"](2);
              err = _context.t0;

            case 11:
              if (!this._isUnmounted) {
                _context.next = 13;
                break;
              }

              return _context.abrupt("return");

            case 13:
              if (!err) {
                _context.next = 18;
                break;
              }

              this.state._formMixin.globalError = err;
              _context.next = 17;
              return Object(_common_toPromise__WEBPACK_IMPORTED_MODULE_4__["default"])(this.setState.bind(this), true)(this.state);

            case 17:
              throw err;

            case 18:
              this.state._formMixin.data = data;

            case 19:
              this.state._formMixin.model.on('update', this._handleModelChange);

              _context.next = 22;
              return Object(_common_toPromise__WEBPACK_IMPORTED_MODULE_4__["default"])(this.setState.bind(this), true)(this.state);

            case 22:
              if (settings.partialErrorChecking) {
                _context.next = 25;
                break;
              }

              _context.next = 25;
              return this.validateForm();

            case 25:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, this, [[2, 8]]);
    }));

    return function (_x) {
      return _ref.apply(this, arguments);
    };
  }(), true),

  /**
   * Check is data loaded
   *
   * @returns {boolean}
   */
  isLoaded: function isLoaded() {
    return this.state && this.state._formMixin && Boolean(this.state._formMixin.data || this.state._formMixin.globalError);
  },

  /**
   * Get form changes
   *
   * @return {{}}
   */
  getChanges: function getChanges() {
    var changes = {};

    for (var field in this.state._formMixin.changes) {
      if (!this._isDependentField(field)) {
        changes[field] = this.state._formMixin.changes[field];
      }
    }

    return changes;
  },

  /**
   * Check if form field (or entire form) is changed
   *
   * @param  {string}   field  Field name
   * @return {boolean}
   */
  hasChanges: function hasChanges(field) {
    if (this._isNotInitialized()) {
      return false;
    }

    var state = this.state._formMixin;

    if (field === undefined) {
      return !Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEmpty"])(state.changes);
    }

    if (!state.showDependentFields && this._isDependentField(field)) {
      return false;
    }

    return state.changes.hasOwnProperty(field);
  },

  /**
   * Check if form field has validity errors
   *
   * @param  {string|string[]}   field  Field name or array of names
   * @return {boolean}
   */
  hasError: function hasError(field) {
    if (this._isNotInitialized()) {
      return false;
    }

    var state = this.state._formMixin; // Check group of fields

    if (Array.isArray(field)) {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = field[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var entry = _step.value;

          if (this.hasError(entry)) {
            return true;
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator["return"] != null) {
            _iterator["return"]();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return false;
    } // If partial check is on and field is changed,
    // do not display an error


    if (state.partialErrorChecking) {
      if (!state.changes.hasOwnProperty(field) || Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(state.changes[field], state.data[field])) {
        return false;
      }
    }

    return this.state._formMixin.errors.hasError(field) || this.state._formMixin.warnings.hasError(field);
  },
  clearError: function clearError(field, cb) {
    if (this._isNotInitialized()) {
      return;
    }

    if (this.state._formMixin.validating) {
      this.state._formMixin.pendingClearErrors.push(field);
    }

    if (Array.isArray(field)) {
      field.forEach(function (oneField) {
        this.state._formMixin.errors.clearField(oneField);

        this.state._formMixin.warnings.clearField(oneField);
      }, this);
    } else {
      this.state._formMixin.errors.clearField(field);

      this.state._formMixin.warnings.clearField(field);
    }

    this.setState(this.state, typeof cb === 'function' ? cb : null);
  },

  /**
   * Get form data without changes
   *
   * @return {Object|null}
   */
  getOriginalData: function getOriginalData() {
    if (this._isNotInitialized()) {
      return {};
    }

    return this.state._formMixin.data || null;
  },

  /**
   * Get form data
   *
   * @return {Object|null}
   */
  getData: function getData() {
    if (this._isNotInitialized()) {
      return {};
    }

    return Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["cloneDeep"])(this._getData());
  },

  /**
   * Get form errors
   *
   * @returns {ValidationErrors} Form errors
   */
  getValidationErrors: function getValidationErrors() {
    if (this._isNotInitialized()) {
      return new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"]();
    }

    var field;
    var errors = _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"].merge(this.state._formMixin.errors, this.state._formMixin.warnings); // If gradual validation is on, we need
    // to remove unchanged records from errors object

    if (this.state._formMixin.partialErrorChecking) {
      errors = this.state._formMixin.errors.clone(); // Look through all form fields

      for (field in this.state._formMixin.data) {
        // If field is unchanged, remove errors, that regard to this field
        if (!this.state._formMixin.changes.hasOwnProperty(field) || Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(this.state._formMixin.changes[field], this.state._formMixin.data[field])) {
          errors.clearField(field);
        }
      }
    }

    return errors;
  },
  getFieldErrors: function getFieldErrors(field) {
    if (this._isNotInitialized()) {
      return false;
    } // If partial check is on and field is changed,
    // do not display an error


    if (this.state._formMixin.partialErrorChecking && !this.state._formMixin.changes.hasOwnProperty(field)) {
      return null;
    }

    var errors = this.state._formMixin.errors.getFieldErrorMessages(field) || [];
    var warnings = this.state._formMixin.warnings.getFieldErrorMessages(field) || [];
    return errors.concat(warnings);
  },

  /**
   * Get global error data, if it's present
   *
   * @returns {Error|null}
   */
  getGlobalError: function getGlobalError() {
    if (this._isNotInitialized()) {
      return null;
    }

    return this.state._formMixin.globalError;
  },

  /**
   * Update form value. Is used as the Editors onChange handler.
   * Causes component redraw.
   *
   * @param {string}           field   Parameter
   * @param {*}                value   Event or data
   */
  updateField: function updateField(field, value) {
    if (this._isNotInitialized()) {
      return;
    }

    this.set(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, field, Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["parseValueFromEvent"])(value)));
  },
  validateField: function validateField(field, value, cb) {
    this.set(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, field, Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["parseValueFromEvent"])(value)), true, cb);
  },
  validateForm: function validateForm(cb) {
    this._validateForm(function (err) {
      if (typeof cb === 'function') {
        return cb(err);
      } else if (err) {
        if (!(err instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"])) {
          console.error(err);
        }
      }
    });
  },

  /**
   * Set data in the form
   *
   * @param {Object}    data              Data
   * @param {boolean}      [validate=false]  Validate form
   * @param {Function}  [cb]              CallBack
   */
  set: function set(data, validate, cb) {
    var _this = this;

    if (!this.isLoaded()) {
      return;
    }

    if (typeof validate === 'function' && !cb) {
      cb = validate;
      validate = false;
    }

    var state = this.state._formMixin;
    state.changes = Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["getRecordChanges"])(state.model, state.data, state.changes, data);

    if (this.state._formMixin.autoSubmit) {
      this.submit(function (err, result) {
        _this.state._formMixin.autoSubmitHandler(err, result);

        if (typeof cb === 'function') {
          cb(err, result);
        }
      });
      return;
    }

    if (validate) {
      this.setState(this.state, function () {
        return _this.validateForm(cb);
      });
      return;
    }

    this.setState(this.state, typeof cb === 'function' ? cb : null);
  },
  submitData: function submitData(data, cb) {
    if (this._isNotInitialized()) {
      return;
    }

    this.set(data);
    this.submit(cb);
  },

  /**
   * Send form data to the model
   *
   * @param {Function}  [cb]  CallBack function
   */
  submit: Object(_common_callbackify__WEBPACK_IMPORTED_MODULE_7__["default"])(
  /*#__PURE__*/
  _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2() {
    var changes, data, err, newChanges, actualChanges, validationError;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            if (!this._isNotInitialized()) {
              _context2.next = 2;
              break;
            }

            return _context2.abrupt("return");

          case 2:
            if (!(!this.state._formMixin.autoSubmit && this.isSubmitting())) {
              _context2.next = 4;
              break;
            }

            return _context2.abrupt("return");

          case 4:
            this.state._formMixin.submitting = true;
            changes = this._getChanges();
            this.state._formMixin.globalError = null;
            this.state._formMixin.partialErrorChecking = false;
            this.setState(this.state); // Send changes to model

            _context2.prev = 9;
            _context2.next = 12;
            return this.state._formMixin.model.submit(changes);

          case 12:
            data = _context2.sent;
            _context2.next = 18;
            break;

          case 15:
            _context2.prev = 15;
            _context2.t0 = _context2["catch"](9);
            err = _context2.t0;

          case 18:
            if (!this._isUnmounted) {
              _context2.next = 20;
              break;
            }

            return _context2.abrupt("return");

          case 20:
            this.state._formMixin.submitting = false;
            newChanges = this._getChanges();
            actualChanges = Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(changes, newChanges);
            validationError = err instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"]; // Replacing empty error to null

            if (validationError && err.isEmpty()) {
              err = null;
            }

            if (err) {
              if (validationError) {
                if (actualChanges) {
                  this.state._formMixin.errors = err;
                }
              } else {
                this.state._formMixin.globalError = err;
              }
            } else if (actualChanges) {
              this.state._formMixin.errors = new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"]();
              this.state._formMixin.changes = {};
            } else {
              Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["forEach"])(changes, function (value, field) {
                if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(value, newChanges[field])) {
                  delete this.state._formMixin.changes[field];
                }
              }, this);
            }

            _context2.next = 28;
            return Object(_common_toPromise__WEBPACK_IMPORTED_MODULE_4__["default"])(this.setState.bind(this), true)(this.state);

          case 28:
            if (!err) {
              _context2.next = 30;
              break;
            }

            throw err;

          case 30:
            return _context2.abrupt("return", data);

          case 31:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, this, [[9, 15]]);
  }))),
  clearFieldChanges: function clearFieldChanges(field, cb) {
    if (this._isNotInitialized()) {
      return;
    }

    this.state._formMixin.errors.clearField(field);

    this.state._formMixin.warnings.clearField(field);

    delete this.state._formMixin.changes[field];
    this.setState(this.state, typeof cb === 'function' ? cb : null);
  },
  clearChanges: function clearChanges(cb) {
    if (this._isNotInitialized()) {
      return;
    }

    this.state._formMixin.errors.clear();

    this.state._formMixin.warnings.clear();

    this.state._formMixin.changes = {};
    this.state._formMixin.globalError = false;
    this.state._formMixin.partialErrorChecking = this.state._formMixin.partialErrorCheckingDefault;
    this.setState(this.state, typeof cb === 'function' ? cb : null);
  },
  setPartialErrorChecking: function setPartialErrorChecking(value, cb) {
    this.state._formMixin.partialErrorChecking = value;
    this.setState(this.state, typeof cb === 'function' ? cb : null);
  },
  isSubmitting: function isSubmitting() {
    if (this._isNotInitialized()) {
      return false;
    }

    return this.state._formMixin.submitting;
  },

  /**
   * Model records changes handler
   *
   * @param {Object} changes  Changes
   * @private
   */
  _handleModelChange: function _handleModelChange(changes) {
    Object.assign(this.state._formMixin.data, Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["cloneDeep"])(changes));

    if (!this._isUnmounted) {
      this.setState(this.state);
    }
  },
  _initState: function _initState(settings) {
    if (!settings.model) {
      throw Error('You must specify the model form in this.initForm()');
    }

    this.state._formMixin = {
      data: settings.data,
      changes: settings.changes || {},
      errors: new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"](),
      warnings: new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"](),
      globalError: null,
      validating: false,
      pendingClearErrors: [],
      submitting: false,
      showDependentFields: settings.showDependentFields || false,
      warningsValidator: settings.warningsValidator || new _common_validation_Validator__WEBPACK_IMPORTED_MODULE_5__["default"](),
      partialErrorChecking: settings.partialErrorChecking,
      // Current mode
      partialErrorCheckingDefault: settings.partialErrorChecking,
      // Default mode
      model: settings.model,
      // FormModel
      fields: settings.fields,
      submitAll: settings.submitAll,
      autoSubmit: settings.autoSubmit,
      autoSubmitHandler: settings.autoSubmitHandler
    };
  },
  _isNotInitialized: function _isNotInitialized() {
    return !this.state || !this.state._formMixin;
  },
  _validateForm: function _validateForm(cb, stop) {
    if (this._isNotInitialized()) {
      return stop();
    }

    var completed = 0;
    var completeError;

    var onComplete = function (err) {
      var field;

      if (this._isUnmounted) {
        if (err) {
          console.error(err);
        }

        return;
      }

      if (err) {
        completeError = err;
      }

      if (++completed < 2) {
        // Wait two callbacks
        return;
      }

      this.state._formMixin.validating = false;

      while (field = this.state._formMixin.pendingClearErrors.pop()) {
        this.state._formMixin.warnings.clearField(field);

        this.state._formMixin.errors.clearField(field);
      }

      this.setState(this.state, function () {
        if (completeError) {
          cb(completeError);
          return;
        }

        var errorsWithPartialChecking = this.getValidationErrors();
        cb(errorsWithPartialChecking.isEmpty() ? null : errorsWithPartialChecking);
      });
    }.bind(this);

    this.state._formMixin.validating = true;

    this._runValidator(this.state._formMixin.model, this._getChanges, 'errors', onComplete);

    this._runValidator(this.state._formMixin.warningsValidator, this._getData, 'warnings', onComplete);
  },
  _runValidator: function _runValidator(validator, getData, output, cb) {
    var _this2 = this;

    var data = getData();
    validator.isValidRecord(data).then(function (validErrors) {
      if (!_this2._isUnmounted && Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(data, getData())) {
        _this2.state._formMixin[output] = validErrors;
      }

      cb();
    })["catch"](function (err) {
      if (!_this2._isUnmounted && Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(data, getData())) {
        _this2.state._formMixin[output].clear();
      }

      cb(err);
    });
  },
  _getData: function _getData() {
    if (!this.state._formMixin.data) {
      return null;
    }

    return Object.assign({}, this.state._formMixin.data, this.state._formMixin.changes);
  },
  _getChanges: function _getChanges() {
    // Send all data or just changed fields in addiction of form configuration
    if (this.state._formMixin.submitAll) {
      return this._getData();
    }

    return Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["clone"])(this.state._formMixin.changes);
  },
  _isDependentField: function _isDependentField(field) {
    var state = this.state._formMixin;
    return state.changes.hasOwnProperty(field) && Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(state.changes[field], state.data[field]);
  }
};
/* harmony default export */ __webpack_exports__["default"] = (FormMixin);

/***/ }),

/***/ "./src/grid/Component.js":
/*!*******************************!*\
  !*** ./src/grid/Component.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "@babel/runtime/helpers/toConsumableArray");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread */ "@babel/runtime/helpers/objectSpread");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! create-react-class */ "create-react-class");
/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/* harmony import */ var _mixins_columns__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./mixins/columns */ "./src/grid/mixins/columns.js");
/* harmony import */ var _mixins_pagination__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mixins/pagination */ "./src/grid/mixins/pagination.js");
/* harmony import */ var _mixins_statuses__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./mixins/statuses */ "./src/grid/mixins/statuses.js");
/* harmony import */ var _mixins_sorting__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./mixins/sorting */ "./src/grid/mixins/sorting.js");
/* harmony import */ var _mixins_data__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./mixins/data */ "./src/grid/mixins/data.js");
/* harmony import */ var _mixins_editor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./mixins/editor */ "./src/grid/mixins/editor.js");
/* harmony import */ var _mixins_ui__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./mixins/ui */ "./src/grid/mixins/ui.js");
/* harmony import */ var _mixins_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./mixins/select */ "./src/grid/mixins/select.js");
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../common/ThrottleError */ "./src/common/ThrottleError.js");




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * React table component
 */













var RESET_MODEL = 1 << 0;
var RESET_VIEW_COLUMNS = 1 << 1;
var RESET_SORT = 1 << 2;
var RESET_VIEW_COUNT = 1 << 3;
var RESET_SELECTED_COLUMNS = 1 << 4;
var RESET_BLACK_LIST_MODE = 1 << 5;

var propTypes = function () {
  var sortElementProp = prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
    column: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,
    direction: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.any
  });
  var sortProp = prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.oneOfType([sortElementProp, prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf(sortElementProp)]);
  return {
    className: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,
    model: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
      read: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
      update: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
      isValidRecord: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
      getValidationDependency: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
      on: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
      off: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func
    }),
    cols: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object,
    viewColumns: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string), prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object]),
    selected: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.array,
    // sort: PropTypes.object,
    page: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
    defaultViewCount: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
    viewCount: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
    viewVariants: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number),
    onChangeViewCount: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onChange: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onError: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onPageLoad: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onInit: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onDestroy: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    autoSubmit: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
    height: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
    onSelectedChange: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onSorting: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    multipleSorting: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
    selectAllStatus: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.any,
    onToggleSelected: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onToggleSelectAll: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    defaultSort: function defaultSort(props, propName) {
      if (!props.defaultSort) {
        return;
      }

      for (var _len = arguments.length, rest = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
        rest[_key - 2] = arguments[_key];
      }

      var validProp = sortProp.apply(void 0, [props, propName].concat(rest));

      if (validProp) {
        return validProp;
      }

      if (props.hasOwnProperty('sort')) {
        return Error('You can not set "defaultSort" when the "sort" prop is specified');
      }
    },
    sort: function sort(props, propName) {
      if (!props.sort) {
        return;
      }

      for (var _len2 = arguments.length, rest = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
        rest[_key2 - 2] = arguments[_key2];
      }

      var validProp = sortProp.apply(void 0, [props, propName].concat(rest));

      if (validProp) {
        return validProp;
      }

      if (!props.onSorting) {
        return Error('You need to define the "onSorting" prop when "sort" is set');
      }
    },
    saveFullRecord: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
    partialErrorChecking: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
    warningsValidator: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
      isValidRecord: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
      getValidationDependency: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func
    })
  };
}();

var GridComponent = create_react_class__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({
  displayName: "GridComponent"
}, _mixins_columns__WEBPACK_IMPORTED_MODULE_7__["default"], _mixins_pagination__WEBPACK_IMPORTED_MODULE_8__["default"], _mixins_statuses__WEBPACK_IMPORTED_MODULE_9__["default"], _mixins_sorting__WEBPACK_IMPORTED_MODULE_10__["default"], _mixins_data__WEBPACK_IMPORTED_MODULE_11__["default"], _mixins_editor__WEBPACK_IMPORTED_MODULE_12__["default"], _mixins_ui__WEBPACK_IMPORTED_MODULE_13__["default"], _mixins_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
  getDefaultProps: function getDefaultProps() {
    return {
      page: 0,
      defaultViewCount: 0,
      partialErrorChecking: false,
      selected: []
    };
  },
  getInitialState: function getInitialState() {
    this._throttledUpdateTable = Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["throttle"])(this.updateTable);
    this._validateRow = Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["throttle"])(this._validateRow);

    if (this.props.onInit) {
      this.props.onInit();
    }

    return {
      page: this.props.page,
      viewCount: this.props.defaultViewCount,
      count: 0,
      statusMap: {
        "new": 1 << 0
      },
      statuses: {},
      sort: this._getDefaultSort(),
      data: null,
      changes: {},
      warnings: {},
      errors: {},
      totals: {},
      recordsInfo: {},
      mainIds: [],
      partialErrorChecking: this.props.partialErrorChecking,
      editor: {},
      colsWithEscapeErrors: {},
      selectBlackListMode: false,
      selected: _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(this.props.selected),
      showLoader: false
    };
  },
  componentDidMount: function componentDidMount() {
    this._isMounted = true;

    if (this.props.model) {
      this.props.model.on('create', this._onRecordsCreated);
      this.props.model.on('update', this._setData);
      this.props.model.on('delete', this.updateTable);
    }

    this.updateTable();
  },
  componentWillUnmount: function componentWillUnmount() {
    this._isMounted = false;

    if (this.props.model) {
      this.props.model.off('create', this._onRecordsCreated);
      this.props.model.off('update', this._setData);
      this.props.model.off('delete', this.updateTable);
    }

    if (this.props.onDestroy) {
      this.props.onDestroy();
    }
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    var oldProps = this.props;
    var reset = 0;

    if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["isEqual"])(this.props.model, nextProps.model)) {
      reset |= RESET_MODEL;
    }

    if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["isEqual"])(this.props.viewColumns, nextProps.viewColumns)) {
      reset |= RESET_VIEW_COLUMNS;
    }

    if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["isEqual"])(this.props.sort, nextProps.sort)) {
      reset |= RESET_SORT;
    }

    if (this.props.viewCount !== nextProps.viewCount) {
      reset |= RESET_VIEW_COUNT;
    }

    if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["isEqual"])(this.props.selected, nextProps.selected) || this.props.selectBlackListMode !== nextProps.selectBlackListMode) {
      reset |= RESET_SELECTED_COLUMNS;
    }

    if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["isEqual"])(this.props.blackListMode, nextProps.blackListMode)) {
      reset |= RESET_BLACK_LIST_MODE;
    }

    if (!reset) {
      return;
    }

    if (nextProps.selected) {
      this.state.selected = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(nextProps.selected);
    }

    this.setState({}, function () {
      if (reset & RESET_SORT || reset & RESET_MODEL || reset & RESET_VIEW_COUNT) {
        if (reset & RESET_MODEL) {
          this.state.data = null;

          if (oldProps.model) {
            oldProps.model.off('create', this._onRecordsCreated);
            oldProps.model.off('update', this._setData);
          }

          if (this.props.model) {
            this.props.model.on('create', this._onRecordsCreated);
            this.props.model.on('update', this._setData);
          }

          this._setPage(0);
        }

        this._throttledUpdateTable()["catch"](function (err) {
          if (!(err instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_15__["default"])) {
            console.error(err);
          }
        });
      } else if (reset & RESET_VIEW_COLUMNS || reset & RESET_SELECTED_COLUMNS || reset & RESET_BLACK_LIST_MODE) {
        this._renderBody();
      }
    });
  },
  renderScrollableGrid: function renderScrollableGrid(gridClassNames) {
    var _this = this;

    var header = this._formHeader();

    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: gridClassNames.join(' ')
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "wrapper-dgrid-header"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", {
      cellSpacing: "0",
      className: "dgrid-header"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("colgroup", null, header.colGroup), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("thead", null, header.cols.map(function (row, colKey) {
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
        key: colKey
      }, row.map(function (col, rowKey) {
        var header = _this._getHeaderCellHTML(col.hasOwnProperty('name') ? col.name : col.id);

        var props = {
          key: rowKey,
          className: col.className,
          onClick: col.sort ? _this._sortCol.bind(_this, col.field) : _this._handleHeaderCellClick.bind(_this, col),
          colSpan: col.cols,
          rowSpan: col.rows
        };
        return typeof header === 'string' ? react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
          dangerouslySetInnerHTML: {
            __html: header
          }
        })) : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", props, header);
      }));
    })))), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      style: {
        maxHeight: this.props.height,
        height: this.props.height
      },
      className: "dgrid-body-wrapper dgrid-scrollable"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "dgrid-body"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: this.state.showLoader ? 'dgrid-loader' : '',
      ref: function ref(loader) {
        return _this.loader = loader;
      }
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", {
      cellSpacing: "0",
      ref: function ref(body) {
        return _this.body = body;
      },
      onClick: this._handleBodyClick
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("colgroup", null, header.colGroup), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", {
      className: "dgrid-body-table",
      ref: function ref(tbody) {
        return _this.tBody = tbody;
      }
    })))), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "wrapper-totals"
    }, this._renderTotals(this.props.height)), this._renderPagination());
  },
  renderGrid: function renderGrid(gridClassNames) {
    var _this2 = this;

    var header = this._formHeader();

    gridClassNames = gridClassNames.concat('dgrid-not-scrollable');
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: gridClassNames.join(' ')
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: this.state.showLoader ? 'dgrid-loader' : '',
      ref: function ref(loader) {
        return _this2.loader = loader;
      }
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", {
      cellSpacing: "0",
      className: "dgrid-body-table",
      ref: function ref(body) {
        return _this2.body = body;
      },
      onClick: this._handleBodyClick
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("colgroup", null, header.colGroup), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("thead", null, header.cols.map(function (row, colKey) {
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
        key: colKey
      }, row.map(function (col, rowKey) {
        var header = _this2._getHeaderCellHTML(col.hasOwnProperty('name') ? col.name : col.id);

        var props = {
          key: rowKey,
          className: col.className,
          onClick: col.sort ? _this2._sortCol.bind(_this2, col.field) : _this2._handleHeaderCellClick.bind(_this2, col),
          colSpan: col.cols,
          rowSpan: col.rows
        };
        return typeof header === 'string' ? react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
          dangerouslySetInnerHTML: {
            __html: header
          }
        })) : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", props, header);
      }));
    })), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", {
      className: "dgrid-body-table",
      ref: function ref(tbody) {
        return _this2.tBody = tbody;
      }
    }), this._renderTotals(this.props.height)), this._renderPagination());
  },
  render: function render() {
    var gridClassNames = ['data-grid'];

    if (this.props.className) {
      gridClassNames.push(this.props.className);
    }

    if (!this.props.height) {
      return this.renderGrid(gridClassNames);
    }

    return this.renderScrollableGrid(gridClassNames);
  }
}));
GridComponent.propTypes = propTypes;
/* harmony default export */ __webpack_exports__["default"] = (GridComponent);

/***/ }),

/***/ "./src/grid/export/exportGridData.js":
/*!*******************************************!*\
  !*** ./src/grid/export/exportGridData.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common_ArgumentsError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/ArgumentsError */ "./src/common/ArgumentsError.js");



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function formatColumns(columns, viewColumns) {
  var formattedColumns = {};
  var columnId;
  var i;

  for (i = 0; i < viewColumns.length; i++) {
    columnId = viewColumns[i];
    formattedColumns[columnId] = "".concat(columns[columnId].parent ? columns[columnId].parent + ' ' : '').concat(columns[columnId].name);
  }

  return formattedColumns;
}

function formatRecord(record, columns, viewColumns) {
  var formattedRecord = {};
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = viewColumns[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var viewColumn = _step.value;
      var column = columns[viewColumn];
      formattedRecord[viewColumn] = column.render[column.render.length - 1](record);
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator["return"] != null) {
        _iterator["return"]();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  return formattedRecord;
}

function formatData(records, totals, columns, viewColumns) {
  var formatted = {
    columns: formatColumns(columns, viewColumns),
    records: records.map(function (record) {
      return formatRecord(record[1], columns, viewColumns);
    })
  };

  if (totals) {
    formatted.totals = formatRecord(totals, columns, viewColumns);
  }

  return formatted;
}

function getFields(columns, viewColumns) {
  var fields = {};
  var _iteratorNormalCompletion2 = true;
  var _didIteratorError2 = false;
  var _iteratorError2 = undefined;

  try {
    for (var _iterator2 = viewColumns[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
      var columnId = _step2.value;

      for (var i = 0; i < columns[columnId].render.length - 1; i++) {
        fields[columns[columnId].render[i]] = true;
      }
    }
  } catch (err) {
    _didIteratorError2 = true;
    _iteratorError2 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
        _iterator2["return"]();
      }
    } finally {
      if (_didIteratorError2) {
        throw _iteratorError2;
      }
    }
  }

  return Object.keys(fields);
}
/**
 * @param {{}} columns
 * @param {string[]} viewColumns
 */


function assertValidViewColumns(columns, viewColumns) {
  if (!viewColumns || !viewColumns.length) {
    throw new _common_ArgumentsError__WEBPACK_IMPORTED_MODULE_2__["default"]('"viewColumns" can`t be empty');
  }

  var notExistColumns = [];
  var _iteratorNormalCompletion3 = true;
  var _didIteratorError3 = false;
  var _iteratorError3 = undefined;

  try {
    for (var _iterator3 = viewColumns[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
      var columnId = _step3.value;

      if (!columns[columnId]) {
        notExistColumns.push(columnId);
      }
    }
  } catch (err) {
    _didIteratorError3 = true;
    _iteratorError3 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion3 && _iterator3["return"] != null) {
        _iterator3["return"]();
      }
    } finally {
      if (_didIteratorError3) {
        throw _iteratorError3;
      }
    }
  }

  if (notExistColumns.length) {
    throw new _common_ArgumentsError__WEBPACK_IMPORTED_MODULE_2__["default"]("You trying to get not exist columns: ".concat(notExistColumns.join(', ')));
  }
}
/**
 * @param {{}}                    gridModel
 * @param {{}}                    columns
 * @param {string[]}              viewColumns
 * @param {Function}              exporter
 * @param {{}}                    settings
 * @param {[string, string][]}      settings.sort
 * @param {number}                  settings.limit
 * @param {number}                  settings.offset
 * @param {string[]}                settings.viewColumns
 */


function exportGridData(_x, _x2, _x3, _x4, _x5) {
  return _exportGridData.apply(this, arguments);
}

function _exportGridData() {
  _exportGridData = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(gridModel, columns, viewColumns, exporter, settings) {
    var result, data;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            assertValidViewColumns(columns, viewColumns);
            _context.next = 3;
            return gridModel.read({
              fields: getFields(columns, viewColumns),
              sort: settings.sort ? [[settings.sort.column, settings.sort.direction]] : null,
              limit: settings.limit,
              offset: settings.offset
            });

          case 3:
            result = _context.sent;
            data = formatData(result.records, result.totals, columns, viewColumns);
            _context.next = 7;
            return exporter(data);

          case 7:
            return _context.abrupt("return", _context.sent);

          case 8:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return _exportGridData.apply(this, arguments);
}

/* harmony default export */ __webpack_exports__["default"] = (exportGridData);

/***/ }),

/***/ "./src/grid/export/exporters/toCSV.js":
/*!********************************************!*\
  !*** ./src/grid/export/exporters/toCSV.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common_toPromise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/toPromise */ "./src/common/toPromise.js");
/* harmony import */ var csv_stringify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! csv-stringify */ "csv-stringify");
/* harmony import */ var csv_stringify__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(csv_stringify__WEBPACK_IMPORTED_MODULE_3__);



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



function toCSV(_x) {
  return _toCSV.apply(this, arguments);
}

function _toCSV() {
  _toCSV = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(data) {
    var csvData;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return Object(_common_toPromise__WEBPACK_IMPORTED_MODULE_2__["default"])(csv_stringify__WEBPACK_IMPORTED_MODULE_3___default.a, true)(data.records.concat([data.totals]), {
              header: true,
              columns: data.columns
            });

          case 2:
            csvData = _context.sent;
            return _context.abrupt("return", {
              mime: 'text/csv',
              data: csvData
            });

          case 4:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return _toCSV.apply(this, arguments);
}

/* harmony default export */ __webpack_exports__["default"] = (toCSV);

/***/ }),

/***/ "./src/grid/export/exporters/toJSON.js":
/*!*********************************************!*\
  !*** ./src/grid/export/exporters/toJSON.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */
function toJSON(_x) {
  return _toJSON.apply(this, arguments);
}

function _toJSON() {
  _toJSON = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(data) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            return _context.abrupt("return", {
              mime: 'application/json',
              data: {
                records: data.records,
                totals: data.totals
              }
            });

          case 1:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return _toJSON.apply(this, arguments);
}

/* harmony default export */ __webpack_exports__["default"] = (toJSON);

/***/ }),

/***/ "./src/grid/mixins/columns.js":
/*!************************************!*\
  !*** ./src/grid/mixins/columns.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "@babel/runtime/helpers/slicedToArray");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "@babel/runtime/helpers/toConsumableArray");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/* harmony import */ var react_dom_factories__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom-factories */ "react-dom-factories");
/* harmony import */ var react_dom_factories__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom_factories__WEBPACK_IMPORTED_MODULE_3__);



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


var GridColumnsMixin = {
  /**
   * Column visibility flag
   *
   * @param   {string}    id  Column ID
   * @returns {boolean}   Column visibility
   * @private
   */
  _isViewColumn: function _isViewColumn(id) {
    if (!this.props.viewColumns) {
      return true;
    }

    if (Array.isArray(this.props.viewColumns)) {
      return this.props.viewColumns.indexOf(id) > -1;
    }

    return this.props.viewColumns[id];
  },

  /**
   * Collect data for table header display
   *
   * @returns {Object} Formed data
   * @private
   */
  _formHeader: function _formHeader() {
    var rows = [[
      /* top */
    ], [
      /* bottom */
    ]];
    var colGroup = [];
    var lastParent = {
      name: ''
    };

    for (var columnId in this.props.cols) {
      // Skip column if it's invisible
      if (!this._isViewColumn(columnId)) {
        continue;
      }

      colGroup.push(react_dom_factories__WEBPACK_IMPORTED_MODULE_3___default.a.col({
        key: columnId,
        width: this.props.cols[columnId].width,
        className: this._getColumnClass(columnId)
      }));
      var classNames = [this._getColumnClass(columnId)];
      var addInfo = {
        id: columnId,
        name: this.props.cols[columnId].name,
        onClick: this.props.cols[columnId].onClick,
        onClickRefs: this.props.cols[columnId].onClickRefs,
        cols: 1,
        rows: 1
      };

      var sortParams = this._getSortParams(columnId);

      if (sortParams) {
        classNames.push("dgrid-".concat(sortParams.direction));
        addInfo.field = sortParams.column;
        addInfo.sort = sortParams.direction;
      }

      addInfo.className = classNames.join(' ');

      if (this.props.cols[columnId].parent) {
        if (this.props.cols[columnId].parent !== lastParent.name) {
          lastParent = rows[0][rows[0].push({
            name: this.props.cols[columnId].parent,
            cols: 1,
            rows: 1
          }) - 1];
        } else {
          lastParent.cols++;
        }

        rows[1].push(addInfo);
      } else {
        lastParent = {
          name: ''
        };
        addInfo.rows = 2;
        rows[0].push(addInfo);
      }
    }

    return {
      cols: rows,
      colGroup: colGroup
    };
  },

  /**
   * Get the names of the parameters that are required to display the grid
   *
   * @return {string[]}
   * @private
   */
  _getFieldsToRender: function _getFieldsToRender() {
    var i;
    var cols = this.props.cols;
    var columns = [];

    for (i in cols) {
      columns = Object(_common_utils__WEBPACK_IMPORTED_MODULE_2__["union"])(columns, cols[i].render.slice(0, cols[i].render.length - 1));
    }

    return columns;
  },

  /**
   * Does the parameters to display grid
   *
   * @param   {string}  field
   * @return  {boolean}
   * @private
   */
  _isFieldAffectsRender: function _isFieldAffectsRender(field) {
    var i;
    var cols = this.props.cols;

    for (i in cols) {
      if (cols[i].render.indexOf(field) >= 0) {
        return true;
      }
    }

    return false;
  },

  /**
   * Get dependent columns
   *
   * @param   {string}    field
   * @return  {string[]}
   * @private
   */
  _getDependentColumns: function _getDependentColumns(field) {
    var dependentColumns = [];
    var dependencyFields = [field].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(this.props.model.getValidationDependency([field])));

    for (var _i = 0, _Object$entries = Object.entries(this.props.cols); _i < _Object$entries.length; _i++) {
      var _Object$entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_Object$entries[_i], 2),
          columnName = _Object$entries$_i[0],
          render = _Object$entries$_i[1].render;

      if (render.some(function (renderField) {
        return dependencyFields.includes(renderField);
      })) {
        dependentColumns.push(columnName);
      }
    }

    return dependentColumns;
  },
  _getColumnClass: function _getColumnClass(id) {
    return this.props.cols[id].className;
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridColumnsMixin);

/***/ }),

/***/ "./src/grid/mixins/data.js":
/*!*********************************!*\
  !*** ./src/grid/mixins/data.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "@babel/runtime/helpers/slicedToArray");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/ThrottleError */ "./src/common/ThrottleError.js");




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



var GridDataMixin = {
  /**
   * Change table record
   * This method marks changed fields and validates them
   *
   * @param {*}         recordId    Record ID
   * @param {Object}    data        Changed data
   * @param {Function}  cb          CallBack function
   */
  set: function set(recordId, data, cb) {
    //TODO cb does't used
    var row = this._getRowID(recordId);

    this._setRowChanges(row, Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["cloneDeep"])(data), cb);

    if (this.props.autoSubmit || this.props.realtime) {
      if (this.props.realtime) {
        console.warn('Deprecated: Grid prop "realtime" renamed to "autoSubmit"');
      }

      this.save(this.props.onRealtimeSubmit);
    } else if (this.props.onChange) {
      this.props.onChange(this.state.changes, this.state.data);
    }
  },

  /**
   * Get record data
   *
   * @param recordId
   * @return {Object}
   */
  getRecord: function getRecord(recordId) {
    var row = this._getRowID(recordId);

    return Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["cloneDeep"])(this._getRecordWithChanges(row));
  },

  /**
   * Get record changes object
   *
   * @param   {*} recordId Record ID
   * @return  {Object}
   */
  getRecordChanges: function getRecordChanges(recordId) {
    var row = this._getRowID(recordId);

    return this._getRecordChanges(row);
  },

  /**
   * Get record warnings object
   *
   * @param   {*} recordId  Record ID
   * @return  {ValidationErrors}
   * @private
   */
  getRecordWarnings: function getRecordWarnings(recordId) {
    var row = this._getRowID(recordId);

    return this.state.warnings[row] || new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_3__["default"]();
  },

  /**
   * Get validation warnings
   *
   * @return {Array|null}
   */
  getWarnings: function getWarnings() {
    var result = [];

    for (var i in this.state.warnings) {
      result.push([this.state.recordsInfo[i].id, this.state.warnings[i]]);
    }

    return result.length ? result : null;
  },

  /**
   * Get record errors object
   *
   * @param   {*} recordId  Record ID
   * @return  {ValidationErrors}
   * @private
   */
  getRecordErrors: function getRecordErrors(recordId) {
    var row = this._getRowID(recordId);

    return this._getRecordErrors(row);
  },

  /**
   * Get validation errors
   *
   * @return {Array|null}
   */
  getErrors: function getErrors() {
    var result = [];

    for (var i in this.state.errors) {
      result.push([this.state.recordsInfo[i].id, this.state.errors[i]]);
    }

    return result.length ? result : null;
  },

  /**
   * Get table model
   *
   * @returns {AbstractGridModel}
   */
  getModel: function getModel() {
    return this.props.model;
  },

  /**
   * Save grid changes
   */
  save: function () {
    var _save = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {
      var _this = this,
          _context;

      var errors, changes, data, unhandledErrors, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _loop, _iterator, _step, _ret, errorHandler;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              errors = this.getErrors(); // Collect all valid changes

              changes = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["reduce"])(this.state.changes, function (result, rowChanges, row) {
                if (!errors || !errors[row]) {
                  if (_this.props.saveFullRecord) {
                    result[row] = _this._getRecordWithChanges(row);
                  } else {
                    result[row] = {};
                    Object.assign(result[row], rowChanges, Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["pick"])(_this.state.data[row], _this.props.model.getValidationDependency(Object.keys(result[row]))));
                  }
                }

                return result;
              }, {}); // Cancel new record display

              this.removeRecordStatusAll('new'); // Pass changes to table model processing

              _context2.next = 5;
              return this.props.model.update(this._dataObjectToArray(changes));

            case 5:
              data = _context2.sent;

              if (this._isMounted) {
                _context2.next = 8;
                break;
              }

              return _context2.abrupt("return");

            case 8:
              this.state.partialErrorChecking = false;
              unhandledErrors = [];
              _iteratorNormalCompletion = true;
              _didIteratorError = false;
              _iteratorError = undefined;
              _context2.prev = 13;

              _loop = function _loop() {
                var record = _step.value;

                var row = _this._getRowID(record[0]); // Skip records that are user changed while data processing


                if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["isEqual"])(_this.state.changes[row], changes[row])) {
                  return "continue";
                }

                if (record[1] instanceof Error) {
                  unhandledErrors.push(record[1]);
                  return "continue";
                } // Process validation errors


                if (record[1] instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_3__["default"]) {
                  _this.state.errors[row] = record[1];
                  return "continue";
                } // Cancel changed data status of the parameters, that are changed


                Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["forEach"])(changes[row], function (value, field) {
                  if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["isEqual"])(value, this.state.changes[row][field])) {
                    delete this.state.changes[row][field];
                  }
                }, _this); // Clear changed data row if it's empty

                if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["isEmpty"])(_this.state.changes[row])) {
                  delete _this.state.changes[row];

                  if (!_this._isMainRow(row)) {
                    _this._removeRecord(row);
                  }
                }
              };

              _iterator = data[Symbol.iterator]();

            case 16:
              if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
                _context2.next = 23;
                break;
              }

              _ret = _loop();

              if (!(_ret === "continue")) {
                _context2.next = 20;
                break;
              }

              return _context2.abrupt("continue", 20);

            case 20:
              _iteratorNormalCompletion = true;
              _context2.next = 16;
              break;

            case 23:
              _context2.next = 29;
              break;

            case 25:
              _context2.prev = 25;
              _context2.t0 = _context2["catch"](13);
              _didIteratorError = true;
              _iteratorError = _context2.t0;

            case 29:
              _context2.prev = 29;
              _context2.prev = 30;

              if (!_iteratorNormalCompletion && _iterator["return"] != null) {
                _iterator["return"]();
              }

            case 32:
              _context2.prev = 32;

              if (!_didIteratorError) {
                _context2.next = 35;
                break;
              }

              throw _iteratorError;

            case 35:
              return _context2.finish(32);

            case 36:
              return _context2.finish(29);

            case 37:
              this._renderBody();

              if (this.props.onChange) {
                this.props.onChange(this.state.changes, this.state.data);
              }

              errorHandler = this.props.onError || (_context = console).error.bind(_context);
              unhandledErrors.forEach(function (error) {
                return errorHandler(error);
              });
              return _context2.abrupt("return", data);

            case 42:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee, this, [[13, 25, 29, 37], [30,, 32, 36]]);
    }));

    function save() {
      return _save.apply(this, arguments);
    }

    return save;
  }(),

  /**
   * Clear record changes
   *
   * @param {*} recordId Record ID
   */
  clearRecordChanges: function clearRecordChanges(recordId) {
    var row = this._getRowID(recordId);

    delete this.state.changes[row];
    delete this.state.warnings[row];
    delete this.state.errors[row];

    this._updateRow(row);

    if (this.props.onChange) {
      this.props.onChange(this.state.changes, this.state.data);
    }
  },

  /**
   * Clear all table changes
   */
  clearAllChanges: function clearAllChanges() {
    var i;

    for (i in this.state.data) {
      if (!this._isMainRow(i)) {
        delete this.state.data[i];
        delete this.state.recordsInfo[i];
      }
    }

    this.state.changes = {};
    this.state.statuses = {};
    this.state.warnings = {};
    this.state.errors = {};
    this.state.partialErrorChecking = this.props.partialErrorChecking;

    this._renderBody();

    if (this.props.onChange) {
      this.props.onChange(this.state.changes, this.state.data);
    }
  },

  /**
   * Reset to initial table state
   */
  reset: function reset() {
    this._setPage(0);

    if (!this._isSortingPropsMode()) {
      this._resetSorting();
    }

    this.updateTable();
  },

  /**
   * Get record changes object
   *
   * @param   {string}        row     Row ID
   * @return  {Object}
   */
  _getRecordChanges: function _getRecordChanges(row) {
    if (this.state.changes.hasOwnProperty(row)) {
      return Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["cloneDeep"])(this.state.changes[row]);
    }

    return {};
  },

  /**
   * Set record data
   *
   * @param {*}       recordId  Record ID
   * @param {Object}  data      Data
   * @private
   */
  _setRecordData: function _setRecordData(recordId, data) {
    if (!this._isRecordLoaded(recordId)) {
      return;
    } // TODO done through _dataArrayToObject


    var row = this._getRowID(recordId); // Apply and redraw all record changes


    for (var field in data) {
      this.state.data[row][field] = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["cloneDeep"])(data[field]);

      this._renderBinds(row, field);
    }
  },

  /**
   * Table row has warning flag
   *
   * @param   {string}        row     Row ID
   * @param   {Array|string}  fields
   * @returns {boolean}
   * @private
   */
  _hasWarning: function _hasWarning(row, fields) {
    return this._checkFieldInValidation(row, fields, this.state.warnings);
  },

  /**
   * Table row has error flag
   *
   * @param   {string}        row     Row ID
   * @param   {Array|string}  fields
   * @returns {boolean}
   * @private
   */
  _hasError: function _hasError(row, fields) {
    return this._checkFieldInValidation(row, fields, this.state.errors);
  },

  /**
   * Table row has error in "validation" object
   *
   * @param   {string}        row
   * @param   {Array|string}  fields
   * @param   {Validation}    validation
   * @returns {boolean}
   * @private
   */
  _checkFieldInValidation: function _checkFieldInValidation(row, fields, validation) {
    var i;

    if (!validation[row]) {
      return false;
    }

    if (this.state.partialErrorChecking && !this.state.changes.hasOwnProperty(row)) {
      return false;
    }

    if (!Array.isArray(fields)) {
      fields = [fields];
    }

    for (i = 0; i < fields.length; i++) {
      if (validation[row].hasError(fields[i])) {
        return true;
      }
    }

    return false;
  },

  /**
   * Table row changed flag
   *
   * @param   {string}        row         Row ID
   * @param   {Array|string}  [fields]
   * @return  {boolean}
   * @private
   */
  _isChanged: function _isChanged(row, fields) {
    var i;

    if (!this.state.changes[row]) {
      return false;
    }

    if (fields) {
      if (!Array.isArray(fields)) {
        fields = [fields];
      }

      for (i = 0; i < fields.length; i++) {
        if (this.state.changes[row].hasOwnProperty(fields[i])) {
          return true;
        }
      }

      return false;
    }

    return true;
  },

  /**
   * Get table row errors object
   *
   * @param   {string} row  Row ID
   * @return  {ValidationErrors}
   * @private
   */
  _getRecordErrors: function _getRecordErrors(row) {
    return this.state.errors[row] || new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_3__["default"]();
  },

  /**
   * Pass changes to the table
   * This method marks changed fields
   *
   * @param {string}      row         Row ID
   * @param {Object}      data        Changed data
   * @private
   */
  _setRowChanges: function _setRowChanges(row, data) {
    var changes = this.state.changes;

    if (!changes[row]) {
      changes[row] = {};
    }

    changes[row] = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["getRecordChanges"])(this.props.model, this.state.data[row], changes[row], data);

    if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["isEmpty"])(changes[row])) {
      delete changes[row];
    }

    for (var _i = 0, _Object$keys = Object.keys(data); _i < _Object$keys.length; _i++) {
      var column = _Object$keys[_i];

      this._renderBinds(row, column);
    }

    if (this.props.onChange) {
      this.props.onChange(this.state.changes, this.state.data);
    }
  },

  /**
   * Get table record with changes
   *
   * @param {string} row Row ID
   * @returns {Object} Required table data record
   * @private
   */
  _getRecordWithChanges: function _getRecordWithChanges(row) {
    if (this.state.data[row]) {
      return Object.assign({}, this.state.data[row], this.state.changes[row]);
    }

    return null;
  },

  /**
   * Set table data
   *
   * @param {Array}  changes  Changes
   * @private
   */
  _setData: function () {
    var _setData2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(changes) {
      var _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, _step2$value, id, data;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              // Apply all changes
              _iteratorNormalCompletion2 = true;
              _didIteratorError2 = false;
              _iteratorError2 = undefined;
              _context3.prev = 3;
              _iterator2 = changes[Symbol.iterator]();

            case 5:
              if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {
                _context3.next = 20;
                break;
              }

              _step2$value = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_step2.value, 2), id = _step2$value[0], data = _step2$value[1];

              // Firstly we update the state
              this._setRecordData(id, data); // Then we validate the updated data in state


              _context3.prev = 8;
              _context3.next = 11;
              return this._checkWarnings(id);

            case 11:
              _context3.next = 17;
              break;

            case 13:
              _context3.prev = 13;
              _context3.t0 = _context3["catch"](8);

              if (_context3.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_5__["default"]) {
                _context3.next = 17;
                break;
              }

              throw _context3.t0;

            case 17:
              _iteratorNormalCompletion2 = true;
              _context3.next = 5;
              break;

            case 20:
              _context3.next = 26;
              break;

            case 22:
              _context3.prev = 22;
              _context3.t1 = _context3["catch"](3);
              _didIteratorError2 = true;
              _iteratorError2 = _context3.t1;

            case 26:
              _context3.prev = 26;
              _context3.prev = 27;

              if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
                _iterator2["return"]();
              }

            case 29:
              _context3.prev = 29;

              if (!_didIteratorError2) {
                _context3.next = 32;
                break;
              }

              throw _iteratorError2;

            case 32:
              return _context3.finish(29);

            case 33:
              return _context3.finish(26);

            case 34:
            case "end":
              return _context3.stop();
          }
        }
      }, _callee2, this, [[3, 22, 26, 34], [8, 13], [27,, 29, 33]]);
    }));

    function _setData(_x) {
      return _setData2.apply(this, arguments);
    }

    return _setData;
  }(),

  /**
   * Get record field title that changes column Editor
   *
   * @param       {string}        id  Column ID
   * @returns     {Array|string}     Fields that change Editor
   * @private
   */
  _getBindParam: function _getBindParam(id) {
    return this.props.cols[id].editorField || id;
  },

  /**
   * This method converts data array to the object with keys presented as record ID hash
   *
   * @param   {Array}    arr     Data array
   * @returns {Object}    Object result
   * @private
   */
  _dataArrayToObject: function _dataArrayToObject(arr) {
    var i;
    var records = {};
    var info = {};
    var row;

    for (i = 0; i < arr.length; i++) {
      row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["toEncodedString"])(arr[i][0]);
      records[row] = arr[i][1];
      info[row] = {
        id: arr[i][0],
        index: i // Sort index

      };
    }

    return {
      records: records,
      info: info
    };
  },

  /**
   * This method converts data object to the array with keys presented as record ID hash
   *
   * @param   {Object}  obj     Data object
   * @returns {Array}   Array result
   * @private
   */
  _dataObjectToArray: function _dataObjectToArray(obj) {
    var i;
    var arr = [];

    for (i in obj) {
      arr.push([this.state.recordsInfo[i].id, Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["clone"])(obj[i])]);
    }

    return arr;
  },

  /**
   * Is main table row flag
   *
   * @param   {string}    row     Row ID
   * @return  {boolean}
   * @private
   */
  _isMainRow: function _isMainRow(row) {
    return this.state.mainIds.indexOf(row) >= 0;
  },
  _isRecordLoaded: function _isRecordLoaded(recordId) {
    // TODO Can be optimized
    var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["toEncodedString"])(recordId);
    return this.state.data.hasOwnProperty(row);
  },

  /**
   * Get table row ID having record ID
   *
   * @param   {*}       recordId    Record ID
   * @return  {string}  Row ID
   * @private
   */
  _getRowID: function _getRowID(recordId) {
    var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["toEncodedString"])(recordId);

    if (!this.state.data.hasOwnProperty(row)) {
      throw Error('Record with the ID is not contained in the table.');
    }

    return row;
  },

  /**
   * Load model data
   *
   * @param {Object}      settings    Request parameters
   * @private
   */
  _loadData: function () {
    var _loadData2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(settings) {
      var data;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              _context4.prev = 0;
              _context4.next = 3;
              return this.props.model.read(settings);

            case 3:
              data = _context4.sent;
              _context4.next = 10;
              break;

            case 6:
              _context4.prev = 6;
              _context4.t0 = _context4["catch"](0);

              if (_context4.t0 && this.props.onError) {
                this.props.onError(_context4.t0);
              }

              throw _context4.t0;

            case 10:
              if (this.props.onPageLoad) {
                this.props.onPageLoad(data);
              }

              return _context4.abrupt("return", data);

            case 12:
            case "end":
              return _context4.stop();
          }
        }
      }, _callee3, this, [[0, 6]]);
    }));

    function _loadData(_x2) {
      return _loadData2.apply(this, arguments);
    }

    return _loadData;
  }(),

  /**
   * Find record IDs that need to be displayed additionally
   *
   * @return {Array} Additional IDs array
   * @private
   */
  _getAdditionalIds: function _getAdditionalIds() {
    var additionalIds = this._getRecordsWithStatus();

    var id;

    for (var row in this.state.changes) {
      id = this.state.recordsInfo[row].id;

      if (additionalIds.indexOf(id) < 0) {
        additionalIds.push(id);
      }
    }

    return additionalIds;
  },
  _removeRecord: function _removeRecord(rowId, cb) {
    var touchedChanges = this.state.changes[rowId];

    this._removeTR(rowId); // this.unselectRecord(recordId, true); // TODO Make unselectRecord by rowId method


    delete this.state.data[rowId];
    delete this.state.recordsInfo[rowId];
    delete this.state.changes[rowId];
    delete this.state.warnings[rowId];
    delete this.state.errors[rowId];
    delete this.state.editor[rowId];
    this.setState(this.state, cb ? cb.bind(this) : null);

    if (touchedChanges && this.props.onChange) {
      this.props.onChange(this.state.changes, this.state.data);
    }
  },
  _checkWarnings: function () {
    var _checkWarnings2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4(row) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              if (this.props.warningsValidator) {
                _context5.next = 2;
                break;
              }

              return _context5.abrupt("return");

            case 2:
              return _context5.abrupt("return", this._checkValidatorErrors(row, this.props.warningsValidator, this._getRecordWithChanges, this.state.warnings));

            case 3:
            case "end":
              return _context5.stop();
          }
        }
      }, _callee4, this);
    }));

    function _checkWarnings(_x3) {
      return _checkWarnings2.apply(this, arguments);
    }

    return _checkWarnings;
  }(),
  _validateRow: function () {
    var _validateRow2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee5(row) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee5$(_context6) {
        while (1) {
          switch (_context6.prev = _context6.next) {
            case 0:
              _context6.next = 2;
              return this._checkValidatorErrors(row, this.props.model, this._getRecordChanges, this.state.errors);

            case 2:
              return _context6.abrupt("return", _context6.sent);

            case 3:
            case "end":
              return _context6.stop();
          }
        }
      }, _callee5, this);
    }));

    function _validateRow(_x4) {
      return _validateRow2.apply(this, arguments);
    }

    return _validateRow;
  }(),

  /**
   * Check errors in "validator" object
   *
   * @param {string}        row         Row ID
   * @param {Validator}     validator   Validator object
   * @param {Function}      getData     Data provider function
   * @param {{}}            result      Validation result object
   * @private
   */
  _checkValidatorErrors: function () {
    var _checkValidatorErrors2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee6(row, validator, getData, result) {
      var recordId, record, validErrors;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee6$(_context7) {
        while (1) {
          switch (_context7.prev = _context7.next) {
            case 0:
              recordId = this.state.recordsInfo[row].id;
              record = getData(row);
              _context7.next = 4;
              return validator.isValidRecord(record, recordId);

            case 4:
              validErrors = _context7.sent;

              if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["isEqual"])(record, getData(row))) {
                _context7.next = 9;
                break;
              }

              if (validErrors.isEmpty()) {
                delete result[row];
              } else {
                result[row] = validErrors;
              }

              _context7.next = 9;
              return this._updateRow(row);

            case 9:
            case "end":
              return _context7.stop();
          }
        }
      }, _callee6, this);
    }));

    function _checkValidatorErrors(_x5, _x6, _x7, _x8) {
      return _checkValidatorErrors2.apply(this, arguments);
    }

    return _checkValidatorErrors;
  }(),

  /**
   * Handler for "create" event of GridModel
   *
   * @param {*[]|*} recordIds
   * @return {void}
   * @private
   */
  _onRecordsCreated: function _onRecordsCreated(recordIds) {
    var _this2 = this;

    if (!Array.isArray(recordIds)) {
      Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["warn"])('Not array recordsIds in "create" event is deprecated');
      recordIds = [recordIds];
    }

    this.updateTable().then(Promise.all(recordIds.map(
    /*#__PURE__*/
    function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee7(recordId) {
        var rowId;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee7$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                if (_this2._isRecordLoaded(recordId)) {
                  _context8.next = 2;
                  break;
                }

                return _context8.abrupt("return");

              case 2:
                rowId = _this2._getRowID(recordId);
                _context8.prev = 3;
                _context8.next = 6;
                return _this2._checkWarnings(rowId);

              case 6:
                _context8.next = 12;
                break;

              case 8:
                _context8.prev = 8;
                _context8.t0 = _context8["catch"](3);

                if (_context8.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_5__["default"]) {
                  _context8.next = 12;
                  break;
                }

                throw _context8.t0;

              case 12:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee7, null, [[3, 8]]);
      }));

      return function (_x9) {
        return _ref.apply(this, arguments);
      };
    }())));
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridDataMixin);

/***/ }),

/***/ "./src/grid/mixins/editor.js":
/*!***********************************!*\
  !*** ./src/grid/mixins/editor.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/ThrottleError */ "./src/common/ThrottleError.js");




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */
 // eslint-disable-line no-unused-vars




var findDOMNode = react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.findDOMNode;
var ENTER_KEY = 13;
var ESCAPE_KEY = 27;
var GridEditorMixin = {
  /**
   * Display Editor in a table cell
   *
   * @param {HTMLElement} element     Cell DOM element
   * @param {string}      row         Row ID
   * @param {string}      column      Column ID
   * @private
   */
  _renderEditor: function _renderEditor(element, row, column) {
    var _this = this;

    var binds = this._getBindParam(column);

    var record = this._getRecordWithChanges(row);

    var value = Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["at"])(record, binds);
    var focusDone = false;

    if (!Array.isArray(binds)) {
      value = value[0];
    } // Prevent recreate of the opened Editor


    if (this._isEditorVisible(row, column)) {
      return;
    }

    var editorContext = {
      updateField: function updateField(field, nextValue) {
        var data = {};
        data[field] = nextValue;

        _this._setRowChanges(row, data);
      }
    };
    var props = {
      onChange: function onChange(values) {
        _this._onChangeEditor(row, column, values, editorContext, element);
      },
      onFocus: function onFocus() {
        _this._onFocusEditor(row, column);
      },
      onBlur: function onBlur() {
        // Remove Editor
        if (focusDone) {
          _this._unmountEditor(element, row, column);

          _this._onBlurEditor(row);
        }
      },
      onKeyUp: function onKeyUp(e) {
        if (focusDone && [ENTER_KEY, ESCAPE_KEY].includes(e.keyCode)) {
          if (e.keyCode === ESCAPE_KEY) {
            _this._setRowChanges(row, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, column, value));
          }

          _this._unmountEditor(element, row, column);

          _this._onBlurEditor(row);
        }
      },
      value: value
    };
    editorContext.props = props; // Display Editor

    var Component = this.props.cols[column].editor.call(editorContext, record, this);

    if (!Component) {
      return;
    }

    this.state.editor["".concat(row, "_").concat(column)] = react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.render(Component, element, function () {
      element.classList.add('dgrid-input-wrapper');

      if (typeof this.focus === 'function') {
        this.focus();
      } else {
        findDOMNode(this).focus();
      }

      focusDone = true;
    });
  },
  _unmountEditor: function _unmountEditor(element, row, column) {
    react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.unmountComponentAtNode(element);
    delete this.state.editor["".concat(row, "_").concat(column)];
    element.classList.remove('dgrid-input-wrapper');
    var selected = this.isSelected(this.state.recordsInfo[row].id);

    this._renderCell(row, column, selected);
  },
  _onChangeEditor: function _onChangeEditor(row, column, values, editorContext, element) {
    var binds = this._getBindParam(column);

    values = Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["cloneDeep"])(Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["parseValueFromEvent"])(values));

    var record = this._getRecordWithChanges(row);

    var context = Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["cloneDeep"])(editorContext);
    context.props.value = values;
    var Component = this.props.cols[column].editor.call(context, record, this);
    this.state.editor["".concat(row, "_").concat(column)] = react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.render(Component, element);

    if (!Array.isArray(binds)) {
      binds = [binds];
      values = [values];
    }

    this._setRowChanges(row, Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["zipObject"])(binds, values));
  },
  _onFocusEditor: function _onFocusEditor(row, column) {
    if (!this.state.errors[row]) {
      return;
    }

    var binds = this._getBindParam(column);

    if (!Array.isArray(binds)) {
      binds = [binds];
    }

    binds.forEach(function (field) {
      this.state.errors[row].clearField(field);
    }, this);

    if (this.state.errors[row].isEmpty()) {
      delete this.state.errors[row];
    }
  },
  _onBlurEditor: function () {
    var _onBlurEditor2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(row) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              _context.next = 3;
              return this._checkWarnings(row);

            case 3:
              _context.next = 9;
              break;

            case 5:
              _context.prev = 5;
              _context.t0 = _context["catch"](0);

              if (_context.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_6__["default"]) {
                _context.next = 9;
                break;
              }

              throw _context.t0;

            case 9:
              if (!(this.props.autoSubmit || this.props.realtime)) {
                _context.next = 14;
                break;
              }

              if (this.props.realtime) {
                console.warn('Deprecated: Grid prop "realtime" renamed to "autoSubmit"');
              }

              this.save(this.props.onRealtimeSubmit);
              _context.next = 23;
              break;

            case 14:
              _context.prev = 14;
              _context.next = 17;
              return this._validateRow(row);

            case 17:
              _context.next = 23;
              break;

            case 19:
              _context.prev = 19;
              _context.t1 = _context["catch"](14);

              if (_context.t1 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_6__["default"]) {
                _context.next = 23;
                break;
              }

              throw _context.t1;

            case 23:
              if (this.props.onChange) {
                this.props.onChange(this.state.changes, this.state.data);
              }

            case 24:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, this, [[0, 5], [14, 19]]);
    }));

    function _onBlurEditor(_x) {
      return _onBlurEditor2.apply(this, arguments);
    }

    return _onBlurEditor;
  }(),
  _isEditorVisible: function _isEditorVisible(row, column) {
    return Boolean(this.state.editor["".concat(row, "_").concat(column)]);
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridEditorMixin);

/***/ }),

/***/ "./src/grid/mixins/pagination.js":
/*!***************************************!*\
  !*** ./src/grid/mixins/pagination.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

var GridPaginationMixin = {
  /**
   * Change event handler of displayed rows count in a table
   *
   * @param {Event} event
   */
  handleChangeViewCount: function handleChangeViewCount(event) {
    var count = this.props.viewVariants[event.target.value];

    if (this._isViewCountPropsMode()) {
      this.props.onChangeViewCount(count);
      return;
    }

    this.setViewCount(count);
  },

  /**
   * Move to first page event handler
   *
   * @param {Event} event
   */
  handleFirstPage: function handleFirstPage(event) {
    event.preventDefault();
    this.setPage(0);
  },

  /**
   * Move to last page event handler
   *
   * @param {Event} event
   */
  handleLastPage: function handleLastPage(event) {
    event.preventDefault();
    this.setPage(this.getPagesCount() - 1);
  },

  /**
   * Move to previous page event handler
   *
   * @param {Event} event
   */
  handlePrevPage: function handlePrevPage(event) {
    event.preventDefault();
    this.setPage(this.state.page - 1);
  },

  /**
   * Move to next page event handler
   *
   * @param {Event} event
   */
  handleNextPage: function handleNextPage(event) {
    event.preventDefault();
    this.setPage(this.state.page + 1);
  },

  /**
   * Refresh table handler
   *
   */
  handleRefreshTable: function handleRefreshTable(event) {
    event.preventDefault();
    this.updateTable();
  },

  /**
   * Get current page index number
   *
   * @return {number}
   */
  getCurrentPage: function getCurrentPage() {
    return this.state.page;
  },
  getCountRecords: function getCountRecords() {
    return this.state.count;
  },

  /**
   * Move to other page
   *
   * @param {number}  page     Page index number
   */
  setPage: function setPage(page) {
    this._setPage(page);

    this.updateTable();
  },

  /**
   * Set displayed elements count
   *
   * @param {number} viewCount
   */
  setViewCount: function setViewCount(viewCount) {
    if (this._isViewCountPropsMode()) {
      throw Error('You can not use function "setViewCount" when set prop "viewCount"');
    }

    this.state.viewCount = viewCount;
    this.state.page = this._checkPage(this.state.page, viewCount, this.state.count);
    this.updateTable();
  },

  /**
   * Get pages count
   *
   * @return {number}
   */
  getPagesCount: function getPagesCount() {
    var viewCount = this.getViewCount();
    return viewCount ? Math.ceil(this.state.count / viewCount) : 1;
  },
  getViewCount: function getViewCount() {
    if (this._isViewCountPropsMode()) {
      return this.props.viewCount;
    }

    return this.state.viewCount;
  },
  _setPage: function _setPage(page) {
    this.state.page = this._checkPage(page, this.state.viewCount, this.state.count);
  },
  _checkPage: function _checkPage(page, view, count) {
    if (page * view >= count) {
      page = view ? Math.ceil(count / view) - 1 : 0;
    }

    return Math.max(0, page);
  },
  _isViewCountPropsMode: function _isViewCountPropsMode() {
    return this.props.hasOwnProperty('viewCount');
  },
  _renderPagination: function _renderPagination() {
    var viewCount = this.getViewCount();
    return Boolean(viewCount) && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "dgrid-footer"
    }, Boolean(this.props.viewVariants) && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      key: "0",
      className: "dgrid-pagination-page-size"
    }, " Page Size "), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      key: "1",
      className: "dgrid-pagination-view-variants"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
      className: "dgrid-pagination-view-variants-select",
      value: this.props.viewVariants.indexOf(viewCount),
      onChange: this.handleChangeViewCount
    }, this.props.viewVariants.map(function (option, key) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        key: key,
        value: key
      }, option);
    }, this)))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: "#",
      className: "btn-first-page",
      onClick: this.handleFirstPage
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: "#",
      className: "btn-prev-page",
      onClick: this.handlePrevPage
    }), Boolean(this.state.count) && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, this.state.page * viewCount + 1, ' - ', Math.min((this.state.page + 1) * viewCount, this.state.count), ' of ', this.state.count), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: "#",
      className: "btn-next-page",
      onClick: this.handleNextPage
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: "#",
      className: "btn-last-page",
      onClick: this.handleLastPage
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: "#",
      className: "btn-refresh-page",
      onClick: this.handleRefreshTable
    }));
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridPaginationMixin);

/***/ }),

/***/ "./src/grid/mixins/select.js":
/*!***********************************!*\
  !*** ./src/grid/mixins/select.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Grid mixin, responsible for rows Select
 */

var GridSelectMixin = {
  /**
   * Select only these records
   *
   * @param {Array}   selectedIds       Record IDs
   * @param {boolean} [blackListMode]   Is black list mode
   */
  setSelectedRecords: function setSelectedRecords(selectedIds, blackListMode) {
    this.state.selected = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["clone"])(selectedIds);

    if (typeof blackListMode === 'boolean') {
      this.state.selectBlackListMode = blackListMode;
    }

    this.forceUpdate();

    this._renderBody();

    this._emitChangeSelectedNum();
  },

  /**
   * Select a record
   *
   * @param {*}    recordId       Record ID
   * @param {boolean}             [ignoreBlackList=false]     Ignore BlackList mode
   */
  selectRecord: function selectRecord(recordId, ignoreBlackList) {
    var _this = this;

    var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["toEncodedString"])(recordId);

    if (this.state.selectBlackListMode && !ignoreBlackList) {
      return this.unselectRecord(recordId, true);
    }

    if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["indexOf"])(this.state.selected, recordId) < 0) {
      this.state.selected.push(recordId);

      if (this.state.selected.length === this.state.count) {
        if (this.state.selectBlackListMode) {
          this.unselectAll();
        } else {
          this.selectAll();
        }

        return;
      }
    }

    this._updateRow(row).then(function () {
      _this._emitChangeSelectedNum();
    });
  },

  /**
   * Unselect record
   *
   * @param {number|string}   recordId                    Record ID
   * @param {boolean}         [ignoreBlackList=false]     Ignore BlackList mode
   */
  unselectRecord: function unselectRecord(recordId, ignoreBlackList) {
    var _this2 = this;

    var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["toEncodedString"])(recordId);

    if (this.state.selectBlackListMode && !ignoreBlackList) {
      return this.selectRecord(recordId, true);
    }

    var pos = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["indexOf"])(this.state.selected, recordId);

    if (pos >= 0) {
      this.state.selected.splice(pos, 1);
    }

    this._updateRow(row).then(function () {
      _this2._emitChangeSelectedNum();
    });
  },

  /**
   * Is selected row flag in accordance with
   * current select mode (whitelist/blacklist).
   *
   * @param   {number|string}     recordId    Record ID
   * @returns {boolean}           Is selected row flag
   */
  isSelected: function isSelected(recordId) {
    var selected = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["indexOf"])(this.state.selected, recordId) >= 0;

    if (this.state.selectBlackListMode) {
      return !selected;
    }

    return selected;
  },

  /**
   * Switch "select"
   *
   * @param {*}   recordId  Record ID
   */
  toggleSelected: function toggleSelected(recordId) {
    if (this.props.onToggleSelected) {
      return this.props.onToggleSelected(recordId);
    }

    if (this.isSelected(recordId)) {
      this.unselectRecord(recordId);
    } else {
      this.selectRecord(recordId);
    }
  },

  /**
   * Switch records selection mode
   */
  toggleSelectAll: function toggleSelectAll() {
    if (this.props.onToggleSelectAll) {
      return this.props.onToggleSelectAll();
    }

    if (this.state.selectBlackListMode) {
      this.unselectAll();
    } else {
      this.selectAll();
    }
  },

  /**
   * Select all records
   * Switches records selection mode to "blacklist"
   */
  selectAll: function selectAll() {
    this.state.selectBlackListMode = true;
    this.state.selected = [];

    this._renderBody();

    this._emitChangeSelectedNum();
  },

  /**
   * Unselect all records status
   * Switches records selection mode to "whitelist"
   */
  unselectAll: function unselectAll() {
    this.state.selectBlackListMode = false;
    this.state.selected = [];

    this._renderBody();

    this._emitChangeSelectedNum();
  },

  /**
   * Get current records selection mode
   *
   * @returns {boolean} Records selection mode. true - Blacklist; false - Whitelist
   */
  isSelectBlackMode: function isSelectBlackMode() {
    return this.state.selectBlackListMode;
  },

  /**
   * Get all selected records
   *
   * @returns {Array}   Record IDs array
   */
  getAllSelected: function getAllSelected() {
    return Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["clone"])(this.state.selected);
  },
  getSelectAllStatus: function getSelectAllStatus() {
    return this.props.selectAllStatus;
  },

  /**
   * Trigger selected records count change handler
   *
   * @private
   */
  _emitChangeSelectedNum: function _emitChangeSelectedNum() {
    if (this.props.onSelectedChange) {
      var selectedCount = this.state.selected.length;

      if (this.state.selectBlackListMode) {
        selectedCount = this.getCountRecords() - selectedCount;
      }

      this.props.onSelectedChange(this.getAllSelected(), selectedCount);
    }
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridSelectMixin);

/***/ }),

/***/ "./src/grid/mixins/sorting.js":
/*!************************************!*\
  !*** ./src/grid/mixins/sorting.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

var GridSortingMixin = {
  /**
   * Sort by column
   *
   * @param {string} column
   * @param {string} direction
   */
  sort: function sort(column, direction) {
    if (this._isSortingPropsMode()) {
      throw Error('You can not use function "sort" when set prop "sort"');
    }

    var sort = {
      column: column,
      direction: direction
    };

    if (this.props.multipleSorting) {
      this.state.sort.push(sort);
    } else {
      this.state.sort = sort;
    }

    this.setPage(0);

    if (this.props.onSorting) {
      this.props.onSorting(this.state.sort, column, direction);
    }
  },

  /**
   * Get sort direction
   *
   * @return {object|object[]}
   */
  getSortDirection: function getSortDirection() {
    if (this._isSortingPropsMode()) {
      return this.props.sort;
    }

    return this.state.sort;
  },

  /**
   * Reset to default sort parameters
   */
  resetSorting: function resetSorting() {
    if (this._isSortingPropsMode()) {
      throw Error('You can not use function "resetSorting" when set prop "sort"');
    }

    this._resetSorting();

    this.forceUpdate();
  },

  /**
   * Reset to default sort parameters
   * @private
   */
  _resetSorting: function _resetSorting() {
    var sort = this._getDefaultSort();

    if (this._isSortingPropsMode()) {
      this.onSorting(sort);
      return;
    }

    this.state.sort = sort;
  },

  /**
   * Use column name for table sort
   *
   * @param {string} column  Column name
   * @private
   */
  _sortCol: function _sortCol(column) {
    var newOrder;
    var cycle = this.props.cols[column].sortCycle;
    var newSorts = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["clone"])(this.getSortDirection());
    var sortElement = {
      column: column
    };
    var currentSortIndex;
    var currentSort;

    if (this.props.multipleSorting) {
      // Find an element among the other sorts
      currentSortIndex = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["findIndex"])(newSorts, function (sort) {
        return sort.column === column;
      });

      if (currentSortIndex >= 0) {
        currentSort = newSorts[currentSortIndex]; // Determine the direction of sorting

        if (currentSortIndex < newSorts.length - 1) {
          newOrder = cycle[0];
        } else {
          // If the item is the last one, select the next direction of sorting
          newOrder = cycle[(cycle.indexOf(currentSort.direction) + 1) % cycle.length];
        }

        if (newOrder === 'default') {
          // Remove item from the sorts
          newSorts.splice(currentSortIndex, 1);
        } else if (currentSortIndex === newSorts.length - 1) {
          // Set new direction, if the last element
          currentSort.direction = newOrder;
        } else {
          // Move the item to the end, if it is already in sorts
          newSorts.splice(currentSortIndex, 1);
          sortElement.direction = newOrder;
          newSorts.push(sortElement);
        }
      } else {
        // Add new element
        sortElement.direction = newOrder = cycle[0];
        newSorts.push(sortElement);
      }
    } else {
      if (newSorts && newSorts.column === column) {
        // Select the next direction of sorting
        newOrder = cycle[(cycle.indexOf(newSorts.direction) + 1) % cycle.length];
      } else {
        newOrder = cycle[0];
      }

      if (newOrder === 'default') {
        newSorts = null;
      } else {
        sortElement.direction = newOrder;
        newSorts = sortElement;
      }
    }

    if (this.props.onSorting) {
      this.props.onSorting(newSorts, column, newOrder);
    }

    if (!this._isSortingPropsMode()) {
      this.state.sort = newSorts;
      this.setPage(0);
    }
  },

  /**
   * Get initial sort state
   *
   * @returns {Array} Initial sort state
   * @private
   */
  _getDefaultSort: function _getDefaultSort() {
    if (this.props.defaultSort) {
      return Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["cloneDeep"])(this.props.defaultSort);
    }

    return null;
  },

  /**
   * Get current mode and column sort parameter
   *
   * @param   column                                  Column ID
   * @returns {{field: {string}, sort: {string}}|{}}  Sort parameter and mode
   * @private
   */
  _getSortParams: function _getSortParams(column) {
    var params = {
      column: column
    };
    var sorts = this.getSortDirection();
    var sortIndex;

    if (!this.props.cols[column].sortCycle) {
      return null;
    }

    if (!sorts) {
      params.direction = 'default';
      return params;
    }

    if (this.props.multipleSorting) {
      sortIndex = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["findIndex"])(sorts, function (sort) {
        return sort.column === params.column;
      });

      if (sortIndex < 0 || sortIndex < sorts.length - 1) {
        params.direction = 'default';
      } else {
        params.direction = sorts[sortIndex].direction;
      }

      return params;
    }

    if (sorts.column === column) {
      params.direction = sorts.direction;
    } else {
      params.direction = 'default';
    }

    return params;
  },

  /**
   * Does sorting using props
   *
   * @return {boolean}
   * @private
   */
  _isSortingPropsMode: function _isSortingPropsMode() {
    return this.props.hasOwnProperty('sort');
  },

  /**
   * Convert sorting to array
   *
   * @return {Object[]|Object} sorts
   * @private
   */
  _sortingToArray: function _sortingToArray() {
    function toArray(sort) {
      return [sort.column, sort.direction];
    }

    var direction = this.getSortDirection();

    if (!direction) {
      return null;
    }

    if (this.props.multipleSorting) {
      if (!direction.length) {
        return null;
      }

      return direction.map(toArray);
    }

    return [toArray(direction)];
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridSortingMixin);

/***/ }),

/***/ "./src/grid/mixins/statuses.js":
/*!*************************************!*\
  !*** ./src/grid/mixins/statuses.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


/**
 * Grid mixin, responsible for row statuses processing
 */

var GridStatusesMixin = {
  /**
   * Add record status
   *
   * @param {*}    recordId    Record ID
   * @param {string}           status      Record status
   */
  addRecordStatus: function addRecordStatus(recordId, status) {
    var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["toEncodedString"])(recordId); // If list does not contain the record, mark its status as empty

    if (!this.state.statuses.hasOwnProperty(row)) {
      this.state.statuses[row] = {
        id: recordId,
        sum: 0
      };
    }

    this.state.statuses[row].sum |= this._getStatusBit(status);
    var elem = Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["findDOMNode"])(this.body).querySelector("tr[key=\"".concat(row, "\"]"));

    if (elem) {
      elem.classList.add(status);
    } else {
      this.updateTable();
    }
  },

  /**
   * Add status to records group
   *
   * @param {Array}      recordIds   Record IDs array
   * @param {string}     status      Status
   */
  addRecordStatusGroup: function addRecordStatusGroup(recordIds, status) {
    var bit = this._getStatusBit(status);

    var needTableUpdate;
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = recordIds[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var id = _step.value;
        var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["toEncodedString"])(id);

        if (!this.state.statuses.hasOwnProperty(row)) {
          this.state.statuses[row] = {
            id: id,
            sum: 0
          };
        }

        this.state.statuses[row].sum |= bit;

        if (this.state.data[row]) {
          this._updateRow(row);

          continue;
        }

        needTableUpdate = true;
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator["return"] != null) {
          _iterator["return"]();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    if (needTableUpdate) {
      this.updateTable();
    }
  },

  /**
   * Remove record status
   *
   * @param {*}       recordId    Record ID
   * @param {string}  status      Record status
   */
  removeRecordStatus: function removeRecordStatus(recordId, status) {
    var bit = this._getStatusBit(status);

    var rowId = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["toEncodedString"])(recordId); // Cancel method execution if record has no statuses

    if (!this.state.statuses[rowId]) {
      return;
    } // Remove status if record has it


    if (this.state.statuses[rowId].sum & bit) {
      this.state.statuses[rowId].sum ^= bit;

      if (!this.state.statuses[rowId].sum) {
        // Remove table record if it's extra
        if (!this._isMainRow(rowId)) {
          this._removeRecord(rowId);
        }

        delete this.state.statuses[rowId];
      }
    } // Remove element's class


    var elem = Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["findDOMNode"])(this.body).querySelector("tr[key=\"".concat(rowId, "\"]"));

    if (elem) {
      elem.classList.remove(status);
    }
  },

  /**
   * Check record status presence
   *
   * @param   {*}       recordId    Record ID
   * @param   {number}  status      Record status
   * @returns {boolean} Record has status flag
   */
  hasRecordStatus: function hasRecordStatus(recordId, status) {
    var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["toEncodedString"])(recordId);

    if (this.state.statuses[row]) {
      return (this.state.statuses[row].sum & this._getStatusBit(status)) > 0;
    }

    return false;
  },

  /**
   * Get all record IDs that have the status
   *
   * @param {number}  status  Status
   * @returns {Array} Record IDs array
   */
  getAllWithStatus: function getAllWithStatus(status) {
    var i;
    var records = [];

    var bit = this._getStatusBit(status);

    for (i in this.state.statuses) {
      if (this.state.statuses[i].sum & bit) {
        records.push(this.state.statuses[i].id);
      }
    }

    return records;
  },

  /**
   * Remove records status
   *
   * @param {string}      status  Status
   */
  removeRecordStatusAll: function removeRecordStatusAll(status) {
    var i;

    var bit = this._getStatusBit(status);

    for (i in this.state.statuses) {
      if (this.state.statuses[i].sum & bit) {
        this.state.statuses[i].sum ^= bit;
      }

      if (!this.state.statuses[i].sum) {
        if (!this._isMainRow(i) && !this._isChanged(i)) {
          this._removeRecord(i);
        }

        delete this.state.statuses[i];
      }
    }

    var elem = Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["findDOMNode"])(this.body).querySelector(".dgrid-body tr.".concat(status));

    if (elem) {
      elem.classList.remove(status);
    }
  },

  /**
   * Get all status names that are applied to the row
   *
   * @param   {string}    row    Row ID
   * @return  {Array}  Status names array
   * @private
   */
  _getRowStatusNames: function _getRowStatusNames(row) {
    var names = [];
    var statuses = this.state.statuses[row] && this.state.statuses[row].sum;

    if (!statuses) {
      return [];
    }

    for (var i in this.state.statusMap) {
      if (statuses & this.state.statusMap[i]) {
        names.push(i);
      }
    }

    return names;
  },

  /**
   * Get status as a bit using its text name
   *
   * @param       {string}    statusName  Status name
   * @return      {number}    Bit
   * @private
   */
  _getStatusBit: function _getStatusBit(statusName) {
    var status;
    var offset;

    if (this.state.statusMap.hasOwnProperty(statusName)) {
      status = this.state.statusMap[statusName];
    } else {
      // TODO offset stored in the state, I remove the utils.size
      offset = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["size"])(this.state.statusMap);

      if (offset > 30) {
        throw Error('Status quantity exceeds 30');
      }

      status = this.state.statusMap[statusName] = 1 << offset;
    }

    return status;
  },

  /**
   * Get record IDs that have a status
   *
   * @return {Array}
   * @private
   */
  _getRecordsWithStatus: function _getRecordsWithStatus() {
    var ids = [];
    var i;

    for (i in this.state.statuses) {
      ids.push(this.state.statuses[i].id);
    }

    return ids;
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridStatusesMixin);

/***/ }),

/***/ "./src/grid/mixins/ui.js":
/*!*******************************!*\
  !*** ./src/grid/mixins/ui.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "@babel/runtime/helpers/typeof");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _common_toPromise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/toPromise */ "./src/common/toPromise.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/ThrottleError */ "./src/common/ThrottleError.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ "classnames");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */






var GridUIMixin = {
  /**
   * Table content click event handler
   *
   * @param {Event} event
   */
  _handleBodyClick: function _handleBodyClick(event) {
    var target = event.target;
    var refParent = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["parents"])(target, '[ref]')[0];
    var element;

    if (target.classList.contains('dgrid-cell')) {
      element = event.target;
    } else {
      element = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["parents"])(target, 'td.dgrid-cell')[0];
    }

    if (element && !(refParent && refParent.hasAttribute('disabled'))) {
      this._handleCellClick(event, element, (refParent || event.target).getAttribute('ref'));
    }
  },

  /**
   * Cell click handler
   *
   * @param {Event}           event       Event object
   * @param {HTMLElement}     element     Cell DOM element
   * @param {string}          ref         Click handler name in the table configuration
   */
  _handleCellClick: function _handleCellClick(event, element, ref) {
    var colId = element.getAttribute('key');
    var row = element.parentNode.getAttribute('key');
    var columnConfig = this.props.cols[colId];
    var recordId = this.state.recordsInfo[row].id;

    var record = this._getRecordWithChanges(row); // Trigger click handler on the table configuration


    if (ref) {
      columnConfig.onClickRefs[ref](event, recordId, record, this);
    } else if (columnConfig.onClick) {
      columnConfig.onClick(event, recordId, record, this);
    } // Open cell editor


    if (this.props.cols[colId].editor) {
      this._renderEditor(element, row, colId);
    }
  },
  // TODO Deprecated
  _handleHeaderCellClick: function _handleHeaderCellClick(col, event) {
    var target = event.target;
    var refParent = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["parents"])(target, '[ref]')[0];
    var ref = (refParent || target).getAttribute('ref');
    var handler;

    if (ref && col.onClickRefs) {
      handler = col.onClickRefs[ref];

      if (handler) {
        return handler(event, this);
      }
    }

    if (col.onClick) {
      col.onClick(event, this);
    }
  },

  /**
   * Fetch server data
   */
  updateTable: function () {
    var _updateTable = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {
      var viewCount, obj, page, data, extra, recordIds;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              this.setState({
                showLoader: true
              });

              if (this.props.model) {
                _context.next = 3;
                break;
              }

              return _context.abrupt("return");

            case 3:
              viewCount = this.getViewCount();
              _context.prev = 4;
              _context.next = 7;
              return this._loadData({
                limit: viewCount,
                offset: this.state.page * viewCount,
                sort: this._sortingToArray(),
                fields: this._getFieldsToRender(),
                extra: this._getAdditionalIds()
              });

            case 7:
              obj = _context.sent;
              _context.next = 15;
              break;

            case 10:
              _context.prev = 10;
              _context.t0 = _context["catch"](4);

              if (_context.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_7__["default"]) {
                _context.next = 14;
                break;
              }

              throw _context.t0;

            case 14:
              return _context.abrupt("return");

            case 15:
              if (this._isMounted) {
                _context.next = 17;
                break;
              }

              return _context.abrupt("return");

            case 17:
              if (!(this.getViewCount() && !obj.hasOwnProperty('count'))) {
                _context.next = 19;
                break;
              }

              throw new Error('Incorrect response from GridModel. "response.count" not defined');

            case 19:
              // If required page is not included in the range of existing pages,
              // request existing in a moment page
              page = this._checkPage(this.state.page, this.getViewCount(), obj.count);

              if (!(page !== this.state.page)) {
                _context.next = 24;
                break;
              }

              this.state.page = page;
              this.updateTable();
              return _context.abrupt("return");

            case 24:
              data = this._dataArrayToObject(obj.records);
              extra = this._dataArrayToObject(obj.extraRecords || []);
              recordIds = Object.keys(data.records).concat(Object.keys(extra.records));
              _context.next = 29;
              return Object(_common_toPromise__WEBPACK_IMPORTED_MODULE_3__["default"])(this.setState.bind(this), true)({
                data: Object.assign({}, data.records, extra.records),
                mainIds: Object.keys(data.records),
                count: obj.count,
                totals: obj.totals,
                recordsInfo: Object.assign({}, extra.info, data.info),
                errors: Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["pick"])(this.state.errors, recordIds),
                changes: Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["pick"])(this.state.changes, recordIds),
                statuses: Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["pick"])(this.state.statuses, recordIds)
              });

            case 29:
              this._renderBody();

              this.setState({
                showLoader: false
              });

            case 31:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, this, [[4, 10]]);
    }));

    function updateTable() {
      return _updateTable.apply(this, arguments);
    }

    return updateTable;
  }(),
  _getHeaderCellHTML: function _getHeaderCellHTML(columnName) {
    var cellHtml = typeof columnName === 'function' ? columnName(this) : columnName;

    if (cellHtml === undefined) {
      return '';
    }

    return cellHtml;
  },
  _escapeRecord: function _escapeRecord(columnId, record) {
    var field;
    var type;
    var i;
    var escapedRecord = {};
    var column = this.props.cols[columnId];
    var needEscaping = !column.hasOwnProperty('escape') || column.escape;
    var fields = column.render.slice(0, -1);

    for (i = 0; i < fields.length; i++) {
      field = fields[i];
      type = _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(record[field]);

      if (needEscaping) {
        if (type === 'string') {
          escapedRecord[field] = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["escape"])(record[field]);
          continue;
        }

        if (type === 'object' && record[field] && !this.state.colsWithEscapeErrors[columnId]) {
          this.state.colsWithEscapeErrors[columnId] = true;
          console.error("UIKernel.Grid warning: " + "You send record with fields of Object type in escaped column \"".concat(columnId, "\". ") + "To use Objects, set column config \"escape\" to false, " + "and escape \"".concat(columnId, "\" field in render function by yourself"));
        }
      }

      escapedRecord[field] = record[field];
    }

    return escapedRecord;
  },

  /**
   * Get table cell HTML
   *
   * @param   {number}   columnId       Column ID
   * @param   {Object}   record         Table record (initial record + changes)
   * @param   {boolean}  selected       "Selected" row status
   * @param   {Object}   initialRecord  Initial record
   * @returns {string}   Table cell HTML
   * @private
   */
  _getCellHTML: function _getCellHTML(columnId, record, selected, initialRecord) {
    var render = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["last"])(this.props.cols[columnId].render);
    var cellHtml = render(this._escapeRecord(columnId, record), selected, this._escapeRecord(columnId, initialRecord));
    return "".concat(Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["isDefined"])(cellHtml) ? cellHtml : '');
  },

  /**
   * Get table row HTML
   *
   * @param       {number}    rowId         Row ID
   * @param       {string}    className   <TR> class attribute
   * @returns     {string}    Table row HTML
   * @private
   */
  _getRowHTML: function _getRowHTML(rowId, className) {
    var colId;

    var record = this._getRecordWithChanges(rowId);

    var initialRecord = this.state.data[rowId] || null;
    var selected = this.isSelected(this.state.recordsInfo[rowId].id);
    var gridRowClass = classnames__WEBPACK_IMPORTED_MODULE_8___default()(className, this._getRowStatusNames(rowId).join(' '), {
      'dgrid__row_selected': selected
    });
    var html = "<tr key=\"".concat(rowId, "\" class=\"").concat(gridRowClass, "\">");

    for (var _i = 0, _Object$keys = Object.keys(this.props.cols); _i < _Object$keys.length; _i++) {
      colId = _Object$keys[_i];

      if (this._isViewColumn(colId)) {
        var gridCellClass = classnames__WEBPACK_IMPORTED_MODULE_8___default()(this._getColumnClass(colId), {
          'dgrid-cell': true,
          'dgrid-changed': this._isChanged(rowId, this._getBindParam(colId)),
          'dgrid-error': this._hasError(rowId, this._getBindParam(colId)),
          'dgrid-warning': this._hasWarning(rowId, this._getBindParam(colId))
        });
        html += "\n          <td key=\"".concat(colId, "\" class=\"").concat(gridCellClass, "\">\n            ").concat(this._getCellHTML(colId, record, selected, initialRecord), "\n          </td>");
      }
    }

    return "".concat(html, "</tr>");
  },

  /**
   * Redraw table content totally
   *
   * @private
   */
  _renderBody: function _renderBody() {
    if (!this.state.data) {
      return;
    }

    var i;
    var row;
    var htmlExtra = '';
    var htmlBody = '';
    var sorted = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["pairs"])(this.state.recordsInfo).sort(function (a, b) {
      return a[1].index - b[1].index;
    });

    for (i = 0; i < sorted.length; i++) {
      row = sorted[i][0];

      if (this._isMainRow(row)) {
        htmlBody += this._getRowHTML(row);
      } else if (this._isChanged(row) || this._getRowStatusNames(row).length) {
        htmlExtra += this._getRowHTML(row, 'others');
      }
    }

    this.tBody.innerHTML = htmlExtra + htmlBody;
  },

  /**
   * Display model changes
   *
   * @param {string} row      Row ID
   * @param {string} param    Model parameter
   * @private
   */
  _renderBinds: function _renderBinds(row, param) {
    // If parameter does not affect on the redraw, do nothing
    if (!this._isFieldAffectsRender(param)) {
      return;
    }

    var selected = this.isSelected(this.state.recordsInfo[row].id); // Update column dependencies

    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = this._getDependentColumns(param)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var column = _step.value;

        if (this._isViewColumn(column) && !this._isEditorVisible(row, column)) {
          this._renderCell(row, column, selected);
        }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator["return"] != null) {
          _iterator["return"]();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
  },
  _removeTR: function _removeTR(rowId) {
    Object(react_dom__WEBPACK_IMPORTED_MODULE_5__["findDOMNode"])(this.body).removeRow(rowId);
  },
  _renderTotals: function _renderTotals(isScrollable) {
    var totalsDisplayed = false;
    var i;
    var className;
    var totalsRowHTML = '';

    var header = this._formHeader(); // If data for result line display exists, form it


    if (this.state.totals) {
      for (var _i2 = 0, _Object$keys2 = Object.keys(this.props.cols); _i2 < _Object$keys2.length; _i2++) {
        i = _Object$keys2[_i2];

        if (!this._isViewColumn(i)) {
          continue;
        }

        className = this.props.cols[i].className;

        if (className) {
          totalsRowHTML += "<td class=\"".concat(className, "\">");
        } else {
          totalsRowHTML += '<td>';
        }

        if (this.state.totals.hasOwnProperty(i)) {
          totalsRowHTML += this._getCellHTML(i, this.state.totals, false, this.state.totals);
          totalsDisplayed = true;
        }

        totalsRowHTML += '</td>';
      }
    }

    if (!totalsDisplayed) {
      return null;
    }

    if (isScrollable) {
      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("table", {
        cellSpacing: "0",
        className: "dgrid-totals"
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("colgroup", null, header.colGroup), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("tr", {
        dangerouslySetInnerHTML: {
          __html: totalsRowHTML
        }
      }));
    }

    return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("tfoot", {
      className: "dgrid-totals"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("tr", {
      dangerouslySetInnerHTML: {
        __html: totalsRowHTML
      }
    }));
  },
  _renderCell: function _renderCell(rowId, column, isSelected) {
    var _cell$classList;

    var cell = Object(react_dom__WEBPACK_IMPORTED_MODULE_5__["findDOMNode"])(this.body).querySelector("tr[key=\"".concat(rowId, "\"] td[key=").concat(column, "]"));
    var initialRecord = this.state.data[rowId] || null;

    var cellHTML = this._getCellHTML(column, this._getRecordWithChanges(rowId), isSelected, initialRecord);

    try {
      cell.innerHTML = cellHTML;
    } catch (e) {// Sometimes it is possible a situation when rerendering of the cell is called in the middle of performing of an
      // event in that cell which may cause an error like "DOMException: The node to be removed is no longer a child
      // of this node", so just ignore it
    }

    cell.classList.remove('dgrid-changed', 'dgrid-error', 'dgrid-warning');
    var cellClassList = [];

    if (this._isChanged(rowId, this._getBindParam(column))) {
      cellClassList.push('dgrid-changed');
    }

    if (this._hasError(rowId, this._getBindParam(column))) {
      cellClassList.push('dgrid-error');
    }

    if (this._hasWarning(rowId, this._getBindParam(column))) {
      cellClassList.push('dgrid-warning');
    }

    (_cell$classList = cell.classList).add.apply(_cell$classList, cellClassList);
  },
  _updateRow: function () {
    var _updateRow2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(row) {
      var selected, viewColumns, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, viewColumn;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              if (this.state.data) {
                _context2.next = 2;
                break;
              }

              return _context2.abrupt("return");

            case 2:
              if (!this.state.data[row]) {
                _context2.next = 26;
                break;
              }

              selected = this.isSelected(this.state.recordsInfo[row].id);
              viewColumns = Object.keys(this.props.cols).filter(this._isViewColumn);
              _iteratorNormalCompletion2 = true;
              _didIteratorError2 = false;
              _iteratorError2 = undefined;
              _context2.prev = 8;

              for (_iterator2 = viewColumns[Symbol.iterator](); !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                viewColumn = _step2.value;

                if (!this._isEditorVisible(row, viewColumn)) {
                  this._renderCell(row, viewColumn, selected);
                }
              }

              _context2.next = 16;
              break;

            case 12:
              _context2.prev = 12;
              _context2.t0 = _context2["catch"](8);
              _didIteratorError2 = true;
              _iteratorError2 = _context2.t0;

            case 16:
              _context2.prev = 16;
              _context2.prev = 17;

              if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
                _iterator2["return"]();
              }

            case 19:
              _context2.prev = 19;

              if (!_didIteratorError2) {
                _context2.next = 22;
                break;
              }

              throw _iteratorError2;

            case 22:
              return _context2.finish(19);

            case 23:
              return _context2.finish(16);

            case 24:
              _context2.next = 28;
              break;

            case 26:
              _context2.next = 28;
              return this.updateTable();

            case 28:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2, this, [[8, 12, 16, 24], [17,, 19, 23]]);
    }));

    function _updateRow(_x) {
      return _updateRow2.apply(this, arguments);
    }

    return _updateRow;
  }()
};
/* harmony default export */ __webpack_exports__["default"] = (GridUIMixin);

/***/ }),

/***/ "./src/grid/models/AbstractGridModel.js":
/*!**********************************************!*\
  !*** ./src/grid/models/AbstractGridModel.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/Events */ "./src/common/Events.js");






/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


/**
 * Grid model abstraction
 *
 * @constructor
 * @extends EventsModel
 */

var AbstractGridModel =
/*#__PURE__*/
function (_EventsModel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(AbstractGridModel, _EventsModel);

  function AbstractGridModel() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, AbstractGridModel);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(AbstractGridModel).call(this));
  }
  /**
   * Add a record
   *
   * @param {Object}      record  Record object
   * @abstract
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(AbstractGridModel, [{
    key: "create",
    value: function create()
    /*record*/
    {
      return Promise.resolve();
    }
    /**
     * Get records list
     *
     * @param {Object}      settings                Request
     * @param {Array}       settings.fields         Fields
     * @param {number}      [settings.limit]        Limit
     * @param {number}      [settings.offset]       Offset
     * @param {Object}      [settings.filters]      Filter values object
     * @param {Array}       [settings.sort]         Sort parameters
     * @param {Array}       [settings.extra]        Record IDs, we need to get for sure
     * @abstract
     */

  }, {
    key: "read",
    value: function read()
    /*settings*/
    {
      return Promise.resolve({
        records: [],
        // Primary records
        ids: [],
        // Extra records
        extraRecords: 0 // In all records count

      });
    }
    /**
     * Get the particular record
     *
     * @param {*}         id      Record ID
     * @param {Array}     fields  Required fields
     * @abstract
     */

  }, {
    key: "getRecord",
    value: function getRecord()
    /*id, fields*/
    {
      return Promise.resolve();
    }
    /**
     * Apply record changes
     *
     * @param {Array}       changes     Changes array
     * @abstract
     */

  }, {
    key: "update",
    value: function update()
    /*changes*/
    {
      return Promise.resolve([]);
    }
    /**
     * Validation check
     *
     * @param {Object}      record
     * @param {*|null}      recordId
     * @abstract
     */

  }, {
    key: "isValidRecord",
    value: function isValidRecord()
    /*record, recordId*/
    {
      return Promise.resolve(new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__["default"]());
    }
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields   Fields list
     * @returns {Array}  Dependencies
     * @abstract
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency() {
      return [];
    }
  }]);

  return AbstractGridModel;
}(_common_Events__WEBPACK_IMPORTED_MODULE_6__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (AbstractGridModel);

/***/ }),

/***/ "./src/grid/models/GridCollectionModel.js":
/*!************************************************!*\
  !*** ./src/grid/models/GridCollectionModel.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "@babel/runtime/helpers/slicedToArray");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _AbstractGridModel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./AbstractGridModel */ "./src/grid/models/AbstractGridModel.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");









/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var GridCollectionModel =
/*#__PURE__*/
function (_AbstractGridModel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(GridCollectionModel, _AbstractGridModel);

  /**
   * Specifies a grid model that will work with array data passed to it as a parameter.
   *
   * @param {Object}    [options]
   * @param {Object[]}  [options.data]              Data array
   * @param {Function}  [options.filtersHandler]
   * @param {Validator} [options.validator]
   * @param {string[]}  [options.requiredFields]
   * @param {bool}      [options.validateOnCreate]
   * @constructor
   */
  function GridCollectionModel(options) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, GridCollectionModel);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(GridCollectionModel).call(this));
    options = options || {};
    _this.data = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["cloneDeep"])(options.data) || [];
    _this._id = 1;
    _this._filtersHandler = options.filtersHandler;

    if (options.validation) {
      Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["warn"])('Property "validation" is deprecated, use "validator" instead');
    }

    _this._validator = options.validator || options.validation || new _common_validation_Validator__WEBPACK_IMPORTED_MODULE_8__["default"]();
    _this._requiredFields = options.requiredFields || [];
    _this._validateOnCreate = options.hasOwnProperty('validateOnCreate') ? options.validateOnCreate : true; // TODO Deprecated. Will be deleted in v0.17.0

    if (!_this._validateOnCreate) {
      console.warn('Deprecated option "validateOnCreate".');
    }

    return _this;
  }
  /**
   * Set data array in model
   *
   * @param {Object[]} data
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(GridCollectionModel, [{
    key: "setData",
    value: function setData(data) {
      var currentData = this.data.reduce(function (result, _ref) {
        var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_ref, 2),
            recordId = _ref2[0],
            record = _ref2[1];

        result[JSON.stringify(recordId)] = record;
        return result;
      }, {});
      var createdRecordsIds = [];
      var updatedRecords = [];
      var recordIds = [];
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _step$value = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_step.value, 2),
              recordId = _step$value[0],
              record = _step$value[1];

          var id = JSON.stringify(recordId);
          recordIds.push(id);

          if (!currentData[id]) {
            createdRecordsIds.push(recordId);
            continue;
          }

          if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["isEqual"])(record, currentData[id])) {
            updatedRecords.push(record);
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator["return"] != null) {
            _iterator["return"]();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      var deletedRecordsIds = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["without"])(Object.keys(currentData), recordIds).map(JSON.parse);
      this.data = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["cloneDeep"])(data);

      if (createdRecordsIds.length) {
        this.trigger('create', [createdRecordsIds]);
      }

      if (deletedRecordsIds.length) {
        this.trigger('delete', deletedRecordsIds);
      }

      if (updatedRecords.length) {
        this.trigger('update', updatedRecords);
      }
    }
    /**
     * Remove field by record id from data
     *
     * @param   {Number}  recordId   record id for remove
     * @returns {Number}  recordId   return id of deleted record
     */

  }, {
    key: "delete",
    value: function () {
      var _delete2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(recordId) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                this.data = this.data.filter(function (record) {
                  return record[0] !== recordId;
                });
                this.trigger('delete', recordId);
                return _context.abrupt("return", recordId);

              case 3:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function _delete(_x) {
        return _delete2.apply(this, arguments);
      }

      return _delete;
    }()
    /**
     * Add a record to local collection
     *
     * @param {Object}      record  Record object
     */

  }, {
    key: "create",
    value: function () {
      var _create2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(record) {
        var i, field, validationErrors, id, clonedRecord;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                id = this._getID();
                clonedRecord = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["clone"])(record); // Create record with definite id

                if (Array.isArray(clonedRecord) && clonedRecord.length === 2) {
                  id = clonedRecord[0];
                  clonedRecord = clonedRecord[1];
                }

                for (i in this._requiredFields) {
                  field = this._requiredFields[i];

                  if (!clonedRecord.hasOwnProperty(field)) {
                    clonedRecord[field] = null;
                  }
                }

                if (!this._validateOnCreate) {
                  _context2.next = 13;
                  break;
                }

                _context2.next = 7;
                return this.isValidRecord(clonedRecord);

              case 7:
                validationErrors = _context2.sent;

                if (validationErrors.isEmpty()) {
                  _context2.next = 10;
                  break;
                }

                throw validationErrors;

              case 10:
                return _context2.abrupt("return", this._create(clonedRecord, id));

              case 13:
                return _context2.abrupt("return", this._create(clonedRecord, id));

              case 14:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function create(_x2) {
        return _create2.apply(this, arguments);
      }

      return create;
    }()
    /**
     * Get records list
     *
     * @param {Object}      settings                Request
     * @param {string[]}    settings.fields         Fields
     * @param {number}      [settings.limit]        Limit
     * @param {number}      [settings.offset=0]     Offset
     * @param {Object}      [settings.filters]      Filter values object
     * @param {Array}       [settings.sort]         Sort parameters
     * @param {Array}       [settings.ids]          Record IDs, we need to get for sure
     */

  }, {
    key: "read",
    value: function read(settings) {
      var data = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["cloneDeep"])(this.data);
      var result = {}; // Get extra records

      if (settings.extra && settings.extra.length > 0) {
        result.extraRecords = data.filter(function (record) {
          return settings.extra.indexOf(record[0]) >= 0;
        });
      } // Delete unnecessary fields


      if (settings.fields) {
        Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["forEach"])(result.extraRecords, function (record) {
          Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["forEach"])(record[1], function (value, key) {
            if (settings.fields.indexOf(key) === -1) {
              delete record[1][key];
            }
          });
        });
      } // Sorting


      if (settings.sort && settings.sort.length > 0) {
        var sortField = settings.sort[0][0];
        var sortMode = settings.sort[0][1];
        data = data.sort(function (prev, next) {
          if (prev[1][sortField] < next[1][sortField]) {
            return sortMode === 'asc' ? -1 : 1;
          } else if (prev[1][sortField] > next[1][sortField]) {
            return sortMode === 'asc' ? 1 : -1;
          } else {
            return 0;
          }
        });
      } // Apply filters


      if (this._filtersHandler && settings.filters) {
        data = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["cloneDeep"])(this._filtersHandler(data, settings.filters));
      }

      result.count = data.length; // Offset and limit

      if (settings.offset || settings.limit) {
        var start = settings.offset || 0;
        var end = settings.offset + settings.limit || data.length;
        data = data.slice(start, end);
      } // Delete unnecessary fields


      if (settings.fields) {
        Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["forEach"])(data, function (record) {
          Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["forEach"])(record[1], function (value, key) {
            if (settings.fields.indexOf(key) === -1) {
              delete record[1][key];
            }
          });
        });
      }

      result.records = data;
      return Promise.resolve(result);
    }
    /**
     * Get the particular record
     *
     * @param {number|string}   id      Record ID
     * @param {Array}           fields  Required fields
     */

  }, {
    key: "getRecord",
    value: function getRecord(id, fields) {
      var record = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["cloneDeep"])(this._getRecordByID(id));

      if (!record) {
        return Promise.reject(new Error('Record not found.'));
      }

      var returnRecord = record[1]; // Deleting unused fields

      if (fields) {
        Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["forEach"])(returnRecord, function (value, key) {
          if (fields.indexOf(key) === -1) {
            delete returnRecord[key];
          }
        });
      }

      return Promise.resolve(returnRecord);
    }
    /**
     * Apply record changes
     *
     * @param {Array}       changes     Changes array
     * @abstract
     */

  }, {
    key: "update",
    value: function () {
      var _update = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(changes) {
        var _this2 = this;

        var appliedChanges, result, _i, _appliedChanges, _appliedChanges$_i, recordId, _changes;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (changes.length) {
                  _context4.next = 2;
                  break;
                }

                return _context4.abrupt("return", []);

              case 2:
                appliedChanges = [];
                _context4.next = 5;
                return Promise.all(changes.map(
                /*#__PURE__*/
                function () {
                  var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
                  /*#__PURE__*/
                  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(_ref3) {
                    var _ref5, recordId, changes, validErrors;

                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
                      while (1) {
                        switch (_context3.prev = _context3.next) {
                          case 0:
                            _ref5 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_ref3, 2), recordId = _ref5[0], changes = _ref5[1];
                            _context3.next = 3;
                            return _this2.isValidRecord(changes);

                          case 3:
                            validErrors = _context3.sent;

                            if (validErrors.isEmpty()) {
                              _context3.next = 6;
                              break;
                            }

                            return _context3.abrupt("return", [recordId, validErrors]);

                          case 6:
                            appliedChanges.push([recordId, changes]);
                            return _context3.abrupt("return", [recordId, changes]);

                          case 8:
                          case "end":
                            return _context3.stop();
                        }
                      }
                    }, _callee3);
                  }));

                  return function (_x4) {
                    return _ref4.apply(this, arguments);
                  };
                }()));

              case 5:
                result = _context4.sent;

                if (appliedChanges.length) {
                  // Apply changes
                  for (_i = 0, _appliedChanges = appliedChanges; _i < _appliedChanges.length; _i++) {
                    _appliedChanges$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_appliedChanges[_i], 2), recordId = _appliedChanges$_i[0], _changes = _appliedChanges$_i[1];
                    Object.assign(this._getRecordByID(recordId)[1], _changes);
                  }

                  this.trigger('update', appliedChanges);
                }

                return _context4.abrupt("return", result);

              case 8:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function update(_x3) {
        return _update.apply(this, arguments);
      }

      return update;
    }()
    /**
     * Validation check
     *
     * @param {Object}      record
     */

  }, {
    key: "isValidRecord",
    value: function isValidRecord(record) {
      return this._validator.isValidRecord(record);
    }
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields   Fields list
     * @returns {Array}  Dependencies
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      return this._validator.getValidationDependency(fields);
    }
  }, {
    key: "_getID",
    value: function _getID() {
      while (this._getRecordByID(this._id)) {
        this._id++;
      }

      return this._id++;
    }
  }, {
    key: "_getRecordByID",
    value: function _getRecordByID(id) {
      return Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["find"])(this.data, function (record) {
        return record[0] === id;
      });
    }
  }, {
    key: "_create",
    value: function _create(record, id) {
      this.data.push([id, record]);
      this.trigger('create', [id]);
      return id;
    }
  }]);

  return GridCollectionModel;
}(_AbstractGridModel__WEBPACK_IMPORTED_MODULE_9__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (GridCollectionModel);

/***/ }),

/***/ "./src/grid/models/GridExpressApi.js":
/*!*******************************************!*\
  !*** ./src/grid/models/GridExpressApi.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! express */ "express");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");





/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



/**
 * Form Express API for Grid model interaction
 *
 * @return {GridExpressApi}
 * @constructor
 */

var GridExpressApi =
/*#__PURE__*/
function () {
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(GridExpressApi, null, [{
    key: "create",
    value: function create() {
      return new GridExpressApi();
    }
  }]);

  function GridExpressApi() {
    var _this = this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, GridExpressApi);

    this.middlewares = {
      readGet: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(req, res, next) {
          var settings;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  settings = {};

                  if (req.query.limit) {
                    settings.limit = parseInt(req.query.limit);
                  }

                  if (req.query.offset) {
                    settings.offset = parseInt(req.query.offset);
                  }

                  if (req.query.sort) {
                    settings.sort = JSON.parse(req.query.sort);
                  }

                  if (req.query.fields) {
                    settings.fields = JSON.parse(req.query.fields);
                  }

                  if (req.query.extra) {
                    settings.extra = JSON.parse(req.query.extra);
                  }

                  if (req.query.filters) {
                    settings.filters = JSON.parse(req.query.filters);
                  }

                  _context.next = 9;
                  return _this._commonReadMiddleware(req, res, next, settings);

                case 9:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee);
        }));

        return function (_x, _x2, _x3) {
          return _ref.apply(this, arguments);
        };
      }())],
      readPost: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(req, res, next) {
          var settings;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  settings = {};

                  if (req.body.limit) {
                    settings.limit = parseInt(req.body.limit);
                  }

                  if (req.body.offset) {
                    settings.offset = parseInt(req.body.offset);
                  }

                  if (req.body.sort) {
                    settings.sort = req.body.sort;
                  }

                  if (req.body.fields) {
                    settings.fields = req.body.fields;
                  }

                  if (req.body.extra) {
                    settings.extra = req.body.extra;
                  }

                  if (req.body.filters) {
                    settings.filters = req.body.filters;
                  }

                  _context2.next = 9;
                  return _this._commonReadMiddleware(req, res, next, settings);

                case 9:
                case "end":
                  return _context2.stop();
              }
            }
          }, _callee2);
        }));

        return function (_x4, _x5, _x6) {
          return _ref2.apply(this, arguments);
        };
      }())],
      validate: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(req, res, next) {
          var model, result, errors;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  model = _this._getModel(req, res);
                  result = _this._result('validate');
                  _context3.prev = 2;
                  _context3.next = 5;
                  return model.isValidRecord(req.body.record, req.body.id);

                case 5:
                  errors = _context3.sent;
                  result(null, errors, req, res, next);
                  _context3.next = 12;
                  break;

                case 9:
                  _context3.prev = 9;
                  _context3.t0 = _context3["catch"](2);
                  result(_context3.t0, null, req, res, next);

                case 12:
                case "end":
                  return _context3.stop();
              }
            }
          }, _callee3, null, [[2, 9]]);
        }));

        return function (_x7, _x8, _x9) {
          return _ref3.apply(this, arguments);
        };
      }())],
      getRecord: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(req, res, next) {
          var cols, recordId, model, result, response;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
            while (1) {
              switch (_context4.prev = _context4.next) {
                case 0:
                  cols = req.query.cols ? JSON.parse(req.query.cols) : null;
                  recordId = req.params.recordId ? JSON.parse(req.params.recordId) : null;
                  model = _this._getModel(req, res);
                  result = _this._result('getRecord');
                  _context4.prev = 4;
                  _context4.next = 7;
                  return model.getRecord(recordId, cols);

                case 7:
                  response = _context4.sent;
                  result(null, response, req, res, next);
                  _context4.next = 14;
                  break;

                case 11:
                  _context4.prev = 11;
                  _context4.t0 = _context4["catch"](4);
                  result(_context4.t0, null, req, res, next);

                case 14:
                case "end":
                  return _context4.stop();
              }
            }
          }, _callee4, null, [[4, 11]]);
        }));

        return function (_x10, _x11, _x12) {
          return _ref4.apply(this, arguments);
        };
      }())],
      update: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(req, res, next) {
          var model, result, data;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
            while (1) {
              switch (_context5.prev = _context5.next) {
                case 0:
                  model = _this._getModel(req, res);
                  result = _this._result('update');
                  _context5.prev = 2;
                  _context5.next = 5;
                  return model.update(req.body);

                case 5:
                  data = _context5.sent;
                  result(null, data, req, res, next);
                  _context5.next = 12;
                  break;

                case 9:
                  _context5.prev = 9;
                  _context5.t0 = _context5["catch"](2);
                  result(_context5.t0, null, req, res, next);

                case 12:
                case "end":
                  return _context5.stop();
              }
            }
          }, _callee5, null, [[2, 9]]);
        }));

        return function (_x13, _x14, _x15) {
          return _ref5.apply(this, arguments);
        };
      }())],
      create: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref6 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(req, res, next) {
          var model, result, data;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  model = _this._getModel(req, res);
                  result = _this._result('create');
                  _context6.prev = 2;
                  _context6.next = 5;
                  return model.create(req.body);

                case 5:
                  data = _context6.sent;
                  result(null, data, req, res, next);
                  _context6.next = 12;
                  break;

                case 9:
                  _context6.prev = 9;
                  _context6.t0 = _context6["catch"](2);
                  result(_context6.t0, null, req, res, next);

                case 12:
                case "end":
                  return _context6.stop();
              }
            }
          }, _callee6, null, [[2, 9]]);
        }));

        return function (_x16, _x17, _x18) {
          return _ref6.apply(this, arguments);
        };
      }())]
    };
  }
  /**
   * Specify Grid model
   *
   * @param   {Function|AbstractGridModel}  model   Grid model
   * @return  {GridExpressApi}
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(GridExpressApi, [{
    key: "model",
    value: function model(_model) {
      if (typeof _model === 'function') {
        this._getModel = _model;
      } else {
        this._getModel = function () {
          return _model;
        };
      }

      return this;
    }
  }, {
    key: "getRouter",
    value: function getRouter() {
      var _this2 = this;

      return new express__WEBPACK_IMPORTED_MODULE_4___default.a.Router().get('/', this.middlewares.readGet).post('/read', this.middlewares.readPost).post('/validation', this.middlewares.validate).get('/:recordId', this.middlewares.getRecord).put('/', this.middlewares.update).post('/', this.middlewares.create).use(function (err, req, res, next) {
        _this2._result()(err, null, req, res, next);
      });
    }
  }, {
    key: "read",
    value: function read(middlewares) {
      this._addMidelwares('readGet', middlewares);

      this._addMidelwares('readPost', middlewares);

      return this;
    }
  }, {
    key: "validate",
    value: function validate(middlewares) {
      return this._addMidelwares('validate', middlewares);
    }
  }, {
    key: "getRecord",
    value: function getRecord(middlewares) {
      return this._addMidelwares('getRecord', middlewares);
    }
  }, {
    key: "update",
    value: function update(middlewares) {
      return this._addMidelwares('update', middlewares);
    }
  }, {
    key: "create",
    value: function create(middlewares) {
      return this._addMidelwares('create', middlewares);
    }
  }, {
    key: "_addMidelwares",
    value: function _addMidelwares(method, middlewares) {
      if (!Array.isArray(middlewares)) {
        middlewares = [middlewares];
      }

      this.middlewares[method] = middlewares.concat(this.middlewares[method]);
      return this;
    } // Default implementation

  }, {
    key: "_getModel",
    value: function _getModel() {
      throw new Error('Model is not defined.');
    }
  }, {
    key: "_result",
    value: function _result(method) {
      if (method === 'update') {
        return function (err, data, req, res, next) {
          if (err) {
            return send(err, null, req, res, next);
          }

          data = data.reduce(function (result, record) {
            if (!record) {
              return result;
            }

            if (record[1] instanceof Error) {
              result.errors.push(record);
            } else if (record[1] instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__["default"]) {
              result.validation.push(record);
            } else {
              result.changes.push(record);
            }

            return result;
          }, {
            changes: [],
            errors: [],
            validation: []
          });
          send(null, data, req, res, next);
        };
      }

      if (method === 'create') {
        return function (err, data, req, res, next) {
          if (err) {
            if (!(err instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__["default"])) {
              return send(err, null, req, res, next);
            }

            return send(null, {
              data: null,
              error: err
            }, req, res, next);
          }

          return send(null, {
            data: data,
            error: null
          }, req, res, next);
        };
      }

      return send;

      function send(err, data, req, res, next) {
        if (err) {
          next(err);
        } else {
          res.json(data);
        }
      }
    }
  }, {
    key: "_commonReadMiddleware",
    value: function () {
      var _commonReadMiddleware2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee7(req, res, next, settings) {
        var model, result, response;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                model = this._getModel(req, res);
                result = this._result('read');
                _context7.prev = 2;
                _context7.next = 5;
                return model.read(settings);

              case 5:
                response = _context7.sent;
                result(null, response, req, res, next);
                _context7.next = 12;
                break;

              case 9:
                _context7.prev = 9;
                _context7.t0 = _context7["catch"](2);
                result(_context7.t0, null, req, res, next);

              case 12:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, this, [[2, 9]]);
      }));

      function _commonReadMiddleware(_x19, _x20, _x21, _x22) {
        return _commonReadMiddleware2.apply(this, arguments);
      }

      return _commonReadMiddleware;
    }()
  }]);

  return GridExpressApi;
}();

/* harmony default export */ __webpack_exports__["default"] = (GridExpressApi);

/***/ }),

/***/ "./src/grid/models/GridXhrModel.js":
/*!*****************************************!*\
  !*** ./src/grid/models/GridXhrModel.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "@babel/runtime/helpers/toConsumableArray");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _common_defaultXhr__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/defaultXhr */ "./src/common/defaultXhr.js");
/* harmony import */ var _AbstractGridModel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AbstractGridModel */ "./src/grid/models/AbstractGridModel.js");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! url */ "url");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_12__);









/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */





var MAX_URI_LENGTH = 2048;
/**
 * Grid model, that works with API via XHR
 *
 * @param {Object}    settings                          Model settings
 * @param {string}    settings.api                      API address
 * @param {Validator} [settings.validator]              General validator
 * @param {Function}  [settings.xhr]                    XHR interface
 * @param {boolean}   [settings.validateOnClient=false] Don't send validation request to server
 * @constructor
 */

var GridXhrModel =
/*#__PURE__*/
function (_AbstractGridModel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(GridXhrModel, _AbstractGridModel);

  function GridXhrModel(settings) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, GridXhrModel);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(GridXhrModel).call(this));

    if (!settings.api) {
      throw new Error('Initialization problem: \'api\' must be specified.');
    }

    _this._validator = settings.validator || new _common_validation_Validator__WEBPACK_IMPORTED_MODULE_9__["default"]();
    _this._xhr = settings.xhr || _common_defaultXhr__WEBPACK_IMPORTED_MODULE_10__["default"];
    _this._validateOnClient = settings.validateOnClient || false;
    _this._apiUrl = settings.api.replace(/([^/])\?/, '$1/?') // Add "/" before "?"
    .replace(/^[^?]*[^/]$/, '$&/'); // Add "/" to the end

    return _this;
  }
  /**
   * Add a record
   *
   * @param {Object}      record  Record object
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(GridXhrModel, [{
    key: "create",
    value: function () {
      var _create = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(record) {
        var body;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return this._xhr({
                  method: 'POST',
                  headers: {
                    'Content-type': 'application/json'
                  },
                  uri: this._apiUrl,
                  body: JSON.stringify(record)
                });

              case 2:
                body = _context.sent;
                body = JSON.parse(body);

                if (!body.error) {
                  _context.next = 6;
                  break;
                }

                throw _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_8__["default"].createFromJSON(body.error);

              case 6:
                this.trigger('create', [body.data]);
                return _context.abrupt("return", body.data);

              case 8:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function create(_x) {
        return _create.apply(this, arguments);
      }

      return create;
    }()
    /**
     * Get records list
     *
     * @param {Object}      settings                Request
     * @param {Array}       settings.fields         Fields
     * @param {number}      [settings.limit]        Limit
     * @param {number}      [settings.offset=0]     Offset
     * @param {Object}      [settings.filters]      Filter values object
     * @param {Array}       [settings.sort]         Sort parameters
     * @param {Array}       [settings.extra]        Record IDs, we need to get for sure
     */

  }, {
    key: "read",
    value: function () {
      var _read = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(settings) {
        var queryUrl, response;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                queryUrl = this._getQueryUrl(settings);

                if (!(url__WEBPACK_IMPORTED_MODULE_12___default.a.format(queryUrl).length > MAX_URI_LENGTH)) {
                  _context2.next = 5;
                  break;
                }

                _context2.next = 4;
                return this._readPostRequest(settings);

              case 4:
                return _context2.abrupt("return", _context2.sent);

              case 5:
                _context2.next = 7;
                return this._xhr({
                  method: 'GET',
                  uri: url__WEBPACK_IMPORTED_MODULE_12___default.a.format(queryUrl)
                });

              case 7:
                response = _context2.sent;
                return _context2.abrupt("return", JSON.parse(response));

              case 9:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function read(_x2) {
        return _read.apply(this, arguments);
      }

      return read;
    }()
    /**
     * Get the particular record
     *
     * @param {number|string}   id      Record ID
     * @param {Array}           fields  Required fields
     */

  }, {
    key: "getRecord",
    value: function () {
      var _getRecord = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(id, fields) {
        var parsedUrl, body;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                parsedUrl = url__WEBPACK_IMPORTED_MODULE_12___default.a.parse(this._apiUrl, true);
                parsedUrl.query.cols = JSON.stringify(fields); // TODO rename cols to fields

                parsedUrl.pathname = url__WEBPACK_IMPORTED_MODULE_12___default.a.resolve(parsedUrl.pathname, JSON.stringify(id));
                delete parsedUrl.search;
                _context3.next = 6;
                return this._xhr({
                  method: 'GET',
                  uri: url__WEBPACK_IMPORTED_MODULE_12___default.a.format(parsedUrl)
                });

              case 6:
                body = _context3.sent;
                return _context3.abrupt("return", JSON.parse(body));

              case 8:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function getRecord(_x3, _x4) {
        return _getRecord.apply(this, arguments);
      }

      return getRecord;
    }()
    /**
     * Apply record changes
     *
     * @param {Array}       changes     Changes array
     * @abstract
     */

  }, {
    key: "update",
    value: function () {
      var _update = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4(changes) {
        var body, res, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, error, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, _error;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return this._xhr({
                  method: 'PUT',
                  headers: {
                    'Content-type': 'application/json'
                  },
                  uri: this._apiUrl,
                  body: JSON.stringify(changes)
                });

              case 2:
                body = _context4.sent;
                body = JSON.parse(body);
                res = [];

                if (body.changes && body.changes.length) {
                  this.trigger('update', body.changes);
                  res.push.apply(res, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(body.changes));
                }

                if (!(body.validation && body.validation.length)) {
                  _context4.next = 26;
                  break;
                }

                _iteratorNormalCompletion = true;
                _didIteratorError = false;
                _iteratorError = undefined;
                _context4.prev = 10;

                for (_iterator = body.validation[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  error = _step.value;

                  if (error && error[1]) {
                    error[1] = _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_8__["default"].createFromJSON(error[1]);
                    res.push(error);
                  }
                }

                _context4.next = 18;
                break;

              case 14:
                _context4.prev = 14;
                _context4.t0 = _context4["catch"](10);
                _didIteratorError = true;
                _iteratorError = _context4.t0;

              case 18:
                _context4.prev = 18;
                _context4.prev = 19;

                if (!_iteratorNormalCompletion && _iterator["return"] != null) {
                  _iterator["return"]();
                }

              case 21:
                _context4.prev = 21;

                if (!_didIteratorError) {
                  _context4.next = 24;
                  break;
                }

                throw _iteratorError;

              case 24:
                return _context4.finish(21);

              case 25:
                return _context4.finish(18);

              case 26:
                if (!(body.errors && body.errors.length)) {
                  _context4.next = 46;
                  break;
                }

                _iteratorNormalCompletion2 = true;
                _didIteratorError2 = false;
                _iteratorError2 = undefined;
                _context4.prev = 30;

                for (_iterator2 = body.errors[Symbol.iterator](); !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                  _error = _step2.value;

                  if (_error && _error[1]) {
                    _error[1] = Object.assign(new Error(), _error[1]); // Note, that Object spread operator won't work here

                    res.push(_error);
                  }
                }

                _context4.next = 38;
                break;

              case 34:
                _context4.prev = 34;
                _context4.t1 = _context4["catch"](30);
                _didIteratorError2 = true;
                _iteratorError2 = _context4.t1;

              case 38:
                _context4.prev = 38;
                _context4.prev = 39;

                if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
                  _iterator2["return"]();
                }

              case 41:
                _context4.prev = 41;

                if (!_didIteratorError2) {
                  _context4.next = 44;
                  break;
                }

                throw _iteratorError2;

              case 44:
                return _context4.finish(41);

              case 45:
                return _context4.finish(38);

              case 46:
                return _context4.abrupt("return", res);

              case 47:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this, [[10, 14, 18, 26], [19,, 21, 25], [30, 34, 38, 46], [39,, 41, 45]]);
      }));

      function update(_x5) {
        return _update.apply(this, arguments);
      }

      return update;
    }()
    /**
     * Validation check
     *
     * @param {{[string]: *}} record
     * @param {Promise<*>}    recordId
     */

  }, {
    key: "isValidRecord",
    value: function () {
      var _isValidRecord = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee5(record, recordId) {
        var parsedUrl, response, validationErrors;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                if (!this._validateOnClient) {
                  _context5.next = 4;
                  break;
                }

                _context5.next = 3;
                return this._validator.isValidRecord(record);

              case 3:
                return _context5.abrupt("return", _context5.sent);

              case 4:
                parsedUrl = url__WEBPACK_IMPORTED_MODULE_12___default.a.parse(this._apiUrl, true);
                parsedUrl.pathname = url__WEBPACK_IMPORTED_MODULE_12___default.a.resolve(parsedUrl.pathname, 'validation');
                _context5.prev = 6;
                _context5.next = 9;
                return this._xhr({
                  method: 'POST',
                  uri: url__WEBPACK_IMPORTED_MODULE_12___default.a.format(parsedUrl),
                  body: {
                    record: record,
                    id: recordId
                  },
                  json: true
                });

              case 9:
                response = _context5.sent;
                _context5.next = 21;
                break;

              case 12:
                _context5.prev = 12;
                _context5.t0 = _context5["catch"](6);

                if (!(_context5.t0.statusCode === 413)) {
                  _context5.next = 20;
                  break;
                }

                _context5.next = 17;
                return this._validator.isValidRecord(record);

              case 17:
                validationErrors = _context5.sent;

                if (validationErrors.isEmpty()) {
                  _context5.next = 20;
                  break;
                }

                return _context5.abrupt("return", validationErrors);

              case 20:
                throw _context5.t0;

              case 21:
                return _context5.abrupt("return", _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_8__["default"].createFromJSON(response));

              case 22:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this, [[6, 12]]);
      }));

      function isValidRecord(_x6, _x7) {
        return _isValidRecord.apply(this, arguments);
      }

      return isValidRecord;
    }()
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {string[]}  fields   Fields list
     * @returns {string[]}  Dependencies
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      return this._validator.getValidationDependency(fields);
    }
  }, {
    key: "_getQueryUrl",
    value: function _getQueryUrl(settings) {
      var parsedUrl = url__WEBPACK_IMPORTED_MODULE_12___default.a.parse(this._apiUrl, true);
      parsedUrl.query.fields = JSON.stringify(settings.fields);
      parsedUrl.query.offset = settings.offset || 0;

      if (settings.limit) {
        parsedUrl.query.limit = settings.limit;
      }

      if (settings.filters) {
        parsedUrl.query.filters = JSON.stringify(settings.filters);
      }

      if (settings.sort) {
        parsedUrl.query.sort = JSON.stringify(settings.sort);
      }

      if (settings.extra) {
        parsedUrl.query.extra = JSON.stringify(settings.extra);
      }

      delete parsedUrl.search;
      return parsedUrl;
    }
  }, {
    key: "_readPostRequest",
    value: function () {
      var _readPostRequest2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee6(settings) {
        var requestBody, parsedUrl;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                requestBody = {};
                requestBody.fields = settings.fields;
                requestBody.offset = settings.offset || 0;

                if (settings.limit) {
                  requestBody.limit = settings.limit;
                }

                if (settings.filters) {
                  requestBody.filters = settings.filters;
                }

                if (settings.sort) {
                  requestBody.sort = settings.sort;
                }

                if (settings.extra) {
                  requestBody.extra = settings.extra;
                }

                parsedUrl = url__WEBPACK_IMPORTED_MODULE_12___default.a.parse(this._apiUrl, true);
                parsedUrl.pathname = url__WEBPACK_IMPORTED_MODULE_12___default.a.resolve(parsedUrl.pathname, 'read');
                _context6.next = 11;
                return this._xhr({
                  method: 'POST',
                  json: true,
                  uri: url__WEBPACK_IMPORTED_MODULE_12___default.a.format(parsedUrl),
                  body: requestBody
                });

              case 11:
                return _context6.abrupt("return", _context6.sent);

              case 12:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function _readPostRequest(_x8) {
        return _readPostRequest2.apply(this, arguments);
      }

      return _readPostRequest;
    }()
  }]);

  return GridXhrModel;
}(_AbstractGridModel__WEBPACK_IMPORTED_MODULE_11__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (GridXhrModel);

/***/ }),

/***/ "./src/grid/models/applyGridFilters.js":
/*!*********************************************!*\
  !*** ./src/grid/models/applyGridFilters.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread */ "@babel/runtime/helpers/objectSpread");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Defines filter values while reading Grid model data
 *
 * @param {AbstractGridModel} model       Grid model
 * @param {Object}            filters     Filter values
 */

function applyGridFilters(model, filters) {
  return Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["decorate"])(model, {
    read: function () {
      var _read = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(options) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                options.filters = _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, filters, options.filters);
                _context.next = 3;
                return model.read(options);

              case 3:
                return _context.abrupt("return", _context.sent);

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      function read(_x) {
        return _read.apply(this, arguments);
      }

      return read;
    }()
  });
}

/* harmony default export */ __webpack_exports__["default"] = (applyGridFilters);

/***/ }),

/***/ "./src/list/AbstractListModel.js":
/*!***************************************!*\
  !*** ./src/list/AbstractListModel.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Abstract List model
 */
var AbstractListModel =
/*#__PURE__*/
function () {
  function AbstractListModel() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, AbstractListModel);
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(AbstractListModel, [{
    key: "read",

    /**
     * Get data
     *
     * @param {string}    search  Search query
     * @abstract
     */
    value: function read()
    /*search*/
    {
      return Promise.resolve([]);
    }
    /**
     * Get option name using ID
     *
     * @param {*}         id  Option ID
     * @abstract
     */

  }, {
    key: "getLabel",
    value: function getLabel()
    /*id*/
    {
      return Promise.resolve('');
    }
  }]);

  return AbstractListModel;
}();

/* harmony default export */ __webpack_exports__["default"] = (AbstractListModel);

/***/ }),

/***/ "./src/list/ListExpressApi.js":
/*!************************************!*\
  !*** ./src/list/ListExpressApi.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! express */ "express");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");





/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


/**
 * Form Express API for List model interaction
 *
 * @return {ListExpressApi}
 * @constructor
 */

var ListExpressApi =
/*#__PURE__*/
function () {
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ListExpressApi, null, [{
    key: "create",
    value: function create() {
      return new ListExpressApi();
    }
  }]);

  function ListExpressApi() {
    var _this = this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ListExpressApi);

    this.middlewares = {
      read: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(req, res, next) {
          var model, response;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  model = _this._getModel(req, res);
                  _context.prev = 1;
                  _context.next = 4;
                  return model.read(req.query.v);

                case 4:
                  response = _context.sent;

                  _this._result(null, response, req, res, next);

                  _context.next = 11;
                  break;

                case 8:
                  _context.prev = 8;
                  _context.t0 = _context["catch"](1);

                  _this._result(_context.t0, null, req, res, next);

                case 11:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, null, [[1, 8]]);
        }));

        return function (_x, _x2, _x3) {
          return _ref.apply(this, arguments);
        };
      }())],
      getLabel: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(req, res, next) {
          var id, model, response;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  id = JSON.parse(req.params.id);
                  model = _this._getModel(req, res);
                  _context2.prev = 2;
                  _context2.next = 5;
                  return model.getLabel(id);

                case 5:
                  response = _context2.sent;

                  _this._result(null, response, req, res, next);

                  _context2.next = 12;
                  break;

                case 9:
                  _context2.prev = 9;
                  _context2.t0 = _context2["catch"](2);

                  _this._result(_context2.t0, null, req, res, next);

                case 12:
                case "end":
                  return _context2.stop();
              }
            }
          }, _callee2, null, [[2, 9]]);
        }));

        return function (_x4, _x5, _x6) {
          return _ref2.apply(this, arguments);
        };
      }())]
    };
  }
  /**
   * Specify List model
   *
   * @param   {Function|AbstractListModel}  model  List model
   * @return {ListExpressApi}
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ListExpressApi, [{
    key: "model",
    value: function model(_model) {
      if (typeof _model === 'function') {
        this._getModel = _model;
      } else {
        this._getModel = function () {
          return _model;
        };
      }

      return this;
    }
  }, {
    key: "getRouter",
    value: function getRouter() {
      return new express__WEBPACK_IMPORTED_MODULE_4___default.a.Router().get('/', this.middlewares.read).get('/label/:id', this.middlewares.getLabel);
    }
  }, {
    key: "read",
    value: function read(middlewares) {
      if (!Array.isArray(middlewares)) {
        middlewares = [middlewares];
      }

      this.middlewares.read = middlewares.concat(this.middlewares.read);
      return this;
    }
  }, {
    key: "getLabel",
    value: function getLabel(middlewares) {
      if (!Array.isArray(middlewares)) {
        middlewares = [middlewares];
      }

      this.middlewares.getLabel = middlewares.concat(this.middlewares.getLabel);
      return this;
    } // Default implementation

  }, {
    key: "_getModel",
    value: function _getModel() {
      throw Error('Model is not defined.');
    }
  }, {
    key: "_result",
    value: function _result(err, data, req, res, next) {
      if (err) {
        next(err);
      } else {
        if (typeof data === 'number') {
          data = data.toString();
        }

        res.json(data);
      }
    }
  }]);

  return ListExpressApi;
}();

/* harmony default export */ __webpack_exports__["default"] = (ListExpressApi);

/***/ }),

/***/ "./src/list/ListXhrModel.js":
/*!**********************************!*\
  !*** ./src/list/ListXhrModel.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _common_defaultXhr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/defaultXhr */ "./src/common/defaultXhr.js");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! url */ "url");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_5__);





/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ListXMLHttpRequestModel =
/*#__PURE__*/
function () {
  /**
   * Simple list client model which works via XMLHttpRequest
   *
   * @param {string}    apiURL  API address for list model interaction
   * @param {Function}  [xhr]   XHR wrapper
   * @constructor
   */
  function ListXMLHttpRequestModel(apiURL, xhr) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ListXMLHttpRequestModel);

    this._apiURL = apiURL;
    this._xhr = xhr || _common_defaultXhr__WEBPACK_IMPORTED_MODULE_4__["default"];
    this._apiUrl = apiURL.replace(/([^/])\?/, '$1/?') // Add "/" before "?"
    .replace(/^[^?]*[^/]$/, '$&/'); // Add "/" to the end
  }
  /**
   * Get model data
   *
   * @param {string}    search  List search query
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ListXMLHttpRequestModel, [{
    key: "read",
    value: function () {
      var _read = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(search) {
        var parsedUrl, body;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                parsedUrl = url__WEBPACK_IMPORTED_MODULE_5___default.a.parse(this._apiUrl, true);
                delete parsedUrl.search;

                if (search) {
                  parsedUrl.query.v = search;
                }

                _context.next = 5;
                return this._xhr({
                  method: 'GET',
                  headers: {
                    'Content-type': 'application/json'
                  },
                  uri: url__WEBPACK_IMPORTED_MODULE_5___default.a.format(parsedUrl)
                });

              case 5:
                body = _context.sent;
                return _context.abrupt("return", JSON.parse(body));

              case 7:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function read(_x) {
        return _read.apply(this, arguments);
      }

      return read;
    }()
    /**
     * Get option name using ID
     *
     * @param {*}         id  Option ID
     */

  }, {
    key: "getLabel",
    value: function () {
      var _getLabel = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(id) {
        var parsedUrl, body;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                parsedUrl = url__WEBPACK_IMPORTED_MODULE_5___default.a.parse(this._apiUrl, true);
                parsedUrl.pathname = url__WEBPACK_IMPORTED_MODULE_5___default.a.resolve(parsedUrl.pathname, "label/".concat(JSON.stringify(id)));
                _context2.next = 4;
                return this._xhr({
                  method: 'GET',
                  headers: {
                    'Content-type': 'application/json'
                  },
                  uri: url__WEBPACK_IMPORTED_MODULE_5___default.a.format(parsedUrl)
                });

              case 4:
                body = _context2.sent;
                body = JSON.parse(body);
                return _context2.abrupt("return", body);

              case 7:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function getLabel(_x2) {
        return _getLabel.apply(this, arguments);
      }

      return getLabel;
    }()
  }]);

  return ListXMLHttpRequestModel;
}();

/* harmony default export */ __webpack_exports__["default"] = (ListXMLHttpRequestModel);

/***/ }),

/***/ "./src/node.js":
/*!*********************!*\
  !*** ./src/node.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser */ "./src/browser.js");
/* harmony import */ var _grid_models_GridExpressApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./grid/models/GridExpressApi */ "./src/grid/models/GridExpressApi.js");
/* harmony import */ var _list_ListExpressApi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./list/ListExpressApi */ "./src/list/ListExpressApi.js");
/* harmony import */ var _form_FormExpressApi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./form/FormExpressApi */ "./src/form/FormExpressApi.js");
/* harmony import */ var _grid_export_exporters_toCSV__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./grid/export/exporters/toCSV */ "./src/grid/export/exporters/toCSV.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */





_browser__WEBPACK_IMPORTED_MODULE_0__["default"].gridExpressApi = _grid_models_GridExpressApi__WEBPACK_IMPORTED_MODULE_1__["default"].create;
_browser__WEBPACK_IMPORTED_MODULE_0__["default"].listExpressApi = _list_ListExpressApi__WEBPACK_IMPORTED_MODULE_2__["default"].create;
_browser__WEBPACK_IMPORTED_MODULE_0__["default"].formExpressApi = _form_FormExpressApi__WEBPACK_IMPORTED_MODULE_3__["default"].create;
_browser__WEBPACK_IMPORTED_MODULE_0__["default"].toCSV = _grid_export_exporters_toCSV__WEBPACK_IMPORTED_MODULE_4__["default"];
/* harmony default export */ __webpack_exports__["default"] = (_browser__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "@babel/runtime/helpers/assertThisInitialized":
/*!***************************************************************!*\
  !*** external "@babel/runtime/helpers/assertThisInitialized" ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/assertThisInitialized");

/***/ }),

/***/ "@babel/runtime/helpers/asyncToGenerator":
/*!**********************************************************!*\
  !*** external "@babel/runtime/helpers/asyncToGenerator" ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/asyncToGenerator");

/***/ }),

/***/ "@babel/runtime/helpers/classCallCheck":
/*!********************************************************!*\
  !*** external "@babel/runtime/helpers/classCallCheck" ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/classCallCheck");

/***/ }),

/***/ "@babel/runtime/helpers/createClass":
/*!*****************************************************!*\
  !*** external "@babel/runtime/helpers/createClass" ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/createClass");

/***/ }),

/***/ "@babel/runtime/helpers/defineProperty":
/*!********************************************************!*\
  !*** external "@babel/runtime/helpers/defineProperty" ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/defineProperty");

/***/ }),

/***/ "@babel/runtime/helpers/extends":
/*!*************************************************!*\
  !*** external "@babel/runtime/helpers/extends" ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/extends");

/***/ }),

/***/ "@babel/runtime/helpers/getPrototypeOf":
/*!********************************************************!*\
  !*** external "@babel/runtime/helpers/getPrototypeOf" ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/getPrototypeOf");

/***/ }),

/***/ "@babel/runtime/helpers/inherits":
/*!**************************************************!*\
  !*** external "@babel/runtime/helpers/inherits" ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/inherits");

/***/ }),

/***/ "@babel/runtime/helpers/objectSpread":
/*!******************************************************!*\
  !*** external "@babel/runtime/helpers/objectSpread" ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/objectSpread");

/***/ }),

/***/ "@babel/runtime/helpers/objectWithoutProperties":
/*!*****************************************************************!*\
  !*** external "@babel/runtime/helpers/objectWithoutProperties" ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/objectWithoutProperties");

/***/ }),

/***/ "@babel/runtime/helpers/possibleConstructorReturn":
/*!*******************************************************************!*\
  !*** external "@babel/runtime/helpers/possibleConstructorReturn" ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/possibleConstructorReturn");

/***/ }),

/***/ "@babel/runtime/helpers/slicedToArray":
/*!*******************************************************!*\
  !*** external "@babel/runtime/helpers/slicedToArray" ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/slicedToArray");

/***/ }),

/***/ "@babel/runtime/helpers/toConsumableArray":
/*!***********************************************************!*\
  !*** external "@babel/runtime/helpers/toConsumableArray" ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/toConsumableArray");

/***/ }),

/***/ "@babel/runtime/helpers/typeof":
/*!************************************************!*\
  !*** external "@babel/runtime/helpers/typeof" ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/typeof");

/***/ }),

/***/ "@babel/runtime/regenerator":
/*!*********************************************!*\
  !*** external "@babel/runtime/regenerator" ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/regenerator");

/***/ }),

/***/ "classnames":
/*!*****************************!*\
  !*** external "classnames" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("classnames");

/***/ }),

/***/ "create-react-class":
/*!*************************************!*\
  !*** external "create-react-class" ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("create-react-class");

/***/ }),

/***/ "csv-stringify":
/*!********************************!*\
  !*** external "csv-stringify" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("csv-stringify");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("express");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("moment");

/***/ }),

/***/ "prop-types":
/*!*****************************!*\
  !*** external "prop-types" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("prop-types");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react");

/***/ }),

/***/ "react-datepicker":
/*!***********************************!*\
  !*** external "react-datepicker" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react-datepicker");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react-dom");

/***/ }),

/***/ "react-dom-factories":
/*!**************************************!*\
  !*** external "react-dom-factories" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react-dom-factories");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("url");

/***/ }),

/***/ "xhr":
/*!**********************!*\
  !*** external "xhr" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("xhr");

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9VSUtlcm5lbC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9jb21tb24vQXJndW1lbnRzRXJyb3IuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvY29tbW9uL0V2ZW50cy5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9jb21tb24vUG9ydGFsLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi9UaHJvdHRsZUVycm9yLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi9jYWxsYmFja2lmeS5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9jb21tb24vZGVmYXVsdFhoci5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9jb21tb24vc2V0SW1tZWRpYXRlLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi90b1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvY29tbW9uL3V0aWxzLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRpb25FcnJvcnMuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdG9yLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL2Jvb2xlYW4uanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvY29tbW9uL3ZhbGlkYXRpb24vcnVsZXMvZGF0ZS5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9jb21tb24vdmFsaWRhdGlvbi9ydWxlcy9lbnVtLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL2Zsb2F0LmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL25vdEVtcHR5LmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL25vdE51bGwuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvY29tbW9uL3ZhbGlkYXRpb24vcnVsZXMvbnVtYmVyLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL3JlZ0V4cC5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9jb21tb24vdmFsaWRhdGlvbi9ydWxlcy9zZXQuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvY29tbW9uL3ZhcmlhYmxlcy5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9lZGl0b3JzL0NoZWNrYm94LmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2VkaXRvcnMvRGF0ZVBpY2tlci5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9lZGl0b3JzL051bWJlci5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9lZGl0b3JzL1NlbGVjdC5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9lZGl0b3JzL1N1Z2dlc3RCb3guanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZm9ybS9BYnN0cmFjdEZvcm1Nb2RlbC5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9mb3JtL0Zvcm1FeHByZXNzQXBpLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2Zvcm0vRm9ybU1vZGVsLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2Zvcm0vRm9ybVNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZm9ybS9Gb3JtWGhyTW9kZWwuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZm9ybS9hZGFwdGVycy9HcmlkVG9Gb3JtQ3JlYXRlLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2Zvcm0vYWRhcHRlcnMvR3JpZFRvRm9ybVVwZGF0ZS5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9mb3JtL2Nvbm5lY3RGb3JtLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2Zvcm0vbWl4aW4uanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZ3JpZC9Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZ3JpZC9leHBvcnQvZXhwb3J0R3JpZERhdGEuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZ3JpZC9leHBvcnQvZXhwb3J0ZXJzL3RvQ1NWLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvZXhwb3J0L2V4cG9ydGVycy90b0pTT04uanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZ3JpZC9taXhpbnMvY29sdW1ucy5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9ncmlkL21peGlucy9kYXRhLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbWl4aW5zL2VkaXRvci5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9ncmlkL21peGlucy9wYWdpbmF0aW9uLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbWl4aW5zL3NlbGVjdC5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9ncmlkL21peGlucy9zb3J0aW5nLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbWl4aW5zL3N0YXR1c2VzLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbWl4aW5zL3VpLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbW9kZWxzL0Fic3RyYWN0R3JpZE1vZGVsLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbW9kZWxzL0dyaWRDb2xsZWN0aW9uTW9kZWwuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZ3JpZC9tb2RlbHMvR3JpZEV4cHJlc3NBcGkuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZ3JpZC9tb2RlbHMvR3JpZFhock1vZGVsLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbW9kZWxzL2FwcGx5R3JpZEZpbHRlcnMuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvbGlzdC9BYnN0cmFjdExpc3RNb2RlbC5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9saXN0L0xpc3RFeHByZXNzQXBpLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2xpc3QvTGlzdFhock1vZGVsLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL25vZGUuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheVwiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheVwiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2ZcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJjbGFzc25hbWVzXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJjcmVhdGUtcmVhY3QtY2xhc3NcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcImNzdi1zdHJpbmdpZnlcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcImV4cHJlc3NcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcIm1vbWVudFwiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwicHJvcC10eXBlc1wiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwicmVhY3RcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcInJlYWN0LWRhdGVwaWNrZXJcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcInJlYWN0LWRvbVwiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwicmVhY3QtZG9tLWZhY3Rvcmllc1wiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwidXJsXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJ4aHJcIiJdLCJuYW1lcyI6WyJVSUtlcm5lbCIsImFwcGx5R3JpZEZpbHRlcnMiLCJHcmlkIiwiR3JpZENvbXBvbmVudCIsIkZvcm0iLCJGb3JtU2VydmljZSIsImNvbm5lY3RGb3JtIiwiY3JlYXRlVmFsaWRhdG9yIiwiVmFsaWRhdG9yIiwiY3JlYXRlIiwiZXhwb3J0R3JpZERhdGEiLCJ0b0pTT04iLCJWYWxpZGF0aW9uRXJyb3JzIiwiTW9kZWxzIiwiWGhyIiwiR3JpZFhock1vZGVsIiwiQ29sbGVjdGlvbiIsIkdyaWRDb2xsZWN0aW9uTW9kZWwiLCJFdmVudHMiLCJGb3JtTW9kZWwiLCJGb3JtWGhyIiwiRm9ybVhock1vZGVsIiwiTGlzdCIsIkxpc3RYaHJNb2RlbCIsIkFic3RyYWN0TW9kZWxzIiwiQWJzdHJhY3RGb3JtTW9kZWwiLCJBYnN0cmFjdEdyaWRNb2RlbCIsIkFic3RyYWN0TGlzdE1vZGVsIiwiQWRhcHRlcnMiLCJUb0Zvcm1VcGRhdGUiLCJUb0Zvcm1DcmVhdGUiLCJFZGl0b3JzIiwiU2VsZWN0IiwiU3VnZ2VzdEJveCIsIkRhdGVQaWNrZXIiLCJDaGVja2JveCIsIk51bWJlciIsIkFyZ3VtZW50c0Vycm9yIiwiVGhyb3R0bGVFcnJvciIsIlZhbGlkYXRvcnMiLCJib29sZWFuVmFsaWRhdGlvblJ1bGUiLCJkYXRlIiwiZGF0ZVZhbGlkYXRpb25SdWxlIiwiZW51bVZhbGlkYXRpb25SdWxlIiwic2V0Iiwic2V0VmFsaWRhdGlvblJ1bGUiLCJmbG9hdFZhbGlkYXRpb25SdWxlIiwicmVnRXhwIiwicmVnRXhwVmFsaWRhdGlvblJ1bGUiLCJub3ROdWxsIiwibm90TnVsbFZhbGlkYXRpb25SdWxlIiwibnVtYmVyIiwibnVtYmVyVmFsaWRhdGlvblJ1bGUiLCJub3RFbXB0eSIsIm5vdEVtcHR5VmFsaWRhdGlvblJ1bGUiLCJNaXhpbnMiLCJGb3JtTWl4aW4iLCJfZ2V0IiwidmFyaWFibGVzIiwiZ2V0IiwiX3NldCIsIm1lc3NhZ2UiLCJFcnJvciIsImNhbGwiLCJuYW1lIiwic3RhdHVzIiwic3RhdHVzQ29kZSIsInN0YWNrIiwiZ2V0U3RhY2siLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjb25zdHJ1Y3RvciIsIkV2ZW50c01vZGVsIiwiX3N1YnNjcmliZXJzIiwiZXZlbnQiLCJjYiIsInB1c2giLCJ3aXRob3V0IiwibGVuZ3RoIiwicGFyYW1zIiwic3Vic2NyaWJlciIsInBvcnRhbENsYXNzIiwiUG9ydGFsIiwicHJvcHMiLCJfb25Eb2N1bWVudE1vdXNlRG93biIsImJpbmQiLCJfb25Eb2N1bWVudE1vdXNlU2Nyb2xsIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicG9ydGFsIiwiY3JlYXRlRWxlbWVudCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsYXNzTmFtZSIsInJlbmRlclBvcnRhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJSZWFjdERPTSIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCJyZW1vdmVDaGlsZCIsInRhcmdldCIsImNvbnRhaW5zIiwiZSIsIm9uRG9jdW1lbnRNb3VzZURvd24iLCJfaXNEb2N1bWVudEV2ZW50T3duZXIiLCJvbkRvY3VtZW50TW91c2VTY3JvbGwiLCJyZW5kZXIiLCJvbWl0IiwiY2hpbGRyZW4iLCJSZWFjdCIsIkNvbXBvbmVudCIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsIm5vZGUiLCJmdW5jIiwiY3JlYXRlV2l0aFBhcmVudFN0YWNrIiwiZXJyIiwiZnVuY3Rpb25zTmFtZXMiLCJoaWRlV2FybmluZyIsImZ1bmNOYW1lIiwiYXJncyIsImxhc3RBcmd1bWVudEluZGV4IiwiX19pZ25vcmVVSUtlcm5lbFdhcm5pbmciLCJpbmNsdWRlcyIsIndhcm4iLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdWx0IiwiYXBwbHkiLCJ0aGVuIiwiZGF0YSIsImRlZmF1bHRYaHIiLCJzZXR0aW5ncyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwieGhyIiwicmVzcG9uc2UiLCJwYXJzZWRCb2R5IiwicGFyc2UiLCJ3aW5kb3ciLCJzZXRJbW1lZGlhdGUiLCJoZWFkIiwidGFpbCIsIklEIiwiTWF0aCIsInJhbmRvbSIsIm9uTWVzc2FnZSIsIm5leHQiLCJhdHRhY2hFdmVudCIsInBvc3RNZXNzYWdlIiwic2V0VGltZW91dCIsInRvUHJvbWlzZSIsInByb21pc2VXYXJuIiwidGV4dCIsIm1haW5Bcmd1bWVudHMiLCJwcm9taXNlIiwiY2FsbGJhY2tQcm9taXNlIiwidG9Qcm9taXNlQ2FsbGJhY2siLCJiYXNlQ2xvbmUiLCJvYmoiLCJpc0RlZXAiLCJjbG9uZWQiLCJlczZ0eXBlcyIsIkRhdGUiLCJGdW5jdGlvbiIsIlJlZ0V4cCIsIkFycmF5IiwiaXNBcnJheSIsImVsIiwidG9TdHJpbmciLCJlbnRyaWVzIiwiZmllbGQiLCJ2YWx1ZSIsImlzSW50ZXJzZWN0aW9uIiwiYSIsImIiLCJjIiwiaW5kZXhPZiIsInNpemUiLCJrZXlzIiwiYXJyIiwiaXRlbSIsImkiLCJpc0VxdWFsIiwidGhyb3R0bGUiLCJ3b3JrZWQiLCJuZXh0QXJndW1lbnRzIiwibmV4dFJlc29sdmUiLCJuZXh0UmVqZWN0IiwiYXJndW1lbnRzIiwidGhyb3R0bGVDYWxsYmFjayIsInRocm90dGxlUHJvbWlzZSIsInJ1biIsImN0eCIsImFyZ3VtZW50c0FycmF5Iiwic2xpY2UiLCJjYldyYXBwZXIiLCJuZXh0V29ya2VyIiwiY29uY2F0IiwicGFyZW50U3RhY2siLCJwYXJzZVZhbHVlRnJvbUV2ZW50IiwidGFnTmFtZSIsInR5cGUiLCJjaGVja2VkIiwiRGVjb3JhdG9yIiwiZGVjb3IiLCJhc3NpZ24iLCJkZWNvcmF0ZSIsInVuZGVmaW5lZCIsInZhbHVlT2YiLCJwIiwiZXZlcnkiLCJjbG9uZSIsImNsb25lRGVlcCIsImlzRW1wdHkiLCJ0cmltIiwiaXNEZWZpbmVkIiwiZm9yRWFjaCIsInBsdWNrIiwibWFwIiwiZmluZCIsImZpbmRJbmRleCIsInByZWRpY2F0ZSIsImVzY2FwZSIsInN0cmluZyIsInJlVW5lc2NhcGVkIiwiZXNjYXBlcyIsInRlc3QiLCJyZXBsYWNlIiwiY2hyIiwiemlwT2JqZWN0IiwidmFsdWVzIiwicGljayIsImRlZmF1bHRWYWx1ZSIsInJlZHVjZSIsImtleSIsImhhc093blByb3BlcnR5IiwibWFwS2V5cyIsIm9iamVjdCIsIml0ZXJhdGVlIiwidW5pb24iLCJlbGVtZW50cyIsImFyZyIsImF0IiwicGFpcnMiLCJ0b0RhdGUiLCJzZXRUaW1lIiwiZ2V0VGltZSIsImdldFRpbWV6b25lT2Zmc2V0IiwibGFzdCIsImdldFJlY29yZENoYW5nZXMiLCJtb2RlbCIsImNoYW5nZXMiLCJuZXdDaGFuZ2VzIiwiZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3kiLCJkZWVwIiwic3RhY2tUcmFjZUxpbWl0RGVmYXVsdCIsInN0YWNrVHJhY2VMaW1pdCIsInNwbGl0Iiwiam9pbiIsImNvbnNvbGUiLCJ0b0VuY29kZWRTdHJpbmciLCJlbmNvZGVVUklDb21wb25lbnQiLCJhc3luY0hhbmRsZXIiLCJyb3V0ZXIiLCJyZXEiLCJyZXMiLCJwYXJlbnRzIiwiZWxlbWVudCIsInNlbGVjdG9yIiwicGFyZW50RWxlbWVudCIsIm1hdGNoZXMiLCJfZmllbGRzIiwiTWFwIiwiZXJyb3IiLCJfZm9ybUVycm9yVmFsdWUiLCJoYXMiLCJmaWVsZEVycm9ycyIsImZpZWxkcyIsImpzb24iLCJjcmVhdGVGcm9tSlNPTiIsInZhbGlkYXRpb25FcnJvcnMiLCJnZXRFcnJvcnMiLCJuZXdFcnJvcnMiLCJlcnJvcnMiLCJqc29uT2JqZWN0IiwiZXJyTWVzc2FnZSIsImFkZCIsImpzb25FcnJvcnMiLCJfc2V0dGluZ3MiLCJ2YWxpZGF0b3JzIiwiZ3JvdXBWYWxpZGF0b3JzIiwiYXN5bmNWYWxpZGF0b3JzIiwiYXN5bmNHcm91cFZhbGlkYXRvcnMiLCJhc3luY0RlcGVuZGVuaWVzIiwidmFsaWRhdG9yRnVuY3Rpb24iLCJmbiIsImdyb3VwcyIsImoiLCJyZWNvcmQiLCJhd2FpdFN0YWNrIiwicHJvbWlzZXMiLCJkZXBlbmRlbnRGaWVsZHMiLCJ2YWxpZGF0b3IiLCJhc3luY1ZhbGlkYXRvciIsImdyb3VwVmFsaWRhdG9yIiwiYXN5bmNHcm91cFZhbGlkYXRvciIsImFsbCIsImFzeW5jRXJyb3JzIiwicG9wIiwiYmFzZVZhbGlkYXRvciIsIm1pbiIsIm1heCIsInR5cGVPZlZhbHVlIiwiaXNOYU4iLCJ2YXJpYW50cyIsImlzRmluaXRlIiwicGFyc2VJbnQiLCJpbmRldGVybWluYXRlIiwib3RoZXJQcm9wcyIsImlucHV0IiwiYm9vbCIsIkRhdGVQaWNrZXJFZGl0b3IiLCJmb3JtYXQiLCJvbkNoYW5nZSIsInRleHRGb3JtYXQiLCJtb21lbnQiLCJhbnkiLCJzaG93Iiwib25CbHVyIiwiaXNSZXF1aXJlZCIsImlzSW52YWxpZEZsb2F0IiwiZmxvYXRWYWxpZGF0b3IiLCJOdW1iZXJFZGl0b3IiLCJzdGF0ZSIsIm5leHRQcm9wcyIsImZpbmRET01Ob2RlIiwidmFsdWVBc051bWJlciIsInBhcnNlRmxvYXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX29uQ2hhbmdlSGFuZGxlciIsIm9uZU9mVHlwZSIsIlNlbGVjdEVkaXRvciIsIm9wdGlvbnMiLCJsb2FkaW5nIiwiQm9vbGVhbiIsInJlYWQiLCJ1bnNoaWZ0Iiwic2V0U3RhdGUiLCJvcHRpb24iLCJnZXRPcHRpb25zIiwib25MYWJlbENoYW5nZSIsInZhbHVlSW5kZXgiLCJoYW5kbGVDaGFuZ2UiLCJkaXNhYmxlZCIsImluZGV4Iiwib3B0aW9uUHJvcHMiLCJhcnJheSIsInNoYXBlIiwicG9wdXBJZCIsImNsYXNzZXMiLCJvcHRpb25Gb2N1c2VkIiwib3B0aW9uU2VsZWN0YWJsZSIsIm9wdGlvblR5cGVzIiwiZ3JvdXAiLCJoZWFkZXIiLCJzdWJpdGVtIiwiZW1wdHkiLCJzZWFyY2hCbG9jayIsInNlbGVjdEJ0biIsImFycm93IiwidXAiLCJUQUJfS0VZIiwiRU5URVJfS0VZIiwiRVNDQVBFX0tFWSIsIkFSUk9XX1VQX0tFWSIsIkFSUk9XX0RPV05fS0VZIiwiTUlOX1BPUFVQX0hFSUdIVCIsIlN1Z2dlc3RCb3hFZGl0b3IiLCJfbG9hZERhdGEiLCJpc09wZW5lZCIsInNlbGVjdGVkT3B0aW9uS2V5IiwibGFzdFZhbGlkTGFiZWwiLCJsYWJlbCIsInBvcHVwU3R5bGVzIiwiX29uSW5wdXRGb2N1cyIsIl9vbklucHV0S2V5RG93biIsIl9vbklucHV0VmFsdWVDaGFuZ2UiLCJfZm9jdXNPcHRpb24iLCJfdG9nZ2xlTGlzdCIsIl9vcGVuTGlzdCIsIl9pc01vdW50ZWQiLCJkZWZhdWx0TGFiZWwiLCJfc2V0TGFiZWxUbyIsIl9nZXRMYWJlbEZyb21Nb2RlbCIsIm5leHRTdGF0ZSIsIm1hcmtBc1ZhbGlkIiwiaWQiLCJnZXRMYWJlbCIsInNlYXJjaFBhdHRlcm4iLCJjb250ZW50IiwicXVlcnlTZWxlY3RvciIsInN0eWxlIiwiYm90dG9tIiwicG9zaXRpb24iLCJfc2Nyb2xsTGlzdFRvIiwiZm9jdXNGaXJzdE9wdGlvbiIsIl9nZXRDb21wdXRlZFBvcHVwU3R5bGVzIiwic2VsZWN0IiwiX3VwZGF0ZUxpc3QiLCJfZm9jdXNPcHRpb25BbmRTY3JvbGxJbnRvVmlldyIsIm9uRm9jdXMiLCJzaG91bGRCbHVyIiwiYmx1ciIsIl9jbG9zZUxpc3QiLCJtZXRhZGF0YSIsIm9uTWV0YWRhdGFDaGFuZ2UiLCJzaG91bGRTZXRMYWJlbCIsImZvY3VzZWRJdGVtcyIsImN1cnJlbnRJdGVtIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiZG9tT3B0aW9uIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbnRhaW5lciIsInNjcm9sbFRvcCIsIm9mZnNldFRvcCIsImNsaWVudEhlaWdodCIsImNoaWxkIiwicGFyZW50Tm9kZSIsImlzT3duZXIiLCJidXR0b24iLCJfc2VsZWN0T3B0aW9uIiwiZ2V0QXR0cmlidXRlIiwiX2lzUGFyZW50T2YiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJfZm9jdXNOZXh0T3B0aW9uIiwiX2ZvY3VzUHJldk9wdGlvbiIsImlucHV0U3R5bGVzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBvcHVwU3R5bGUiLCJpbnB1dE9mZnNldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImlucHV0V2lkdGgiLCJ3aWR0aCIsImlucHV0SGVpZ2h0IiwiaGVpZ2h0IiwidG9wIiwiaW5uZXJIZWlnaHQiLCJvZmZzZXRMZWZ0IiwibGVmdCIsImF2YWlsYWJsZVNwYWNlIiwibWF4SGVpZ2h0IiwibWluV2lkdGgiLCJmb2N1cyIsImFycm93Q2xhc3NlcyIsIm9wdGlvbnNQb3B1cCIsImxvYWRpbmdFbGVtZW50Iiwibm90Rm91bmRFbGVtZW50Iiwib3B0aW9uQ2xhc3NOYW1lcyIsImNvbHVtbktleSIsIkZvcm1FeHByZXNzQXBpIiwibWlkZGxld2FyZXMiLCJnZXREYXRhIiwicXVlcnkiLCJfZ2V0TW9kZWwiLCJfcmVzdWx0Iiwic3VibWl0IiwidmFsaWRhdGUiLCJpc1ZhbGlkUmVjb3JkIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJfYWRkTWlkZWx3YXJlcyIsIm1ldGhvZCIsImRlZmF1bHRWYWx1ZXMiLCJ2YWxpZGF0aW9uIiwiX3ZhbGlkYXRpb24iLCJfZGF0YSIsInZhbGlkRXJyb3JzIiwidHJpZ2dlciIsIl9jaGFuZ2VzIiwiX2Vycm9ycyIsIl93YXJuaW5ncyIsIl93YXJuaW5nc1ZhbGlkYXRvciIsIl9ldmVudEVtaXR0ZXIiLCJFdmVudEVtaXR0ZXIiLCJfaXNOb3RJbml0aWFsaXplZCIsIl92YWxpZGF0ZUZvcm0iLCJ2YWxpZGF0ZUZvcm0iLCJfb25Nb2RlbENoYW5nZSIsImNsZWFyQ2hhbmdlcyIsImNsZWFyRXJyb3IiLCJjbGVhclZhbGlkYXRpb24iLCJ1cGRhdGVGaWVsZCIsInZhbGlkYXRlRmllbGQiLCJfZ2V0RGF0YSIsIl9nZXRDaGFuZ2VzIiwiX2lzU3VibWl0dGluZyIsInNob3dEZXBlbmRlbnRGaWVsZHMiLCJfcGFydGlhbEVycm9yQ2hlY2tpbmciLCJwYXJ0aWFsRXJyb3JDaGVja2luZyIsIl9wYXJ0aWFsRXJyb3JDaGVja2luZ0RlZmF1bHQiLCJzdWJtaXRBbGwiLCJ3YXJuaW5nc1ZhbGlkYXRvciIsInZhbGlkYXRpbmciLCJfaGlkZGVuVmFsaWRhdGlvbkZpZWxkcyIsInN1Ym1pdHRpbmciLCJvbiIsIl9zZXRTdGF0ZSIsImlzTG9hZGVkIiwiX2lzTG9hZGVkIiwiZW1wdHlEYXRhIiwib3JpZ2luYWxEYXRhIiwid2FybmluZ3MiLCJpc1N1Ym1pdHRpbmciLCJfZ2V0RmllbGRzIiwiX2dldENoYW5nZXNGaWVsZHMiLCJfZ2V0RGlzcGxheWVkRXJyb3JzIiwib2ZmIiwibGlzdGVuZXJDb3VudCIsInJlbW92ZUFsbExpc3RlbmVycyIsImNvdW50T2ZIaWRkZW5WYWxpZGF0aW9uRmllbGRzVG9SZW1vdmUiLCJhY3R1YWxDaGFuZ2VzIiwic3BsaWNlIiwiY2xlYXJGaWVsZCIsImNsZWFyIiwiX3J1blZhbGlkYXRvciIsImRpc3BsYXllZEVycm9ycyIsImRpc3BsYXllZFdhcm5pbmciLCJwcm94eSIsIlByb3h5IiwiZmllbGROYW1lIiwiaXNDaGFuZ2VkIiwiZ2V0RmllbGRFcnJvck1lc3NhZ2VzIiwiX2lzRGVwZW5kZW50RmllbGQiLCJmaWx0ZXJlZEVycm9ycyIsImlzRmllbGRQcmlzdGluZSIsImdldEFsbCIsIm91dHB1dCIsImFwaSIsIl92YWxpZGF0b3IiLCJfeGhyIiwiX2FwaVVybCIsInBhcnNlZFVybCIsInVybCIsInNlYXJjaCIsInVyaSIsImhlYWRlcnMiLCJHcmlkVG9Gb3JtQ3JlYXRlIiwiaW5pdGlhbERhdGEiLCJfYWRhcHRlciIsIkdyaWRUb0Zvcm1VcGRhdGUiLCJfb25VcGRhdGVIYW5kbGVycyIsIm9yaWdpbmFsQ2FsbGJhY2siLCJ3cmFwcGVkQ2FsbGJhY2siLCJuZXdPblVwZGF0ZUhhbmRsZXJzIiwiaGFuZGxlciIsImdldFJlY29yZCIsInVwZGF0ZSIsImZvcm0iLCJvbkZvcm1DaGFuZ2UiLCJhZGRDaGFuZ2VMaXN0ZW5lciIsInJlbW92ZUNoYW5nZUxpc3RlbmVyIiwibmV3Rm9ybVN0YXRlIiwiZ2V0SW5pdGlhbFN0YXRlIiwiX2hhbmRsZU1vZGVsQ2hhbmdlIiwiX2Zvcm1NaXhpbiIsImNvbXBvbmVudFdpbGxNb3VudCIsIl9pc1VubW91bnRlZCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiaW5pdEZvcm0iLCJjYWxsYmFja2lmeSIsIl9pbml0U3RhdGUiLCJnbG9iYWxFcnJvciIsImdldENoYW5nZXMiLCJoYXNDaGFuZ2VzIiwiaGFzRXJyb3IiLCJlbnRyeSIsInBlbmRpbmdDbGVhckVycm9ycyIsIm9uZUZpZWxkIiwiZ2V0T3JpZ2luYWxEYXRhIiwiZ2V0VmFsaWRhdGlvbkVycm9ycyIsIm1lcmdlIiwiZ2V0RmllbGRFcnJvcnMiLCJnZXRHbG9iYWxFcnJvciIsImF1dG9TdWJtaXQiLCJhdXRvU3VibWl0SGFuZGxlciIsInN1Ym1pdERhdGEiLCJ2YWxpZGF0aW9uRXJyb3IiLCJjbGVhckZpZWxkQ2hhbmdlcyIsInBhcnRpYWxFcnJvckNoZWNraW5nRGVmYXVsdCIsInNldFBhcnRpYWxFcnJvckNoZWNraW5nIiwic3RvcCIsImNvbXBsZXRlZCIsImNvbXBsZXRlRXJyb3IiLCJvbkNvbXBsZXRlIiwiZXJyb3JzV2l0aFBhcnRpYWxDaGVja2luZyIsIlJFU0VUX01PREVMIiwiUkVTRVRfVklFV19DT0xVTU5TIiwiUkVTRVRfU09SVCIsIlJFU0VUX1ZJRVdfQ09VTlQiLCJSRVNFVF9TRUxFQ1RFRF9DT0xVTU5TIiwiUkVTRVRfQkxBQ0tfTElTVF9NT0RFIiwic29ydEVsZW1lbnRQcm9wIiwiY29sdW1uIiwiZGlyZWN0aW9uIiwic29ydFByb3AiLCJhcnJheU9mIiwiY29scyIsInZpZXdDb2x1bW5zIiwic2VsZWN0ZWQiLCJwYWdlIiwiZGVmYXVsdFZpZXdDb3VudCIsInZpZXdDb3VudCIsInZpZXdWYXJpYW50cyIsIm9uQ2hhbmdlVmlld0NvdW50Iiwib25FcnJvciIsIm9uUGFnZUxvYWQiLCJvbkluaXQiLCJvbkRlc3Ryb3kiLCJvblNlbGVjdGVkQ2hhbmdlIiwib25Tb3J0aW5nIiwibXVsdGlwbGVTb3J0aW5nIiwic2VsZWN0QWxsU3RhdHVzIiwib25Ub2dnbGVTZWxlY3RlZCIsIm9uVG9nZ2xlU2VsZWN0QWxsIiwiZGVmYXVsdFNvcnQiLCJwcm9wTmFtZSIsInJlc3QiLCJ2YWxpZFByb3AiLCJzb3J0Iiwic2F2ZUZ1bGxSZWNvcmQiLCJjcmVhdGVSZWFjdENsYXNzIiwiR3JpZENvbHVtbnNNaXhpbiIsImdyaWRNaXhpblBhZ2luYXRpb24iLCJncmlkTWl4aW5TdGF0dXNlcyIsImdyaWRNaXhpblNvcnRpbmciLCJncmlkTWl4aW5EYXRhIiwiZ3JpZE1peGluRWRpdG9yIiwiZ3JpZE1peGluVUkiLCJncmlkTWl4aW5TZWxlY3QiLCJnZXREZWZhdWx0UHJvcHMiLCJfdGhyb3R0bGVkVXBkYXRlVGFibGUiLCJ1cGRhdGVUYWJsZSIsIl92YWxpZGF0ZVJvdyIsImNvdW50Iiwic3RhdHVzTWFwIiwic3RhdHVzZXMiLCJfZ2V0RGVmYXVsdFNvcnQiLCJ0b3RhbHMiLCJyZWNvcmRzSW5mbyIsIm1haW5JZHMiLCJlZGl0b3IiLCJjb2xzV2l0aEVzY2FwZUVycm9ycyIsInNlbGVjdEJsYWNrTGlzdE1vZGUiLCJzaG93TG9hZGVyIiwiY29tcG9uZW50RGlkTW91bnQiLCJfb25SZWNvcmRzQ3JlYXRlZCIsIl9zZXREYXRhIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm9sZFByb3BzIiwicmVzZXQiLCJibGFja0xpc3RNb2RlIiwiX3NldFBhZ2UiLCJfcmVuZGVyQm9keSIsInJlbmRlclNjcm9sbGFibGVHcmlkIiwiZ3JpZENsYXNzTmFtZXMiLCJfZm9ybUhlYWRlciIsImNvbEdyb3VwIiwicm93IiwiY29sS2V5IiwiY29sIiwicm93S2V5IiwiX2dldEhlYWRlckNlbGxIVE1MIiwib25DbGljayIsIl9zb3J0Q29sIiwiX2hhbmRsZUhlYWRlckNlbGxDbGljayIsImNvbFNwYW4iLCJyb3dTcGFuIiwicm93cyIsIl9faHRtbCIsImxvYWRlciIsIl9oYW5kbGVCb2R5Q2xpY2siLCJ0Ym9keSIsInRCb2R5IiwiX3JlbmRlclRvdGFscyIsIl9yZW5kZXJQYWdpbmF0aW9uIiwicmVuZGVyR3JpZCIsImZvcm1hdENvbHVtbnMiLCJjb2x1bW5zIiwiZm9ybWF0dGVkQ29sdW1ucyIsImNvbHVtbklkIiwicGFyZW50IiwiZm9ybWF0UmVjb3JkIiwiZm9ybWF0dGVkUmVjb3JkIiwidmlld0NvbHVtbiIsImZvcm1hdERhdGEiLCJyZWNvcmRzIiwiZm9ybWF0dGVkIiwiZ2V0RmllbGRzIiwiYXNzZXJ0VmFsaWRWaWV3Q29sdW1ucyIsIm5vdEV4aXN0Q29sdW1ucyIsImdyaWRNb2RlbCIsImV4cG9ydGVyIiwibGltaXQiLCJvZmZzZXQiLCJ0b0NTViIsImNzdiIsImNzdkRhdGEiLCJtaW1lIiwiX2lzVmlld0NvbHVtbiIsImxhc3RQYXJlbnQiLCJET00iLCJfZ2V0Q29sdW1uQ2xhc3MiLCJjbGFzc05hbWVzIiwiYWRkSW5mbyIsIm9uQ2xpY2tSZWZzIiwic29ydFBhcmFtcyIsIl9nZXRTb3J0UGFyYW1zIiwiX2dldEZpZWxkc1RvUmVuZGVyIiwiX2lzRmllbGRBZmZlY3RzUmVuZGVyIiwiX2dldERlcGVuZGVudENvbHVtbnMiLCJkZXBlbmRlbnRDb2x1bW5zIiwiZGVwZW5kZW5jeUZpZWxkcyIsImNvbHVtbk5hbWUiLCJzb21lIiwicmVuZGVyRmllbGQiLCJHcmlkRGF0YU1peGluIiwicmVjb3JkSWQiLCJfZ2V0Um93SUQiLCJfc2V0Um93Q2hhbmdlcyIsInJlYWx0aW1lIiwic2F2ZSIsIm9uUmVhbHRpbWVTdWJtaXQiLCJfZ2V0UmVjb3JkV2l0aENoYW5nZXMiLCJfZ2V0UmVjb3JkQ2hhbmdlcyIsImdldFJlY29yZFdhcm5pbmdzIiwiZ2V0V2FybmluZ3MiLCJnZXRSZWNvcmRFcnJvcnMiLCJfZ2V0UmVjb3JkRXJyb3JzIiwiZ2V0TW9kZWwiLCJyb3dDaGFuZ2VzIiwicmVtb3ZlUmVjb3JkU3RhdHVzQWxsIiwiX2RhdGFPYmplY3RUb0FycmF5IiwidW5oYW5kbGVkRXJyb3JzIiwiX2lzTWFpblJvdyIsIl9yZW1vdmVSZWNvcmQiLCJlcnJvckhhbmRsZXIiLCJjbGVhclJlY29yZENoYW5nZXMiLCJfdXBkYXRlUm93IiwiY2xlYXJBbGxDaGFuZ2VzIiwiX2lzU29ydGluZ1Byb3BzTW9kZSIsIl9yZXNldFNvcnRpbmciLCJfc2V0UmVjb3JkRGF0YSIsIl9pc1JlY29yZExvYWRlZCIsIl9yZW5kZXJCaW5kcyIsIl9oYXNXYXJuaW5nIiwiX2NoZWNrRmllbGRJblZhbGlkYXRpb24iLCJfaGFzRXJyb3IiLCJfaXNDaGFuZ2VkIiwiX2NoZWNrV2FybmluZ3MiLCJfZ2V0QmluZFBhcmFtIiwiZWRpdG9yRmllbGQiLCJfZGF0YUFycmF5VG9PYmplY3QiLCJpbmZvIiwiX2dldEFkZGl0aW9uYWxJZHMiLCJhZGRpdGlvbmFsSWRzIiwiX2dldFJlY29yZHNXaXRoU3RhdHVzIiwicm93SWQiLCJ0b3VjaGVkQ2hhbmdlcyIsIl9yZW1vdmVUUiIsIl9jaGVja1ZhbGlkYXRvckVycm9ycyIsInJlY29yZElkcyIsIkdyaWRFZGl0b3JNaXhpbiIsIl9yZW5kZXJFZGl0b3IiLCJiaW5kcyIsImZvY3VzRG9uZSIsIl9pc0VkaXRvclZpc2libGUiLCJlZGl0b3JDb250ZXh0IiwibmV4dFZhbHVlIiwiX29uQ2hhbmdlRWRpdG9yIiwiX29uRm9jdXNFZGl0b3IiLCJfdW5tb3VudEVkaXRvciIsIl9vbkJsdXJFZGl0b3IiLCJvbktleVVwIiwiaXNTZWxlY3RlZCIsIl9yZW5kZXJDZWxsIiwiY29udGV4dCIsIkdyaWRQYWdpbmF0aW9uTWl4aW4iLCJoYW5kbGVDaGFuZ2VWaWV3Q291bnQiLCJfaXNWaWV3Q291bnRQcm9wc01vZGUiLCJzZXRWaWV3Q291bnQiLCJoYW5kbGVGaXJzdFBhZ2UiLCJzZXRQYWdlIiwiaGFuZGxlTGFzdFBhZ2UiLCJnZXRQYWdlc0NvdW50IiwiaGFuZGxlUHJldlBhZ2UiLCJoYW5kbGVOZXh0UGFnZSIsImhhbmRsZVJlZnJlc2hUYWJsZSIsImdldEN1cnJlbnRQYWdlIiwiZ2V0Q291bnRSZWNvcmRzIiwiX2NoZWNrUGFnZSIsImdldFZpZXdDb3VudCIsImNlaWwiLCJ2aWV3IiwiR3JpZFNlbGVjdE1peGluIiwic2V0U2VsZWN0ZWRSZWNvcmRzIiwic2VsZWN0ZWRJZHMiLCJmb3JjZVVwZGF0ZSIsIl9lbWl0Q2hhbmdlU2VsZWN0ZWROdW0iLCJzZWxlY3RSZWNvcmQiLCJpZ25vcmVCbGFja0xpc3QiLCJ1bnNlbGVjdFJlY29yZCIsInVuc2VsZWN0QWxsIiwic2VsZWN0QWxsIiwicG9zIiwidG9nZ2xlU2VsZWN0ZWQiLCJ0b2dnbGVTZWxlY3RBbGwiLCJpc1NlbGVjdEJsYWNrTW9kZSIsImdldEFsbFNlbGVjdGVkIiwiZ2V0U2VsZWN0QWxsU3RhdHVzIiwic2VsZWN0ZWRDb3VudCIsIkdyaWRTb3J0aW5nTWl4aW4iLCJnZXRTb3J0RGlyZWN0aW9uIiwicmVzZXRTb3J0aW5nIiwibmV3T3JkZXIiLCJjeWNsZSIsInNvcnRDeWNsZSIsIm5ld1NvcnRzIiwic29ydEVsZW1lbnQiLCJjdXJyZW50U29ydEluZGV4IiwiY3VycmVudFNvcnQiLCJzb3J0cyIsInNvcnRJbmRleCIsIl9zb3J0aW5nVG9BcnJheSIsInRvQXJyYXkiLCJHcmlkU3RhdHVzZXNNaXhpbiIsImFkZFJlY29yZFN0YXR1cyIsInN1bSIsIl9nZXRTdGF0dXNCaXQiLCJlbGVtIiwiYWRkUmVjb3JkU3RhdHVzR3JvdXAiLCJiaXQiLCJuZWVkVGFibGVVcGRhdGUiLCJyZW1vdmVSZWNvcmRTdGF0dXMiLCJoYXNSZWNvcmRTdGF0dXMiLCJnZXRBbGxXaXRoU3RhdHVzIiwiX2dldFJvd1N0YXR1c05hbWVzIiwibmFtZXMiLCJzdGF0dXNOYW1lIiwiaWRzIiwiR3JpZFVJTWl4aW4iLCJyZWZQYXJlbnQiLCJoYXNBdHRyaWJ1dGUiLCJfaGFuZGxlQ2VsbENsaWNrIiwicmVmIiwiY29sSWQiLCJjb2x1bW5Db25maWciLCJleHRyYSIsImV4dHJhUmVjb3JkcyIsImNlbGxIdG1sIiwiX2VzY2FwZVJlY29yZCIsImVzY2FwZWRSZWNvcmQiLCJuZWVkRXNjYXBpbmciLCJfZ2V0Q2VsbEhUTUwiLCJpbml0aWFsUmVjb3JkIiwiX2dldFJvd0hUTUwiLCJncmlkUm93Q2xhc3MiLCJodG1sIiwiZ3JpZENlbGxDbGFzcyIsImh0bWxFeHRyYSIsImh0bWxCb2R5Iiwic29ydGVkIiwiaW5uZXJIVE1MIiwicGFyYW0iLCJyZW1vdmVSb3ciLCJpc1Njcm9sbGFibGUiLCJ0b3RhbHNEaXNwbGF5ZWQiLCJ0b3RhbHNSb3dIVE1MIiwiY2VsbCIsImNlbGxIVE1MIiwiY2VsbENsYXNzTGlzdCIsImZpbHRlciIsIl9pZCIsIl9maWx0ZXJzSGFuZGxlciIsImZpbHRlcnNIYW5kbGVyIiwiX3JlcXVpcmVkRmllbGRzIiwicmVxdWlyZWRGaWVsZHMiLCJfdmFsaWRhdGVPbkNyZWF0ZSIsInZhbGlkYXRlT25DcmVhdGUiLCJjdXJyZW50RGF0YSIsImNyZWF0ZWRSZWNvcmRzSWRzIiwidXBkYXRlZFJlY29yZHMiLCJkZWxldGVkUmVjb3Jkc0lkcyIsIl9nZXRJRCIsImNsb25lZFJlY29yZCIsIl9jcmVhdGUiLCJzb3J0RmllbGQiLCJzb3J0TW9kZSIsInByZXYiLCJmaWx0ZXJzIiwic3RhcnQiLCJlbmQiLCJfZ2V0UmVjb3JkQnlJRCIsInJldHVyblJlY29yZCIsImFwcGxpZWRDaGFuZ2VzIiwiR3JpZEV4cHJlc3NBcGkiLCJyZWFkR2V0IiwiX2NvbW1vblJlYWRNaWRkbGV3YXJlIiwicmVhZFBvc3QiLCJwdXQiLCJ1c2UiLCJzZW5kIiwiTUFYX1VSSV9MRU5HVEgiLCJfdmFsaWRhdGVPbkNsaWVudCIsInZhbGlkYXRlT25DbGllbnQiLCJxdWVyeVVybCIsIl9nZXRRdWVyeVVybCIsIl9yZWFkUG9zdFJlcXVlc3QiLCJwYXRobmFtZSIsInJlcXVlc3RCb2R5IiwiTGlzdEV4cHJlc3NBcGkiLCJ2IiwiTGlzdFhNTEh0dHBSZXF1ZXN0TW9kZWwiLCJhcGlVUkwiLCJfYXBpVVJMIiwiYnJvd3Nlck1vZHVsZSIsImdyaWRFeHByZXNzQXBpIiwibGlzdEV4cHJlc3NBcGkiLCJmb3JtRXhwcmVzc0FwaSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELE87QUNWQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUEwQyxnQ0FBZ0M7QUFDMUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRUFBd0Qsa0JBQWtCO0FBQzFFO0FBQ0EseURBQWlELGNBQWM7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUF5QyxpQ0FBaUM7QUFDMUUsd0hBQWdILG1CQUFtQixFQUFFO0FBQ3JJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7OztBQUdBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNsRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FB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Ozs7Ozs7QUFJSW0wQixzRkFBZixFOzs7Ozs7Ozs7Ozs7QUN6RUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUFHLGdEQUFhLENBQUNDLGNBQWQsR0FBK0JyQixtRUFBYyxDQUFDcDRCLE1BQTlDO0FBQ0F3NUIsZ0RBQWEsQ0FBQ0UsY0FBZCxHQUErQlAsNERBQWMsQ0FBQ241QixNQUE5QztBQUNBdzVCLGdEQUFhLENBQUNHLGNBQWQsR0FBK0JyZCw0REFBYyxDQUFDdGMsTUFBOUM7QUFDQXc1QixnREFBYSxDQUFDNU4sS0FBZCxHQUFzQkEsb0VBQXRCO0FBRWU0TiwrR0FBZixFOzs7Ozs7Ozs7OztBQ25CQSx5RTs7Ozs7Ozs7Ozs7QUNBQSxvRTs7Ozs7Ozs7Ozs7QUNBQSxrRTs7Ozs7Ozs7Ozs7QUNBQSwrRDs7Ozs7Ozs7Ozs7QUNBQSxrRTs7Ozs7Ozs7Ozs7QUNBQSwyRDs7Ozs7Ozs7Ozs7QUNBQSxrRTs7Ozs7Ozs7Ozs7QUNBQSw0RDs7Ozs7Ozs7Ozs7QUNBQSxnRTs7Ozs7Ozs7Ozs7QUNBQSwyRTs7Ozs7Ozs7Ozs7QUNBQSw2RTs7Ozs7Ozs7Ozs7QUNBQSxpRTs7Ozs7Ozs7Ozs7QUNBQSxxRTs7Ozs7Ozs7Ozs7QUNBQSwwRDs7Ozs7Ozs7Ozs7QUNBQSx1RDs7Ozs7Ozs7Ozs7QUNBQSx1Qzs7Ozs7Ozs7Ozs7QUNBQSwrQzs7Ozs7Ozs7Ozs7QUNBQSwwQzs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSx1Qzs7Ozs7Ozs7Ozs7QUNBQSxrQzs7Ozs7Ozs7Ozs7QUNBQSw2Qzs7Ozs7Ozs7Ozs7QUNBQSxzQzs7Ozs7Ozs7Ozs7QUNBQSxnRDs7Ozs7Ozs7Ozs7QUNBQSxnQzs7Ozs7Ozs7Ozs7QUNBQSxnQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlVJS2VybmVsXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlVJS2VybmVsXCJdID0gZmFjdG9yeSgpO1xufSkoZ2xvYmFsLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9ub2RlLmpzXCIpO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0ICcuL2NvbW1vbi9zZXRJbW1lZGlhdGUnO1xuaW1wb3J0IHZhcmlhYmxlcyBmcm9tICcuL2NvbW1vbi92YXJpYWJsZXMnO1xuaW1wb3J0IGFwcGx5R3JpZEZpbHRlcnMgZnJvbSAnLi9ncmlkL21vZGVscy9hcHBseUdyaWRGaWx0ZXJzJztcbmltcG9ydCBHcmlkQ29tcG9uZW50IGZyb20gJy4vZ3JpZC9Db21wb25lbnQnO1xuaW1wb3J0IEZvcm1TZXJ2aWNlIGZyb20gJy4vZm9ybS9Gb3JtU2VydmljZSc7XG5pbXBvcnQgY29ubmVjdEZvcm0gZnJvbSAnLi9mb3JtL2Nvbm5lY3RGb3JtJztcbmltcG9ydCBWYWxpZGF0b3IgZnJvbSAnLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0b3InO1xuaW1wb3J0IGV4cG9ydEdyaWREYXRhIGZyb20gJy4vZ3JpZC9leHBvcnQvZXhwb3J0R3JpZERhdGEnO1xuaW1wb3J0IHRvSlNPTiBmcm9tICcuL2dyaWQvZXhwb3J0L2V4cG9ydGVycy90b0pTT04nO1xuaW1wb3J0IFZhbGlkYXRpb25FcnJvcnMgZnJvbSAnLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0aW9uRXJyb3JzJztcbmltcG9ydCBHcmlkWGhyTW9kZWwgZnJvbSAnLi9ncmlkL21vZGVscy9HcmlkWGhyTW9kZWwnO1xuaW1wb3J0IEdyaWRDb2xsZWN0aW9uTW9kZWwgZnJvbSAnLi9ncmlkL21vZGVscy9HcmlkQ29sbGVjdGlvbk1vZGVsJztcbmltcG9ydCBFdmVudHMgZnJvbSAnLi9jb21tb24vRXZlbnRzJztcbmltcG9ydCBGb3JtTW9kZWwgZnJvbSAnLi9mb3JtL0Zvcm1Nb2RlbCc7XG5pbXBvcnQgRm9ybVhock1vZGVsIGZyb20gJy4vZm9ybS9Gb3JtWGhyTW9kZWwnO1xuaW1wb3J0IExpc3RYaHJNb2RlbCBmcm9tICcuL2xpc3QvTGlzdFhock1vZGVsJztcbmltcG9ydCBBYnN0cmFjdEZvcm1Nb2RlbCBmcm9tICcuL2Zvcm0vQWJzdHJhY3RGb3JtTW9kZWwnO1xuaW1wb3J0IEFic3RyYWN0R3JpZE1vZGVsIGZyb20gJy4vZ3JpZC9tb2RlbHMvQWJzdHJhY3RHcmlkTW9kZWwnO1xuaW1wb3J0IEFic3RyYWN0TGlzdE1vZGVsIGZyb20gJy4vbGlzdC9BYnN0cmFjdExpc3RNb2RlbCc7XG5pbXBvcnQgVG9Gb3JtVXBkYXRlIGZyb20gJy4vZm9ybS9hZGFwdGVycy9HcmlkVG9Gb3JtVXBkYXRlJztcbmltcG9ydCBUb0Zvcm1DcmVhdGUgZnJvbSAnLi9mb3JtL2FkYXB0ZXJzL0dyaWRUb0Zvcm1DcmVhdGUnO1xuaW1wb3J0IFNlbGVjdCBmcm9tICcuL2VkaXRvcnMvU2VsZWN0JztcbmltcG9ydCBTdWdnZXN0Qm94IGZyb20gJy4vZWRpdG9ycy9TdWdnZXN0Qm94JztcbmltcG9ydCBEYXRlUGlja2VyIGZyb20gJy4vZWRpdG9ycy9EYXRlUGlja2VyJztcbmltcG9ydCBDaGVja2JveCBmcm9tICcuL2VkaXRvcnMvQ2hlY2tib3gnO1xuaW1wb3J0IE51bWJlciBmcm9tICcuL2VkaXRvcnMvTnVtYmVyJztcbmltcG9ydCBBcmd1bWVudHNFcnJvciBmcm9tICcuL2NvbW1vbi9Bcmd1bWVudHNFcnJvcic7XG5pbXBvcnQgVGhyb3R0bGVFcnJvciBmcm9tICcuL2NvbW1vbi9UaHJvdHRsZUVycm9yJztcbmltcG9ydCBib29sZWFuVmFsaWRhdGlvblJ1bGUgZnJvbSAnLi9jb21tb24vdmFsaWRhdGlvbi9ydWxlcy9ib29sZWFuJztcbmltcG9ydCBkYXRlVmFsaWRhdGlvblJ1bGUgZnJvbSAnLi9jb21tb24vdmFsaWRhdGlvbi9ydWxlcy9kYXRlJztcbmltcG9ydCBlbnVtVmFsaWRhdGlvblJ1bGUgZnJvbSAnLi9jb21tb24vdmFsaWRhdGlvbi9ydWxlcy9lbnVtJztcbmltcG9ydCBzZXRWYWxpZGF0aW9uUnVsZSBmcm9tICcuL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL3NldCc7XG5pbXBvcnQgZmxvYXRWYWxpZGF0aW9uUnVsZSBmcm9tICcuL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL2Zsb2F0JztcbmltcG9ydCByZWdFeHBWYWxpZGF0aW9uUnVsZSBmcm9tICcuL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL3JlZ0V4cCc7XG5pbXBvcnQgbm90TnVsbFZhbGlkYXRpb25SdWxlIGZyb20gJy4vY29tbW9uL3ZhbGlkYXRpb24vcnVsZXMvbm90TnVsbCc7XG5pbXBvcnQgbnVtYmVyVmFsaWRhdGlvblJ1bGUgZnJvbSAnLi9jb21tb24vdmFsaWRhdGlvbi9ydWxlcy9udW1iZXInO1xuaW1wb3J0IG5vdEVtcHR5VmFsaWRhdGlvblJ1bGUgZnJvbSAnLi9jb21tb24vdmFsaWRhdGlvbi9ydWxlcy9ub3RFbXB0eSc7XG5pbXBvcnQgRm9ybU1peGluIGZyb20gJy4vZm9ybS9taXhpbic7XG5cbmNvbnN0IFVJS2VybmVsID0ge1xuICBhcHBseUdyaWRGaWx0ZXJzLFxuICBHcmlkOiBHcmlkQ29tcG9uZW50LFxuICBGb3JtOiBGb3JtU2VydmljZSxcbiAgY29ubmVjdEZvcm0sXG4gIGNyZWF0ZVZhbGlkYXRvcjogVmFsaWRhdG9yLmNyZWF0ZSxcbiAgZXhwb3J0R3JpZERhdGEsXG4gIHRvSlNPTixcbiAgVmFsaWRhdGlvbkVycm9ycyxcbiAgTW9kZWxzOiB7XG4gICAgR3JpZDoge1xuICAgICAgWGhyOiBHcmlkWGhyTW9kZWwsXG4gICAgICBDb2xsZWN0aW9uOiBHcmlkQ29sbGVjdGlvbk1vZGVsXG4gICAgfSxcbiAgICBFdmVudHMsXG4gICAgRm9ybTogRm9ybU1vZGVsLFxuICAgIEZvcm1YaHI6IEZvcm1YaHJNb2RlbCxcbiAgICBMaXN0OiB7XG4gICAgICBYaHI6IExpc3RYaHJNb2RlbFxuICAgIH1cbiAgfSxcbiAgQWJzdHJhY3RNb2RlbHM6IHtcbiAgICBGb3JtOiBBYnN0cmFjdEZvcm1Nb2RlbCxcbiAgICBHcmlkOiBBYnN0cmFjdEdyaWRNb2RlbCxcbiAgICBMaXN0OiBBYnN0cmFjdExpc3RNb2RlbFxuICB9LFxuICBBZGFwdGVyczoge1xuICAgIEdyaWQ6IHtcbiAgICAgIFRvRm9ybVVwZGF0ZSxcbiAgICAgIFRvRm9ybUNyZWF0ZVxuICAgIH1cbiAgfSxcbiAgRWRpdG9yczoge1xuICAgIFNlbGVjdCxcbiAgICBTdWdnZXN0Qm94LFxuICAgIERhdGVQaWNrZXIsXG4gICAgQ2hlY2tib3gsXG4gICAgTnVtYmVyXG4gIH0sXG4gIEFyZ3VtZW50c0Vycm9yLFxuICBUaHJvdHRsZUVycm9yLFxuICBWYWxpZGF0b3JzOiB7XG4gICAgYm9vbGVhbjogYm9vbGVhblZhbGlkYXRpb25SdWxlLFxuICAgIGRhdGU6IGRhdGVWYWxpZGF0aW9uUnVsZSxcbiAgICBlbnVtOiBlbnVtVmFsaWRhdGlvblJ1bGUsXG4gICAgc2V0OiBzZXRWYWxpZGF0aW9uUnVsZSxcbiAgICBmbG9hdDogZmxvYXRWYWxpZGF0aW9uUnVsZSxcbiAgICByZWdFeHA6IHJlZ0V4cFZhbGlkYXRpb25SdWxlLFxuICAgIG5vdE51bGw6IG5vdE51bGxWYWxpZGF0aW9uUnVsZSxcbiAgICBudW1iZXI6IG51bWJlclZhbGlkYXRpb25SdWxlLFxuICAgIG5vdEVtcHR5OiBub3RFbXB0eVZhbGlkYXRpb25SdWxlXG4gIH0sXG4gIE1peGluczoge1xuICAgIEZvcm06IEZvcm1NaXhpblxuICB9LFxuICBfZ2V0OiB2YXJpYWJsZXMuZ2V0LFxuICBfc2V0OiB2YXJpYWJsZXMuc2V0XG59O1xuXG5leHBvcnQgZGVmYXVsdCBVSUtlcm5lbDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7Z2V0U3RhY2t9IGZyb20gJy4vdXRpbHMnO1xuXG5mdW5jdGlvbiBBcmd1bWVudHNFcnJvcihtZXNzYWdlKSB7XG4gIEVycm9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgdGhpcy5uYW1lID0gJ0FyZ3VtZW50c0Vycm9yJztcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5zdGF0dXMgPSB0aGlzLnN0YXR1c0NvZGUgPSA0MjI7XG4gIHRoaXMuc3RhY2sgPSBnZXRTdGFjaygpO1xufVxuXG5Bcmd1bWVudHNFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5Bcmd1bWVudHNFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBcmd1bWVudHNFcnJvcjtcblxuZXhwb3J0IGRlZmF1bHQgQXJndW1lbnRzRXJyb3I7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge3dpdGhvdXR9IGZyb20gJy4vdXRpbHMnO1xuXG4vKipcbiAqIEV2ZW50cyBjb250cm9sIG1vZGVsXG4gKi9cbmNsYXNzIEV2ZW50c01vZGVsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fc3Vic2NyaWJlcnMgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gaW5uZXIgbW9kZWwgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgZXZlbnQgICBFdmVudCBJRFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgICBjYiAgICAgIENhbGxCYWNrIGZ1bmN0aW9uXG4gICAqL1xuICBvbihldmVudCwgY2IpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XSA9IFtdO1xuICAgIH1cbiAgICB0aGlzLl9zdWJzY3JpYmVyc1tldmVudF0ucHVzaChjYik7XG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgZnJvbSBpbm5lciBtb2RlbCBldmVudFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gICAgICBldmVudCAgIEV2ZW50IElEXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICAgIGNiICAgICAgQ2FsbEJhY2sgZnVuY3Rpb25cbiAgICovXG4gIG9mZihldmVudCwgY2IpIHtcbiAgICBpZiAodGhpcy5fc3Vic2NyaWJlcnNbZXZlbnRdKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVyc1tldmVudF0gPSB3aXRob3V0KHRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XSwgY2IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyIGlubmVyIG1vZGVsIGV2ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSAgZXZlbnQgICBFdmVudCBJRFxuICAgKiBAcGFyYW0gey4uLip9ICAgIHBhcmFtc1xuICAgKi9cbiAgdHJpZ2dlcihldmVudCwgLi4ucGFyYW1zKSB7XG4gICAgaWYgKCF0aGlzLl9zdWJzY3JpYmVyc1tldmVudF0gfHwgIXRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBzdWJzY3JpYmVyIG9mIHRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XSkge1xuICAgICAgc3Vic2NyaWJlciguLi5wYXJhbXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byB0aGUgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IG5hbWVcbiAgICovXG4gIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlcnNbZXZlbnRdID8gdGhpcy5fc3Vic2NyaWJlcnNbZXZlbnRdLmxlbmd0aCA6IDA7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IG5hbWVcbiAgICovXG4gIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICAgIHRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XSA9IFtdO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEV2ZW50c01vZGVsO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7b21pdH0gZnJvbSAnLi91dGlscyc7XG5cbmNvbnN0IHBvcnRhbENsYXNzID0gJ19fcG9ydGFsJztcblxuY2xhc3MgUG9ydGFsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5fb25Eb2N1bWVudE1vdXNlRG93biA9IHRoaXMuX29uRG9jdW1lbnRNb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkRvY3VtZW50TW91c2VTY3JvbGwgPSB0aGlzLl9vbkRvY3VtZW50TW91c2VTY3JvbGwuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uRG9jdW1lbnRNb3VzZURvd24sIGZhbHNlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vbkRvY3VtZW50TW91c2VTY3JvbGwsIHRydWUpO1xuXG4gICAgY29uc3QgcG9ydGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwb3J0YWwpO1xuICAgIHBvcnRhbC5jbGFzc05hbWUgPSBwb3J0YWxDbGFzcztcbiAgICB0aGlzLnBvcnRhbCA9IHBvcnRhbDtcbiAgICB0aGlzLnJlbmRlclBvcnRhbCgpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb25Eb2N1bWVudE1vdXNlRG93biwgZmFsc2UpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX29uRG9jdW1lbnRNb3VzZVNjcm9sbCwgdHJ1ZSk7XG5cbiAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKHRoaXMucG9ydGFsKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMucG9ydGFsKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB0aGlzLnJlbmRlclBvcnRhbCgpO1xuICB9XG5cbiAgX2lzRG9jdW1lbnRFdmVudE93bmVyKHRhcmdldCkge1xuICAgIHJldHVybiAodGFyZ2V0ID09PSB0aGlzLnBvcnRhbCB8fCB0aGlzLnBvcnRhbC5jb250YWlucyh0YXJnZXQpKTtcbiAgfVxuXG4gIF9vbkRvY3VtZW50TW91c2VEb3duKGUpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkRvY3VtZW50TW91c2VEb3duKSB7XG4gICAgICB0aGlzLnByb3BzLm9uRG9jdW1lbnRNb3VzZURvd24oZSwgdGhpcy5faXNEb2N1bWVudEV2ZW50T3duZXIoZS50YXJnZXQpKTtcbiAgICB9XG4gIH1cblxuICBfb25Eb2N1bWVudE1vdXNlU2Nyb2xsKGUpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkRvY3VtZW50TW91c2VTY3JvbGwpIHtcbiAgICAgIHRoaXMucHJvcHMub25Eb2N1bWVudE1vdXNlU2Nyb2xsKGUsIHRoaXMuX2lzRG9jdW1lbnRFdmVudE93bmVyKGUudGFyZ2V0KSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyUG9ydGFsKCkge1xuICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgIDxkaXZcbiAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcywgWydvbkRvY3VtZW50TW91c2VEb3duJywgJ29uRG9jdW1lbnRNb3VzZVNjcm9sbCddKX1cbiAgICAgID5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj4sXG4gICAgICB0aGlzLnBvcnRhbFxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuUG9ydGFsLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICBvbkRvY3VtZW50TW91c2VEb3duOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25Eb2N1bWVudE1vdXNlU2Nyb2xsOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBvcnRhbDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7Z2V0U3RhY2t9IGZyb20gJy4vdXRpbHMnO1xuXG5mdW5jdGlvbiBUaHJvdHRsZUVycm9yKCkge1xuICBFcnJvci5jYWxsKHRoaXMpO1xuXG4gIHRoaXMubmFtZSA9ICdUaHJvdHRsZUVycm9yJztcbiAgdGhpcy5tZXNzYWdlID0gJ1RvbyBtYW55IGZ1bmN0aW9uIGNhbGwnO1xuICB0aGlzLnN0YWNrID0gZ2V0U3RhY2soKTtcbn1cblxuVGhyb3R0bGVFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5UaHJvdHRsZUVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRocm90dGxlRXJyb3I7XG5cblRocm90dGxlRXJyb3IuY3JlYXRlV2l0aFBhcmVudFN0YWNrID0gZnVuY3Rpb24gKHN0YWNrKSB7XG4gIGNvbnN0IGVyciA9IG5ldyBUaHJvdHRsZUVycm9yKCk7XG4gIGVyci5zdGFjayArPSAnXFxuJyArIHN0YWNrO1xuICByZXR1cm4gZXJyO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVGhyb3R0bGVFcnJvcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7d2Fybn0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcblxuY29uc3QgZnVuY3Rpb25zTmFtZXMgPSBbXTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChmdW5jLCBoaWRlV2FybmluZyA9IGZhbHNlKSB7XG4gIGNvbnN0IGZ1bmNOYW1lID0gZnVuYy5uYW1lO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgIGNvbnN0IGxhc3RBcmd1bWVudEluZGV4ID0gYXJncy5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGNiID0gYXJnc1tsYXN0QXJndW1lbnRJbmRleF07XG5cbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nICYmICFjYi5fX2lnbm9yZVVJS2VybmVsV2FybmluZykge1xuICAgICAgaWYgKCFmdW5jdGlvbnNOYW1lcy5pbmNsdWRlcyhmdW5jTmFtZSkgJiYgIWhpZGVXYXJuaW5nKSB7XG4gICAgICAgIHdhcm4oYFlvdSBhcmUgdXNpbmcgY2FsbGJhY2sgaW46ICcke2Z1bmNOYW1lfScuIFVzZSBwcm9taXNlIGluc3RlYWQuXFxuJHtKU09OLnN0cmluZ2lmeShhcmdzKX1gKTtcbiAgICAgICAgZnVuY3Rpb25zTmFtZXMucHVzaChmdW5jTmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuKSB7XG4gICAgICAgIHJlc3VsdFxuICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgY2IobnVsbCwgZGF0YSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGNiKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfTtcbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB2YXJpYWJsZXMgZnJvbSAnLi92YXJpYWJsZXMnO1xuaW1wb3J0IHhociBmcm9tICd4aHInO1xuXG5mdW5jdGlvbiBkZWZhdWx0WGhyKHNldHRpbmdzKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgeGhyKHNldHRpbmdzLCAoZXJyLCByZXNwb25zZSwgYm9keSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDIwMCkge1xuICAgICAgICByZXNvbHZlKGJvZHkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghZXJyKSB7XG4gICAgICAgIGVyciA9IG5ldyBFcnJvcigpO1xuICAgICAgICBlcnIuc3RhdHVzQ29kZSA9IHJlc3BvbnNlLnN0YXR1c0NvZGU7XG4gICAgICAgIGVyci5tZXNzYWdlID0gJ1N0YXR1cyBDb2RlOiAnICsgZXJyLnN0YXR1c0NvZGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChib2R5KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICAgICAgZXJyLm1lc3NhZ2UgPSBwYXJzZWRCb2R5Lm1lc3NhZ2UgfHwgYm9keTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGVyci5tZXNzYWdlID0gYm9keTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmlmICghdmFyaWFibGVzLmdldCgneGhyJykpIHtcbiAgdmFyaWFibGVzLnNldCgneGhyJywgZGVmYXVsdFhocik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IChzZXR0aW5ncykgPT4gdmFyaWFibGVzLmdldCgneGhyJykoc2V0dGluZ3MpO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuc2V0SW1tZWRpYXRlICE9PSAnZnVuY3Rpb24nKSB7XG4gIHdpbmRvdy5zZXRJbW1lZGlhdGUgPSAoKCgpID0+IHtcbiAgICBsZXQgaGVhZCA9IHt9O1xuICAgIGxldCB0YWlsID0gaGVhZDtcbiAgICBjb25zdCBJRCA9IE1hdGgucmFuZG9tKCk7XG5cbiAgICBmdW5jdGlvbiBvbk1lc3NhZ2UoZSkge1xuICAgICAgaWYgKGUuZGF0YSAhPT0gSUQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgIGNvbnN0IGZ1bmMgPSBoZWFkLmZ1bmM7XG4gICAgICBkZWxldGUgaGVhZC5mdW5jO1xuICAgICAgZnVuYygpO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmF0dGFjaEV2ZW50KCdvbm1lc3NhZ2UnLCBvbk1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gd2luZG93LnBvc3RNZXNzYWdlID8gZnVuYyA9PiB7XG4gICAgICB0YWlsID0gdGFpbC5uZXh0ID0ge2Z1bmM6IGZ1bmN9O1xuICAgICAgd2luZG93LnBvc3RNZXNzYWdlKElELCAnKicpO1xuICAgIH0gOiBmdW5jID0+IHtcbiAgICAgIHNldFRpbWVvdXQoZnVuYywgMCk7XG4gICAgfTtcbiAgfSkoKSk7XG59XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge3dhcm59IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5cbmNvbnN0IGZ1bmN0aW9uc05hbWVzID0gW107XG5cbmZ1bmN0aW9uIHRvUHJvbWlzZShmdW5jLCBoaWRlV2FybmluZykge1xuICBjb25zdCBmdW5jTmFtZSA9IGZ1bmMubmFtZTtcblxuICBmdW5jdGlvbiBwcm9taXNlV2Fybih0ZXh0KSB7XG4gICAgaWYgKCFoaWRlV2FybmluZykge1xuICAgICAgaWYgKCFmdW5jdGlvbnNOYW1lcy5pbmNsdWRlcyhmdW5jTmFtZSkpIHtcbiAgICAgICAgd2Fybih0ZXh0KTtcbiAgICAgICAgZnVuY3Rpb25zTmFtZXMucHVzaChmdW5jTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICguLi5tYWluQXJndW1lbnRzKSB7XG4gICAgbGV0IHByb21pc2U7XG4gICAgY29uc3QgY2FsbGJhY2tQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZnVuY3Rpb24gdG9Qcm9taXNlQ2FsbGJhY2soZXJyLCBkYXRhKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgIH1cbiAgICAgIHRvUHJvbWlzZUNhbGxiYWNrLl9faWdub3JlVUlLZXJuZWxXYXJuaW5nID0gdHJ1ZTtcbiAgICAgIG1haW5Bcmd1bWVudHMucHVzaCh0b1Byb21pc2VDYWxsYmFjayk7XG4gICAgICBwcm9taXNlID0gZnVuYyguLi5tYWluQXJndW1lbnRzKTtcbiAgICB9KTtcblxuICAgIGlmIChwcm9taXNlKSB7XG4gICAgICBpZiAocHJvbWlzZS50aGVuICYmIHByb21pc2UuY2F0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9XG4gICAgICBwcm9taXNlV2FybihcbiAgICAgICAgYFRoZSByZXR1cm4gdmFsdWUgaXMgbm90IGEgUHJvbWlzZSBpbiAnJHtmdW5jTmFtZX0nLlxcbmAgK1xuICAgICAgICBgQXJndW1lbnRzOiAke0pTT04uc3RyaW5naWZ5KG1haW5Bcmd1bWVudHMpfVxcbmAgK1xuICAgICAgICBgUmV0dXJuczogJHtKU09OLnN0cmluZ2lmeShwcm9taXNlKX1gXG4gICAgICApO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrUHJvbWlzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbWlzZVdhcm4oXG4gICAgICAgIGBZb3UgYXJlIHVzaW5nIGNhbGxiYWNrIGluOiAnJHtmdW5jTmFtZX0nLiBVc2UgcHJvbWlzZSBpbnN0ZWFkLlxcbmAgK1xuICAgICAgICBgQXJndW1lbnRzOiAke0pTT04uc3RyaW5naWZ5KG1haW5Bcmd1bWVudHMpfWBcbiAgICAgICk7XG4gICAgICByZXR1cm4gY2FsbGJhY2tQcm9taXNlO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdG9Qcm9taXNlO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IFRocm90dGxlRXJyb3IgZnJvbSAnLi9UaHJvdHRsZUVycm9yJztcblxuZnVuY3Rpb24gYmFzZUNsb25lKG9iaiwgaXNEZWVwKSB7XG4gIGxldCBjbG9uZWQ7XG4gIGNvbnN0IGVzNnR5cGVzID0gWydbb2JqZWN0IFNldF0nLCAnW29iamVjdCBXZWFrU2V0XScsICdbb2JqZWN0IE1hcF0nLCAnW29iamVjdCBXZWFrTWFwXSddO1xuXG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIE9iamVjdCkgfHwgb2JqIGluc3RhbmNlb2YgRGF0ZSB8fCBvYmogaW5zdGFuY2VvZiBGdW5jdGlvbiB8fCBvYmogaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIGNsb25lZCA9IFtdO1xuICAgIGZvciAoY29uc3QgZWwgb2Ygb2JqKSB7XG4gICAgICBjbG9uZWQucHVzaChpc0RlZXAgPyBiYXNlQ2xvbmUoZWwsIHRydWUpIDogZWwpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChlczZ0eXBlcy5pbmNsdWRlcyhvYmoudG9TdHJpbmcoKSkpIHtcbiAgICBjbG9uZWQgPSBuZXcgb2JqLmNvbnN0cnVjdG9yKG9iaik7XG4gIH0gZWxzZSB7XG4gICAgY2xvbmVkID0ge307XG4gICAgZm9yIChjb25zdCBbZmllbGQsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvYmopKSB7XG4gICAgICBjbG9uZWRbZmllbGRdID0gaXNEZWVwID8gYmFzZUNsb25lKHZhbHVlLCB0cnVlKSA6IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2xvbmVkO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHR3byBhcnJheXMgaW50ZXJzZWN0aW9uIGV4aXN0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlcnNlY3Rpb24oYSwgYikge1xuICBsZXQgYztcbiAgaWYgKGEubGVuZ3RoID4gYi5sZW5ndGgpIHtcbiAgICBjID0gYTtcbiAgICBhID0gYjtcbiAgICBiID0gYztcbiAgfVxuICBmb3IgKGNvbnN0IGVsIG9mIGEpIHtcbiAgICBpZiAoaW5kZXhPZihiLCBlbCkgPiAtMSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBEZWZpbmUgb2JqZWN0IHNpemVcbiAqXG4gKiBAcGFyYW0gICB7T2JqZWN0fSAgICBvYmogICAgIE9iamVjdFxuICogQHJldHVybiAge251bWJlcn0gICAgT2JqZWN0IHNpemVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpemUob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aDtcbn1cblxuLyoqXG4gKiBFbGVtZW50IHBvc2l0aW9uIChpc0VxdWFsIGNoZWNraW5nKVxuICpcbiAqIEBwYXJhbSAgIHtBcnJheX0gICBhcnIgICBBcnJheVxuICogQHBhcmFtICAgeyp9ICAgICAgIGl0ZW0gIEVsZW1lbnQgaXRlbVxuICogQHJldHVybiAge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4T2YoYXJyLCBpdGVtKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlzRXF1YWwoYXJyW2ldLCBpdGVtKSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMpIHtcbiAgbGV0IHdvcmtlZCA9IGZhbHNlO1xuICBsZXQgbmV4dEFyZ3VtZW50cztcbiAgbGV0IG5leHRSZXNvbHZlO1xuICBsZXQgbmV4dFJlamVjdDtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHRocm90dGxlQ2FsbGJhY2soZnVuYykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRocm90dGxlUHJvbWlzZShmdW5jKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfTtcblxuICAvLyBpdCBpcyBzdGlsbCB1c2VkIGluIEZvcm1NaXhpbi5fdmFsaWRhdGVGb3JtIHNvIHdlIGNhbid0IHJlbW92ZSBpdCB5ZXRcbiAgZnVuY3Rpb24gdGhyb3R0bGVDYWxsYmFjayhmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJ1bigpIHtcbiAgICAgIGNvbnN0IGN0eCA9IHRoaXM7IC8vIEZ1bmN0aW9uIGNvbnRleHRcbiAgICAgIGNvbnN0IGNiID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IGFyZ3VtZW50c0FycmF5ID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gICAgICBpZiAod29ya2VkKSB7XG4gICAgICAgIC8vIFNldCBhcyB0aGUgbmV4dCBjYWxsXG4gICAgICAgIG5leHRBcmd1bWVudHMgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgd29ya2VkID0gdHJ1ZTtcblxuICAgICAgY29uc3QgY2JXcmFwcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIW5leHRXb3JrZXIoKSAmJiB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjYi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGFyZ3VtZW50c0FycmF5W2FyZ3VtZW50c0FycmF5Lmxlbmd0aCAtIDFdID0gY2JXcmFwcGVyO1xuICAgICAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50c0FycmF5LmNvbmNhdChuZXh0V29ya2VyKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50c0FycmF5LmNvbmNhdChjYldyYXBwZXIsIG5leHRXb3JrZXIpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbmV4dFdvcmtlcigpIHtcbiAgICAgICAgd29ya2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChuZXh0QXJndW1lbnRzKSB7XG4gICAgICAgICAgY29uc3QgYXJncyA9IG5leHRBcmd1bWVudHM7XG4gICAgICAgICAgbmV4dEFyZ3VtZW50cyA9IG51bGw7XG4gICAgICAgICAgcnVuLmFwcGx5KGN0eCwgYXJncyk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB0aHJvdHRsZVByb21pc2UoZnVuYykge1xuICAgIC8qKlxuICAgICAqIEB0aHJvd3Mge1Rocm90dGxlRXJyb3J9IFRvbyBtYW55IGZ1bmN0aW9uIGNhbGxcbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gcnVuKC4uLmFyZ3MpIHtcbiAgICAgIGNvbnN0IHBhcmVudFN0YWNrID0gZ2V0U3RhY2soMik7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGlmICh3b3JrZWQpIHtcbiAgICAgICAgICBpZiAobmV4dEFyZ3VtZW50cykge1xuICAgICAgICAgICAgbmV4dFJlamVjdChUaHJvdHRsZUVycm9yLmNyZWF0ZVdpdGhQYXJlbnRTdGFjayhwYXJlbnRTdGFjaykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0QXJndW1lbnRzID0gYXJncztcbiAgICAgICAgICBuZXh0UmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgbmV4dFJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB3b3JrZWQgPSB0cnVlO1xuXG4gICAgICAgIGZ1bmMuYXBwbHkodGhpcywgYXJncylcbiAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgd29ya2VkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAobmV4dEFyZ3VtZW50cykge1xuICAgICAgICAgICAgICBuZXh0UmVzb2x2ZShydW4uYXBwbHkodGhpcywgbmV4dEFyZ3VtZW50cykpO1xuICAgICAgICAgICAgICBuZXh0QXJndW1lbnRzID0gbnVsbDtcblxuICAgICAgICAgICAgICByZWplY3QoVGhyb3R0bGVFcnJvci5jcmVhdGVXaXRoUGFyZW50U3RhY2socGFyZW50U3RhY2spKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICB3b3JrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VWYWx1ZUZyb21FdmVudChldmVudCkge1xuICBpZiAoXG4gICAgZXZlbnQgJiYgdHlwZW9mIGV2ZW50ID09PSAnb2JqZWN0JyAmJlxuICAgIGV2ZW50LnRhcmdldCAmJiBbJ0lOUFVUJywgJ1RFWFRBUkVBJywgJ1NFTEVDVCddLmluZGV4T2YoZXZlbnQudGFyZ2V0LnRhZ05hbWUpID49IDBcbiAgKSB7XG4gICAgc3dpdGNoIChldmVudC50YXJnZXQudHlwZSkge1xuICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgIHJldHVybiBldmVudC50YXJnZXQuY2hlY2tlZDtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgfVxuICByZXR1cm4gZXZlbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZWNvcmF0b3Iob2JqLCBkZWNvcikge1xuICBPYmplY3QuYXNzaWduKHRoaXMsIGRlY29yKTtcblxuICBmb3IgKGNvbnN0IGkgaW4gb2JqKSB7XG4gICAgaWYgKHR5cGVvZiBvYmpbaV0gPT09ICdmdW5jdGlvbicgJiYgIWRlY29yW2ldKSB7XG4gICAgICB0aGlzW2ldID0gb2JqW2ldLmJpbmQob2JqKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlY29yYXRlKG9iaiwgZGVjb3IpIHtcbiAgRGVjb3JhdG9yLnByb3RvdHlwZSA9IG9iajtcbiAgcmV0dXJuIG5ldyBEZWNvcmF0b3Iob2JqLCBkZWNvcik7XG59XG5cbi8qKlxuICogQ2hlY2tpbmcgYXQgZXF1YWxzIHBhcmFtc1xuICpcbiAqIEBwYXJhbSBhXG4gKiBAcGFyYW0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VxdWFsKGEsIGIpIHtcbiAgaWYgKFxuICAgIGEgPT09IG51bGwgfHxcbiAgICBiID09PSBudWxsIHx8XG4gICAgYSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgYiA9PT0gdW5kZWZpbmVkIHx8XG4gICAgdHlwZW9mIGEgPT09ICdmdW5jdGlvbicgfHxcbiAgICB0eXBlb2YgYiA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgIGEgaW5zdGFuY2VvZiBSZWdFeHAgfHxcbiAgICBiIGluc3RhbmNlb2YgUmVnRXhwXG4gICkge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9XG4gIGlmIChhID09PSBiIHx8IGEudmFsdWVPZigpID09PSBiLnZhbHVlT2YoKSB8fCBhICE9PSBhICYmIGIgIT09IGIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhKSAmJiAoIUFycmF5LmlzQXJyYXkoYikgfHwgYS5sZW5ndGggIT09IGIubGVuZ3RoKSB8fCAhKHR5cGVvZiBhID09PSAnb2JqZWN0JykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBwID0gT2JqZWN0LmtleXMoYSk7XG4gIHJldHVybiBPYmplY3Qua2V5cyhiKS5ldmVyeShpID0+IHAuaW5kZXhPZihpKSA+PSAwKSAmJiBwLmV2ZXJ5KGkgPT4gaXNFcXVhbChhW2ldLCBiW2ldKSk7XG59XG5cbi8qKlxuICogQ2xvbmUgb2JqZWN0XG4gKlxuICogQHBhcmFtIG9ialxuICogQHJldHVybnMgeyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShvYmopIHtcbiAgcmV0dXJuIGJhc2VDbG9uZShvYmosIGZhbHNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRGVlcChvYmopIHtcbiAgcmV0dXJuIGJhc2VDbG9uZShvYmosIHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA9PT0gMDtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09PSAwO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDA7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZpbmVkKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaChvYmosIGZ1bmMsIGN0eCkge1xuICBmb3IgKGNvbnN0IGkgaW4gb2JqKSB7XG4gICAgZnVuYy5jYWxsKGN0eCwgb2JqW2ldLCBpKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGx1Y2soYXJyLCBmaWVsZCkge1xuICByZXR1cm4gYXJyLm1hcChpdGVtID0+IGl0ZW1bZmllbGRdKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmQoYXJyLCBmdW5jKSB7XG4gIGZvciAoY29uc3QgaSBpbiBhcnIpIHtcbiAgICBpZiAoZnVuYyhhcnJbaV0sIGkpKSB7XG4gICAgICByZXR1cm4gYXJyW2ldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbmRleChvYmosIGZ1bmMpIHtcbiAgZm9yIChjb25zdCBpIGluIG9iaikge1xuICAgIGlmIChmdW5jKG9ialtpXSwgaSkpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbWl0KG9iaiwgcHJlZGljYXRlKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBmb3IgKGNvbnN0IFtmaWVsZCwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9iaikpIHtcbiAgICBpZiAoXG4gICAgICAodHlwZW9mIHByZWRpY2F0ZSA9PT0gJ3N0cmluZycgJiYgcHJlZGljYXRlICE9PSBmaWVsZCkgfHxcbiAgICAgIChBcnJheS5pc0FycmF5KHByZWRpY2F0ZSkgJiYgIXByZWRpY2F0ZS5pbmNsdWRlcyhmaWVsZCkpIHx8XG4gICAgICAodHlwZW9mIHByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhcHJlZGljYXRlKHZhbHVlLCBmaWVsZCkpXG4gICAgKSB7XG4gICAgICByZXN1bHRbZmllbGRdID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gIGNvbnN0IHJlVW5lc2NhcGVkID0gL1smPD5cIidgXS9nO1xuICBjb25zdCBlc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAnXFwnJzogJyYjMzk7JyxcbiAgICAnYCc6ICcmIzk2OydcbiAgfTtcbiAgc3RyaW5nID0gYCR7c3RyaW5nID09PSBudWxsID8gJycgOiBzdHJpbmcudG9TdHJpbmcoKX1gO1xuICBpZiAoc3RyaW5nICYmIHJlVW5lc2NhcGVkLnRlc3Qoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZCwgY2hyID0+IGVzY2FwZXNbY2hyXSk7XG4gIH1cbiAgcmV0dXJuIHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHppcE9iamVjdChrZXlzLCB2YWx1ZXMpIHtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdFtrZXlzW2ldXSA9IHZhbHVlc1tpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGljayhvYmosIGtleXMsIGRlZmF1bHRWYWx1ZSkge1xuICByZXR1cm4ga2V5cy5yZWR1Y2UoKHJlc3VsdCwga2V5KSA9PiB7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXN1bHRba2V5XSA9IG9ialtrZXldO1xuICAgIH0gZWxzZSBpZiAoZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCB7fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBLZXlzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgY29uc3QgcmVzdWx0ID0ge307XG5cbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob2JqZWN0KSkge1xuICAgIHJlc3VsdFtpdGVyYXRlZSh2YWx1ZSwga2V5KV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2Uob2JqLCBmdW5jLCB2YWx1ZSkge1xuICBmb3IgKGNvbnN0IGkgaW4gb2JqKSB7XG4gICAgdmFsdWUgPSBmdW5jKHZhbHVlLCBvYmpbaV0sIGkpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuaW9uKC4uLmFyZ3MpIHtcbiAgY29uc3QgZWxlbWVudHMgPSB7fTtcbiAgZm9yIChjb25zdCBhcmcgb2YgYXJncykge1xuICAgIGZvciAoY29uc3QgZWwgb2YgYXJnKSB7XG4gICAgICBlbGVtZW50c1tlbF0gPSBlbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZWxlbWVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXQob2JqLCBrZXlzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoa2V5cykpIHtcbiAgICByZXR1cm4gW29ialtrZXlzXV07XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIHJlc3VsdC5wdXNoKG9ialtrZXldKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFpcnMob2JqKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IGkgaW4gb2JqKSB7XG4gICAgcmVzdWx0LnB1c2goW2ksIG9ialtpXV0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0RhdGUodmFsdWUpIHtcbiAgbGV0IGRhdGU7XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICBkYXRlID0gbmV3IERhdGUodmFsdWUpO1xuICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIChkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkgKiA2MCAqIDEwMDApKTsgLy8gQ29udmVydCBVVEMgdG8gbG9jYWwgdGltZVxuICAgIHJldHVybiBkYXRlO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhvdXQoYXJyLCBlbCkge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlbCkgPyBpbmRleE9mKGVsLCBhcnJbaV0pID4gLTEgOiBpc0VxdWFsKGFycltpXSwgZWwpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcmVzdWx0LnB1c2goYXJyW2ldKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGFzdChhcnIpIHtcbiAgcmV0dXJuIGFyclthcnIubGVuZ3RoIC0gMV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWNvcmRDaGFuZ2VzKG1vZGVsLCBkYXRhLCBjaGFuZ2VzLCBuZXdDaGFuZ2VzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oe30sIGNoYW5nZXMsIG5ld0NoYW5nZXMpO1xuXG4gIGZvciAoY29uc3QgaSBpbiByZXN1bHQpIHtcbiAgICBpZiAoaXNFcXVhbChkYXRhW2ldLCByZXN1bHRbaV0pKSB7XG4gICAgICBkZWxldGUgcmVzdWx0W2ldO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5hc3NpZ24ocmVzdWx0LCBwaWNrKFxuICAgIGRhdGEsXG4gICAgbW9kZWwuZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koT2JqZWN0LmtleXMocmVzdWx0KSlcbiAgKSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWNrKGRlZXAgPSAwKSB7XG4gIC8vIFdlIGFkZCBoZXJlIHRyeS4uY2F0Y2ggYmVjYXVzZSBpbiBJRSBFcnJvci5zdGFjayBpcyBhdmFpbGFibGUgb25seVxuICAvLyBmb3IgdGhyb3duIGVycm9yczogaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vcnUtcnUvbGlicmFyeS93aW5kb3dzL2FwcHMvaGg2OTk4NTAuYXNweFxuXG4gIGxldCBzdGFjayA9ICcnO1xuICBjb25zdCBzdGFja1RyYWNlTGltaXREZWZhdWx0ID0gRXJyb3Iuc3RhY2tUcmFjZUxpbWl0O1xuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBkZWVwICsgMTI7XG4gIHRyeSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZS5zdGFjaykgeyAvLyBFcnJvci5zdGFjayBpcyB1bmF2YWlsYWJsZSBpbiBvbGQgYnJvd3NlcnNcbiAgICAgIHN0YWNrID0gZS5zdGFja1xuICAgICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAgIC5zbGljZSgyICsgZGVlcCkgLy8gSGVyZSB3ZSBkZWxldGUgcm93cyAnRXJyb3InIGFuZCAnYXQgZ2V0U3RhY2sodXRpbHMuanM6NDI3KSdcbiAgICAgICAgLmpvaW4oJ1xcbicpO1xuICAgIH1cbiAgfVxuXG4gIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IHN0YWNrVHJhY2VMaW1pdERlZmF1bHQ7XG4gIHJldHVybiBzdGFjaztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdhcm4obWVzc2FnZSkge1xuICBjb25zb2xlLndhcm4obWVzc2FnZSwgJ1xcbicsIGdldFN0YWNrKDEpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRW5jb2RlZFN0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KCh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzeW5jSGFuZGxlcihyb3V0ZXIpIHtcbiAgcmV0dXJuIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHByb21pc2UgPSByb3V0ZXIocmVxLCByZXMsIG5leHQpO1xuICAgIGlmIChwcm9taXNlICYmIHByb21pc2UudGhlbikge1xuICAgICAgcmV0dXJuIHByb21pc2UuY2F0Y2gobmV4dCk7XG4gICAgfVxuICAgIG5leHQobmV3IEVycm9yKCdhc3luY0hhbmRsZXIgZXhwZWN0ZWQgdG8gdGFrZSBhc3luYyBmdW5jdGlvbi4nKSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJlbnRzKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICB3aGlsZSAoKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQpKSB7XG4gICAgaWYgKGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuY2xhc3MgVmFsaWRhdGlvbkVycm9ycyB7XG4gIC8qKlxuICAgKiBGaWVsZCBlcnJvcnMgY29udHJvbCBtYW5hZ2VyXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fZmllbGRzID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgSlNPTiB0byBWYWxpZGF0aW9uRXJyb3JzIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0gICB7ezpzdHJpbmdbXX19ICAgICAganNvbk9iamVjdFxuICAgKiBAcmV0dXJuICB7VmFsaWRhdGlvbkVycm9yc31cbiAgICogQHN0YXRpY1xuICAgKi9cbiAgc3RhdGljIGNyZWF0ZUZyb21KU09OKGpzb25PYmplY3QpIHtcbiAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3JzID0gbmV3IFZhbGlkYXRpb25FcnJvcnMoKTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhqc29uT2JqZWN0KSkge1xuICAgICAgdmFsdWUuZm9yRWFjaChlcnJNZXNzYWdlID0+IHZhbGlkYXRpb25FcnJvcnMuYWRkKGtleSwgZXJyTWVzc2FnZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWRhdGlvbkVycm9ycztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgVmFsaWRhdGlvbkVycm9ycyBvYmplY3Qgd2l0aCBvbmUgZXJyb3JcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgZmllbGRcbiAgICogQHBhcmFtIHtzdHJpbmd8e2Vycm9yOiBzdHJpbmd9fSAgZXJyb3JcbiAgICogQHJldHVybiB7VmFsaWRhdGlvbkVycm9yc31cbiAgICovXG4gIHN0YXRpYyBjcmVhdGVXaXRoRXJyb3IoZmllbGQsIGVycm9yKSB7XG4gICAgY29uc3QgdmFsaWRhdGlvbkVycm9ycyA9IG5ldyBWYWxpZGF0aW9uRXJyb3JzKCk7XG4gICAgdmFsaWRhdGlvbkVycm9ycy5hZGQoZmllbGQsIGVycm9yKTtcbiAgICByZXR1cm4gdmFsaWRhdGlvbkVycm9ycztcbiAgfVxuXG4gIHN0YXRpYyBtZXJnZSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgY29uc3QganNvbkVycm9ycyA9IFt7fV07XG5cbiAgICBmb3IgKGNvbnN0IGFyZyBvZiBhcmdzKSB7XG4gICAgICBqc29uRXJyb3JzLnB1c2goYXJnLnRvSlNPTigpKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIE5lZWQgZGVlcCBtZXJnZVxuICAgIHJldHVybiBWYWxpZGF0aW9uRXJyb3JzLmNyZWF0ZUZyb21KU09OKE9iamVjdC5hc3NpZ24oLi4uanNvbkVycm9ycykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgYW4gZXJyb3JcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgZmllbGQgICAgICAgRmllbGQgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ3x7c3RyaW5nIG1lc3NhZ2V9fSBlcnJvciAgICAgICBFcnJvciB0ZXh0XG4gICAqIEByZXR1cm4ge1ZhbGlkYXRpb25FcnJvcnN9XG4gICAqL1xuICBhZGQoZmllbGQsIGVycm9yKSB7XG4gICAgZXJyb3IgPSB0aGlzLl9mb3JtRXJyb3JWYWx1ZShlcnJvcik7XG4gICAgaWYgKCF0aGlzLl9maWVsZHMuaGFzKGZpZWxkKSkge1xuICAgICAgdGhpcy5fZmllbGRzLnNldChmaWVsZCwgW2Vycm9yXSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29uc3QgZmllbGRFcnJvcnMgPSB0aGlzLl9maWVsZHMuZ2V0KGZpZWxkKTtcbiAgICBpZiAoIWZpZWxkRXJyb3JzLmluY2x1ZGVzKGVycm9yKSkge1xuICAgICAgZmllbGRFcnJvcnMucHVzaChlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpZWxkIGhhcyBlcnJvciBmbGFnXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICAgICAgZmllbGQgICAgIEZpZWxkIG5hbWVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNFcnJvcihmaWVsZCkge1xuICAgIHJldHVybiB0aGlzLl9maWVsZHMuaGFzKGZpZWxkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZmllbGQgZXJyb3JzXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICAgICAgZmllbGQgICAgIEZpZWxkIG5hbWVcbiAgICogQHJldHVybnMge0FycmF5fG51bGx9ICBFcnJvcnMgYXJyYXkgb3IgbnVsbFxuICAgKi9cbiAgZ2V0RmllbGRFcnJvcnMoZmllbGQpIHtcbiAgICByZXR1cm4gdGhpcy5fZmllbGRzLmdldChmaWVsZCkgfHwgbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZmllbGQgZXJyb3JzIG1lc3NhZ2VcbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ30gICAgICBmaWVsZCAgICAgRmllbGQgbmFtZVxuICAgKiBAcmV0dXJucyB7QXJyYXl8bnVsbH0gIEVycm9ycyBhcnJheSBvciBudWxsXG4gICAqL1xuICBnZXRGaWVsZEVycm9yTWVzc2FnZXMoZmllbGQpIHtcbiAgICBjb25zdCBmaWVsZEVycm9ycyA9IHRoaXMuX2ZpZWxkcy5nZXQoZmllbGQpO1xuICAgIGlmIChmaWVsZEVycm9ycykge1xuICAgICAgcmV0dXJuIGZpZWxkRXJyb3JzLm1hcChlcnJvciA9PiBlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGZpZWxkIG5hbWVzIGFycmF5LCB0aGF0IGNvbnRhaW4gZXJyb3JzXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmdbXXxudWxsfVxuICAgKi9cbiAgZ2V0RmFpbGVkRmllbGRzKCkge1xuICAgIGNvbnN0IGZpZWxkcyA9IFsuLi50aGlzLl9maWVsZHMua2V5cygpXTtcbiAgICByZXR1cm4gZmllbGRzLmxlbmd0aCA/IGZpZWxkcyA6IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRXJyb3JzIGFic2VuY2UgY2hlY2tcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59IEVycm9ycyBwcmVzZW5jZVxuICAgKi9cbiAgaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZmllbGRzLnNpemUgPT09IDA7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgc3BlY2lmaWMgZmllbGQgZXJyb3JzXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICBmaWVsZCAgRmllbGQgbmFtZVxuICAgKiBAcmV0dXJucyB7VmFsaWRhdGlvbkVycm9yc31cbiAgICovXG4gIGNsZWFyRmllbGQoZmllbGQpIHtcbiAgICB0aGlzLl9maWVsZHMuZGVsZXRlKGZpZWxkKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBlcnJvcnMgbGlzdFxuICAgKlxuICAgKiBAcmV0dXJuIHtWYWxpZGF0aW9uRXJyb3JzfVxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fZmllbGRzID0gbmV3IE1hcCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgZXJyb3JzIHRvIEpTT05cbiAgICpcbiAgICogQHJldHVybiB7e1tzdHJpbmddOiBBcnJheTxzdHJpbmc+fX1cbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICBjb25zdCBqc29uID0ge307XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdGhpcy5fZmllbGRzKSB7XG4gICAgICBqc29uW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmUgb2JqZWN0XG4gICAqXG4gICAqIEByZXR1cm4ge1ZhbGlkYXRpb25FcnJvcnN9XG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gVmFsaWRhdGlvbkVycm9ycy5jcmVhdGVGcm9tSlNPTih0aGlzLnRvSlNPTigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXJnZSBvYmplY3RcbiAgICpcbiAgICogQHJldHVybiB7VmFsaWRhdGlvbkVycm9yc31cbiAgICovXG4gIG1lcmdlKHZhbGlkYXRpb25FcnJvcnMpIHtcbiAgICBmb3IgKGNvbnN0IFtmaWVsZCwgbmV3RXJyb3JzXSBvZiB2YWxpZGF0aW9uRXJyb3JzLmdldEVycm9ycygpKSB7XG4gICAgICBsZXQgZXJyb3JzID0gdGhpcy5fZmllbGRzLmdldChmaWVsZCk7XG4gICAgICBpZiAoIWVycm9ycykge1xuICAgICAgICBlcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZmllbGRzLnNldChmaWVsZCwgZXJyb3JzKTtcbiAgICAgIH1cbiAgICAgIGVycm9ycy5wdXNoKC4uLm5ld0Vycm9ycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGVycm9ycyBpdGVyYXRvclxuICAgKlxuICAgKiBAcmV0dXJuIHtbc3RyaW5nLCBzdHJpbmdbXV1bXX1cbiAgICovXG4gIGdldEVycm9ycygpIHtcbiAgICByZXR1cm4gdGhpcy5fZmllbGRzO1xuICB9XG5cbiAgX2Zvcm1FcnJvclZhbHVlKGVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoIWVycm9yLm1lc3NhZ2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBlcnJvciB2YWx1ZS4gRXJyb3IgbXVzdCBiZSBzdHJpbmcgb3Igb2JqZWN0IHdpdGggXCJtZXNzYWdlXCIgcHJvcGVydHkuJyk7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWYWxpZGF0aW9uRXJyb3JzO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IFZhbGlkYXRpb25FcnJvcnMgZnJvbSAnLi9WYWxpZGF0aW9uRXJyb3JzJztcbmltcG9ydCBBcmd1bWVudHNFcnJvciBmcm9tICcuLi9Bcmd1bWVudHNFcnJvcic7XG5pbXBvcnQge3BsdWNrLCBpc0ludGVyc2VjdGlvbn0gZnJvbSAnLi4vdXRpbHMnO1xuXG5jbGFzcyBWYWxpZGF0b3Ige1xuICAvKipcbiAgICogVmFsaWRhdGlvbiBjaGVjayBtb2RlbFxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3NldHRpbmdzID0ge1xuICAgICAgdmFsaWRhdG9yczoge30sXG4gICAgICBncm91cFZhbGlkYXRvcnM6IFtdLFxuICAgICAgYXN5bmNWYWxpZGF0b3JzOiB7fSxcbiAgICAgIGFzeW5jR3JvdXBWYWxpZGF0b3JzOiBbXSxcbiAgICAgIGFzeW5jRGVwZW5kZW5pZXM6IFtdXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIG5ldyBWYWxpZGF0b3IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgZmllbGQgc3luYyB2YWxpZGF0b3JzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgIGZpZWxkICAgICAgIEZpZWxkIG5hbWVcbiAgICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gdmFsaWRhdG9ycyAgRmllbGQgdmFsaWRhdG9yc1xuICAgKiBAcmV0dXJucyB7VmFsaWRhdG9yfSB2YWxpZGF0b3JcbiAgICovXG4gIGZpZWxkKGZpZWxkLCAuLi52YWxpZGF0b3JzKSB7XG4gICAgaWYgKCF0aGlzLl9zZXR0aW5ncy52YWxpZGF0b3JzW2ZpZWxkXSkge1xuICAgICAgdGhpcy5fc2V0dGluZ3MudmFsaWRhdG9yc1tmaWVsZF0gPSBbXTtcbiAgICB9XG4gICAgdGhpcy5fc2V0dGluZ3MudmFsaWRhdG9yc1tmaWVsZF0gPSB0aGlzLl9zZXR0aW5ncy52YWxpZGF0b3JzW2ZpZWxkXS5jb25jYXQodmFsaWRhdG9ycyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU3BlY2lmeSBtdWx0aXBsZSBzeW5jIHZhbGlkYXRvcnMgZm9yIGZpZWxkcyBncm91cFxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgIGZpZWxkcyAgICAgICAgICAgICAgRmllbGRzIGFycmF5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICAgdmFsaWRhdG9yRnVuY3Rpb24gICBWYWxpZGF0b3IgZnVuY3Rpb25cbiAgICogQHJldHVybnMge1ZhbGlkYXRvcn0gdmFsaWRhdG9yXG4gICAqL1xuICBmaWVsZHMoZmllbGRzLCB2YWxpZGF0b3JGdW5jdGlvbikge1xuICAgIHRoaXMuX3NldHRpbmdzLmdyb3VwVmFsaWRhdG9ycy5wdXNoKHtcbiAgICAgIGZpZWxkczogZmllbGRzLFxuICAgICAgZm46IHZhbGlkYXRvckZ1bmN0aW9uXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUG9pbnQgd2hpY2ggZmllbGRzIHNlcnZlciB2YWxpZGF0aW9uIG5lZWRzXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgZmllbGRzICAgRmllbGRzIGFycmF5XG4gICAqIEByZXR1cm5zIHtWYWxpZGF0b3J9IHZhbGlkYXRvclxuICAgKi9cbiAgYXN5bmNEZXBlbmRlbmNlKGZpZWxkcykge1xuICAgIHRoaXMuX3NldHRpbmdzLmFzeW5jRGVwZW5kZW5pZXMucHVzaChmaWVsZHMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBmaWVsZCBhc3luYyB2YWxpZGF0b3JzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgZmllbGQgICAgICAgICAgICAgICBGaWVsZCBuYW1lXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICAgdmFsaWRhdG9yRnVuY3Rpb24gICBWYWxpZGF0b3IgZnVuY3Rpb25cbiAgICogQHJldHVybnMge1ZhbGlkYXRvcn0gdmFsaWRhdG9yXG4gICAqL1xuICBhc3luY0ZpZWxkKGZpZWxkLCB2YWxpZGF0b3JGdW5jdGlvbikge1xuICAgIGlmICghdGhpcy5fc2V0dGluZ3MuYXN5bmNWYWxpZGF0b3JzW2ZpZWxkXSkge1xuICAgICAgdGhpcy5fc2V0dGluZ3MuYXN5bmNWYWxpZGF0b3JzW2ZpZWxkXSA9IFtdO1xuICAgIH1cbiAgICB0aGlzLl9zZXR0aW5ncy5hc3luY1ZhbGlkYXRvcnNbZmllbGRdLnB1c2godmFsaWRhdG9yRnVuY3Rpb24pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwZWNpZnkgbXVsdGlwbGUgYXN5bmMgdmFsaWRhdG9ycyBmb3IgZmllbGRzIGdyb3VwXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgICAgZmllbGRzICAgICAgICAgICAgICBGaWVsZHMgYXJyYXlcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gICB2YWxpZGF0b3JGdW5jdGlvbiAgIFZhbGlkYXRvciBmdW5jdGlvblxuICAgKiBAcmV0dXJucyB7VmFsaWRhdG9yfSB2YWxpZGF0b3JcbiAgICovXG4gIGFzeW5jRmllbGRzKGZpZWxkcywgdmFsaWRhdG9yRnVuY3Rpb24pIHtcbiAgICB0aGlzLl9zZXR0aW5ncy5hc3luY0dyb3VwVmFsaWRhdG9ycy5wdXNoKHtcbiAgICAgIGZpZWxkczogZmllbGRzLFxuICAgICAgZm46IHZhbGlkYXRvckZ1bmN0aW9uXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBkZXBlbmRlbnQgZmllbGRzIHZhbGlkYXRpb24gbmVlZHNcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gICBmaWVsZHMgICAgRmllbGRzIGFycmF5XG4gICAqIEByZXR1cm5zIHtBcnJheX0gZmllbGRzXG4gICAqL1xuICBnZXRWYWxpZGF0aW9uRGVwZW5kZW5jeShmaWVsZHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgbGVuZ3RoO1xuICAgIGNvbnN0IGdyb3VwcyA9IHBsdWNrKFxuICAgICAgdGhpcy5fc2V0dGluZ3MuZ3JvdXBWYWxpZGF0b3JzLmNvbmNhdCh0aGlzLl9zZXR0aW5ncy5hc3luY0dyb3VwVmFsaWRhdG9ycyksXG4gICAgICAnZmllbGRzJ1xuICAgICkuY29uY2F0KHRoaXMuX3NldHRpbmdzLmFzeW5jRGVwZW5kZW5pZXMpO1xuXG4gICAgd2hpbGUgKGxlbmd0aCAhPT0gcmVzdWx0Lmxlbmd0aCkge1xuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFpc0ludGVyc2VjdGlvbihncm91cHNbaV0sIGZpZWxkcykgJiYgIWlzSW50ZXJzZWN0aW9uKGdyb3Vwc1tpXSwgcmVzdWx0KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ3JvdXBzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgY29uc3QgZmllbGQgPSBncm91cHNbaV1bal07XG4gICAgICAgICAgaWYgKGZpZWxkcy5pbmRleE9mKGZpZWxkKSA+PSAwIHx8IHJlc3VsdC5pbmRleE9mKGZpZWxkKSA+PSAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2goZmllbGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgY2xpZW50IHJlY29yZCB2YWxpZGl0eVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gIHJlY29yZCAgIFJlY29yZFxuICAgKiBAcmV0dXJucyB7VmFsaWRhdGlvbkVycm9yc3xudWxsfSBSZWNvcmQgdmFsaWRpdHlcbiAgICovXG4gIGFzeW5jIGlzVmFsaWRSZWNvcmQocmVjb3JkKSB7XG4gICAgY29uc3QgZmllbGRzID0gT2JqZWN0LmtleXMocmVjb3JkKTtcbiAgICBjb25zdCBlcnJvcnMgPSBuZXcgVmFsaWRhdGlvbkVycm9ycygpO1xuICAgIGNvbnN0IGF3YWl0U3RhY2sgPSBbXTtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuXG4gICAgY29uc3QgZGVwZW5kZW50RmllbGRzID0gdGhpcy5nZXRWYWxpZGF0aW9uRGVwZW5kZW5jeShmaWVsZHMpO1xuICAgIGlmIChkZXBlbmRlbnRGaWVsZHMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgQXJndW1lbnRzRXJyb3IoJ05vdCBlbm91Z2ggZmllbGRzIGZvciB2YWxpZGF0b3I6ICcgKyBkZXBlbmRlbnRGaWVsZHMuam9pbignLCAnKSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHN5bmMgYW5kIGFzeW5jIHZhbGlkYXRvcnNcbiAgICBmb3IgKGNvbnN0IFtmaWVsZCwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHJlY29yZCkpIHtcbiAgICAgIGNvbnN0IHZhbGlkYXRvcnMgPSB0aGlzLl9zZXR0aW5ncy52YWxpZGF0b3JzW2ZpZWxkXTtcbiAgICAgIGlmICh2YWxpZGF0b3JzKSB7XG4gICAgICAgIGZvciAoY29uc3QgdmFsaWRhdG9yIG9mIHZhbGlkYXRvcnMpIHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IHZhbGlkYXRvcih2YWx1ZSk7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBlcnJvcnMuYWRkKGZpZWxkLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFzeW5jVmFsaWRhdG9ycyA9IHRoaXMuX3NldHRpbmdzLmFzeW5jVmFsaWRhdG9yc1tmaWVsZF07XG4gICAgICBpZiAoYXN5bmNWYWxpZGF0b3JzKSB7XG4gICAgICAgIGZvciAoY29uc3QgYXN5bmNWYWxpZGF0b3Igb2YgYXN5bmNWYWxpZGF0b3JzKSB7XG4gICAgICAgICAgYXdhaXRTdGFjay5wdXNoKGZpZWxkKTtcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICAgICAgYXdhaXQgYXN5bmNWYWxpZGF0b3IodmFsdWUpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBzeW5jIGFuZCBhc3luYyBncm91cCB2YWxpZGF0b3JzXG4gICAgZm9yIChjb25zdCBncm91cFZhbGlkYXRvciBvZiB0aGlzLl9zZXR0aW5ncy5ncm91cFZhbGlkYXRvcnMpIHtcbiAgICAgIGlmIChpc0ludGVyc2VjdGlvbihncm91cFZhbGlkYXRvci5maWVsZHMsIGZpZWxkcykpIHtcbiAgICAgICAgZ3JvdXBWYWxpZGF0b3IuZm4ocmVjb3JkLCBlcnJvcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgYXN5bmNHcm91cFZhbGlkYXRvciBvZiB0aGlzLl9zZXR0aW5ncy5hc3luY0dyb3VwVmFsaWRhdG9ycykge1xuICAgICAgaWYgKGlzSW50ZXJzZWN0aW9uKGFzeW5jR3JvdXBWYWxpZGF0b3IuZmllbGRzLCBmaWVsZHMpKSB7XG4gICAgICAgIGF3YWl0U3RhY2sucHVzaChudWxsKTtcbiAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICBhd2FpdCBhc3luY0dyb3VwVmFsaWRhdG9yLmZuKHJlY29yZCwgZXJyb3JzKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGFzeW5jRXJyb3JzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIHdoaWxlIChhc3luY0Vycm9ycy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gYXN5bmNFcnJvcnMucG9wKCk7XG4gICAgICBjb25zdCBmaWVsZCA9IGF3YWl0U3RhY2sucG9wKCk7XG5cbiAgICAgIGlmIChlcnJvciAmJiBmaWVsZCkge1xuICAgICAgICBlcnJvcnMuYWRkKGZpZWxkLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9ycztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWYWxpZGF0b3I7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge2lzRGVmaW5lZH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuXG5mdW5jdGlvbiBiYXNlVmFsaWRhdG9yKG5vdE51bGwsIGVycm9yLCB2YWx1ZSkge1xuICBlcnJvciA9IGVycm9yIHx8ICdOb3QgYm9vbGVhbic7XG4gIGlmICghaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgIGlmIChub3ROdWxsKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJykge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBib29sZWFuIHZhbGlkYXRvclxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvciBFcnJvciBtZXNzYWdlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFZhbGlkYXRvclxuICovXG5jb25zdCB2YWxpZGF0b3IgPSBlcnJvciA9PiBiYXNlVmFsaWRhdG9yLmJpbmQobnVsbCwgZmFsc2UsIGVycm9yKTtcbnZhbGlkYXRvci5ub3ROdWxsID0gZXJyb3IgPT4gYmFzZVZhbGlkYXRvci5iaW5kKG51bGwsIHRydWUsIGVycm9yKTtcblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdG9yO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtpc0RlZmluZWQsIHRvRGF0ZX0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuXG5mdW5jdGlvbiBiYXNlVmFsaWRhdG9yKG5vdE51bGwsIG1pbiwgbWF4LCBlcnJvciwgdmFsdWUpIHtcbiAgZXJyb3IgPSBlcnJvciB8fCAnSW52YWxpZCBkYXRlJztcblxuICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICBpZiAobm90TnVsbCkge1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB0eXBlT2ZWYWx1ZSA9IHR5cGVvZiB2YWx1ZTtcbiAgaWYgKHR5cGVPZlZhbHVlICE9PSAnbnVtYmVyJyAmJiB0eXBlT2ZWYWx1ZSAhPT0gJ3N0cmluZycgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgdmFsdWUgPSB0b0RhdGUodmFsdWUpO1xuICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgaWYgKG1pbiAmJiB0b0RhdGUobWluKSA+IHZhbHVlKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG4gIGlmIChtYXggJiYgdG9EYXRlKG1heCkgPCB2YWx1ZSkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBkYXRlIHZhbGlkYXRvclxuICpcbiAqIEBwYXJhbSB7RGF0ZX0gICAgW21pbl0gICBNaW4gZGF0ZVxuICogQHBhcmFtIHtEYXRlfSAgICBbbWF4XSAgIE1heCBkYXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gIGVycm9yICAgRXJyb3IgbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBWYWxpZGF0b3JcbiAqL1xuY29uc3QgdmFsaWRhdG9yID0gKG1pbiwgbWF4LCBlcnJvcikgPT4gYmFzZVZhbGlkYXRvci5iaW5kKG51bGwsIGZhbHNlLCBtaW4sIG1heCwgZXJyb3IpO1xudmFsaWRhdG9yLm5vdE51bGwgPSAobWluLCBtYXgsIGVycm9yKSA9PiBiYXNlVmFsaWRhdG9yLmJpbmQobnVsbCwgdHJ1ZSwgbWluLCBtYXgsIGVycm9yKTtcblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdG9yO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZnVuY3Rpb24gYmFzZVZhbGlkYXRvcihub3ROdWxsLCB2YXJpYW50cywgZXJyb3IsIHZhbHVlKSB7XG4gIGVycm9yID0gZXJyb3IgfHwgJ05vdCBpbiB2YXJpYW50cyc7XG4gIGlmICghaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgIGlmIChub3ROdWxsKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh2YXJpYW50cy5pbmRleE9mKHZhbHVlKSA8IDApIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgZW51bSB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0gdmFyaWFudHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvciBFcnJvciBtZXNzYWdlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmNvbnN0IHZhbGlkYXRvciA9ICh2YXJpYW50cywgZXJyb3IpID0+IGJhc2VWYWxpZGF0b3IuYmluZChudWxsLCBmYWxzZSwgdmFyaWFudHMsIGVycm9yKTtcbnZhbGlkYXRvci5ub3ROdWxsID0gKHZhcmlhbnRzLCBlcnJvcikgPT4gYmFzZVZhbGlkYXRvci5iaW5kKG51bGwsIHRydWUsIHZhcmlhbnRzLCBlcnJvcik7XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRvcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7aXNEZWZpbmVkfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbmZ1bmN0aW9uIGJhc2VWYWxpZGF0b3Iobm90TnVsbCwgbWluLCBtYXgsIGVycm9yLCB2YWx1ZSkge1xuICBlcnJvciA9IGVycm9yIHx8ICdJbnZhbGlkIGZsb2F0JztcbiAgaWYgKCFpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgaWYgKG5vdE51bGwpIHtcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKFxuICAgIHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicgfHxcbiAgICBpc05hTih2YWx1ZSkgfHxcbiAgICAhaXNGaW5pdGUodmFsdWUpIHx8XG4gICAgdHlwZW9mIG1pbiA9PT0gJ251bWJlcicgJiYgdmFsdWUgPCBtaW4gfHxcbiAgICB0eXBlb2YgbWF4ID09PSAnbnVtYmVyJyAmJiB2YWx1ZSA+IG1heFxuICApIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgZmxvYXQgdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIG1pblxuICogQHBhcmFtIG1heFxuICogQHBhcmFtIHtzdHJpbmd9IGVycm9yIEVycm9yIG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuY29uc3QgdmFsaWRhdG9yID0gKG1pbiwgbWF4LCBlcnJvcikgPT4gYmFzZVZhbGlkYXRvci5iaW5kKG51bGwsIGZhbHNlLCBtaW4sIG1heCwgZXJyb3IpO1xudmFsaWRhdG9yLm5vdE51bGwgPSAobWluLCBtYXgsIGVycm9yKSA9PiBiYXNlVmFsaWRhdG9yLmJpbmQobnVsbCwgdHJ1ZSwgbWluLCBtYXgsIGVycm9yKTtcblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdG9yO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtpc0VtcHR5fSBmcm9tICcuLi8uLi91dGlscyc7XG5cbi8qKlxuICogQ2hlY2sgaWYgdmFsdWUgaXMgbm90IGVtcHR5IHN0cmluZywgYXJyYXkgYW5kIG9iamVjdC4gTm90IG51bGwsIHVuZGVmaW5lZCwgMFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZXJyb3I9XCJDYW4gbm90IGJlIGVtcHR5XCJdIEVycm9yIG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGVycm9yKSB7XG4gIGVycm9yID0gZXJyb3IgfHwgJ0NhbiBub3QgYmUgZW1wdHknO1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKFxuICAgICAgaXNFbXB0eSh2YWx1ZSkgfHxcbiAgICAgICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIChcbiAgICAgICAgaXNOYU4odmFsdWUpIHx8XG4gICAgICAgICFpc0Zpbml0ZSh2YWx1ZSlcbiAgICAgICkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICB9O1xufVxuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuLyoqXG4gKiBDcmVhdGUgTlVMTCB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW2Vycm9yID0gXCJDYW4gbm90IGJlIGVtcHR5XCJdIEVycm9yIG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZXJyb3IgPT4ge1xuICBlcnJvciA9IGVycm9yIHx8ICdDYW4gbm90IGJlIGVtcHR5JztcbiAgcmV0dXJuIHZhbHVlID0+IHtcbiAgICBpZiAoXG4gICAgICAhaXNEZWZpbmVkKHZhbHVlKSB8fFxuICAgICAgdmFsdWUgPT09ICcnIHx8XG4gICAgICAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiAoXG4gICAgICAgIGlzTmFOKHZhbHVlKSB8fFxuICAgICAgICAhaXNGaW5pdGUodmFsdWUpXG4gICAgICApKVxuICAgICkge1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbiAgfTtcbn07XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge2lzRGVmaW5lZH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuXG5mdW5jdGlvbiBiYXNlVmFsaWRhdG9yKG5vdE51bGwsIG1pbiwgbWF4LCBlcnJvciwgdmFsdWUpIHtcbiAgZXJyb3IgPSBlcnJvciB8fCAnSW52YWxpZCBudW1iZXInO1xuICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICBpZiAobm90TnVsbCkge1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoXG4gICAgdHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJyB8fFxuICAgIGlzTmFOKHZhbHVlKSB8fFxuICAgIHBhcnNlSW50KHZhbHVlLCAxMCkudG9TdHJpbmcoKSAhPT0gdmFsdWUudG9TdHJpbmcoKSB8fFxuICAgIHR5cGVvZiBtaW4gPT09ICdudW1iZXInICYmIHZhbHVlIDwgbWluIHx8XG4gICAgdHlwZW9mIG1heCA9PT0gJ251bWJlcicgJiYgdmFsdWUgPiBtYXhcbiAgKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIHJhbmdlIE51bWJlciB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0gbWluXG4gKiBAcGFyYW0gbWF4XG4gKiBAcGFyYW0ge3N0cmluZ30gZXJyb3IgRXJyb3IgbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5jb25zdCB2YWxpZGF0b3IgPSAobWluLCBtYXgsIGVycm9yKSA9PiBiYXNlVmFsaWRhdG9yLmJpbmQobnVsbCwgZmFsc2UsIG1pbiwgbWF4LCBlcnJvcik7XG52YWxpZGF0b3Iubm90TnVsbCA9IChtaW4sIG1heCwgZXJyb3IpID0+IGJhc2VWYWxpZGF0b3IuYmluZChudWxsLCB0cnVlLCBtaW4sIG1heCwgZXJyb3IpO1xuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0b3I7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge2lzRGVmaW5lZH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuXG5mdW5jdGlvbiBiYXNlVmFsaWRhdG9yKG5vdE51bGwsIHJlZ0V4cCwgZXJyb3IsIHZhbHVlKSB7XG4gIGVycm9yID0gZXJyb3IgfHwgJ0ludmFsaWQgdmFsdWUnO1xuICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkgfHwgdmFsdWUgPT09ICcnKSB7XG4gICAgaWYgKG5vdE51bGwpIHtcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycgfHwgIXJlZ0V4cC50ZXN0KHZhbHVlKSkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBSZWdFeCB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0gcmVnRXhwXG4gKiBAcGFyYW0ge3N0cmluZ30gZXJyb3IgRXJyb3IgbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5jb25zdCB2YWxpZGF0b3IgPSAocmVnRXhwLCBlcnJvcikgPT4gYmFzZVZhbGlkYXRvci5iaW5kKG51bGwsIGZhbHNlLCByZWdFeHAsIGVycm9yKTtcbnZhbGlkYXRvci5ub3ROdWxsID0gKHJlZ0V4cCwgZXJyb3IpID0+IGJhc2VWYWxpZGF0b3IuYmluZChudWxsLCB0cnVlLCByZWdFeHAsIGVycm9yKTtcblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdG9yO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZnVuY3Rpb24gYmFzZVZhbGlkYXRvcihub3ROdWxsLCB2YXJpYW50cywgZXJyb3IsIHZhbHVlcykge1xuICBlcnJvciA9IGVycm9yIHx8ICdOb3QgaW4gdmFyaWFudHMnO1xuICBpZiAoIWlzRGVmaW5lZCh2YWx1ZXMpIHx8ICF2YWx1ZXMubGVuZ3RoKSB7XG4gICAgaWYgKG5vdE51bGwpIHtcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICBpZiAodmFyaWFudHMuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIHNldCB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0gdmFyaWFudHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvciBFcnJvciBtZXNzYWdlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmNvbnN0IHZhbGlkYXRvciA9ICh2YXJpYW50cywgZXJyb3IpID0+IGJhc2VWYWxpZGF0b3IuYmluZChudWxsLCBmYWxzZSwgdmFyaWFudHMsIGVycm9yKTtcbnZhbGlkYXRvci5ub3ROdWxsID0gKHZhcmlhbnRzLCBlcnJvcikgPT4gYmFzZVZhbGlkYXRvci5iaW5kKG51bGwsIHRydWUsIHZhcmlhbnRzLCBlcnJvcik7XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRvcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmNvbnN0IHZhcmlhYmxlcyA9IHt9O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldDoga2V5ID0+IHZhcmlhYmxlc1trZXldLFxuICBzZXQ6IChrZXksIHZhbHVlKSA9PiB7XG4gICAgdmFyaWFibGVzW2tleV0gPSB2YWx1ZTtcbiAgfVxufTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5mdW5jdGlvbiBDaGVja2JveChwcm9wcykge1xuICBjb25zdCB7aW5kZXRlcm1pbmF0ZSwgLi4ub3RoZXJQcm9wc30gPSBwcm9wcztcbiAgcmV0dXJuIChcbiAgICA8aW5wdXRcbiAgICAgIHsuLi5vdGhlclByb3BzfVxuICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgIHJlZj17aW5wdXQgPT4ge1xuICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICBpbnB1dC5pbmRldGVybWluYXRlID0gaW5kZXRlcm1pbmF0ZTtcbiAgICAgICAgfVxuICAgICAgfX1cbiAgICAvPlxuICApO1xufVxuXG5DaGVja2JveC5wcm9wVHlwZXMgPSB7XG4gIGluZGV0ZXJtaW5hdGU6IFByb3BUeXBlcy5ib29sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDaGVja2JveDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRGF0ZVBpY2tlciBmcm9tICdyZWFjdC1kYXRlcGlja2VyJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQge29taXR9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5cbmNsYXNzIERhdGVQaWNrZXJFZGl0b3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIGZvcm1hdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB0ZXh0Rm9ybWF0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIG1pbjogUHJvcFR5cGVzLmFueSxcbiAgICBtYXg6IFByb3BUeXBlcy5hbnksXG4gICAgdmFsdWU6IFByb3BUeXBlcy5hbnksXG4gICAgc2hvdzogUHJvcFR5cGVzLmJvb2wsXG4gICAgb25CbHVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxuICB9O1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgdGV4dEZvcm1hdDogJ1lZWVktTU0tREQnXG4gIH07XG5cbiAgb25DaGFuZ2UoZGF0ZSkge1xuICAgIGlmIChkYXRlKSB7XG4gICAgICBkYXRlID0gZGF0ZS5mb3JtYXQodGhpcy5wcm9wcy5mb3JtYXQpO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGRhdGUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG90aGVyUHJvcHMgPSBvbWl0KHRoaXMucHJvcHMsIFsndGV4dEZvcm1hdCcsICd2YWx1ZScsICdvbkNoYW5nZScsICdtaW4nLCAnbWF4J10pO1xuICAgIHJldHVybiAoXG4gICAgICA8RGF0ZVBpY2tlclxuICAgICAgICB7Li4ub3RoZXJQcm9wc31cbiAgICAgICAgZGF0ZUZvcm1hdD17dGhpcy5wcm9wcy50ZXh0Rm9ybWF0fVxuICAgICAgICBzZWxlY3RlZD17dGhpcy5wcm9wcy52YWx1ZSAmJiBtb21lbnQodGhpcy5wcm9wcy52YWx1ZSl9XG4gICAgICAgIG9uQ2hhbmdlPXs6OnRoaXMub25DaGFuZ2V9XG4gICAgICAgIG1pbkRhdGU9e3RoaXMucHJvcHMubWluICYmIG1vbWVudCh0aGlzLnByb3BzLm1pbil9XG4gICAgICAgIG1heERhdGU9e3RoaXMucHJvcHMubWF4ICYmIG1vbWVudCh0aGlzLnByb3BzLm1heCl9XG4gICAgICAgIHRvZGF5QnV0dG9uPXsnVG9kYXknfVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGVQaWNrZXJFZGl0b3I7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgZmxvYXRWYWxpZGF0b3IgZnJvbSAnLi4vY29tbW9uL3ZhbGlkYXRpb24vcnVsZXMvZmxvYXQnO1xuaW1wb3J0IHtpc0VxdWFsLCBvbWl0fSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xuaW1wb3J0IHtmaW5kRE9NTm9kZX0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5jb25zdCBpc0ludmFsaWRGbG9hdCA9IGZsb2F0VmFsaWRhdG9yKG51bGwsIG51bGwsIHRydWUpO1xuXG5jbGFzcyBOdW1iZXJFZGl0b3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIHZhbHVlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgIFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAvLyBTdHJpbmcgc2hvdWxkIGJlIGFsbG93ZWQsIGJlY2F1c2Ugd2hlbiB3ZSBzdGFydCB0eXBpbmcgbmVnYXRpdmUgbnVtYmVyLFxuICAgICAgLy8gdGhlcmUgaXMgYXBwZWFyaW5nIGEgd2FybmluZyBpbiBjb25zb2xlIGFmdGVyICctJyBzeW1ib2xcbiAgICAgIFByb3BUeXBlcy5zdHJpbmdcbiAgICBdKVxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB2YWx1ZTogcHJvcHMudmFsdWVcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAoIWlzRXF1YWwodGhpcy5zdGF0ZS52YWx1ZSwgbmV4dFByb3BzLnZhbHVlKSkge1xuICAgICAgZmluZERPTU5vZGUodGhpcy5pbnB1dCkudmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlID0gbmV4dFByb3BzLnZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIF9vbkNoYW5nZUhhbmRsZXIoZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IHZhbHVlQXNOdW1iZXIgPSBwYXJzZUZsb2F0KHRhcmdldC52YWx1ZSk7IC8vIEVkZ2UgZG9lc24ndCBzdXBwb3J0IFwidGFyZ2V0LnZhbHVlQXNOdW1iZXJcIlxuICAgIGlmICh0YXJnZXQudmFsdWUgPT09ICcnICYmIHRhcmdldC52YWxpZGl0eS52YWxpZCkgeyAvLyBJbnZhbGlkIG51bWJlciBzZXQgZW1wdHkgc3RyaW5nIGFuZCB2YWxpZD1mYWxzZSB0byBldmVudFxuICAgICAgdGhpcy5zdGF0ZS52YWx1ZSA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChpc0ludmFsaWRGbG9hdCh2YWx1ZUFzTnVtYmVyKSkge1xuICAgICAgdGhpcy5zdGF0ZS52YWx1ZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlLnZhbHVlID0gdmFsdWVBc051bWJlcjtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMuc3RhdGUudmFsdWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXRcbiAgICAgICAgc3RlcD1cImFueVwiXG4gICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsICd2YWx1ZScpfVxuICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgcmVmPXsoaW5wdXQpID0+IHRoaXMuaW5wdXQgPSBpbnB1dH1cbiAgICAgICAgb25DaGFuZ2U9ezo6dGhpcy5fb25DaGFuZ2VIYW5kbGVyfVxuICAgICAgICBkZWZhdWx0VmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTnVtYmVyRWRpdG9yO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQge2ZpbmRJbmRleCwgaXNFcXVhbCwgb21pdH0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcblxuY2xhc3MgU2VsZWN0RWRpdG9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBvcHRpb25zOiBQcm9wVHlwZXMuYXJyYXksIC8vIHNoYXBlOiBbW3ZhbHVlLCBsYWJlbCwgcHJvcHNdLCAuLi5dIG9yIFtsYWJlbDEsIGxhYmVsMiwgLi4uXVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgYHByb3BzYCB3aWxsIGJlIHBhc3NlZCB0byBlYWNoIGNvcnJlc3BvbmRpbmcgPG9wdGlvbiAvPlxuICAgIG1vZGVsOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgcmVhZDogUHJvcFR5cGVzLmZ1bmNcbiAgICB9KSxcbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25MYWJlbENoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgdmFsdWU6IFByb3BUeXBlcy5hbnlcbiAgfTtcblxuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIG9wdGlvbnM6IFtdXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG9wdGlvbnM6IHByb3BzLm9wdGlvbnMsXG4gICAgICBsb2FkaW5nOiBCb29sZWFuKHByb3BzLm1vZGVsKVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5tb2RlbCkge1xuICAgICAgdGhpcy5wcm9wcy5tb2RlbC5yZWFkKCcnKVxuICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICBkYXRhLnVuc2hpZnQoW251bGwsICcnXSk7XG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG9wdGlvbnM6IGRhdGEsXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldE9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMubW9kZWwgPyB0aGlzLnN0YXRlLm9wdGlvbnMgOiB0aGlzLnByb3BzLm9wdGlvbnM7XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UoZSkge1xuICAgIGxldCBvcHRpb24gPSB0aGlzLmdldE9wdGlvbnMoKVtlLnRhcmdldC52YWx1ZV07XG4gICAgaWYgKCEob3B0aW9uIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICBvcHRpb24gPSBbb3B0aW9uLCBvcHRpb25dO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKG9wdGlvblswXSk7XG4gICAgaWYgKHRoaXMucHJvcHMub25MYWJlbENoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkxhYmVsQ2hhbmdlKG9wdGlvblsxXSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKTtcbiAgICBjb25zdCB2YWx1ZUluZGV4ID0gZmluZEluZGV4KG9wdGlvbnMsIG9wdGlvbiA9PiB7XG4gICAgICByZXR1cm4gaXNFcXVhbChvcHRpb24gaW5zdGFuY2VvZiBBcnJheSA/IG9wdGlvblswXSA6IG9wdGlvbiwgdGhpcy5wcm9wcy52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHNlbGVjdFxuICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCBbJ3ZhbHVlJywgJ29wdGlvbnMnXSl9XG4gICAgICAgIHZhbHVlPXt2YWx1ZUluZGV4fVxuICAgICAgICBvbkNoYW5nZT17dGhpczo6dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkIHx8IHRoaXMuc3RhdGUubG9hZGluZ31cbiAgICAgID5cbiAgICAgICAge29wdGlvbnMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IG9wdGlvblByb3BzID0gKChpdGVtIGluc3RhbmNlb2YgQXJyYXkpICYmIChpdGVtWzJdIGluc3RhbmNlb2YgT2JqZWN0KSkgPyBpdGVtWzJdIDoge307XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxvcHRpb24ga2V5PXtpbmRleH0gdmFsdWU9e2luZGV4fSB7Li4ub3B0aW9uUHJvcHN9PlxuICAgICAgICAgICAgICB7aXRlbSBpbnN0YW5jZW9mIEFycmF5ID8gaXRlbVsxXSA6IGl0ZW19XG4gICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvc2VsZWN0PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0RWRpdG9yO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHRvUHJvbWlzZSBmcm9tICcuLi9jb21tb24vdG9Qcm9taXNlJztcbmltcG9ydCB7dGhyb3R0bGUsIGlzRXF1YWwsIGZpbmRJbmRleCwgcGFyZW50cywgb21pdH0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcbmltcG9ydCBQb3J0YWwgZnJvbSAnLi4vY29tbW9uL1BvcnRhbCc7XG5pbXBvcnQge2ZpbmRET01Ob2RlfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgVGhyb3R0bGVFcnJvciBmcm9tICcuLi9jb21tb24vVGhyb3R0bGVFcnJvcic7XG5cbmNvbnN0IHBvcHVwSWQgPSAnX19zdWdnZXN0Qm94UG9wVXAnO1xuY29uc3QgY2xhc3NlcyA9IHtcbiAgb3B0aW9uOiAnX19zdWdnZXN0Qm94UG9wVXAtb3B0aW9uJyxcbiAgb3B0aW9uRm9jdXNlZDogJ19fc3VnZ2VzdEJveFBvcFVwLW9wdGlvbi1mb2N1c2VkJyxcbiAgb3B0aW9uU2VsZWN0YWJsZTogJ19fc3VnZ2VzdEJveFBvcFVwLW9wdGlvbi1zZWxlY3RhYmxlJyxcbiAgb3B0aW9uVHlwZXM6IHtcbiAgICBncm91cDogJ19fc3VnZ2VzdEJveFBvcFVwLW9wdGlvbi1ncm91cCcsXG4gICAgaGVhZGVyOiAnX19zdWdnZXN0Qm94UG9wVXAtb3B0aW9uLWhlYWRlcicsXG4gICAgc3ViaXRlbTogJ19fc3VnZ2VzdEJveFBvcFVwLW9wdGlvbi1zdWJpdGVtJyxcbiAgICBlbXB0eTogJ19fc3VnZ2VzdEJveFBvcFVwLW9wdGlvbi1lbXB0eSdcbiAgfSxcbiAgc2VhcmNoQmxvY2s6ICdfX3N1Z2dlc3RCb3gtc2VhcmNoJyxcbiAgc2VsZWN0QnRuOiAnX19zdWdnZXN0Qm94LXNlbGVjdC1idG4nLFxuICBhcnJvdzogJ19fc3VnZ2VzdEJveC1hcnJvdycsXG4gIHVwOiAnX19zdWdnZXN0Qm94LXVwJ1xufTtcbmNvbnN0IFRBQl9LRVkgPSA5O1xuY29uc3QgRU5URVJfS0VZID0gMTM7XG5jb25zdCBFU0NBUEVfS0VZID0gMjc7XG5jb25zdCBBUlJPV19VUF9LRVkgPSAzODtcbmNvbnN0IEFSUk9XX0RPV05fS0VZID0gNDA7XG5jb25zdCBNSU5fUE9QVVBfSEVJR0hUID0gMTAwO1xuXG5jbGFzcyBTdWdnZXN0Qm94RWRpdG9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgbW9kZWw6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICByZWFkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIGdldExhYmVsOiBQcm9wVHlwZXMuZnVuY1xuICAgIH0pLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uTGFiZWxDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uTWV0YWRhdGFDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIHZhbHVlOiBQcm9wVHlwZXMuYW55LFxuICAgIGRlZmF1bHRMYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBub3RGb3VuZEVsZW1lbnQ6IFByb3BUeXBlcy5lbGVtZW50LFxuICAgIGxvYWRpbmdFbGVtZW50OiBQcm9wVHlwZXMuZWxlbWVudCxcbiAgICBvbkZvY3VzOiBQcm9wVHlwZXMuZnVuY1xuICB9O1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIG5vdEZvdW5kRWxlbWVudDogPGRpdj5Ob3RoaW5nIGZvdW5kPC9kaXY+LFxuICAgIGxvYWRpbmdFbGVtZW50OiA8ZGl2PkxvYWRpbmcuLi48L2Rpdj4sXG4gICAgdmFsdWU6IG51bGxcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLl9sb2FkRGF0YSA9IHRocm90dGxlKHRoaXMuX2xvYWREYXRhKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNPcGVuZWQ6IGZhbHNlLFxuICAgICAgb3B0aW9uczogW10sXG4gICAgICBzZWxlY3RlZE9wdGlvbktleTogbnVsbCxcbiAgICAgIGxhc3RWYWxpZExhYmVsOiAnJyxcbiAgICAgIGxhYmVsOiAnJyxcbiAgICAgIHBvcHVwU3R5bGVzOiB7fVxuICAgIH07XG4gICAgdGhpcy5fb25JbnB1dEZvY3VzID0gdGhpcy5fb25JbnB1dEZvY3VzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25JbnB1dEtleURvd24gPSB0aGlzLl9vbklucHV0S2V5RG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uSW5wdXRWYWx1ZUNoYW5nZSA9IHRoaXMuX29uSW5wdXRWYWx1ZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2ZvY3VzT3B0aW9uID0gdGhpcy5fZm9jdXNPcHRpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbkRvY3VtZW50TW91c2VEb3duID0gdGhpcy5fb25Eb2N1bWVudE1vdXNlRG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uRG9jdW1lbnRNb3VzZVNjcm9sbCA9IHRoaXMuX29uRG9jdW1lbnRNb3VzZVNjcm9sbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3RvZ2dsZUxpc3QgPSB0aGlzLl90b2dnbGVMaXN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb3Blbkxpc3QgPSB0aGlzLl9vcGVuTGlzdC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5faXNNb3VudGVkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5wcm9wcy5kZWZhdWx0TGFiZWwpIHtcbiAgICAgIHRoaXMuX3NldExhYmVsVG8odGhpcy5wcm9wcy5kZWZhdWx0TGFiZWwsIHRydWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgnbGFiZWwnKSkge1xuICAgICAgdGhpcy5fc2V0TGFiZWxUbyh0aGlzLnByb3BzLmxhYmVsLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZ2V0TGFiZWxGcm9tTW9kZWwodGhpcy5wcm9wcy5tb2RlbCwgdGhpcy5wcm9wcy52YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5faXNNb3VudGVkID0gZmFsc2U7XG4gIH1cblxuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZSAhPT0gbmV4dFN0YXRlXG4gICAgICB8fCAhaXNFcXVhbCh0aGlzLnByb3BzLnZhbHVlLCBuZXh0UHJvcHMudmFsdWUpXG4gICAgICB8fCB0aGlzLnByb3BzLmRpc2FibGVkICE9PSBuZXh0UHJvcHMuZGlzYWJsZWQ7XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICghaXNFcXVhbCh0aGlzLnByb3BzLnZhbHVlLCBuZXh0UHJvcHMudmFsdWUpKSB7XG4gICAgICBpZiAoIXRoaXMucHJvcHMuaGFzT3duUHJvcGVydHkoJ2xhYmVsJykpIHtcbiAgICAgICAgdGhpcy5fZ2V0TGFiZWxGcm9tTW9kZWwobmV4dFByb3BzLm1vZGVsLCBuZXh0UHJvcHMudmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5sYWJlbCAhPT0gbmV4dFByb3BzLmxhYmVsKSB7XG4gICAgICB0aGlzLl9zZXRMYWJlbFRvKG5leHRQcm9wcy5sYWJlbCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgX2dldE9wdGlvbkxhYmVsKG9wdGlvbikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9wdGlvbi5sYWJlbCkgPyBvcHRpb24ubGFiZWxbb3B0aW9uLmxhYmVsLmxlbmd0aCAtIDFdIDogb3B0aW9uLmxhYmVsO1xuICB9XG5cbiAgX3NldExhYmVsVG8obGFiZWwsIG1hcmtBc1ZhbGlkKSB7XG4gICAgaWYgKGxhYmVsID09PSBudWxsIHx8IGxhYmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxhYmVsID0gJyc7XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgbGFzdFZhbGlkTGFiZWw6IG1hcmtBc1ZhbGlkID8gbGFiZWwgOiB0aGlzLnN0YXRlLmxhc3RWYWxpZExhYmVsXG4gICAgfSk7XG4gIH1cblxuICBfZ2V0TGFiZWxGcm9tTW9kZWwobW9kZWwsIGlkKSB7XG4gICAgaWYgKGlkID09PSBudWxsIHx8IGlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zZXRMYWJlbFRvKCcnLCB0cnVlKTtcbiAgICB9XG5cbiAgICBtb2RlbC5nZXRMYWJlbChpZClcbiAgICAgIC50aGVuKChsYWJlbCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2lzTW91bnRlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRMYWJlbFRvKGxhYmVsLCB0cnVlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgX3VwZGF0ZUxpc3Qoc2VhcmNoUGF0dGVybikge1xuICAgIGxldCBvcHRpb25zO1xuICAgIHRyeSB7XG4gICAgICBvcHRpb25zID0gYXdhaXQgdGhpcy5fbG9hZERhdGEoc2VhcmNoUGF0dGVybik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIFRocm90dGxlRXJyb3IpKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2lzTW91bnRlZCkge1xuICAgICAgYXdhaXQgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHNlbGVjdGVkT3B0aW9uS2V5OiBudWxsLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7cG9wdXBJZH0gLl9fc3VnZ2VzdEJveFBvcFVwLWNvbnRlbnRgKTtcbiAgICBpZiAoY29udGVudCkge1xuICAgICAgY29udGVudC5zdHlsZSA9IHtcbiAgICAgICAgYm90dG9tOiAnYXV0bycsXG4gICAgICAgIHBvc2l0aW9uOiAnc3RhdGljJ1xuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5fc2Nyb2xsTGlzdFRvKCk7XG4gIH1cblxuICBfbG9hZERhdGEoc2VhcmNoUGF0dGVybikge1xuICAgIHJldHVybiB0aGlzLnByb3BzLm1vZGVsLnJlYWQoc2VhcmNoUGF0dGVybiB8fCAnJyk7XG4gIH1cblxuICBhc3luYyBfb3Blbkxpc3Qoc2VhcmNoUGF0dGVybiwgZm9jdXNGaXJzdE9wdGlvbiA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgdGhpcy5zdGF0ZS5pc09wZW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBvcHVwU3R5bGVzID0gdGhpcy5fZ2V0Q29tcHV0ZWRQb3B1cFN0eWxlcygpO1xuICAgIGlmICghcG9wdXBTdHlsZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdCB0b1Byb21pc2UoOjp0aGlzLnNldFN0YXRlLCB0cnVlKSh7XG4gICAgICBpc09wZW5lZDogdHJ1ZSxcbiAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICBwb3B1cFN0eWxlc1xuICAgIH0pO1xuICAgIGZpbmRET01Ob2RlKHRoaXMuaW5wdXQpLnNlbGVjdCgpO1xuXG4gICAgYXdhaXQgdGhpcy5fdXBkYXRlTGlzdChzZWFyY2hQYXR0ZXJuKTsgLy8gVE9ETyBIYW5kbGUgZXJyb3JzXG5cbiAgICBpZiAoIXRoaXMuc3RhdGUub3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZm9jdXNGaXJzdE9wdGlvbikge1xuICAgICAgY29uc3Qga2V5ID0gdGhpcy5zdGF0ZS5vcHRpb25zWzBdLnR5cGUgIT09ICdncm91cCcgPyAwIDogMTtcbiAgICAgIGF3YWl0IHRoaXMuX2ZvY3VzT3B0aW9uKGtleSwgdHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2VsZWN0ZWRPcHRpb25LZXkgPSBmaW5kSW5kZXgodGhpcy5zdGF0ZS5vcHRpb25zLCAob3B0aW9uKSA9PiB7XG4gICAgICByZXR1cm4gaXNFcXVhbChvcHRpb24uaWQsIHRoaXMucHJvcHMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaWYgKHNlbGVjdGVkT3B0aW9uS2V5ICE9PSAtMSkge1xuICAgICAgdGhpcy5fZm9jdXNPcHRpb25BbmRTY3JvbGxJbnRvVmlldyhOdW1iZXIoc2VsZWN0ZWRPcHRpb25LZXkpKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25JbnB1dEZvY3VzKGUpIHtcbiAgICBhd2FpdCB0aGlzLl9vcGVuTGlzdCgpO1xuICAgIGlmICghdGhpcy5faXNNb3VudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZmluZERPTU5vZGUodGhpcy5pbnB1dCkuc2VsZWN0KCk7XG4gICAgaWYgKHRoaXMucHJvcHMub25Gb2N1cykge1xuICAgICAgdGhpcy5wcm9wcy5vbkZvY3VzKGUpO1xuICAgIH1cbiAgfVxuXG4gIF9jbG9zZUxpc3Qoc2hvdWxkQmx1cikge1xuICAgIGlmIChzaG91bGRCbHVyKSB7XG4gICAgICBmaW5kRE9NTm9kZSh0aGlzLmlucHV0KS5ibHVyKCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5zdGF0ZS5pc09wZW5lZCB8fCAhdGhpcy5faXNNb3VudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3B0aW9uczogW10sXG4gICAgICBzZWxlY3RlZE9wdGlvbktleTogbnVsbCxcbiAgICAgIGlzT3BlbmVkOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgX3RvZ2dsZUxpc3QoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNPcGVuZWQpIHtcbiAgICAgIHRoaXMuX2Nsb3NlTGlzdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLl9vcGVuTGlzdCgpO1xuICAgIH1cbiAgfVxuXG4gIF9zZWxlY3RPcHRpb24ob3B0aW9uKSB7XG4gICAgb3B0aW9uID0gb3B0aW9uIHx8IHtcbiAgICAgIGlkOiBudWxsLFxuICAgICAgbGFiZWw6ICcnLFxuICAgICAgbWV0YWRhdGE6IHt9XG4gICAgfTtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKG9wdGlvbi5pZCwgb3B0aW9uKTtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkxhYmVsQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uTGFiZWxDaGFuZ2Uob3B0aW9uLmxhYmVsKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25NZXRhZGF0YUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbk1ldGFkYXRhQ2hhbmdlKG9wdGlvbi5tZXRhZGF0YSk7XG4gICAgfVxuICAgIGZpbmRET01Ob2RlKHRoaXMuaW5wdXQpLnNlbGVjdCgpO1xuICB9XG5cbiAgYXN5bmMgX2ZvY3VzT3B0aW9uKGtleSwgc2hvdWxkU2V0TGFiZWwpIHtcbiAgICBpZiAoc2hvdWxkU2V0TGFiZWwgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuX3NldExhYmVsVG8odGhpcy5zdGF0ZS5vcHRpb25zW2tleV0ubGFiZWwpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5pc09wZW5lZCkge1xuICAgICAgdGhpcy5fZm9jdXNPcHRpb25BbmRTY3JvbGxJbnRvVmlldyhrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLl9vcGVuTGlzdChudWxsKTtcbiAgICAgIHRoaXMuX2ZvY3VzT3B0aW9uQW5kU2Nyb2xsSW50b1ZpZXcoa2V5KTtcbiAgICB9XG4gIH1cblxuICBfZm9jdXNPcHRpb25BbmRTY3JvbGxJbnRvVmlldyhrZXkpIHtcbiAgICB0aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9uS2V5ID0ga2V5O1xuICAgIGNvbnN0IGZvY3VzZWRJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NsYXNzZXMub3B0aW9uRm9jdXNlZH1gKTtcbiAgICBjb25zdCBjdXJyZW50SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NsYXNzZXMub3B0aW9ufVtkYXRhLWtleT1cIiR7a2V5fVwiXWApO1xuICAgIGlmIChmb2N1c2VkSXRlbXMpIHtcbiAgICAgIGZvY3VzZWRJdGVtcy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMub3B0aW9uRm9jdXNlZCk7XG4gICAgfVxuICAgIGlmIChjdXJyZW50SXRlbSkge1xuICAgICAgY3VycmVudEl0ZW0uY2xhc3NMaXN0LmFkZChjbGFzc2VzLm9wdGlvbkZvY3VzZWQpO1xuICAgIH1cbiAgICBjb25zdCBkb21PcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAjJHtwb3B1cElkfSBsaVtkYXRhLWtleT1cIiR7a2V5fVwiXWApWzBdO1xuICAgIHRoaXMuX3Njcm9sbExpc3RUbyhkb21PcHRpb24pO1xuICB9XG5cbiAgX2ZvY3VzTmV4dE9wdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUub3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbktleSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbktleSA9IDA7XG4gICAgICByZXR1cm4gdGhpcy5fZm9jdXNPcHRpb24odGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbktleSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgbGV0IGtleTtcbiAgICBmb3IgKGtleSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkgKyAxOyBrZXkgPCB0aGlzLnN0YXRlLm9wdGlvbnMubGVuZ3RoOyBrZXkrKykge1xuICAgICAgaWYgKHRoaXMuc3RhdGUub3B0aW9uc1trZXldLmlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb2N1c09wdGlvbihrZXksIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGtleSA9IDA7IGtleSA8IHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkgKyAxOyBrZXkrKykge1xuICAgICAgaWYgKHRoaXMuc3RhdGUub3B0aW9uc1trZXldLmlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb2N1c09wdGlvbihrZXksIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9mb2N1c1ByZXZPcHRpb24oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkgPSAwO1xuICAgICAgcmV0dXJuIHRoaXMuX2ZvY3VzT3B0aW9uKHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkpO1xuICAgIH1cblxuICAgIGxldCBrZXk7XG4gICAgZm9yIChrZXkgPSB0aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9uS2V5IC0gMTsga2V5ID49IDA7IGtleS0tKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5vcHRpb25zW2tleV0uaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvY3VzT3B0aW9uKGtleSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoa2V5ID0gdGhpcy5zdGF0ZS5vcHRpb25zLmxlbmd0aCAtIDE7IGtleSA+IHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkgLSAxOyBrZXktLSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUub3B0aW9uc1trZXldLmlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb2N1c09wdGlvbihrZXksIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9zY3JvbGxMaXN0VG8odGFyZ2V0KSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7cG9wdXBJZH06Zmlyc3QtY2hpbGRgKTtcbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICBjb250YWluZXIuc2Nyb2xsVG9wID0gMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0Lm9mZnNldFRvcCAtIGNvbnRhaW5lci5zY3JvbGxUb3AgPj0gY29udGFpbmVyLmNsaWVudEhlaWdodCAtIHRhcmdldC5jbGllbnRIZWlnaHQpIHtcbiAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSB0YXJnZXQub2Zmc2V0VG9wIC0gY29udGFpbmVyLmNsaWVudEhlaWdodCArIHRhcmdldC5jbGllbnRIZWlnaHQ7XG4gICAgfSBlbHNlIGlmICh0YXJnZXQub2Zmc2V0VG9wIC0gY29udGFpbmVyLnNjcm9sbFRvcCA8IDApIHtcbiAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSB0YXJnZXQub2Zmc2V0VG9wO1xuICAgIH1cbiAgfVxuXG4gIF9pc1BhcmVudE9mKGNoaWxkKSB7XG4gICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICBjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGU7XG4gICAgICBpZiAoY2hpbGQgPT09IGZpbmRET01Ob2RlKHRoaXMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBfb25Eb2N1bWVudE1vdXNlRG93bihlLCBpc093bmVyKSB7XG4gICAgaWYgKGUuYnV0dG9uICE9PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICBpZiAoaXNPd25lcikge1xuICAgICAgaWYgKCF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzZXMub3B0aW9uKSkge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzZXMub3B0aW9uU2VsZWN0YWJsZSkgJiYgdGhpcy5zdGF0ZS5pc09wZW5lZCkge1xuICAgICAgICB0aGlzLl9zZWxlY3RPcHRpb24odGhpcy5zdGF0ZS5vcHRpb25zW3RhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5JyldKTtcbiAgICAgICAgdGhpcy5fY2xvc2VMaXN0KHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBxIHdoZXJlIHRvIHRlc3RcbiAgICAgIGlmICghcGFyZW50cyh0YXJnZXQsIGAuJHtjbGFzc2VzLnNlYXJjaEJsb2NrfWApLmxlbmd0aCkge1xuICAgICAgICBpZiAoIWZpbmRET01Ob2RlKHRoaXMuaW5wdXQpLnZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5fc2VsZWN0T3B0aW9uKG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3NldExhYmVsVG8odGhpcy5zdGF0ZS5sYXN0VmFsaWRMYWJlbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5faXNQYXJlbnRPZihlLnRhcmdldCkpIHtcbiAgICAgICAgdGhpcy5fY2xvc2VMaXN0KHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9vbkRvY3VtZW50TW91c2VTY3JvbGwoZSwgaXNPd25lcikge1xuICAgIGlmICghaXNPd25lciAmJiB0aGlzLnN0YXRlLmlzT3BlbmVkKSB7XG4gICAgICBjb25zdCBwb3B1cFN0eWxlcyA9IHRoaXMuX2dldENvbXB1dGVkUG9wdXBTdHlsZXMoKTtcbiAgICAgIGlmIChwb3B1cFN0eWxlcykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBwb3B1cFN0eWxlczogdGhpcy5fZ2V0Q29tcHV0ZWRQb3B1cFN0eWxlcygpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2V0TGFiZWxUbyh0aGlzLnN0YXRlLmxhc3RWYWxpZExhYmVsKTtcbiAgICAgICAgdGhpcy5fY2xvc2VMaXN0KHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9vbklucHV0S2V5RG93bihlKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICBjYXNlIEFSUk9XX0RPV05fS0VZOlxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzT3BlbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuTGlzdCgnJywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9mb2N1c05leHRPcHRpb24oKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVJST1dfVVBfS0VZOlxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzT3BlbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuTGlzdCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fZm9jdXNQcmV2T3B0aW9uKCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEVOVEVSX0tFWTpcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0T3B0aW9uKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0T3B0aW9uKHRoaXMuc3RhdGUub3B0aW9uc1t0aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9uS2V5XSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9jbG9zZUxpc3QoKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgVEFCX0tFWTpcbiAgICBjYXNlIEVTQ0FQRV9LRVk6XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSBFU0NBUEVfS0VZKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIGlmICghZS50YXJnZXQudmFsdWUgfHwgIXRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2V0TGFiZWxUbygnJyk7XG4gICAgICAgIHRoaXMuX3NlbGVjdE9wdGlvbihudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3NldExhYmVsVG8odGhpcy5zdGF0ZS5sYXN0VmFsaWRMYWJlbCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9jbG9zZUxpc3QoKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vbklucHV0VmFsdWVDaGFuZ2UoZSkge1xuICAgIHRoaXMuX3NldExhYmVsVG8oZS50YXJnZXQudmFsdWUpO1xuICAgIGlmICh0aGlzLnN0YXRlLmlzT3BlbmVkKSB7XG4gICAgICBhd2FpdCB0aGlzLl91cGRhdGVMaXN0KGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgdGhpcy5fb3Blbkxpc3QoZS50YXJnZXQudmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRDb21wdXRlZFBvcHVwU3R5bGVzKCkge1xuICAgIGNvbnN0IGlucHV0U3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZmluZERPTU5vZGUodGhpcy5pbnB1dCkpO1xuICAgIGNvbnN0IHBvcHVwU3R5bGUgPSB7fTtcblxuICAgIGNvbnN0IGlucHV0T2Zmc2V0ID0gZmluZERPTU5vZGUodGhpcy5pbnB1dCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgaW5wdXRXaWR0aCA9IGlucHV0U3R5bGVzLndpZHRoO1xuICAgIGNvbnN0IGlucHV0SGVpZ2h0ID0gcGFyc2VJbnQoaW5wdXRTdHlsZXMuaGVpZ2h0KTtcblxuICAgIGlmIChpbnB1dE9mZnNldC50b3AgKyBpbnB1dEhlaWdodCA8PSAwIHx8IGlucHV0T2Zmc2V0LnRvcCA+PSB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IG9mZnNldFRvcCA9IGlucHV0T2Zmc2V0LnRvcCArIGlucHV0SGVpZ2h0O1xuICAgIGNvbnN0IG9mZnNldExlZnQgPSBpbnB1dE9mZnNldC5sZWZ0O1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBhdmFpbGFibGVTcGFjZSA9IHdpbmRvdy5pbm5lckhlaWdodCAtIG9mZnNldFRvcDtcbiAgICAgIGlmIChhdmFpbGFibGVTcGFjZSA8IE1JTl9QT1BVUF9IRUlHSFQpIHtcbiAgICAgICAgcG9wdXBTdHlsZS5tYXhIZWlnaHQgPSBpbnB1dE9mZnNldC50b3A7XG4gICAgICAgIHBvcHVwU3R5bGUuYm90dG9tID0gLWlucHV0T2Zmc2V0LnRvcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvcHVwU3R5bGUubWF4SGVpZ2h0ID0gYXZhaWxhYmxlU3BhY2U7XG4gICAgICAgIHBvcHVwU3R5bGUudG9wID0gb2Zmc2V0VG9wO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBvcHVwU3R5bGUubWluV2lkdGggPSBpbnB1dFdpZHRoO1xuICAgIHBvcHVwU3R5bGUubGVmdCA9IG9mZnNldExlZnQ7XG5cbiAgICByZXR1cm4gcG9wdXBTdHlsZTtcbiAgfVxuXG4gIGZvY3VzKCkge1xuICAgIGZpbmRET01Ob2RlKHRoaXMuaW5wdXQpLmZvY3VzKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgYXJyb3dDbGFzc2VzID0gW2NsYXNzZXMuYXJyb3ddO1xuICAgIGxldCBvcHRpb25zO1xuICAgIGxldCBvcHRpb25zUG9wdXAgPSBudWxsO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNPcGVuZWQpIHtcbiAgICAgIGFycm93Q2xhc3Nlcy5wdXNoKGNsYXNzZXMudXApO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5sb2FkaW5nKSB7XG4gICAgICAgIG9wdGlvbnMgPSAoXG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT17W2NsYXNzZXMub3B0aW9uLCBjbGFzc2VzLm9wdGlvblR5cGVzLmVtcHR5XS5qb2luKCcgJyl9PlxuICAgICAgICAgICAge3RoaXMucHJvcHMubG9hZGluZ0VsZW1lbnR9XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5vcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgIG9wdGlvbnMgPSAoXG4gICAgICAgICAgICA8bGkgY2xhc3NOYW1lPXtbY2xhc3Nlcy5vcHRpb24sIGNsYXNzZXMub3B0aW9uVHlwZXMuZW1wdHldLmpvaW4oJyAnKX0+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLm5vdEZvdW5kRWxlbWVudH1cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5zdGF0ZS5vcHRpb25zLm1hcCgob3B0aW9uLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkNsYXNzTmFtZXMgPSBbY2xhc3Nlcy5vcHRpb25dO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbktleSkge1xuICAgICAgICAgICAgICBvcHRpb25DbGFzc05hbWVzLnB1c2goY2xhc3Nlcy5vcHRpb25Gb2N1c2VkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbi5pZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIG9wdGlvbkNsYXNzTmFtZXMucHVzaChjbGFzc2VzLm9wdGlvblNlbGVjdGFibGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgICAgb3B0aW9uQ2xhc3NOYW1lcy5wdXNoKGNsYXNzZXMub3B0aW9uVHlwZXNbb3B0aW9uLnR5cGVdIHx8IG9wdGlvbi50eXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgICAgICAgZGF0YS1rZXk9e2tleX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlT3Zlcj17dGhpcy5fZm9jdXNPcHRpb24uYmluZCh0aGlzLCBrZXkpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17b3B0aW9uQ2xhc3NOYW1lcy5qb2luKCcgJyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KG9wdGlvbi5sYWJlbCkgPyBvcHRpb24ubGFiZWwubWFwKChsYWJlbCwgY29sdW1uS2V5KSA9PiA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17Y29sdW1uS2V5fT57bGFiZWx9PC9kaXY+KSA6IDxkaXY+e29wdGlvbi5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnNQb3B1cCA9IChcbiAgICAgICAgPFBvcnRhbFxuICAgICAgICAgIGlkPXtwb3B1cElkfVxuICAgICAgICAgIHN0eWxlPXt0aGlzLnN0YXRlLnBvcHVwU3R5bGVzfVxuICAgICAgICAgIG9uRG9jdW1lbnRNb3VzZURvd249e3RoaXMuX29uRG9jdW1lbnRNb3VzZURvd259XG4gICAgICAgICAgb25Eb2N1bWVudE1vdXNlU2Nyb2xsPXt0aGlzLl9vbkRvY3VtZW50TW91c2VTY3JvbGx9XG4gICAgICAgICAgY2xhc3NOYW1lPSdfX3N1Z2dlc3RCb3hQb3BVcCdcbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiX19zdWdnZXN0Qm94UG9wVXAtY29udGVudFwiPlxuICAgICAgICAgICAgPHVsPntvcHRpb25zfTwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUG9ydGFsPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J19fc3VnZ2VzdEJveCc+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnNlYXJjaEJsb2NrfT5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgIFsnbW9kZWwnLCAndmFsdWUnLCAnb25DaGFuZ2UnLCAnb25MYWJlbENoYW5nZScsICdvbkZvY3VzJyxcbiAgICAgICAgICAgICAgICAnc2VsZWN0JywgJ25vdEZvdW5kRWxlbWVudCcsICdsb2FkaW5nRWxlbWVudCcsICdkZWZhdWx0TGFiZWwnLCAnb25NZXRhZGF0YUNoYW5nZSddKX1cbiAgICAgICAgICAgIHJlZj17KGlucHV0KSA9PiB0aGlzLmlucHV0ID0gaW5wdXR9XG4gICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgb25DbGljaz17dGhpcy5fb3Blbkxpc3R9XG4gICAgICAgICAgICBvbkZvY3VzPXt0aGlzLl9vbklucHV0Rm9jdXN9XG4gICAgICAgICAgICBvbktleURvd249e3RoaXMuX29uSW5wdXRLZXlEb3dufVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuX29uSW5wdXRWYWx1ZUNoYW5nZX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmxhYmVsfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdiBvbkNsaWNrPXt0aGlzLl90b2dnbGVMaXN0fSBjbGFzc05hbWU9e2NsYXNzZXMuc2VsZWN0QnRufT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXthcnJvd0NsYXNzZXMuam9pbignICcpfS8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7b3B0aW9uc1BvcHVwfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdWdnZXN0Qm94RWRpdG9yO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IFZhbGlkYXRpb25FcnJvcnMgZnJvbSAnLi4vY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdGlvbkVycm9ycyc7XG5pbXBvcnQgRXZlbnRzTW9kZWwgZnJvbSAnLi4vY29tbW9uL0V2ZW50cyc7XG5cbmNsYXNzIEFic3RyYWN0Rm9ybU1vZGVsIGV4dGVuZHMgRXZlbnRzTW9kZWwge1xuICAvKipcbiAgICogQWJzdHJhY3QgZm9ybSBtb2RlbFxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gZmllbGRzICAgICBSZXF1aXJlZCBmaWVsZHNcbiAgICogQHJldHVybnMge09iamVjdH0gIFByb21pc2VcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBnZXREYXRhKC8qZmllbGRzKi8pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9jZXNzIGZvcm0gZGF0YVxuICAgKlxuICAgKiBAcGFyYW0gICB7T2JqZWN0fSAgICAgIGNoYW5nZXMgICAgIEZvcm0gZGF0YVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgUHJvbWlzZVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHN1Ym1pdCgvKmNoYW5nZXMqLykge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWNvcmQgdmFsaWRpdHkgY2hlY2tcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgcmVjb3JkICBSZWNvcmQgb2JqZWN0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9ICBQcm9taXNlXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgaXNWYWxpZFJlY29yZCgvKnJlY29yZCovKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgVmFsaWRhdGlvbkVycm9ycygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGRlcGVuZGVudCBmaWVsZHMsIHRoYXQgYXJlIHJlcXVpcmVkIGZvciB2YWxpZGF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSAgIHtBcnJheX0gIGZpZWxkcyAgRmllbGRzIGxpc3RcbiAgICogQHJldHVybnMge0FycmF5fSAgRGVwZW5kZW5jaWVzXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koLypmaWVsZHMqLykge1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBYnN0cmFjdEZvcm1Nb2RlbDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBWYWxpZGF0aW9uRXJyb3JzIGZyb20gJy4uL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRpb25FcnJvcnMnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQge2FzeW5jSGFuZGxlcn0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcblxuY2xhc3MgRm9ybUV4cHJlc3NBcGkge1xuICBzdGF0aWMgY3JlYXRlKCkge1xuICAgIHJldHVybiBuZXcgRm9ybUV4cHJlc3NBcGkoKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWlkZGxld2FyZXMgPSB7XG4gICAgICBnZXREYXRhOiBbYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZHMgPSByZXEucXVlcnkuZmllbGRzID8gSlNPTi5wYXJzZShyZXEucXVlcnkuZmllbGRzKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwocmVxLCByZXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBtb2RlbC5nZXREYXRhKGZpZWxkcyk7XG4gICAgICAgICAgdGhpcy5fcmVzdWx0KG51bGwsIGRhdGEsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdGhpcy5fcmVzdWx0KGVyciwgbnVsbCwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9XG4gICAgICB9KV0sXG4gICAgICBzdWJtaXQ6IFthc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwocmVxLCByZXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBtb2RlbC5zdWJtaXQocmVxLmJvZHkpO1xuICAgICAgICAgIHRoaXMuX3Jlc3VsdChudWxsLCB7ZGF0YTogZGF0YSwgZXJyb3I6IG51bGx9LCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGlmIChlcnIgJiYgIShlcnIgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3JzKSkge1xuICAgICAgICAgICAgdGhpcy5fcmVzdWx0KGVyciwgbnVsbCwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9yZXN1bHQobnVsbCwge2RhdGE6IG51bGwsIGVycm9yOiBlcnJ9LCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0pXSxcbiAgICAgIHZhbGlkYXRlOiBbYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKHJlcSwgcmVzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgbW9kZWwuaXNWYWxpZFJlY29yZChyZXEuYm9keSk7XG4gICAgICAgICAgdGhpcy5fcmVzdWx0KG51bGwsIGRhdGEsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdGhpcy5fcmVzdWx0KGVyciwgbnVsbCwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9XG4gICAgICB9KV1cbiAgICB9O1xuICB9XG5cbiAgbW9kZWwobW9kZWwpIHtcbiAgICBpZiAodHlwZW9mIG1vZGVsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLl9nZXRNb2RlbCA9IG1vZGVsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9nZXRNb2RlbCA9ICgpID0+IG1vZGVsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldFJvdXRlcigpIHtcbiAgICByZXR1cm4gbmV3IGV4cHJlc3MuUm91dGVyKClcbiAgICAgIC5nZXQoJy8nLCB0aGlzLm1pZGRsZXdhcmVzLmdldERhdGEpXG4gICAgICAucG9zdCgnLycsIHRoaXMubWlkZGxld2FyZXMuc3VibWl0KVxuICAgICAgLnBvc3QoJy92YWxpZGF0aW9uJywgdGhpcy5taWRkbGV3YXJlcy52YWxpZGF0ZSk7XG4gIH1cblxuICBnZXREYXRhKG1pZGRsZXdhcmVzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZE1pZGVsd2FyZXMoJ2dldERhdGEnLCBtaWRkbGV3YXJlcyk7XG4gIH1cbiAgc3VibWl0KG1pZGRsZXdhcmVzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZE1pZGVsd2FyZXMoJ3N1Ym1pdCcsIG1pZGRsZXdhcmVzKTtcbiAgfVxuICB2YWxpZGF0ZShtaWRkbGV3YXJlcykge1xuICAgIHJldHVybiB0aGlzLl9hZGRNaWRlbHdhcmVzKCd2YWxpZGF0ZScsIG1pZGRsZXdhcmVzKTtcbiAgfVxuXG4gIF9hZGRNaWRlbHdhcmVzKG1ldGhvZCwgbWlkZGxld2FyZXMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobWlkZGxld2FyZXMpKSB7XG4gICAgICBtaWRkbGV3YXJlcyA9IFttaWRkbGV3YXJlc107XG4gICAgfVxuICAgIHRoaXMubWlkZGxld2FyZXNbbWV0aG9kXSA9IG1pZGRsZXdhcmVzLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVzW21ldGhvZF0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvblxuICBfZ2V0TW9kZWwoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ01vZGVsIGlzIG5vdCBkZWZpbmVkLicpO1xuICB9XG5cbiAgX3Jlc3VsdChlcnIsIGRhdGEsIHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgbmV4dChlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuanNvbihkYXRhKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybUV4cHJlc3NBcGk7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgVmFsaWRhdG9yIGZyb20gJy4uL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRvcic7XG5pbXBvcnQgQWJzdHJhY3RGb3JtTW9kZWwgZnJvbSAnLi9BYnN0cmFjdEZvcm1Nb2RlbCc7XG5pbXBvcnQge2Nsb25lfSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xuXG5jbGFzcyBGb3JtTW9kZWwgZXh0ZW5kcyBBYnN0cmFjdEZvcm1Nb2RlbCB7XG4gIC8qKlxuICAgKiBTaW1wbGUgZm9ybSBtb2RlbFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgZGVmYXVsdFZhbHVlcyBEZWZhdWx0IGZvcm0gZmllbGQgdmFsdWVzXG4gICAqIEBwYXJhbSB7VmFsaWRhdG9yfSB2YWxpZGF0aW9uICAgIFZhbGlkYXRpb25cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZWZhdWx0VmFsdWVzLCB2YWxpZGF0aW9uKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl92YWxpZGF0aW9uID0gdmFsaWRhdGlvbiB8fCBuZXcgVmFsaWRhdG9yKCk7XG4gICAgdGhpcy5fZGF0YSA9IGRlZmF1bHRWYWx1ZXMgPyBjbG9uZShkZWZhdWx0VmFsdWVzKSA6IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgIGZpZWxkcyAgICAgUmVxdWlyZWQgZmllbGRzXG4gICAqL1xuICBhc3luYyBnZXREYXRhKGZpZWxkcykge1xuICAgIGxldCByZWNvcmQgPSB7fTtcblxuICAgIGlmIChmaWVsZHMpIHtcbiAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgICAgIHJlY29yZFtmaWVsZF0gPSB0aGlzLl9kYXRhW2ZpZWxkXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVjb3JkID0gY2xvbmUodGhpcy5fZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlY29yZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9jZXNzIGZvcm0gZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICBjaGFuZ2VzICAgICBGb3JtIGRhdGFcbiAgICovXG4gIGFzeW5jIHN1Ym1pdChjaGFuZ2VzKSB7XG4gICAgY29uc3QgdmFsaWRFcnJvcnMgPSBhd2FpdCB0aGlzLmlzVmFsaWRSZWNvcmQoY2hhbmdlcyk7XG4gICAgaWYgKCF2YWxpZEVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgIHRocm93IHZhbGlkRXJyb3JzO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHRoaXMuX2RhdGEsIGNoYW5nZXMpO1xuICAgIHRoaXMudHJpZ2dlcigndXBkYXRlJywgY2hhbmdlcyk7XG4gICAgcmV0dXJuIGNoYW5nZXM7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGlvbiBjaGVja1xuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICByZWNvcmRcbiAgICovXG4gIGFzeW5jIGlzVmFsaWRSZWNvcmQocmVjb3JkKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3ZhbGlkYXRpb24uaXNWYWxpZFJlY29yZChyZWNvcmQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgZGVwZW5kZW50IGZpZWxkcywgdGhhdCBhcmUgcmVxdWlyZWQgZm9yIHZhbGlkYXRpb25cbiAgICpcbiAgICogQHBhcmFtICAge0FycmF5fSAgZmllbGRzICAgRmllbGRzIGxpc3RcbiAgICogQHJldHVybnMge0FycmF5fSAgRGVwZW5kZW5jaWVzXG4gICAqL1xuICBnZXRWYWxpZGF0aW9uRGVwZW5kZW5jeShmaWVsZHMpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsaWRhdGlvbi5nZXRWYWxpZGF0aW9uRGVwZW5kZW5jeShmaWVsZHMpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1Nb2RlbDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnLi4vY29tbW9uL0V2ZW50cyc7XG5pbXBvcnQgVmFsaWRhdG9yIGZyb20gJy4uL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRvcic7XG5pbXBvcnQgVmFsaWRhdGlvbkVycm9ycyBmcm9tICcuLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0aW9uRXJyb3JzJztcbmltcG9ydCB7dGhyb3R0bGUsIHBhcnNlVmFsdWVGcm9tRXZlbnQsIGdldFJlY29yZENoYW5nZXMsIGlzRXF1YWwsIGlzRW1wdHl9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5pbXBvcnQgVGhyb3R0bGVFcnJvciBmcm9tICcuLi9jb21tb24vVGhyb3R0bGVFcnJvcic7XG5cbmNsYXNzIEZvcm1TZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoZmllbGRzID0gbnVsbCkge1xuICAgIHRoaXMuX2RhdGEgPSBudWxsO1xuICAgIHRoaXMuX2NoYW5nZXMgPSBudWxsO1xuICAgIHRoaXMuX2Vycm9ycyA9IG5ldyBWYWxpZGF0aW9uRXJyb3JzKCk7XG4gICAgdGhpcy5fd2FybmluZ3MgPSBuZXcgVmFsaWRhdGlvbkVycm9ycygpO1xuICAgIHRoaXMuX3dhcm5pbmdzVmFsaWRhdG9yID0gbnVsbDtcbiAgICB0aGlzLl9ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgdGhpcy5faXNOb3RJbml0aWFsaXplZCA9IHRydWU7XG4gICAgdGhpcy5maWVsZHMgPSBmaWVsZHM7XG4gICAgdGhpcy5fdmFsaWRhdGVGb3JtID0gdGhyb3R0bGUodGhpcy5fdmFsaWRhdGVGb3JtLmJpbmQodGhpcykpO1xuICAgIHRoaXMudmFsaWRhdGVGb3JtID0gdGhpcy52YWxpZGF0ZUZvcm0uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbk1vZGVsQ2hhbmdlID0gdGhpcy5fb25Nb2RlbENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2xlYXJDaGFuZ2VzID0gdGhpcy5jbGVhckNoYW5nZXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNsZWFyRXJyb3IgPSB0aGlzLmNsZWFyRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNsZWFyVmFsaWRhdGlvbiA9IHRoaXMuY2xlYXJWYWxpZGF0aW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGVGaWVsZCA9IHRoaXMudXBkYXRlRmllbGQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnZhbGlkYXRlRmllbGQgPSB0aGlzLnZhbGlkYXRlRmllbGQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9nZXREYXRhID0gdGhpcy5fZ2V0RGF0YS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2dldENoYW5nZXMgPSB0aGlzLl9nZXRDaGFuZ2VzLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBmb3JtXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgIHNldHRpbmdzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgICAgICAgICAgIHNldHRpbmdzLmZpZWxkcyAgICAgICAgICAgICAgICAgICAgICAgICBGaWVsZHMgbGlzdCwgdGhhdCBhcmUgcmVxdWlyZWQgdG8gZGlzcGxheVxuICAgKiBAcGFyYW0ge0Zvcm1Nb2RlbH0gICAgICAgICBzZXR0aW5ncy5tb2RlbCAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kZWwgb2YgZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICBbc2V0dGluZ3MuZGF0YV0gICAgICAgICAgICAgICAgICAgICAgICAgUHJlc2V0IGRhdGFcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgW3NldHRpbmdzLmNoYW5nZXMgICAgICAgICAgICAgICAgICAgICAgIFByZXNldCBjaGFuZ2VzXG4gICAqIEBwYXJhbSB7Ym9vbH0gICAgICAgICAgICAgIFtzZXR0aW5ncy5zdWJtaXRBbGw9ZmFsc2VdICAgICAgICAgICAgICBTZW5kIGFsbCBmb3JtIGZvciB2YWxpZGl0eSBjaGVja1xuICAgKiBAcGFyYW0ge2Jvb2x9ICAgICAgICAgICAgICBbc2V0dGluZ3MucGFydGlhbEVycm9yQ2hlY2tpbmc9ZmFsc2VdICAgQWN0aXZhdGUgcGFydGlhbCBncmFkdWFsIGZvcm0gdmFsaWRhdGlvblxuICAgKiBAcGFyYW0ge2Jvb2x9ICAgICAgICAgICAgICBbc2V0dGluZ3Muc2hvd0RlcGVuZGVudEZpZWxkcz1mYWxzZV0gICAgTWFyayB0aGUgZmllbGRzIHdoaWNoIGFyZSBpbnZvbHZlZCBpbiB0aGUgZ3JvdXAgdmFsaWRhdGlvblxuICAgKiBAcGFyYW0ge1ZhbGlkYXRvcn0gICAgICAgICBbc2V0dGluZ3Mud2FybmluZ3NWYWxpZGF0b3JdICAgICAgICAgICAgV2FybmluZ3MgdmFsaWRhdG9yIGZvciBmaWVsZHNcbiAgICovXG4gIGFzeW5jIGluaXQoc2V0dGluZ3MpIHtcbiAgICBpZiAoIXNldHRpbmdzLm1vZGVsKSB7XG4gICAgICB0aHJvdyBFcnJvcignWW91IG11c3Qgc3BlY2lmeSB0aGUgbW9kZWwnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kYXRhID0gc2V0dGluZ3MuZGF0YSB8fCBudWxsO1xuICAgIHRoaXMuX2NoYW5nZXMgPSBzZXR0aW5ncy5jaGFuZ2VzIHx8IHt9O1xuICAgIHRoaXMuX2lzU3VibWl0dGluZyA9IGZhbHNlO1xuICAgIHRoaXMuc2hvd0RlcGVuZGVudEZpZWxkcyA9IHNldHRpbmdzLnNob3dEZXBlbmRlbnRGaWVsZHMgfHwgZmFsc2U7XG4gICAgdGhpcy5fcGFydGlhbEVycm9yQ2hlY2tpbmcgPSBzZXR0aW5ncy5wYXJ0aWFsRXJyb3JDaGVja2luZzsgLy8gQ3VycmVudCBtb2RlXG4gICAgdGhpcy5fcGFydGlhbEVycm9yQ2hlY2tpbmdEZWZhdWx0ID0gc2V0dGluZ3MucGFydGlhbEVycm9yQ2hlY2tpbmc7IC8vIERlZmF1bHQgbW9kZVxuICAgIHRoaXMubW9kZWwgPSBzZXR0aW5ncy5tb2RlbDsgLy8gRm9ybU1vZGVsXG4gICAgdGhpcy5zdWJtaXRBbGwgPSBzZXR0aW5ncy5zdWJtaXRBbGw7XG4gICAgdGhpcy5fd2FybmluZ3NWYWxpZGF0b3IgPSBzZXR0aW5ncy53YXJuaW5nc1ZhbGlkYXRvciB8fCBuZXcgVmFsaWRhdG9yKCk7XG5cbiAgICB0aGlzLnZhbGlkYXRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9oaWRkZW5WYWxpZGF0aW9uRmllbGRzID0gW107XG4gICAgdGhpcy5zdWJtaXR0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5faXNOb3RJbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gICAgaWYgKHNldHRpbmdzLmhhc093blByb3BlcnR5KCdmaWVsZHMnKSkge1xuICAgICAgdGhpcy5maWVsZHMgPSBzZXR0aW5ncy5maWVsZHM7XG4gICAgfVxuICAgIGlmICghdGhpcy5fZGF0YSkge1xuICAgICAgdGhpcy5fZGF0YSA9IGF3YWl0IHNldHRpbmdzLm1vZGVsLmdldERhdGEodGhpcy5maWVsZHMpO1xuICAgIH1cblxuICAgIHRoaXMubW9kZWwub24oJ3VwZGF0ZScsIHRoaXMuX29uTW9kZWxDaGFuZ2UpO1xuICAgIHRoaXMuX3NldFN0YXRlKCk7XG5cbiAgICBpZiAoIXNldHRpbmdzLnBhcnRpYWxFcnJvckNoZWNraW5nKSB7XG4gICAgICBhd2FpdCB0aGlzLnZhbGlkYXRlRm9ybSgpO1xuICAgIH1cbiAgfVxuXG4gIGdldEFsbCgpIHtcbiAgICBjb25zdCBpc0xvYWRlZCA9IHRoaXMuX2lzTG9hZGVkKCk7XG5cbiAgICBpZiAoIWlzTG9hZGVkKSB7XG4gICAgICBjb25zdCBlbXB0eURhdGEgPSB7XG4gICAgICAgIGlzTG9hZGVkLFxuICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgb3JpZ2luYWxEYXRhOiB7fSxcbiAgICAgICAgY2hhbmdlczoge30sXG4gICAgICAgIGVycm9yczogbmV3IFZhbGlkYXRpb25FcnJvcnMoKSxcbiAgICAgICAgd2FybmluZ3M6IG5ldyBWYWxpZGF0aW9uRXJyb3JzKCksXG4gICAgICAgIGlzU3VibWl0dGluZzogZmFsc2VcbiAgICAgIH07XG4gICAgICBlbXB0eURhdGEuZmllbGRzID0gdGhpcy5fZ2V0RmllbGRzKGVtcHR5RGF0YS5kYXRhLCBlbXB0eURhdGEuY2hhbmdlcywgZW1wdHlEYXRhLmVycm9ycywgZW1wdHlEYXRhLndhcm5pbmdzKTtcbiAgICAgIHJldHVybiBlbXB0eURhdGE7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IHRoaXMuX2dldERhdGEoKTtcbiAgICBjb25zdCBjaGFuZ2VzID0gdGhpcy5fZ2V0Q2hhbmdlc0ZpZWxkcygpO1xuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMuX2dldERpc3BsYXllZEVycm9ycyh0aGlzLl9lcnJvcnMpO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gdGhpcy5fZ2V0RGlzcGxheWVkRXJyb3JzKHRoaXMuX3dhcm5pbmdzKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpc0xvYWRlZCxcbiAgICAgIGRhdGEsXG4gICAgICBvcmlnaW5hbERhdGE6IHRoaXMuX2RhdGEsXG4gICAgICBjaGFuZ2VzLFxuICAgICAgZXJyb3JzLFxuICAgICAgd2FybmluZ3MsXG4gICAgICAvLyBOb3RlIHRoYXQgd2UgcmV0dXJuIGVycm9ycyBhbmQgd2FybmluZ3MgYm90aCBpbiBidW5jaCBhcyBhIHByb3BlcnR5IGFuZCBmb3IgZWFjaCBmaWVsZCBzZXBhcmF0ZWx5XG4gICAgICAvLyAtIGl0IGlzIHJlZHVuZGFudGx5LCBidXQgaGFuZHkgOilcbiAgICAgIGZpZWxkczogdGhpcy5fZ2V0RmllbGRzKGRhdGEsIGNoYW5nZXMsIGVycm9ycywgd2FybmluZ3MpLFxuICAgICAgaXNTdWJtaXR0aW5nOiB0aGlzLl9pc1N1Ym1pdHRpbmdcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBmb3JtIHZhbHVlLiBJcyB1c2VkIGFzIHRoZSBFZGl0b3JzIG9uQ2hhbmdlIGhhbmRsZXJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9ICBmaWVsZCAgUGFyYW1ldGVyXG4gICAqIEBwYXJhbSB7Kn0gICAgICAgdmFsdWUgIEV2ZW50IG9yIGRhdGFcbiAgICovXG4gIGFzeW5jIHVwZGF0ZUZpZWxkKGZpZWxkLCB2YWx1ZSkge1xuICAgIGF3YWl0IHRoaXMuc2V0KHtcbiAgICAgIFtmaWVsZF06IHBhcnNlVmFsdWVGcm9tRXZlbnQodmFsdWUpXG4gICAgfSk7XG4gIH1cblxuICBhZGRDaGFuZ2VMaXN0ZW5lcihmdW5jKSB7XG4gICAgdGhpcy5fZXZlbnRFbWl0dGVyLm9uKCd1cGRhdGUnLCBmdW5jKTtcbiAgfVxuXG4gIHJlbW92ZUNoYW5nZUxpc3RlbmVyKGZ1bmMpIHtcbiAgICB0aGlzLl9ldmVudEVtaXR0ZXIub2ZmKCd1cGRhdGUnLCBmdW5jKTtcbiAgICBpZiAodGhpcy5fZXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQoJ3VwZGF0ZScpID09PSAwICYmICF0aGlzLl9pc05vdEluaXRpYWxpemVkKSB7XG4gICAgICB0aGlzLm1vZGVsLm9mZigndXBkYXRlJywgdGhpcy5fb25Nb2RlbENoYW5nZSk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlQWxsTGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2V2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3VwZGF0ZScpO1xuICAgIHRoaXMubW9kZWwub2ZmKCd1cGRhdGUnLCB0aGlzLl9vbk1vZGVsQ2hhbmdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gZmllbGRzXG4gICAqL1xuICBjbGVhclZhbGlkYXRpb24oZmllbGRzKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBXZSBrZWVwIGluZm8gYWJvdXQgX2hpZGRlblZhbGlkYXRpb25GaWVsZHMgZm9yIGNhc2VzIHdoZW4gY2xlYXJWYWxpZGF0aW9uIHdhcyBjYWxsZWQgd2hpbGUgdmFsaWRhdGVGb3JtIHdhc1xuICAgIC8vIGNhbGxlZCBhbmQgaGF2ZW4ndCBmaW5pc2hlZCwgc28gdGhlbiBvbGQgdmFsaWRhdGlvbiByZXN1bHQgc2hvdWxkbid0IHNob3cgZXJyb3JzIGZvciBfaGlkZGVuVmFsaWRhdGlvbkZpZWxkc1xuICAgIC8vIGZpZWxkcywgYnV0IHRoZSBuZXh0IGNhbGxlZCB2YWxpZGF0aW9ucyB3aWxsIGNsZWFyIF9oaWRkZW5WYWxpZGF0aW9uRmllbGRzIHNvIHRoZSBmaWVsZHMgd2lsbCBnZXQgZXJyb3JzIGFnYWluLlxuICAgIC8vIFVzZSBjYXNlOiBhIHVzZXIgY2hhbmdlZCBmaWVsZCAnbmFtZScsIGEgdmFsaWRhdGlvbiBzdGFydGVkLCB0aGUgdXNlciBmb2N1c2VkIGZpZWxkICdhZ2UnIHNvIHdlIGNhbGxlZFxuICAgIC8vIGNsZWFyVmFsaWRhdGlvbignYWdlJyksIHRoZSB2YWxpZGF0aW9uIGZpbmlzaGVkIGFuZCByZXR1cm5lZCBlcnJvcnMgZm9yIGZpZWxkcyAnbmFtZScgYW5kICdhZ2UnLCBidXQgd2VcbiAgICAvLyBzaG91bGRuJ3Qgc2hvdyBlcnJvciBmb3IgZmllbGQgJ2FnZScgYmVjYXVzZSB0aGUgdXNlciBoYXMganVzdCBmb2N1c2VkIGl0LiBUaGVuIHVzZXIgYmx1cmVkIGZpZWxkICdhZ2UnLCBhIG5ld1xuICAgIC8vIHZhbGlkYXRpb24gc3RhdGVkIGFuZCBpdCBzaG91bGQgc2hvdyBlcnJvcnMgZm9yIGZpZWxkICdhZ2UnLlxuICAgIGlmIChBcnJheS5pc0FycmF5KGZpZWxkcykpIHtcbiAgICAgIHRoaXMuX2hpZGRlblZhbGlkYXRpb25GaWVsZHMucHVzaCguLi5maWVsZHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRkZW5WYWxpZGF0aW9uRmllbGRzLnB1c2goZmllbGRzKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRTdGF0ZSgpO1xuICB9XG5cbiAgY2xlYXJFcnJvcihmaWVsZCkge1xuICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRlZDogRm9ybVNlcnZpY2UgbWV0aG9kIFwiY2xlYXJFcnJvclwiIHJlbmFtZWQgdG8gXCJjbGVhclZhbGlkYXRpb25cIicpO1xuICAgIHRoaXMuY2xlYXJWYWxpZGF0aW9uKGZpZWxkKTtcbiAgfVxuXG4gIGFzeW5jIHZhbGlkYXRlRmllbGQoZmllbGQsIHZhbHVlKSB7XG4gICAgYXdhaXQgdGhpcy5zZXQoe1xuICAgICAgW2ZpZWxkXTogcGFyc2VWYWx1ZUZyb21FdmVudCh2YWx1ZSlcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgZGF0YSBpbiB0aGUgZm9ybVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgZGF0YSAgICAgICAgICAgICAgRGF0YVxuICAgKiBAcGFyYW0ge2Jvb2x9ICAgICAgW3ZhbGlkYXRlPWZhbHNlXSAgVmFsaWRhdGUgZm9ybVxuICAgKi9cbiAgYXN5bmMgc2V0KGRhdGEsIHZhbGlkYXRlKSB7XG4gICAgaWYgKCF0aGlzLl9pc0xvYWRlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fY2hhbmdlcyA9IGdldFJlY29yZENoYW5nZXModGhpcy5tb2RlbCwgdGhpcy5fZGF0YSwgdGhpcy5fY2hhbmdlcywgZGF0YSk7XG5cbiAgICB0aGlzLl9zZXRTdGF0ZSgpO1xuXG4gICAgaWYgKHZhbGlkYXRlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnZhbGlkYXRlRm9ybSgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgVGhyb3R0bGVFcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc3VibWl0RGF0YShkYXRhKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnNldChkYXRhKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zdWJtaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGZvcm0gZGF0YSB0byB0aGUgbW9kZWxcbiAgICovXG4gIGFzeW5jIHN1Ym1pdCgpIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCB8fCB0aGlzLl9pc1N1Ym1pdHRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjaGFuZ2VzID0gdGhpcy5fZ2V0Q2hhbmdlcygpO1xuXG4gICAgdGhpcy5faXNTdWJtaXR0aW5nID0gdHJ1ZTtcbiAgICB0aGlzLl9wYXJ0aWFsRXJyb3JDaGVja2luZyA9IGZhbHNlO1xuICAgIGNvbnN0IGNvdW50T2ZIaWRkZW5WYWxpZGF0aW9uRmllbGRzVG9SZW1vdmUgPSB0aGlzLl9oaWRkZW5WYWxpZGF0aW9uRmllbGRzLmxlbmd0aDtcblxuICAgIHRoaXMuX3NldFN0YXRlKCk7XG5cbiAgICAvLyBTZW5kIGNoYW5nZXMgdG8gbW9kZWxcbiAgICBsZXQgZGF0YTtcbiAgICBsZXQgdmFsaWRhdGlvbkVycm9ycztcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IGF3YWl0IHRoaXMubW9kZWwuc3VibWl0KGNoYW5nZXMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9ycykpIHtcbiAgICAgICAgdGhpcy5faXNTdWJtaXR0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NldFN0YXRlKCk7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIHZhbGlkYXRpb25FcnJvcnMgPSBlcnI7XG4gICAgfVxuXG4gICAgdGhpcy5faXNTdWJtaXR0aW5nID0gZmFsc2U7XG5cbiAgICBjb25zdCBuZXdDaGFuZ2VzID0gdGhpcy5fZ2V0Q2hhbmdlcygpO1xuICAgIGNvbnN0IGFjdHVhbENoYW5nZXMgPSBpc0VxdWFsKGNoYW5nZXMsIG5ld0NoYW5nZXMpO1xuXG4gICAgaWYgKGFjdHVhbENoYW5nZXMpIHtcbiAgICAgIGlmICh2YWxpZGF0aW9uRXJyb3JzKSB7XG4gICAgICAgIHRoaXMuX2Vycm9ycyA9IHZhbGlkYXRpb25FcnJvcnM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9lcnJvcnMgPSBuZXcgVmFsaWRhdGlvbkVycm9ycygpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VzID0ge307XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5faGlkZGVuVmFsaWRhdGlvbkZpZWxkcy5zcGxpY2UoMCwgY291bnRPZkhpZGRlblZhbGlkYXRpb25GaWVsZHNUb1JlbW92ZSk7XG5cbiAgICB0aGlzLl9zZXRTdGF0ZSgpO1xuXG4gICAgaWYgKHZhbGlkYXRpb25FcnJvcnMpIHtcbiAgICAgIHRocm93IHZhbGlkYXRpb25FcnJvcnM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBjbGVhckZpZWxkQ2hhbmdlcyhmaWVsZCkge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZXJyb3JzLmNsZWFyRmllbGQoZmllbGQpO1xuICAgIHRoaXMuX3dhcm5pbmdzLmNsZWFyRmllbGQoZmllbGQpO1xuICAgIGRlbGV0ZSB0aGlzLl9jaGFuZ2VzW2ZpZWxkXTtcbiAgICB0aGlzLl9zZXRTdGF0ZSgpO1xuICB9XG5cbiAgY2xlYXJDaGFuZ2VzKCkge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZXJyb3JzLmNsZWFyKCk7XG4gICAgdGhpcy5fd2FybmluZ3MuY2xlYXIoKTtcbiAgICB0aGlzLl9jaGFuZ2VzID0ge307XG4gICAgdGhpcy5fcGFydGlhbEVycm9yQ2hlY2tpbmcgPSB0aGlzLl9wYXJ0aWFsRXJyb3JDaGVja2luZ0RlZmF1bHQ7XG4gICAgdGhpcy5fc2V0U3RhdGUoKTtcbiAgfVxuXG4gIHNldFBhcnRpYWxFcnJvckNoZWNraW5nKHZhbHVlKSB7XG4gICAgdGhpcy5fcGFydGlhbEVycm9yQ2hlY2tpbmcgPSB2YWx1ZTtcbiAgICB0aGlzLl9zZXRTdGF0ZSgpO1xuICB9XG5cbiAgZ2V0UGFydGlhbEVycm9yQ2hlY2tpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcnRpYWxFcnJvckNoZWNraW5nO1xuICB9XG5cbiAgYXN5bmMgdmFsaWRhdGVGb3JtKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdmFsaWRhdGVGb3JtKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIFRocm90dGxlRXJyb3IpKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX3ZhbGlkYXRlRm9ybSgpIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFdlIHNob3VsZCByZW1vdmUgb25seSB0aG9zZSBoaWRkZW5WYWxpZGF0aW9uRmllbGRzIHRoYXQgd2VyZSBwcmVzZW50IGJlZm9yZSB2YWxpZGF0aW9uIHN0YXJ0ZWQgYW5kIGtlZXAgdGhvc2VcbiAgICAvLyB0aGF0IHdlcmUgYWRkZWQgYWZ0ZXIgdmFsaWRhdGlvbiBzdGFydGVkIChzbyBpdCBpcyBwb3NzaWJsZSBhbmQgb2sgdGhhdCBmaWVsZCAnbmFtZScgbWF5IGJlIHByZXNlbnQgMiB0aW1lczpcbiAgICAvLyAxIGZvciBvbGQgdmFsaWRhdGlvbiBjYWxsIGFuZCAxIGZvciB0aGUgbmV3KS5cbiAgICAvLyBUYWtlIGludG8gYWNjb3VudCB0aGF0IF92YWxpZGF0ZUZvcm0gaXMgdGhyb3R0bGVkLCBzbyBuZXh0IGNhbGxzIHdpbGwgYmUgc2tpcHBlZCBvciBzY2hlZHVsZWQgYWZ0ZXIgY3VycmVudCBjYWxsXG4gICAgLy8gZmluaXNoZXMuIEl0IG1lYW5zIHdlIGRvbid0IG5lZWQgdG8gY2FyZSBhYm91dCBwYXJhbGxlbCBjYWxscyBiZWNhdXNlIHRoZXkgYXJlIGltcG9zc2libGUuXG4gICAgY29uc3QgY291bnRPZkhpZGRlblZhbGlkYXRpb25GaWVsZHNUb1JlbW92ZSA9IHRoaXMuX2hpZGRlblZhbGlkYXRpb25GaWVsZHMubGVuZ3RoO1xuICAgIHRoaXMudmFsaWRhdGluZyA9IHRydWU7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICB0aGlzLl9ydW5WYWxpZGF0b3IodGhpcy5tb2RlbCwgdGhpcy5fZ2V0Q2hhbmdlcywgJ19lcnJvcnMnKSxcbiAgICAgICAgdGhpcy5fcnVuVmFsaWRhdG9yKHRoaXMuX3dhcm5pbmdzVmFsaWRhdG9yLCB0aGlzLl9nZXREYXRhLCAnX3dhcm5pbmdzJylcbiAgICAgIF0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLnZhbGlkYXRpbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5faGlkZGVuVmFsaWRhdGlvbkZpZWxkcy5zcGxpY2UoMCwgY291bnRPZkhpZGRlblZhbGlkYXRpb25GaWVsZHNUb1JlbW92ZSk7XG5cbiAgICAgIHRoaXMuX3NldFN0YXRlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZGlzcGxheWVkRXJyb3JzID0gdGhpcy5fZ2V0RGlzcGxheWVkRXJyb3JzKHRoaXMuX2Vycm9ycyk7XG4gICAgY29uc3QgZGlzcGxheWVkV2FybmluZyA9IHRoaXMuX2dldERpc3BsYXllZEVycm9ycyh0aGlzLl93YXJuaW5ncyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3JzOiAhZGlzcGxheWVkRXJyb3JzLmlzRW1wdHkoKSA/IGRpc3BsYXllZEVycm9ycyA6IG51bGwsXG4gICAgICB3YXJuaW5nczogIWRpc3BsYXllZFdhcm5pbmcuaXNFbXB0eSgpID8gZGlzcGxheWVkV2FybmluZyA6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIF9nZXRGaWVsZHMoZGF0YSwgY2hhbmdlcywgZXJyb3JzLCB3YXJuaW5ncykge1xuICAgIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICBnZXQodGFyZ2V0LCBmaWVsZE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2YWx1ZTogZGF0YVtmaWVsZE5hbWVdLFxuICAgICAgICAgIGlzQ2hhbmdlZDogY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eShmaWVsZE5hbWUpLFxuICAgICAgICAgIGVycm9yczogZXJyb3JzLmdldEZpZWxkRXJyb3JNZXNzYWdlcyhmaWVsZE5hbWUpLFxuICAgICAgICAgIHdhcm5pbmdzOiB3YXJuaW5ncy5nZXRGaWVsZEVycm9yTWVzc2FnZXMoZmllbGROYW1lKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRXhwbGljaXQgZGVjbGFyYXRpb24gb2YgZmllbGRzIGluIGFuIG9iamVjdFxuICAgIGlmICh0aGlzLmZpZWxkcykge1xuICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiB0aGlzLmZpZWxkcykge1xuICAgICAgICBwcm94eVtmaWVsZF0gPSBwcm94eVtmaWVsZF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3h5O1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlzIGRhdGEgbG9hZGVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgX2lzTG9hZGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhICE9PSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBmb3JtIGNoYW5nZXNcbiAgICpcbiAgICogQHJldHVybiB7e319XG4gICAqL1xuICBfZ2V0Q2hhbmdlc0ZpZWxkcygpIHsgLy8gVE9ETyBfZ2V0Q2hhbmdlc1xuICAgIGNvbnN0IGNoYW5nZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGZpZWxkIGluIHRoaXMuX2NoYW5nZXMpIHtcbiAgICAgIGlmICghdGhpcy5faXNEZXBlbmRlbnRGaWVsZChmaWVsZCkpIHtcbiAgICAgICAgY2hhbmdlc1tmaWVsZF0gPSB0aGlzLl9jaGFuZ2VzW2ZpZWxkXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNoYW5nZXM7XG4gIH1cblxuICAvKipcbiAgICogRmlsdGVyIGVycm9ycyBkZXBlbmRpbmcgb24gdGhlIHBhcnRpYWxFcnJvckNoZWNraW5nIG1vZGUgYW5kIGNsZWFyVmFsaWRhdGlvbiBtZXRob2RcbiAgICpcbiAgICogQHBhcmFtIHtWYWxpZGF0aW9uRXJyb3JzfSAgdmFsaWRhdGlvbkVycm9yc1xuICAgKiBAcmV0dXJucyB7VmFsaWRhdGlvbkVycm9yc30gRm9ybSBmaWVsZHNcbiAgICovXG4gIF9nZXREaXNwbGF5ZWRFcnJvcnModmFsaWRhdGlvbkVycm9ycykge1xuICAgIGNvbnN0IGZpbHRlcmVkRXJyb3JzID0gdmFsaWRhdGlvbkVycm9ycy5jbG9uZSgpO1xuXG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiB2YWxpZGF0aW9uRXJyb3JzLmdldEVycm9ycygpLmtleXMoKSkge1xuICAgICAgY29uc3QgaXNGaWVsZFByaXN0aW5lID0gIXRoaXMuX2NoYW5nZXMuaGFzT3duUHJvcGVydHkoZmllbGQpXG4gICAgICAgIHx8IGlzRXF1YWwodGhpcy5fY2hhbmdlc1tmaWVsZF0sIHRoaXMuX2RhdGFbZmllbGRdKTtcbiAgICAgIGlmICh0aGlzLl9oaWRkZW5WYWxpZGF0aW9uRmllbGRzLmluY2x1ZGVzKGZpZWxkKSB8fCB0aGlzLl9wYXJ0aWFsRXJyb3JDaGVja2luZyAmJiBpc0ZpZWxkUHJpc3RpbmUpIHtcbiAgICAgICAgZmlsdGVyZWRFcnJvcnMuY2xlYXJGaWVsZChmaWVsZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbHRlcmVkRXJyb3JzO1xuICB9XG5cbiAgX3NldFN0YXRlKCkge1xuICAgIHRoaXMuX2V2ZW50RW1pdHRlci50cmlnZ2VyKCd1cGRhdGUnLCB0aGlzLmdldEFsbCgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb2RlbCByZWNvcmRzIGNoYW5nZXMgaGFuZGxlclxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY2hhbmdlcyAgQ2hhbmdlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX29uTW9kZWxDaGFuZ2UoY2hhbmdlcykge1xuICAgIHRoaXMuX2RhdGEgPSB7Li4udGhpcy5fZGF0YSwgLi4uY2hhbmdlc307XG4gICAgdGhpcy5fc2V0U3RhdGUoKTtcbiAgfVxuXG4gIF9nZXREYXRhKCkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9kYXRhLCB0aGlzLl9jaGFuZ2VzKTtcbiAgfVxuXG4gIF9nZXRDaGFuZ2VzKCkge1xuICAgIC8vIFNlbmQgYWxsIGRhdGEgb3IganVzdCBjaGFuZ2VkIGZpZWxkcyBpbiBhZGRpY3Rpb24gb2YgZm9ybSBjb25maWd1cmF0aW9uXG4gICAgaWYgKHRoaXMuc3VibWl0QWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0RGF0YSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2hhbmdlcztcbiAgfVxuXG4gIF9pc0RlcGVuZGVudEZpZWxkKGZpZWxkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoYW5nZXMuaGFzT3duUHJvcGVydHkoZmllbGQpICYmIGlzRXF1YWwodGhpcy5fY2hhbmdlc1tmaWVsZF0sIHRoaXMuX2RhdGFbZmllbGRdKTtcbiAgfVxuXG4gIGFzeW5jIF9ydW5WYWxpZGF0b3IodmFsaWRhdG9yLCBnZXREYXRhLCBvdXRwdXQpIHtcbiAgICBjb25zdCBkYXRhID0gZ2V0RGF0YSgpO1xuICAgIGlmIChpc0VtcHR5KGRhdGEpKSB7XG4gICAgICB0aGlzW291dHB1dF0uY2xlYXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHZhbGlkRXJyb3JzO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhbGlkRXJyb3JzID0gYXdhaXQgdmFsaWRhdG9yLmlzVmFsaWRSZWNvcmQoZGF0YSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpc1tvdXRwdXRdLmNsZWFyKCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIGlmIChpc0VxdWFsKGRhdGEsIGdldERhdGEoKSkpIHtcbiAgICAgIHRoaXNbb3V0cHV0XSA9IHZhbGlkRXJyb3JzO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtU2VydmljZTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBWYWxpZGF0aW9uRXJyb3JzIGZyb20gJy4uL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRpb25FcnJvcnMnO1xuaW1wb3J0IFZhbGlkYXRvciBmcm9tICcuLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0b3InO1xuaW1wb3J0IGRlZmF1bHRYaHIgZnJvbSAnLi4vY29tbW9uL2RlZmF1bHRYaHInO1xuaW1wb3J0IEV2ZW50c01vZGVsIGZyb20gJy4uL2NvbW1vbi9FdmVudHMnO1xuaW1wb3J0IHVybCBmcm9tICd1cmwnO1xuXG5jbGFzcyBGb3JtWGhyTW9kZWwgZXh0ZW5kcyBFdmVudHNNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGlmICghc2V0dGluZ3MuYXBpKSB7XG4gICAgICB0aHJvdyBFcnJvcignSW5pdGlhbGl6YXRpb24gcHJvYmxlbTogXFwnYXBpXFwnIG11c3QgYmUgc3BlY2lmaWVkLicpO1xuICAgIH1cblxuICAgIHRoaXMuX3ZhbGlkYXRvciA9IHNldHRpbmdzLnZhbGlkYXRvciB8fCBuZXcgVmFsaWRhdG9yKCk7XG4gICAgdGhpcy5feGhyID0gc2V0dGluZ3MueGhyIHx8IGRlZmF1bHRYaHI7XG4gICAgdGhpcy5fYXBpVXJsID0gc2V0dGluZ3MuYXBpXG4gICAgICAucmVwbGFjZSgvKFteL10pXFw/LywgJyQxLz8nKSAvLyBBZGQgXCIvXCIgYmVmb3JlIFwiP1wiXG4gICAgICAucmVwbGFjZSgvXlteP10qW14vXSQvLCAnJCYvJyk7IC8vIEFkZCBcIi9cIiB0byB0aGUgZW5kXG4gIH1cblxuICBhc3luYyBnZXREYXRhKGZpZWxkcykge1xuICAgIGNvbnN0IHBhcnNlZFVybCA9IHVybC5wYXJzZSh0aGlzLl9hcGlVcmwsIHRydWUpO1xuICAgIHBhcnNlZFVybC5xdWVyeS5maWVsZHMgPSBKU09OLnN0cmluZ2lmeShmaWVsZHMpO1xuICAgIGRlbGV0ZSBwYXJzZWRVcmwuc2VhcmNoO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl94aHIoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVyaTogdXJsLmZvcm1hdChwYXJzZWRVcmwpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gIH1cblxuICBhc3luYyBzdWJtaXQoY2hhbmdlcykge1xuICAgIGxldCBib2R5ID0gYXdhaXQgdGhpcy5feGhyKHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgdXJpOiB0aGlzLl9hcGlVcmwsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjaGFuZ2VzKVxuICAgIH0pO1xuXG4gICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSk7XG5cbiAgICBpZiAoYm9keS5lcnJvcikge1xuICAgICAgdGhyb3cgVmFsaWRhdGlvbkVycm9ycy5jcmVhdGVGcm9tSlNPTihib2R5LmVycm9yKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyaWdnZXIoJ3VwZGF0ZScsIGJvZHkuZGF0YSk7XG4gICAgcmV0dXJuIGJvZHkuZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0aW9uIGNoZWNrXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHJlY29yZFxuICAgKi9cbiAgaXNWYWxpZFJlY29yZChyZWNvcmQpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsaWRhdG9yLmlzVmFsaWRSZWNvcmQocmVjb3JkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGRlcGVuZGVudCBmaWVsZHMsIHRoYXQgYXJlIHJlcXVpcmVkIGZvciB2YWxpZGF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSAgIHtBcnJheX0gIGZpZWxkcyAgIEZpZWxkcyBsaXN0XG4gICAqIEByZXR1cm5zIHtBcnJheX0gIERlcGVuZGVuY2llc1xuICAgKi9cbiAgZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koZmllbGRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRvci5nZXRWYWxpZGF0aW9uRGVwZW5kZW5jeShmaWVsZHMpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1YaHJNb2RlbDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBFdmVudHMgZnJvbSAnLi4vLi4vY29tbW9uL0V2ZW50cyc7XG5pbXBvcnQge3BpY2t9IGZyb20gJy4uLy4uL2NvbW1vbi91dGlscyc7XG5cbmNsYXNzIEdyaWRUb0Zvcm1DcmVhdGUgZXh0ZW5kcyBFdmVudHMge1xuICAvKipcbiAgICogQWRhcHRlciBhbGxvd3MgdG8gdXNlIEdyaWQgbW9kZWwgYXMgYSBtb2RlbCBmb3IgbmV3IGZvcm0gcmVjb3JkIGNyZWF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7QWJzdHJhY3RHcmlkTW9kZWx9ICAgbW9kZWwgICAgICAgICAgIEdyaWQgbW9kZWxcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgICBbaW5pdGlhbERhdGFdICAgRGVmYXVsdCBmaWVsZCB2YWx1ZXNcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihtb2RlbCwgaW5pdGlhbERhdGEpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5fYWRhcHRlciA9IHtcbiAgICAgIG1vZGVsOiBtb2RlbCxcbiAgICAgIGluaXRpYWxEYXRhOiBpbml0aWFsRGF0YSB8fCB7fVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gICAgIGZpZWxkcyAgICAgUmVxdWlyZWQgZmllbGRzXG4gICAqL1xuICBhc3luYyBnZXREYXRhKGZpZWxkcykge1xuICAgIGlmIChmaWVsZHMgJiYgZmllbGRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHBpY2sodGhpcy5fYWRhcHRlci5pbml0aWFsRGF0YSwgZmllbGRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FkYXB0ZXIuaW5pdGlhbERhdGE7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIG5ldyByZWNvcmRcbiAgICpcbiAgICogQHBhcmFtICAge09iamVjdH0gICAgICBkYXRhICAgICAgUmVjb3JkXG4gICAqL1xuICBhc3luYyBzdWJtaXQoZGF0YSkge1xuICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fYWRhcHRlci5tb2RlbDtcbiAgICByZXR1cm4gYXdhaXQgbW9kZWwuY3JlYXRlKGRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRpb24gY2hlY2tpbmdcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgcmVjb3JkICBSZWNvcmQgb2JqZWN0XG4gICAqL1xuICBhc3luYyBpc1ZhbGlkUmVjb3JkKHJlY29yZCkge1xuICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fYWRhcHRlci5tb2RlbDtcbiAgICByZXR1cm4gYXdhaXQgbW9kZWwuaXNWYWxpZFJlY29yZChyZWNvcmQsIG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgZGVwZW5kZW50IGZpZWxkcywgdGhhdCBhcmUgcmVxdWlyZWQgZm9yIHZhbGlkYXRpb25cbiAgICpcbiAgICogQHBhcmFtICAge0FycmF5fSAgZmllbGRzXG4gICAqIEByZXR1cm5zIHtBcnJheX0gIERlcGVuZGVuY2llc1xuICAgKi9cbiAgZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koZmllbGRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkYXB0ZXIubW9kZWwuZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koZmllbGRzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcmlkVG9Gb3JtQ3JlYXRlO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IFZhbGlkYXRpb25FcnJvcnMgZnJvbSAnLi4vLi4vY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdGlvbkVycm9ycyc7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4uLy4uL2NvbW1vbi9FdmVudHMnO1xuaW1wb3J0IHtpc0VxdWFsLCBjbG9uZX0gZnJvbSAnLi4vLi4vY29tbW9uL3V0aWxzJztcblxuY2xhc3MgR3JpZFRvRm9ybVVwZGF0ZSBleHRlbmRzIEV2ZW50cyB7XG4gIC8qKlxuICAgKiBBZGFwdGVyIHRoYXQgYWxsb3dzIHVzIHRvIHVzZSBHcmlkIG1vZGVsIHJlY29yZCBhcyBhIGZvcm0gbW9kZWxcbiAgICpcbiAgICogQHBhcmFtIHtBYnN0cmFjdEdyaWRNb2RlbH0gbW9kZWwgICBHcmlkIG1vZGVsXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gICAgIGlkICAgICAgUmVjb3JkIElEXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IobW9kZWwsIGlkKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuX2FkYXB0ZXIgPSB7XG4gICAgICBtb2RlbDogbW9kZWwsXG4gICAgICBpZDogaWRcbiAgICB9O1xuXG4gICAgdGhpcy5fb25VcGRhdGVIYW5kbGVycyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byBpbm5lciBtb2RlbCBldmVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gICAgICBldmVudCAgIEV2ZW50IElEXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICAgIGNiICAgICAgQ2FsbEJhY2sgZnVuY3Rpb25cbiAgICovXG4gIG9uKGV2ZW50LCBjYikge1xuICAgIGNvbnN0IGN0eCA9IHRoaXM7XG5cbiAgICBpZiAoZXZlbnQgIT09ICd1cGRhdGUnKSB7XG4gICAgICBFdmVudHMucHJvdG90eXBlLm9uLmNhbGwodGhpcywgZXZlbnQsIGNiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBvbkNoYW5nZSBmaWx0ZXJzIG91dCB0YWJsZSBldmVudHMsIHRoYXQgZG8gbm90IHJlZ2FyZCB0byBvdXIgcmVjb3JkXG4gICAgZnVuY3Rpb24gb25DaGFuZ2UoY2hhbmdlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc0VxdWFsKGNoYW5nZXNbaV1bMF0sIGN0eC5fYWRhcHRlci5pZCkpIHtcbiAgICAgICAgICBjYihjaGFuZ2VzW2ldWzFdKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9vblVwZGF0ZUhhbmRsZXJzLnB1c2goe1xuICAgICAgb3JpZ2luYWxDYWxsYmFjazogY2IsXG4gICAgICB3cmFwcGVkQ2FsbGJhY2s6IG9uQ2hhbmdlXG4gICAgfSk7XG5cbiAgICB0aGlzLl9hZGFwdGVyLm1vZGVsLm9uKCd1cGRhdGUnLCBvbkNoYW5nZSk7XG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgZnJvbSBpbm5lciBtb2RlbCBldmVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gICAgICBldmVudCAgIEV2ZW50IElEXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICAgIGNiICAgICAgQ2FsbEJhY2sgZnVuY3Rpb25cbiAgICovXG4gIG9mZihldmVudCwgY2IpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzO1xuICAgIGNvbnN0IG5ld09uVXBkYXRlSGFuZGxlcnMgPSBbXTtcblxuICAgIGlmIChldmVudCAhPT0gJ3VwZGF0ZScpIHtcbiAgICAgIEV2ZW50cy5wcm90b3R5cGUub2ZmLmNhbGwodGhpcywgZXZlbnQsIGNiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9vblVwZGF0ZUhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiB7XG4gICAgICBpZiAoaGFuZGxlci5vcmlnaW5hbENhbGxiYWNrID09PSBjYikge1xuICAgICAgICBjdHguX2FkYXB0ZXIubW9kZWwub2ZmKCd1cGRhdGUnLCBoYW5kbGVyLndyYXBwZWRDYWxsYmFjayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdPblVwZGF0ZUhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl9vblVwZGF0ZUhhbmRsZXJzID0gbmV3T25VcGRhdGVIYW5kbGVycztcbiAgfVxuXG4gIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRhcHRlci5tb2RlbC5saXN0ZW5lckNvdW50KGV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgZmllbGRzICAgICBSZXF1aXJlZCBmaWVsZHNcbiAgICovXG4gIGFzeW5jIGdldERhdGEoZmllbGRzKSB7XG4gICAgY29uc3QgbW9kZWwgPSB0aGlzLl9hZGFwdGVyLm1vZGVsO1xuICAgIHJldHVybiBhd2FpdCBtb2RlbC5nZXRSZWNvcmQodGhpcy5fYWRhcHRlci5pZCwgZmllbGRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBjaGFuZ2VzXG4gICAqXG4gICAqIEBwYXJhbSAgIHtPYmplY3R9ICAgICAgY2hhbmdlcyAgICAgRm9ybSBkYXRhXG4gICAqL1xuICBhc3luYyBzdWJtaXQoY2hhbmdlcykge1xuICAgIGNvbnN0IHJlY29yZCA9IGNsb25lKGNoYW5nZXMpO1xuICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fYWRhcHRlci5tb2RlbDtcblxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBtb2RlbC51cGRhdGUoW1t0aGlzLl9hZGFwdGVyLmlkLCByZWNvcmRdXSk7XG4gICAgcmVzdWx0ID0gcmVzdWx0WzBdWzFdO1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBFcnJvciB8fCByZXN1bHQgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3JzKSB7XG4gICAgICB0aHJvdyByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUmVjb3JkIHZhbGlkaXR5IGNoZWNrXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHJlY29yZCAgUmVjb3JkIG9iamVjdFxuICAgKi9cbiAgYXN5bmMgaXNWYWxpZFJlY29yZChyZWNvcmQpIHtcbiAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2FkYXB0ZXIubW9kZWw7XG4gICAgcmV0dXJuIGF3YWl0IG1vZGVsLmlzVmFsaWRSZWNvcmQocmVjb3JkLCB0aGlzLl9hZGFwdGVyLmlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGRlcGVuZGVudCBmaWVsZHMsIHRoYXQgYXJlIHJlcXVpcmVkIGZvciB2YWxpZGF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSAgIHtBcnJheX0gIGZpZWxkcyAgRmllbGRzIGxpc3RcbiAgICogQHJldHVybnMge0FycmF5fSAgRGVwZW5kZW5jaWVzXG4gICAqL1xuICBnZXRWYWxpZGF0aW9uRGVwZW5kZW5jeShmaWVsZHMpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRhcHRlci5tb2RlbC5nZXRWYWxpZGF0aW9uRGVwZW5kZW5jeShmaWVsZHMpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRUb0Zvcm1VcGRhdGU7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEZvcm1TZXJ2aWNlIGZyb20gJy4vRm9ybVNlcnZpY2UnO1xuXG5mdW5jdGlvbiBjb25uZWN0Rm9ybShmaWVsZHMgPSBudWxsKSB7XG4gIHJldHVybiBDb21wb25lbnQgPT4gY2xhc3MgQ29tcG9uZW50V2l0aEZvcm1TZXJ2aWNlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzLmZvcm0gPSBuZXcgRm9ybVNlcnZpY2UoZmllbGRzKTtcbiAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmZvcm0uZ2V0QWxsKCk7XG5cbiAgICAgIHRoaXMub25Gb3JtQ2hhbmdlID0gdGhpcy5vbkZvcm1DaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5mb3JtLmdldEFsbCgpO1xuICAgICAgaWYgKHN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICAgICAgfVxuICAgICAgdGhpcy5mb3JtLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMub25Gb3JtQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuZm9ybS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uRm9ybUNoYW5nZSk7XG4gICAgfVxuXG4gICAgb25Gb3JtQ2hhbmdlKG5ld0Zvcm1TdGF0ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXdGb3JtU3RhdGUpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiA8Q29tcG9uZW50IHsuLi50aGlzLnByb3BzfSBmb3JtRGF0YT17dGhpcy5zdGF0ZX0gZm9ybVNlcnZpY2U9e3RoaXMuZm9ybX0vPjtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3RGb3JtO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHt0aHJvdHRsZSwgaXNFbXB0eSwgaXNFcXVhbCwgY2xvbmVEZWVwLCBwYXJzZVZhbHVlRnJvbUV2ZW50LCBnZXRSZWNvcmRDaGFuZ2VzLCBmb3JFYWNoLCBjbG9uZX0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcbmltcG9ydCB0b1Byb21pc2UgZnJvbSAnLi4vY29tbW9uL3RvUHJvbWlzZSc7XG5pbXBvcnQgVmFsaWRhdG9yIGZyb20gJy4uL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRvcic7XG5pbXBvcnQgVmFsaWRhdGlvbkVycm9ycyBmcm9tICcuLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0aW9uRXJyb3JzJztcbmltcG9ydCBjYWxsYmFja2lmeSBmcm9tICcuLi9jb21tb24vY2FsbGJhY2tpZnknO1xuXG4vKipcbiAqIEdyaWQgZm9ybSBtaXhpblxuICogQG1peGluXG4gKi9cbmNvbnN0IEZvcm1NaXhpbiA9IHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fdmFsaWRhdGVGb3JtID0gdGhyb3R0bGUodGhpcy5fdmFsaWRhdGVGb3JtKTtcblxuICAgIGlmICh0aGlzLl9oYW5kbGVNb2RlbENoYW5nZS5uYW1lLmluZGV4T2YoJ2JvdW5kICcpICE9PSAwKSB7IC8vIFN1cHBvcnQgUmVhY3QuY3JlYXRlQ2xhc3MgYW5kIG1peGluLWRlY29yYXRvcnNcbiAgICAgIHRoaXMuX2hhbmRsZU1vZGVsQ2hhbmdlID0gdGhpcy5faGFuZGxlTW9kZWxDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2dldERhdGEgPSB0aGlzLl9nZXREYXRhLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9nZXRDaGFuZ2VzID0gdGhpcy5fZ2V0Q2hhbmdlcy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy52YWxpZGF0ZUZvcm0gPSB0aGlzLnZhbGlkYXRlRm9ybS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBfZm9ybU1peGluOiBudWxsXG4gICAgfTtcbiAgfSxcblxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pc1VubW91bnRlZCA9IGZhbHNlO1xuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5faXNVbm1vdW50ZWQgPSB0cnVlO1xuICAgIGlmICghdGhpcy5faXNOb3RJbml0aWFsaXplZCgpKSB7XG4gICAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4ubW9kZWwub2ZmKCd1cGRhdGUnLCB0aGlzLl9oYW5kbGVNb2RlbENoYW5nZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGZvcm1cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgc2V0dGluZ3MgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIHtBcnJheX0gICAgICAgICAgICAgc2V0dGluZ3MuZmllbGRzICAgICAgICAgICAgICAgICAgICAgICAgIEZpZWxkcyBsaXN0LCB0aGF0IGFyZSByZXF1aXJlZCB0byBkaXNwbGF5XG4gICAqIEBwYXJhbSB7Rm9ybU1vZGVsfSAgICAgICAgIHNldHRpbmdzLm1vZGVsICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RlbCBvZiBmb3JtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgIFtzZXR0aW5ncy5kYXRhXSAgICAgICAgICAgICAgICAgICAgICAgICBQcmVzZXQgZGF0YVxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICBbc2V0dGluZ3MuY2hhbmdlcyAgICAgICAgICAgICAgICAgICAgICAgUHJlc2V0IGNoYW5nZXNcbiAgICogQHBhcmFtIHtib29sfSAgICAgICAgICAgICAgW3NldHRpbmdzLnN1Ym1pdEFsbD1mYWxzZV0gICAgICAgICAgICAgIFNlbmQgYWxsIGZvcm0gZm9yIHZhbGlkaXR5IGNoZWNrXG4gICAqIEBwYXJhbSB7Ym9vbH0gICAgICAgICAgICAgIFtzZXR0aW5ncy5wYXJ0aWFsRXJyb3JDaGVja2luZz1mYWxzZV0gICBBY3RpdmF0ZSBwYXJ0aWFsIGdyYWR1YWwgZm9ybSB2YWxpZGF0aW9uXG4gICAqIEBwYXJhbSB7Ym9vbH0gICAgICAgICAgICAgIFtzZXR0aW5ncy5zaG93RGVwZW5kZW50RmllbGRzPWZhbHNlXSAgICBNYXJrIHRoZSBmaWVsZHMgd2hpY2ggYXJlIGludm9sdmVkIGluIHRoZSBncm91cCB2YWxpZGF0aW9uXG4gICAqIEBwYXJhbSB7Ym9vbH0gICAgICAgICAgICAgIFtzZXR0aW5ncy5hdXRvU3VibWl0XSAgICAgICAgICAgICAgICAgICBBdXRvbWF0aWMgc3VibWl0IGJlZm9yZSB1cGRhdGVGaWVsZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgICAgICAgICBbc2V0dGluZ3MuYXV0b1N1Ym1pdEhhbmRsZXJdICAgICAgICAgICAgQXV0b21hdGljIHN1Ym1pdCBoYW5kbGVyXG4gICAqIEBwYXJhbSB7VmFsaWRhdG9yfSAgICAgICAgIFtzZXR0aW5ncy53YXJuaW5nc1ZhbGlkYXRvcl0gICAgICAgICAgICBXYXJuaW5nc3MgdmFsaWRhdG9yIGZvciBmaWVsZHNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gICAgICAgICAgW2NiXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbGxCYWNrIGZ1bmN0aW9uXG4gICAqL1xuICBpbml0Rm9ybTogY2FsbGJhY2tpZnkoYXN5bmMgZnVuY3Rpb24gKHNldHRpbmdzKSB7XG4gICAgdGhpcy5faW5pdFN0YXRlKHNldHRpbmdzKTtcblxuICAgIGlmICghdGhpcy5zdGF0ZS5fZm9ybU1peGluLmRhdGEpIHtcbiAgICAgIGxldCBkYXRhO1xuICAgICAgbGV0IGVycjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBzZXR0aW5ncy5tb2RlbC5nZXREYXRhKHNldHRpbmdzLmZpZWxkcyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVyciA9IGU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc1VubW91bnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLmdsb2JhbEVycm9yID0gZXJyO1xuICAgICAgICBhd2FpdCB0b1Byb21pc2UoOjp0aGlzLnNldFN0YXRlLCB0cnVlKSh0aGlzLnN0YXRlKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZGF0YSA9IGRhdGE7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLm1vZGVsLm9uKCd1cGRhdGUnLCB0aGlzLl9oYW5kbGVNb2RlbENoYW5nZSk7XG4gICAgYXdhaXQgdG9Qcm9taXNlKDo6dGhpcy5zZXRTdGF0ZSwgdHJ1ZSkodGhpcy5zdGF0ZSk7XG4gICAgaWYgKCFzZXR0aW5ncy5wYXJ0aWFsRXJyb3JDaGVja2luZykge1xuICAgICAgYXdhaXQgdGhpcy52YWxpZGF0ZUZvcm0oKTtcbiAgICB9XG4gIH0sIHRydWUpLFxuXG4gIC8qKlxuICAgKiBDaGVjayBpcyBkYXRhIGxvYWRlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzTG9hZGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5fZm9ybU1peGluICYmXG4gICAgICBCb29sZWFuKHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5kYXRhIHx8IHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5nbG9iYWxFcnJvcik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBmb3JtIGNoYW5nZXNcbiAgICpcbiAgICogQHJldHVybiB7e319XG4gICAqL1xuICBnZXRDaGFuZ2VzOiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY2hhbmdlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgZmllbGQgaW4gdGhpcy5zdGF0ZS5fZm9ybU1peGluLmNoYW5nZXMpIHtcbiAgICAgIGlmICghdGhpcy5faXNEZXBlbmRlbnRGaWVsZChmaWVsZCkpIHtcbiAgICAgICAgY2hhbmdlc1tmaWVsZF0gPSB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uY2hhbmdlc1tmaWVsZF07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBmb3JtIGZpZWxkIChvciBlbnRpcmUgZm9ybSkgaXMgY2hhbmdlZFxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgZmllbGQgIEZpZWxkIG5hbWVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGhhc0NoYW5nZXM6IGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGUuX2Zvcm1NaXhpbjtcblxuICAgIGlmIChmaWVsZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gIWlzRW1wdHkoc3RhdGUuY2hhbmdlcyk7XG4gICAgfVxuXG4gICAgaWYgKCFzdGF0ZS5zaG93RGVwZW5kZW50RmllbGRzICYmIHRoaXMuX2lzRGVwZW5kZW50RmllbGQoZmllbGQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXRlLmNoYW5nZXMuaGFzT3duUHJvcGVydHkoZmllbGQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBmb3JtIGZpZWxkIGhhcyB2YWxpZGl0eSBlcnJvcnNcbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfHN0cmluZ1tdfSAgIGZpZWxkICBGaWVsZCBuYW1lIG9yIGFycmF5IG9mIG5hbWVzXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBoYXNFcnJvcjogZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZS5fZm9ybU1peGluO1xuXG4gICAgLy8gQ2hlY2sgZ3JvdXAgb2YgZmllbGRzXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZmllbGQpKSB7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGZpZWxkKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0Vycm9yKGVudHJ5KSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gSWYgcGFydGlhbCBjaGVjayBpcyBvbiBhbmQgZmllbGQgaXMgY2hhbmdlZCxcbiAgICAvLyBkbyBub3QgZGlzcGxheSBhbiBlcnJvclxuICAgIGlmIChzdGF0ZS5wYXJ0aWFsRXJyb3JDaGVja2luZykge1xuICAgICAgaWYgKCFzdGF0ZS5jaGFuZ2VzLmhhc093blByb3BlcnR5KGZpZWxkKSB8fCBpc0VxdWFsKHN0YXRlLmNoYW5nZXNbZmllbGRdLCBzdGF0ZS5kYXRhW2ZpZWxkXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZXJyb3JzLmhhc0Vycm9yKGZpZWxkKSB8fCB0aGlzLnN0YXRlLl9mb3JtTWl4aW4ud2FybmluZ3MuaGFzRXJyb3IoZmllbGQpO1xuICB9LFxuXG4gIGNsZWFyRXJyb3I6IGZ1bmN0aW9uIChmaWVsZCwgY2IpIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi52YWxpZGF0aW5nKSB7XG4gICAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4ucGVuZGluZ0NsZWFyRXJyb3JzLnB1c2goZmllbGQpO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGZpZWxkKSkge1xuICAgICAgZmllbGQuZm9yRWFjaChmdW5jdGlvbiAob25lRmllbGQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLmVycm9ycy5jbGVhckZpZWxkKG9uZUZpZWxkKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLndhcm5pbmdzLmNsZWFyRmllbGQob25lRmllbGQpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5lcnJvcnMuY2xlYXJGaWVsZChmaWVsZCk7XG4gICAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4ud2FybmluZ3MuY2xlYXJGaWVsZChmaWVsZCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLnN0YXRlLCB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicgPyBjYiA6IG51bGwpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgZm9ybSBkYXRhIHdpdGhvdXQgY2hhbmdlc1xuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R8bnVsbH1cbiAgICovXG4gIGdldE9yaWdpbmFsRGF0YTogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKCkpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5kYXRhIHx8IG51bGw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBmb3JtIGRhdGFcbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fG51bGx9XG4gICAqL1xuICBnZXREYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQoKSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICByZXR1cm4gY2xvbmVEZWVwKHRoaXMuX2dldERhdGEoKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBmb3JtIGVycm9yc1xuICAgKlxuICAgKiBAcmV0dXJucyB7VmFsaWRhdGlvbkVycm9yc30gRm9ybSBlcnJvcnNcbiAgICovXG4gIGdldFZhbGlkYXRpb25FcnJvcnM6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCgpKSB7XG4gICAgICByZXR1cm4gbmV3IFZhbGlkYXRpb25FcnJvcnMoKTtcbiAgICB9XG5cbiAgICBsZXQgZmllbGQ7XG4gICAgbGV0IGVycm9ycyA9IFZhbGlkYXRpb25FcnJvcnMubWVyZ2UodGhpcy5zdGF0ZS5fZm9ybU1peGluLmVycm9ycywgdGhpcy5zdGF0ZS5fZm9ybU1peGluLndhcm5pbmdzKTtcblxuICAgIC8vIElmIGdyYWR1YWwgdmFsaWRhdGlvbiBpcyBvbiwgd2UgbmVlZFxuICAgIC8vIHRvIHJlbW92ZSB1bmNoYW5nZWQgcmVjb3JkcyBmcm9tIGVycm9ycyBvYmplY3RcbiAgICBpZiAodGhpcy5zdGF0ZS5fZm9ybU1peGluLnBhcnRpYWxFcnJvckNoZWNraW5nKSB7XG4gICAgICBlcnJvcnMgPSB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZXJyb3JzLmNsb25lKCk7XG5cbiAgICAgIC8vIExvb2sgdGhyb3VnaCBhbGwgZm9ybSBmaWVsZHNcbiAgICAgIGZvciAoZmllbGQgaW4gdGhpcy5zdGF0ZS5fZm9ybU1peGluLmRhdGEpIHtcbiAgICAgICAgLy8gSWYgZmllbGQgaXMgdW5jaGFuZ2VkLCByZW1vdmUgZXJyb3JzLCB0aGF0IHJlZ2FyZCB0byB0aGlzIGZpZWxkXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhdGhpcy5zdGF0ZS5fZm9ybU1peGluLmNoYW5nZXMuaGFzT3duUHJvcGVydHkoZmllbGQpIHx8XG4gICAgICAgICAgaXNFcXVhbCh0aGlzLnN0YXRlLl9mb3JtTWl4aW4uY2hhbmdlc1tmaWVsZF0sIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5kYXRhW2ZpZWxkXSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgZXJyb3JzLmNsZWFyRmllbGQoZmllbGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9ycztcbiAgfSxcblxuICBnZXRGaWVsZEVycm9yczogZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIElmIHBhcnRpYWwgY2hlY2sgaXMgb24gYW5kIGZpZWxkIGlzIGNoYW5nZWQsXG4gICAgLy8gZG8gbm90IGRpc3BsYXkgYW4gZXJyb3JcbiAgICBpZiAodGhpcy5zdGF0ZS5fZm9ybU1peGluLnBhcnRpYWxFcnJvckNoZWNraW5nICYmICF0aGlzLnN0YXRlLl9mb3JtTWl4aW4uY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eShmaWVsZCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5lcnJvcnMuZ2V0RmllbGRFcnJvck1lc3NhZ2VzKGZpZWxkKSB8fCBbXTtcbiAgICBjb25zdCB3YXJuaW5ncyA9IHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi53YXJuaW5ncy5nZXRGaWVsZEVycm9yTWVzc2FnZXMoZmllbGQpIHx8IFtdO1xuXG4gICAgcmV0dXJuIGVycm9ycy5jb25jYXQod2FybmluZ3MpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgZ2xvYmFsIGVycm9yIGRhdGEsIGlmIGl0J3MgcHJlc2VudFxuICAgKlxuICAgKiBAcmV0dXJucyB7RXJyb3J8bnVsbH1cbiAgICovXG4gIGdldEdsb2JhbEVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZ2xvYmFsRXJyb3I7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBmb3JtIHZhbHVlLiBJcyB1c2VkIGFzIHRoZSBFZGl0b3JzIG9uQ2hhbmdlIGhhbmRsZXIuXG4gICAqIENhdXNlcyBjb21wb25lbnQgcmVkcmF3LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgIGZpZWxkICAgUGFyYW1ldGVyXG4gICAqIEBwYXJhbSB7Kn0gICAgICAgICAgICAgICAgdmFsdWUgICBFdmVudCBvciBkYXRhXG4gICAqL1xuICB1cGRhdGVGaWVsZDogZnVuY3Rpb24gKGZpZWxkLCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXQoe1xuICAgICAgW2ZpZWxkXTogcGFyc2VWYWx1ZUZyb21FdmVudCh2YWx1ZSlcbiAgICB9KTtcbiAgfSxcblxuICB2YWxpZGF0ZUZpZWxkOiBmdW5jdGlvbiAoZmllbGQsIHZhbHVlLCBjYikge1xuICAgIHRoaXMuc2V0KHtcbiAgICAgIFtmaWVsZF06IHBhcnNlVmFsdWVGcm9tRXZlbnQodmFsdWUpXG4gICAgfSwgdHJ1ZSwgY2IpO1xuICB9LFxuXG4gIHZhbGlkYXRlRm9ybTogZnVuY3Rpb24gKGNiKSB7XG4gICAgdGhpcy5fdmFsaWRhdGVGb3JtKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3JzKSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgZGF0YSBpbiB0aGUgZm9ybVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgZGF0YSAgICAgICAgICAgICAgRGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICAgICAgW3ZhbGlkYXRlPWZhbHNlXSAgVmFsaWRhdGUgZm9ybVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgW2NiXSAgICAgICAgICAgICAgQ2FsbEJhY2tcbiAgICovXG4gIHNldDogZnVuY3Rpb24gKGRhdGEsIHZhbGlkYXRlLCBjYikge1xuICAgIGlmICghdGhpcy5pc0xvYWRlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWxpZGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhY2IpIHtcbiAgICAgIGNiID0gdmFsaWRhdGU7XG4gICAgICB2YWxpZGF0ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZS5fZm9ybU1peGluO1xuICAgIHN0YXRlLmNoYW5nZXMgPSBnZXRSZWNvcmRDaGFuZ2VzKHN0YXRlLm1vZGVsLCBzdGF0ZS5kYXRhLCBzdGF0ZS5jaGFuZ2VzLCBkYXRhKTtcblxuICAgIGlmICh0aGlzLnN0YXRlLl9mb3JtTWl4aW4uYXV0b1N1Ym1pdCkge1xuICAgICAgdGhpcy5zdWJtaXQoKGVyciwgcmVzdWx0KSA9PiB7XG4gICAgICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5hdXRvU3VibWl0SGFuZGxlcihlcnIsIHJlc3VsdCk7XG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjYihlcnIsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2YWxpZGF0ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLnN0YXRlLCAoKSA9PiB0aGlzLnZhbGlkYXRlRm9ybShjYikpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5zdGF0ZSwgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nID8gY2IgOiBudWxsKTtcbiAgfSxcblxuICBzdWJtaXREYXRhOiBmdW5jdGlvbiAoZGF0YSwgY2IpIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXQoZGF0YSk7XG4gICAgdGhpcy5zdWJtaXQoY2IpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZW5kIGZvcm0gZGF0YSB0byB0aGUgbW9kZWxcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gIFtjYl0gIENhbGxCYWNrIGZ1bmN0aW9uXG4gICAqL1xuICBzdWJtaXQ6IGNhbGxiYWNraWZ5KGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlLl9mb3JtTWl4aW4uYXV0b1N1Ym1pdCAmJiB0aGlzLmlzU3VibWl0dGluZygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLnN1Ym1pdHRpbmcgPSB0cnVlO1xuXG4gICAgY29uc3QgY2hhbmdlcyA9IHRoaXMuX2dldENoYW5nZXMoKTtcblxuICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5nbG9iYWxFcnJvciA9IG51bGw7XG4gICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLnBhcnRpYWxFcnJvckNoZWNraW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLnNldFN0YXRlKHRoaXMuc3RhdGUpO1xuXG4gICAgLy8gU2VuZCBjaGFuZ2VzIHRvIG1vZGVsXG4gICAgbGV0IGRhdGE7XG4gICAgbGV0IGVycjtcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IGF3YWl0IHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5tb2RlbC5zdWJtaXQoY2hhbmdlcyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyID0gZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5faXNVbm1vdW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uc3VibWl0dGluZyA9IGZhbHNlO1xuXG4gICAgY29uc3QgbmV3Q2hhbmdlcyA9IHRoaXMuX2dldENoYW5nZXMoKTtcbiAgICBjb25zdCBhY3R1YWxDaGFuZ2VzID0gaXNFcXVhbChjaGFuZ2VzLCBuZXdDaGFuZ2VzKTtcbiAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3IgPSBlcnIgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3JzO1xuXG4gICAgLy8gUmVwbGFjaW5nIGVtcHR5IGVycm9yIHRvIG51bGxcbiAgICBpZiAodmFsaWRhdGlvbkVycm9yICYmIGVyci5pc0VtcHR5KCkpIHtcbiAgICAgIGVyciA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGVycikge1xuICAgICAgaWYgKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgICBpZiAoYWN0dWFsQ2hhbmdlcykge1xuICAgICAgICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5lcnJvcnMgPSBlcnI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5nbG9iYWxFcnJvciA9IGVycjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFjdHVhbENoYW5nZXMpIHtcbiAgICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5lcnJvcnMgPSBuZXcgVmFsaWRhdGlvbkVycm9ycygpO1xuICAgICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLmNoYW5nZXMgPSB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yRWFjaChjaGFuZ2VzLCBmdW5jdGlvbiAodmFsdWUsIGZpZWxkKSB7XG4gICAgICAgIGlmIChpc0VxdWFsKHZhbHVlLCBuZXdDaGFuZ2VzW2ZpZWxkXSkpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5zdGF0ZS5fZm9ybU1peGluLmNoYW5nZXNbZmllbGRdO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0b1Byb21pc2UoOjp0aGlzLnNldFN0YXRlLCB0cnVlKSh0aGlzLnN0YXRlKTtcblxuICAgIGlmIChlcnIpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0pLFxuXG4gIGNsZWFyRmllbGRDaGFuZ2VzOiBmdW5jdGlvbiAoZmllbGQsIGNiKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5lcnJvcnMuY2xlYXJGaWVsZChmaWVsZCk7XG4gICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLndhcm5pbmdzLmNsZWFyRmllbGQoZmllbGQpO1xuICAgIGRlbGV0ZSB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uY2hhbmdlc1tmaWVsZF07XG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLnN0YXRlLCB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicgPyBjYiA6IG51bGwpO1xuICB9LFxuXG4gIGNsZWFyQ2hhbmdlczogZnVuY3Rpb24gKGNiKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5lcnJvcnMuY2xlYXIoKTtcbiAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4ud2FybmluZ3MuY2xlYXIoKTtcbiAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uY2hhbmdlcyA9IHt9O1xuICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5nbG9iYWxFcnJvciA9IGZhbHNlO1xuICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5wYXJ0aWFsRXJyb3JDaGVja2luZyA9IHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5wYXJ0aWFsRXJyb3JDaGVja2luZ0RlZmF1bHQ7XG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLnN0YXRlLCB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicgPyBjYiA6IG51bGwpO1xuICB9LFxuXG4gIHNldFBhcnRpYWxFcnJvckNoZWNraW5nOiBmdW5jdGlvbiAodmFsdWUsIGNiKSB7XG4gICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLnBhcnRpYWxFcnJvckNoZWNraW5nID0gdmFsdWU7XG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLnN0YXRlLCB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicgPyBjYiA6IG51bGwpO1xuICB9LFxuXG4gIGlzU3VibWl0dGluZzogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5fZm9ybU1peGluLnN1Ym1pdHRpbmc7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGVsIHJlY29yZHMgY2hhbmdlcyBoYW5kbGVyXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjaGFuZ2VzICBDaGFuZ2VzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlTW9kZWxDaGFuZ2U6IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZGF0YSwgY2xvbmVEZWVwKGNoYW5nZXMpKTtcbiAgICBpZiAoIXRoaXMuX2lzVW5tb3VudGVkKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHRoaXMuc3RhdGUpO1xuICAgIH1cbiAgfSxcblxuICBfaW5pdFN0YXRlOiBmdW5jdGlvbiAoc2V0dGluZ3MpIHtcbiAgICBpZiAoIXNldHRpbmdzLm1vZGVsKSB7XG4gICAgICB0aHJvdyBFcnJvcignWW91IG11c3Qgc3BlY2lmeSB0aGUgbW9kZWwgZm9ybSBpbiB0aGlzLmluaXRGb3JtKCknKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4gPSB7XG4gICAgICBkYXRhOiBzZXR0aW5ncy5kYXRhLFxuICAgICAgY2hhbmdlczogc2V0dGluZ3MuY2hhbmdlcyB8fCB7fSxcbiAgICAgIGVycm9yczogbmV3IFZhbGlkYXRpb25FcnJvcnMoKSxcbiAgICAgIHdhcm5pbmdzOiBuZXcgVmFsaWRhdGlvbkVycm9ycygpLFxuICAgICAgZ2xvYmFsRXJyb3I6IG51bGwsXG4gICAgICB2YWxpZGF0aW5nOiBmYWxzZSxcbiAgICAgIHBlbmRpbmdDbGVhckVycm9yczogW10sXG4gICAgICBzdWJtaXR0aW5nOiBmYWxzZSxcbiAgICAgIHNob3dEZXBlbmRlbnRGaWVsZHM6IHNldHRpbmdzLnNob3dEZXBlbmRlbnRGaWVsZHMgfHwgZmFsc2UsXG4gICAgICB3YXJuaW5nc1ZhbGlkYXRvcjogc2V0dGluZ3Mud2FybmluZ3NWYWxpZGF0b3IgfHwgbmV3IFZhbGlkYXRvcigpLFxuXG4gICAgICBwYXJ0aWFsRXJyb3JDaGVja2luZzogc2V0dGluZ3MucGFydGlhbEVycm9yQ2hlY2tpbmcsIC8vIEN1cnJlbnQgbW9kZVxuICAgICAgcGFydGlhbEVycm9yQ2hlY2tpbmdEZWZhdWx0OiBzZXR0aW5ncy5wYXJ0aWFsRXJyb3JDaGVja2luZywgLy8gRGVmYXVsdCBtb2RlXG5cbiAgICAgIG1vZGVsOiBzZXR0aW5ncy5tb2RlbCwgLy8gRm9ybU1vZGVsXG4gICAgICBmaWVsZHM6IHNldHRpbmdzLmZpZWxkcyxcbiAgICAgIHN1Ym1pdEFsbDogc2V0dGluZ3Muc3VibWl0QWxsLFxuICAgICAgYXV0b1N1Ym1pdDogc2V0dGluZ3MuYXV0b1N1Ym1pdCxcbiAgICAgIGF1dG9TdWJtaXRIYW5kbGVyOiBzZXR0aW5ncy5hdXRvU3VibWl0SGFuZGxlclxuICAgIH07XG4gIH0sXG5cbiAgX2lzTm90SW5pdGlhbGl6ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gIXRoaXMuc3RhdGUgfHwgIXRoaXMuc3RhdGUuX2Zvcm1NaXhpbjtcbiAgfSxcblxuICBfdmFsaWRhdGVGb3JtOiBmdW5jdGlvbiAoY2IsIHN0b3ApIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCgpKSB7XG4gICAgICByZXR1cm4gc3RvcCgpO1xuICAgIH1cblxuICAgIGxldCBjb21wbGV0ZWQgPSAwO1xuICAgIGxldCBjb21wbGV0ZUVycm9yO1xuICAgIGNvbnN0IG9uQ29tcGxldGUgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBsZXQgZmllbGQ7XG5cbiAgICAgIGlmICh0aGlzLl9pc1VubW91bnRlZCkge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGVycikge1xuICAgICAgICBjb21wbGV0ZUVycm9yID0gZXJyO1xuICAgICAgfVxuXG4gICAgICBpZiAoKytjb21wbGV0ZWQgPCAyKSB7Ly8gV2FpdCB0d28gY2FsbGJhY2tzXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLnZhbGlkYXRpbmcgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKGZpZWxkID0gdGhpcy5zdGF0ZS5fZm9ybU1peGluLnBlbmRpbmdDbGVhckVycm9ycy5wb3AoKSkge1xuICAgICAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4ud2FybmluZ3MuY2xlYXJGaWVsZChmaWVsZCk7XG4gICAgICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5lcnJvcnMuY2xlYXJGaWVsZChmaWVsZCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUodGhpcy5zdGF0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY29tcGxldGVFcnJvcikge1xuICAgICAgICAgIGNiKGNvbXBsZXRlRXJyb3IpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVycm9yc1dpdGhQYXJ0aWFsQ2hlY2tpbmcgPSB0aGlzLmdldFZhbGlkYXRpb25FcnJvcnMoKTtcbiAgICAgICAgY2IoZXJyb3JzV2l0aFBhcnRpYWxDaGVja2luZy5pc0VtcHR5KCkgPyBudWxsIDogZXJyb3JzV2l0aFBhcnRpYWxDaGVja2luZyk7XG4gICAgICB9KTtcbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4udmFsaWRhdGluZyA9IHRydWU7XG5cbiAgICB0aGlzLl9ydW5WYWxpZGF0b3IodGhpcy5zdGF0ZS5fZm9ybU1peGluLm1vZGVsLCB0aGlzLl9nZXRDaGFuZ2VzLCAnZXJyb3JzJywgb25Db21wbGV0ZSk7XG4gICAgdGhpcy5fcnVuVmFsaWRhdG9yKHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi53YXJuaW5nc1ZhbGlkYXRvciwgdGhpcy5fZ2V0RGF0YSwgJ3dhcm5pbmdzJywgb25Db21wbGV0ZSk7XG4gIH0sXG5cbiAgX3J1blZhbGlkYXRvcjogZnVuY3Rpb24gKHZhbGlkYXRvciwgZ2V0RGF0YSwgb3V0cHV0LCBjYikge1xuICAgIGNvbnN0IGRhdGEgPSBnZXREYXRhKCk7XG4gICAgdmFsaWRhdG9yLmlzVmFsaWRSZWNvcmQoZGF0YSlcbiAgICAgIC50aGVuKHZhbGlkRXJyb3JzID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1VubW91bnRlZCAmJiBpc0VxdWFsKGRhdGEsIGdldERhdGEoKSkpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW5bb3V0cHV0XSA9IHZhbGlkRXJyb3JzO1xuICAgICAgICB9XG4gICAgICAgIGNiKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGlmICghdGhpcy5faXNVbm1vdW50ZWQgJiYgaXNFcXVhbChkYXRhLCBnZXREYXRhKCkpKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluW291dHB1dF0uY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYihlcnIpO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgX2dldERhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5kYXRhKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5kYXRhLCB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uY2hhbmdlcyk7XG4gIH0sXG5cbiAgX2dldENoYW5nZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBTZW5kIGFsbCBkYXRhIG9yIGp1c3QgY2hhbmdlZCBmaWVsZHMgaW4gYWRkaWN0aW9uIG9mIGZvcm0gY29uZmlndXJhdGlvblxuICAgIGlmICh0aGlzLnN0YXRlLl9mb3JtTWl4aW4uc3VibWl0QWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0RGF0YSgpO1xuICAgIH1cbiAgICByZXR1cm4gY2xvbmUodGhpcy5zdGF0ZS5fZm9ybU1peGluLmNoYW5nZXMpO1xuICB9LFxuXG4gIF9pc0RlcGVuZGVudEZpZWxkOiBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGUuX2Zvcm1NaXhpbjtcbiAgICByZXR1cm4gc3RhdGUuY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eShmaWVsZCkgJiYgaXNFcXVhbChzdGF0ZS5jaGFuZ2VzW2ZpZWxkXSwgc3RhdGUuZGF0YVtmaWVsZF0pO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBGb3JtTWl4aW47XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4vKipcbiAqIFJlYWN0IHRhYmxlIGNvbXBvbmVudFxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNyZWF0ZVJlYWN0Q2xhc3MgZnJvbSAnY3JlYXRlLXJlYWN0LWNsYXNzJztcbmltcG9ydCB7dGhyb3R0bGUsIGlzRXF1YWx9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5cbmltcG9ydCBHcmlkQ29sdW1uc01peGluIGZyb20gJy4vbWl4aW5zL2NvbHVtbnMnO1xuaW1wb3J0IGdyaWRNaXhpblBhZ2luYXRpb24gZnJvbSAnLi9taXhpbnMvcGFnaW5hdGlvbic7XG5pbXBvcnQgZ3JpZE1peGluU3RhdHVzZXMgZnJvbSAnLi9taXhpbnMvc3RhdHVzZXMnO1xuaW1wb3J0IGdyaWRNaXhpblNvcnRpbmcgZnJvbSAnLi9taXhpbnMvc29ydGluZyc7XG5pbXBvcnQgZ3JpZE1peGluRGF0YSBmcm9tICcuL21peGlucy9kYXRhJztcbmltcG9ydCBncmlkTWl4aW5FZGl0b3IgZnJvbSAnLi9taXhpbnMvZWRpdG9yJztcbmltcG9ydCBncmlkTWl4aW5VSSBmcm9tICcuL21peGlucy91aSc7XG5pbXBvcnQgZ3JpZE1peGluU2VsZWN0IGZyb20gJy4vbWl4aW5zL3NlbGVjdCc7XG5pbXBvcnQgVGhyb3R0bGVFcnJvciBmcm9tICcuLi9jb21tb24vVGhyb3R0bGVFcnJvcic7XG5cbmNvbnN0IFJFU0VUX01PREVMID0gMSA8PCAwO1xuY29uc3QgUkVTRVRfVklFV19DT0xVTU5TID0gMSA8PCAxO1xuY29uc3QgUkVTRVRfU09SVCA9IDEgPDwgMjtcbmNvbnN0IFJFU0VUX1ZJRVdfQ09VTlQgPSAxIDw8IDM7XG5jb25zdCBSRVNFVF9TRUxFQ1RFRF9DT0xVTU5TID0gMSA8PCA0O1xuY29uc3QgUkVTRVRfQkxBQ0tfTElTVF9NT0RFID0gMSA8PCA1O1xuXG5jb25zdCBwcm9wVHlwZXMgPSAoKCkgPT4ge1xuICBjb25zdCBzb3J0RWxlbWVudFByb3AgPSBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGNvbHVtbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkaXJlY3Rpb246IFByb3BUeXBlcy5hbnlcbiAgfSk7XG4gIGNvbnN0IHNvcnRQcm9wID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgc29ydEVsZW1lbnRQcm9wLFxuICAgIFByb3BUeXBlcy5hcnJheU9mKHNvcnRFbGVtZW50UHJvcClcbiAgXSk7XG4gIHJldHVybiB7XG4gICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIG1vZGVsOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgcmVhZDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgIHVwZGF0ZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBpc1ZhbGlkUmVjb3JkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIGdldFZhbGlkYXRpb25EZXBlbmRlbmN5OiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIG9uOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIG9mZjogUHJvcFR5cGVzLmZ1bmNcbiAgICB9KSxcbiAgICBjb2xzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIHZpZXdDb2x1bW5zOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLFxuICAgICAgUHJvcFR5cGVzLm9iamVjdFxuICAgIF0pLFxuICAgIHNlbGVjdGVkOiBQcm9wVHlwZXMuYXJyYXksXG4gICAgLy8gc29ydDogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBwYWdlOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGRlZmF1bHRWaWV3Q291bnQ6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgdmlld0NvdW50OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIHZpZXdWYXJpYW50czogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlciksXG4gICAgb25DaGFuZ2VWaWV3Q291bnQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkVycm9yOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvblBhZ2VMb2FkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkluaXQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uRGVzdHJveTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgYXV0b1N1Ym1pdDogUHJvcFR5cGVzLmJvb2wsXG4gICAgaGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIG9uU2VsZWN0ZWRDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uU29ydGluZzogUHJvcFR5cGVzLmZ1bmMsXG4gICAgbXVsdGlwbGVTb3J0aW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBzZWxlY3RBbGxTdGF0dXM6IFByb3BUeXBlcy5hbnksXG4gICAgb25Ub2dnbGVTZWxlY3RlZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25Ub2dnbGVTZWxlY3RBbGw6IFByb3BUeXBlcy5mdW5jLFxuICAgIGRlZmF1bHRTb3J0OiAocHJvcHMsIHByb3BOYW1lLCAuLi5yZXN0KSA9PiB7XG4gICAgICBpZiAoIXByb3BzLmRlZmF1bHRTb3J0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbGlkUHJvcCA9IHNvcnRQcm9wKHByb3BzLCBwcm9wTmFtZSwgLi4ucmVzdCk7XG4gICAgICBpZiAodmFsaWRQcm9wKSB7XG4gICAgICAgIHJldHVybiB2YWxpZFByb3A7XG4gICAgICB9XG4gICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoJ3NvcnQnKSkge1xuICAgICAgICByZXR1cm4gRXJyb3IoJ1lvdSBjYW4gbm90IHNldCBcImRlZmF1bHRTb3J0XCIgd2hlbiB0aGUgXCJzb3J0XCIgcHJvcCBpcyBzcGVjaWZpZWQnKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNvcnQ6IChwcm9wcywgcHJvcE5hbWUsIC4uLnJlc3QpID0+IHtcbiAgICAgIGlmICghcHJvcHMuc29ydCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWxpZFByb3AgPSBzb3J0UHJvcChwcm9wcywgcHJvcE5hbWUsIC4uLnJlc3QpO1xuICAgICAgaWYgKHZhbGlkUHJvcCkge1xuICAgICAgICByZXR1cm4gdmFsaWRQcm9wO1xuICAgICAgfVxuICAgICAgaWYgKCFwcm9wcy5vblNvcnRpbmcpIHtcbiAgICAgICAgcmV0dXJuIEVycm9yKCdZb3UgbmVlZCB0byBkZWZpbmUgdGhlIFwib25Tb3J0aW5nXCIgcHJvcCB3aGVuIFwic29ydFwiIGlzIHNldCcpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2F2ZUZ1bGxSZWNvcmQ6IFByb3BUeXBlcy5ib29sLFxuICAgIHBhcnRpYWxFcnJvckNoZWNraW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgICB3YXJuaW5nc1ZhbGlkYXRvcjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGlzVmFsaWRSZWNvcmQ6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3k6IFByb3BUeXBlcy5mdW5jXG4gICAgfSlcbiAgfTtcbn0pKCk7XG5cbmNvbnN0IEdyaWRDb21wb25lbnQgPSBjcmVhdGVSZWFjdENsYXNzKHtcbiAgLi4uR3JpZENvbHVtbnNNaXhpbixcbiAgLi4uZ3JpZE1peGluUGFnaW5hdGlvbixcbiAgLi4uZ3JpZE1peGluU3RhdHVzZXMsXG4gIC4uLmdyaWRNaXhpblNvcnRpbmcsXG4gIC4uLmdyaWRNaXhpbkRhdGEsXG4gIC4uLmdyaWRNaXhpbkVkaXRvcixcbiAgLi4uZ3JpZE1peGluVUksXG4gIC4uLmdyaWRNaXhpblNlbGVjdCxcblxuICBnZXREZWZhdWx0UHJvcHM6ICgpID0+ICh7XG4gICAgcGFnZTogMCxcbiAgICBkZWZhdWx0Vmlld0NvdW50OiAwLFxuICAgIHBhcnRpYWxFcnJvckNoZWNraW5nOiBmYWxzZSxcbiAgICBzZWxlY3RlZDogW11cbiAgfSksXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX3Rocm90dGxlZFVwZGF0ZVRhYmxlID0gdGhyb3R0bGUodGhpcy51cGRhdGVUYWJsZSk7XG4gICAgdGhpcy5fdmFsaWRhdGVSb3cgPSB0aHJvdHRsZSh0aGlzLl92YWxpZGF0ZVJvdyk7XG4gICAgaWYgKHRoaXMucHJvcHMub25Jbml0KSB7XG4gICAgICB0aGlzLnByb3BzLm9uSW5pdCgpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcGFnZTogdGhpcy5wcm9wcy5wYWdlLFxuICAgICAgdmlld0NvdW50OiB0aGlzLnByb3BzLmRlZmF1bHRWaWV3Q291bnQsXG4gICAgICBjb3VudDogMCxcbiAgICAgIHN0YXR1c01hcDoge1xuICAgICAgICBuZXc6IDEgPDwgMFxuICAgICAgfSxcbiAgICAgIHN0YXR1c2VzOiB7fSxcbiAgICAgIHNvcnQ6IHRoaXMuX2dldERlZmF1bHRTb3J0KCksXG4gICAgICBkYXRhOiBudWxsLFxuICAgICAgY2hhbmdlczoge30sXG4gICAgICB3YXJuaW5nczoge30sXG4gICAgICBlcnJvcnM6IHt9LFxuICAgICAgdG90YWxzOiB7fSxcbiAgICAgIHJlY29yZHNJbmZvOiB7fSxcbiAgICAgIG1haW5JZHM6IFtdLFxuICAgICAgcGFydGlhbEVycm9yQ2hlY2tpbmc6IHRoaXMucHJvcHMucGFydGlhbEVycm9yQ2hlY2tpbmcsXG4gICAgICBlZGl0b3I6IHt9LFxuICAgICAgY29sc1dpdGhFc2NhcGVFcnJvcnM6IHt9LFxuICAgICAgc2VsZWN0QmxhY2tMaXN0TW9kZTogZmFsc2UsXG4gICAgICBzZWxlY3RlZDogWy4uLnRoaXMucHJvcHMuc2VsZWN0ZWRdLFxuICAgICAgc2hvd0xvYWRlcjogZmFsc2VcbiAgICB9O1xuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2lzTW91bnRlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZWwpIHtcbiAgICAgIHRoaXMucHJvcHMubW9kZWwub24oJ2NyZWF0ZScsIHRoaXMuX29uUmVjb3Jkc0NyZWF0ZWQpO1xuICAgICAgdGhpcy5wcm9wcy5tb2RlbC5vbigndXBkYXRlJywgdGhpcy5fc2V0RGF0YSk7XG4gICAgICB0aGlzLnByb3BzLm1vZGVsLm9uKCdkZWxldGUnLCB0aGlzLnVwZGF0ZVRhYmxlKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVUYWJsZSgpO1xuICB9LFxuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2lzTW91bnRlZCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVsKSB7XG4gICAgICB0aGlzLnByb3BzLm1vZGVsLm9mZignY3JlYXRlJywgdGhpcy5fb25SZWNvcmRzQ3JlYXRlZCk7XG4gICAgICB0aGlzLnByb3BzLm1vZGVsLm9mZigndXBkYXRlJywgdGhpcy5fc2V0RGF0YSk7XG4gICAgICB0aGlzLnByb3BzLm1vZGVsLm9mZignZGVsZXRlJywgdGhpcy51cGRhdGVUYWJsZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLm9uRGVzdHJveSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkRlc3Ryb3koKTtcbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcbiAgICBjb25zdCBvbGRQcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgbGV0IHJlc2V0ID0gMDtcblxuICAgIGlmICghaXNFcXVhbCh0aGlzLnByb3BzLm1vZGVsLCBuZXh0UHJvcHMubW9kZWwpKSB7XG4gICAgICByZXNldCB8PSBSRVNFVF9NT0RFTDtcbiAgICB9XG4gICAgaWYgKCFpc0VxdWFsKHRoaXMucHJvcHMudmlld0NvbHVtbnMsIG5leHRQcm9wcy52aWV3Q29sdW1ucykpIHtcbiAgICAgIHJlc2V0IHw9IFJFU0VUX1ZJRVdfQ09MVU1OUztcbiAgICB9XG4gICAgaWYgKCFpc0VxdWFsKHRoaXMucHJvcHMuc29ydCwgbmV4dFByb3BzLnNvcnQpKSB7XG4gICAgICByZXNldCB8PSBSRVNFVF9TT1JUO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy52aWV3Q291bnQgIT09IG5leHRQcm9wcy52aWV3Q291bnQpIHtcbiAgICAgIHJlc2V0IHw9IFJFU0VUX1ZJRVdfQ09VTlQ7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICFpc0VxdWFsKHRoaXMucHJvcHMuc2VsZWN0ZWQsIG5leHRQcm9wcy5zZWxlY3RlZClcbiAgICAgIHx8IHRoaXMucHJvcHMuc2VsZWN0QmxhY2tMaXN0TW9kZSAhPT0gbmV4dFByb3BzLnNlbGVjdEJsYWNrTGlzdE1vZGVcbiAgICApIHtcbiAgICAgIHJlc2V0IHw9IFJFU0VUX1NFTEVDVEVEX0NPTFVNTlM7XG4gICAgfVxuICAgIGlmICghaXNFcXVhbCh0aGlzLnByb3BzLmJsYWNrTGlzdE1vZGUsIG5leHRQcm9wcy5ibGFja0xpc3RNb2RlKSkge1xuICAgICAgcmVzZXQgfD0gUkVTRVRfQkxBQ0tfTElTVF9NT0RFO1xuICAgIH1cblxuICAgIGlmICghcmVzZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobmV4dFByb3BzLnNlbGVjdGVkKSB7XG4gICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkID0gWy4uLm5leHRQcm9wcy5zZWxlY3RlZF07XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoe30sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChyZXNldCAmIFJFU0VUX1NPUlQgfHwgcmVzZXQgJiBSRVNFVF9NT0RFTCB8fCByZXNldCAmIFJFU0VUX1ZJRVdfQ09VTlQpIHtcbiAgICAgICAgaWYgKHJlc2V0ICYgUkVTRVRfTU9ERUwpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmRhdGEgPSBudWxsO1xuICAgICAgICAgIGlmIChvbGRQcm9wcy5tb2RlbCkge1xuICAgICAgICAgICAgb2xkUHJvcHMubW9kZWwub2ZmKCdjcmVhdGUnLCB0aGlzLl9vblJlY29yZHNDcmVhdGVkKTtcbiAgICAgICAgICAgIG9sZFByb3BzLm1vZGVsLm9mZigndXBkYXRlJywgdGhpcy5fc2V0RGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLnByb3BzLm1vZGVsKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm1vZGVsLm9uKCdjcmVhdGUnLCB0aGlzLl9vblJlY29yZHNDcmVhdGVkKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMubW9kZWwub24oJ3VwZGF0ZScsIHRoaXMuX3NldERhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9zZXRQYWdlKDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rocm90dGxlZFVwZGF0ZVRhYmxlKCkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBUaHJvdHRsZUVycm9yKSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKChyZXNldCAmIFJFU0VUX1ZJRVdfQ09MVU1OUykgfHwgKHJlc2V0ICYgUkVTRVRfU0VMRUNURURfQ09MVU1OUykgfHwgKHJlc2V0ICYgUkVTRVRfQkxBQ0tfTElTVF9NT0RFKSkge1xuICAgICAgICB0aGlzLl9yZW5kZXJCb2R5KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlclNjcm9sbGFibGVHcmlkKGdyaWRDbGFzc05hbWVzKSB7XG4gICAgY29uc3QgaGVhZGVyID0gdGhpcy5fZm9ybUhlYWRlcigpO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Z3JpZENsYXNzTmFtZXMuam9pbignICcpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwcGVyLWRncmlkLWhlYWRlclwiPlxuICAgICAgICAgIDx0YWJsZSBjZWxsU3BhY2luZz1cIjBcIiBjbGFzc05hbWU9XCJkZ3JpZC1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxjb2xncm91cD57aGVhZGVyLmNvbEdyb3VwfTwvY29sZ3JvdXA+XG4gICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgIHtoZWFkZXIuY29scy5tYXAoKHJvdywgY29sS2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2NvbEtleX0+XG4gICAgICAgICAgICAgICAgICAgIHtyb3cubWFwKChjb2wsIHJvd0tleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuX2dldEhlYWRlckNlbGxIVE1MKGNvbC5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpID8gY29sLm5hbWUgOiBjb2wuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiByb3dLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNvbC5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBjb2wuc29ydCA/IHRoaXMuX3NvcnRDb2wuYmluZCh0aGlzLCBjb2wuZmllbGQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlSGVhZGVyQ2VsbENsaWNrLmJpbmQodGhpcywgY29sKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbFNwYW46IGNvbC5jb2xzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93U3BhbjogY29sLnJvd3NcbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaGVhZGVyID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19odG1sOiBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogPHRoIHsuLi5wcm9wc30+e2hlYWRlcn08L3RoPik7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZT17e21heEhlaWdodDogdGhpcy5wcm9wcy5oZWlnaHQsIGhlaWdodDogdGhpcy5wcm9wcy5oZWlnaHR9fVxuICAgICAgICAgIGNsYXNzTmFtZT0nZGdyaWQtYm9keS13cmFwcGVyIGRncmlkLXNjcm9sbGFibGUnXG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRncmlkLWJvZHlcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLnNob3dMb2FkZXIgPyAnZGdyaWQtbG9hZGVyJyA6ICcnfSByZWY9eyhsb2FkZXIpID0+IHRoaXMubG9hZGVyID0gbG9hZGVyIH0vPlxuICAgICAgICAgICAgPHRhYmxlXG4gICAgICAgICAgICAgIGNlbGxTcGFjaW5nPVwiMFwiXG4gICAgICAgICAgICAgIHJlZj17KGJvZHkpID0+IHRoaXMuYm9keSA9IGJvZHkgfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLl9oYW5kbGVCb2R5Q2xpY2t9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxjb2xncm91cD57aGVhZGVyLmNvbEdyb3VwfTwvY29sZ3JvdXA+XG4gICAgICAgICAgICAgIDx0Ym9keSBjbGFzc05hbWU9XCJkZ3JpZC1ib2R5LXRhYmxlXCIgcmVmPXsodGJvZHkpID0+IHRoaXMudEJvZHkgPSB0Ym9keSB9Lz5cbiAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndyYXBwZXItdG90YWxzXCI+XG4gICAgICAgICAge3RoaXMuX3JlbmRlclRvdGFscyh0aGlzLnByb3BzLmhlaWdodCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5fcmVuZGVyUGFnaW5hdGlvbigpfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSxcbiAgcmVuZGVyR3JpZChncmlkQ2xhc3NOYW1lcykge1xuICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuX2Zvcm1IZWFkZXIoKTtcbiAgICBncmlkQ2xhc3NOYW1lcyA9IGdyaWRDbGFzc05hbWVzLmNvbmNhdCgnZGdyaWQtbm90LXNjcm9sbGFibGUnKTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2dyaWRDbGFzc05hbWVzLmpvaW4oJyAnKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLnNob3dMb2FkZXIgPyAnZGdyaWQtbG9hZGVyJyA6ICcnfSByZWY9eyhsb2FkZXIpID0+IHRoaXMubG9hZGVyID0gbG9hZGVyIH0vPlxuICAgICAgICA8dGFibGVcbiAgICAgICAgICBjZWxsU3BhY2luZz1cIjBcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImRncmlkLWJvZHktdGFibGVcIlxuICAgICAgICAgIHJlZj17KGJvZHkpID0+IHRoaXMuYm9keSA9IGJvZHkgfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuX2hhbmRsZUJvZHlDbGlja31cbiAgICAgICAgPlxuICAgICAgICAgIDxjb2xncm91cD57aGVhZGVyLmNvbEdyb3VwfTwvY29sZ3JvdXA+XG4gICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAge2hlYWRlci5jb2xzLm1hcCgocm93LCBjb2xLZXkpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8dHIga2V5PXtjb2xLZXl9PlxuICAgICAgICAgICAgICAgICAge3Jvdy5tYXAoKGNvbCwgcm93S2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuX2dldEhlYWRlckNlbGxIVE1MKGNvbC5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpID8gY29sLm5hbWUgOiBjb2wuaWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBrZXk6IHJvd0tleSxcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNvbC5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljazogY29sLnNvcnQgPyB0aGlzLl9zb3J0Q29sLmJpbmQodGhpcywgY29sLmZpZWxkKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVIZWFkZXJDZWxsQ2xpY2suYmluZCh0aGlzLCBjb2wpLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbFNwYW46IGNvbC5jb2xzLFxuICAgICAgICAgICAgICAgICAgICAgIHJvd1NwYW46IGNvbC5yb3dzXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGhlYWRlciA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX2h0bWw6IGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICAgICAgICAgICAgICA6IDx0aCB7Li4ucHJvcHN9PntoZWFkZXJ9PC90aD4pO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgPHRib2R5IGNsYXNzTmFtZT1cImRncmlkLWJvZHktdGFibGVcIiByZWY9eyh0Ym9keSkgPT4gdGhpcy50Qm9keSA9IHRib2R5IH0vPlxuICAgICAgICAgIHt0aGlzLl9yZW5kZXJUb3RhbHModGhpcy5wcm9wcy5oZWlnaHQpfVxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICB7dGhpcy5fcmVuZGVyUGFnaW5hdGlvbigpfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZ3JpZENsYXNzTmFtZXMgPSBbJ2RhdGEtZ3JpZCddO1xuXG4gICAgaWYgKHRoaXMucHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICBncmlkQ2xhc3NOYW1lcy5wdXNoKHRoaXMucHJvcHMuY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucHJvcHMuaGVpZ2h0KSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJHcmlkKGdyaWRDbGFzc05hbWVzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJTY3JvbGxhYmxlR3JpZChncmlkQ2xhc3NOYW1lcyk7XG4gIH1cbn0pO1xuXG5HcmlkQ29tcG9uZW50LnByb3BUeXBlcyA9IHByb3BUeXBlcztcblxuZXhwb3J0IGRlZmF1bHQgR3JpZENvbXBvbmVudDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBBcmd1bWVudHNFcnJvciBmcm9tICcuLi8uLi9jb21tb24vQXJndW1lbnRzRXJyb3InO1xuXG5mdW5jdGlvbiBmb3JtYXRDb2x1bW5zKGNvbHVtbnMsIHZpZXdDb2x1bW5zKSB7XG4gIGNvbnN0IGZvcm1hdHRlZENvbHVtbnMgPSB7fTtcbiAgbGV0IGNvbHVtbklkO1xuICBsZXQgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgdmlld0NvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb2x1bW5JZCA9IHZpZXdDb2x1bW5zW2ldO1xuICAgIGZvcm1hdHRlZENvbHVtbnNbY29sdW1uSWRdID0gYCR7Y29sdW1uc1tjb2x1bW5JZF0ucGFyZW50ID8gY29sdW1uc1tjb2x1bW5JZF0ucGFyZW50ICsgJyAnIDogJyd9JHtjb2x1bW5zW2NvbHVtbklkXS5uYW1lfWA7XG4gIH1cblxuICByZXR1cm4gZm9ybWF0dGVkQ29sdW1ucztcbn1cblxuZnVuY3Rpb24gZm9ybWF0UmVjb3JkKHJlY29yZCwgY29sdW1ucywgdmlld0NvbHVtbnMpIHtcbiAgY29uc3QgZm9ybWF0dGVkUmVjb3JkID0ge307XG5cbiAgZm9yIChjb25zdCB2aWV3Q29sdW1uIG9mIHZpZXdDb2x1bW5zKSB7XG4gICAgY29uc3QgY29sdW1uID0gY29sdW1uc1t2aWV3Q29sdW1uXTtcbiAgICBmb3JtYXR0ZWRSZWNvcmRbdmlld0NvbHVtbl0gPSBjb2x1bW4ucmVuZGVyW2NvbHVtbi5yZW5kZXIubGVuZ3RoIC0gMV0ocmVjb3JkKTtcbiAgfVxuXG4gIHJldHVybiBmb3JtYXR0ZWRSZWNvcmQ7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdERhdGEocmVjb3JkcywgdG90YWxzLCBjb2x1bW5zLCB2aWV3Q29sdW1ucykge1xuICBjb25zdCBmb3JtYXR0ZWQgPSB7XG4gICAgY29sdW1uczogZm9ybWF0Q29sdW1ucyhjb2x1bW5zLCB2aWV3Q29sdW1ucyksXG4gICAgcmVjb3JkczogcmVjb3Jkcy5tYXAocmVjb3JkID0+IGZvcm1hdFJlY29yZChyZWNvcmRbMV0sIGNvbHVtbnMsIHZpZXdDb2x1bW5zKSlcbiAgfTtcbiAgaWYgKHRvdGFscykge1xuICAgIGZvcm1hdHRlZC50b3RhbHMgPSBmb3JtYXRSZWNvcmQodG90YWxzLCBjb2x1bW5zLCB2aWV3Q29sdW1ucyk7XG4gIH1cbiAgcmV0dXJuIGZvcm1hdHRlZDtcbn1cblxuZnVuY3Rpb24gZ2V0RmllbGRzKGNvbHVtbnMsIHZpZXdDb2x1bW5zKSB7XG4gIGNvbnN0IGZpZWxkcyA9IHt9O1xuICBmb3IgKGNvbnN0IGNvbHVtbklkIG9mIHZpZXdDb2x1bW5zKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2x1bW5zW2NvbHVtbklkXS5yZW5kZXIubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBmaWVsZHNbY29sdW1uc1tjb2x1bW5JZF0ucmVuZGVyW2ldXSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKGZpZWxkcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHt7fX0gY29sdW1uc1xuICogQHBhcmFtIHtzdHJpbmdbXX0gdmlld0NvbHVtbnNcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0VmFsaWRWaWV3Q29sdW1ucyhjb2x1bW5zLCB2aWV3Q29sdW1ucykge1xuICBpZiAoIXZpZXdDb2x1bW5zIHx8ICF2aWV3Q29sdW1ucy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgQXJndW1lbnRzRXJyb3IoJ1widmlld0NvbHVtbnNcIiBjYW5gdCBiZSBlbXB0eScpO1xuICB9XG5cbiAgY29uc3Qgbm90RXhpc3RDb2x1bW5zID0gW107XG4gIGZvciAoY29uc3QgY29sdW1uSWQgb2Ygdmlld0NvbHVtbnMpIHtcbiAgICBpZiAoIWNvbHVtbnNbY29sdW1uSWRdKSB7XG4gICAgICBub3RFeGlzdENvbHVtbnMucHVzaChjb2x1bW5JZCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG5vdEV4aXN0Q29sdW1ucy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgQXJndW1lbnRzRXJyb3IoYFlvdSB0cnlpbmcgdG8gZ2V0IG5vdCBleGlzdCBjb2x1bW5zOiAke25vdEV4aXN0Q29sdW1ucy5qb2luKCcsICcpfWApO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHt7fX0gICAgICAgICAgICAgICAgICAgIGdyaWRNb2RlbFxuICogQHBhcmFtIHt7fX0gICAgICAgICAgICAgICAgICAgIGNvbHVtbnNcbiAqIEBwYXJhbSB7c3RyaW5nW119ICAgICAgICAgICAgICB2aWV3Q29sdW1uc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gICAgICAgICAgICAgIGV4cG9ydGVyXG4gKiBAcGFyYW0ge3t9fSAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NcbiAqIEBwYXJhbSB7W3N0cmluZywgc3RyaW5nXVtdfSAgICAgIHNldHRpbmdzLnNvcnRcbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmxpbWl0XG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBzZXR0aW5ncy5vZmZzZXRcbiAqIEBwYXJhbSB7c3RyaW5nW119ICAgICAgICAgICAgICAgIHNldHRpbmdzLnZpZXdDb2x1bW5zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGV4cG9ydEdyaWREYXRhKGdyaWRNb2RlbCwgY29sdW1ucywgdmlld0NvbHVtbnMsIGV4cG9ydGVyLCBzZXR0aW5ncykge1xuICBhc3NlcnRWYWxpZFZpZXdDb2x1bW5zKGNvbHVtbnMsIHZpZXdDb2x1bW5zKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ3JpZE1vZGVsLnJlYWQoe1xuICAgIGZpZWxkczogZ2V0RmllbGRzKGNvbHVtbnMsIHZpZXdDb2x1bW5zKSxcbiAgICBzb3J0OiBzZXR0aW5ncy5zb3J0ID8gW1tzZXR0aW5ncy5zb3J0LmNvbHVtbiwgc2V0dGluZ3Muc29ydC5kaXJlY3Rpb25dXSA6IG51bGwsXG4gICAgbGltaXQ6IHNldHRpbmdzLmxpbWl0LFxuICAgIG9mZnNldDogc2V0dGluZ3Mub2Zmc2V0XG4gIH0pO1xuXG4gIGNvbnN0IGRhdGEgPSBmb3JtYXREYXRhKHJlc3VsdC5yZWNvcmRzLCByZXN1bHQudG90YWxzLCBjb2x1bW5zLCB2aWV3Q29sdW1ucyk7XG5cbiAgcmV0dXJuIGF3YWl0IGV4cG9ydGVyKGRhdGEpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBleHBvcnRHcmlkRGF0YTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB0b1Byb21pc2UgZnJvbSAnLi4vLi4vLi4vY29tbW9uL3RvUHJvbWlzZSc7XG5pbXBvcnQgY3N2IGZyb20gJ2Nzdi1zdHJpbmdpZnknO1xuXG5hc3luYyBmdW5jdGlvbiB0b0NTVihkYXRhKSB7XG4gIGNvbnN0IGNzdkRhdGEgPSBhd2FpdCB0b1Byb21pc2UoY3N2LCB0cnVlKShkYXRhLnJlY29yZHMuY29uY2F0KFtkYXRhLnRvdGFsc10pLCB7XG4gICAgaGVhZGVyOiB0cnVlLFxuICAgIGNvbHVtbnM6IGRhdGEuY29sdW1uc1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIG1pbWU6ICd0ZXh0L2NzdicsXG4gICAgZGF0YTogY3N2RGF0YVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b0NTVjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmFzeW5jIGZ1bmN0aW9uIHRvSlNPTihkYXRhKSB7XG4gIHJldHVybiB7XG4gICAgbWltZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIGRhdGE6IHtcbiAgICAgIHJlY29yZHM6IGRhdGEucmVjb3JkcyxcbiAgICAgIHRvdGFsczogZGF0YS50b3RhbHNcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRvSlNPTjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7dW5pb259IGZyb20gJy4uLy4uL2NvbW1vbi91dGlscyc7XG5pbXBvcnQgRE9NIGZyb20gJ3JlYWN0LWRvbS1mYWN0b3JpZXMnO1xuXG5jb25zdCBHcmlkQ29sdW1uc01peGluID0ge1xuICAvKipcbiAgICogQ29sdW1uIHZpc2liaWxpdHkgZmxhZ1xuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSAgICBpZCAgQ29sdW1uIElEXG4gICAqIEByZXR1cm5zIHtib29sZWFufSAgIENvbHVtbiB2aXNpYmlsaXR5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaXNWaWV3Q29sdW1uKGlkKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnZpZXdDb2x1bW5zKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnByb3BzLnZpZXdDb2x1bW5zKSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMudmlld0NvbHVtbnMuaW5kZXhPZihpZCkgPiAtMTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wcm9wcy52aWV3Q29sdW1uc1tpZF07XG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbGxlY3QgZGF0YSBmb3IgdGFibGUgaGVhZGVyIGRpc3BsYXlcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gRm9ybWVkIGRhdGFcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9mb3JtSGVhZGVyKCkge1xuICAgIGNvbnN0IHJvd3MgPSBbWy8qIHRvcCAqL10sIFsvKiBib3R0b20gKi9dXTtcbiAgICBjb25zdCBjb2xHcm91cCA9IFtdO1xuICAgIGxldCBsYXN0UGFyZW50ID0ge25hbWU6ICcnfTtcblxuICAgIGZvciAoY29uc3QgY29sdW1uSWQgaW4gdGhpcy5wcm9wcy5jb2xzKSB7XG4gICAgICAvLyBTa2lwIGNvbHVtbiBpZiBpdCdzIGludmlzaWJsZVxuICAgICAgaWYgKCF0aGlzLl9pc1ZpZXdDb2x1bW4oY29sdW1uSWQpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb2xHcm91cC5wdXNoKFxuICAgICAgICBET00uY29sKHtcbiAgICAgICAgICBrZXk6IGNvbHVtbklkLFxuICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLmNvbHNbY29sdW1uSWRdLndpZHRoLFxuICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5fZ2V0Q29sdW1uQ2xhc3MoY29sdW1uSWQpXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBjb25zdCBjbGFzc05hbWVzID0gW3RoaXMuX2dldENvbHVtbkNsYXNzKGNvbHVtbklkKV07XG4gICAgICBjb25zdCBhZGRJbmZvID0ge1xuICAgICAgICBpZDogY29sdW1uSWQsXG4gICAgICAgIG5hbWU6IHRoaXMucHJvcHMuY29sc1tjb2x1bW5JZF0ubmFtZSxcbiAgICAgICAgb25DbGljazogdGhpcy5wcm9wcy5jb2xzW2NvbHVtbklkXS5vbkNsaWNrLFxuICAgICAgICBvbkNsaWNrUmVmczogdGhpcy5wcm9wcy5jb2xzW2NvbHVtbklkXS5vbkNsaWNrUmVmcyxcbiAgICAgICAgY29sczogMSxcbiAgICAgICAgcm93czogMVxuICAgICAgfTtcblxuICAgICAgY29uc3Qgc29ydFBhcmFtcyA9IHRoaXMuX2dldFNvcnRQYXJhbXMoY29sdW1uSWQpO1xuICAgICAgaWYgKHNvcnRQYXJhbXMpIHtcbiAgICAgICAgY2xhc3NOYW1lcy5wdXNoKGBkZ3JpZC0ke3NvcnRQYXJhbXMuZGlyZWN0aW9ufWApO1xuICAgICAgICBhZGRJbmZvLmZpZWxkID0gc29ydFBhcmFtcy5jb2x1bW47XG4gICAgICAgIGFkZEluZm8uc29ydCA9IHNvcnRQYXJhbXMuZGlyZWN0aW9uO1xuICAgICAgfVxuXG4gICAgICBhZGRJbmZvLmNsYXNzTmFtZSA9IGNsYXNzTmFtZXMuam9pbignICcpO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5jb2xzW2NvbHVtbklkXS5wYXJlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY29sc1tjb2x1bW5JZF0ucGFyZW50ICE9PSBsYXN0UGFyZW50Lm5hbWUpIHtcbiAgICAgICAgICBsYXN0UGFyZW50ID0gcm93c1swXVtyb3dzWzBdLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogdGhpcy5wcm9wcy5jb2xzW2NvbHVtbklkXS5wYXJlbnQsXG4gICAgICAgICAgICBjb2xzOiAxLCByb3dzOiAxXG4gICAgICAgICAgfSkgLSAxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXN0UGFyZW50LmNvbHMrKztcbiAgICAgICAgfVxuICAgICAgICByb3dzWzFdLnB1c2goYWRkSW5mbyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYXN0UGFyZW50ID0ge25hbWU6ICcnfTtcbiAgICAgICAgYWRkSW5mby5yb3dzID0gMjtcbiAgICAgICAgcm93c1swXS5wdXNoKGFkZEluZm8pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge2NvbHM6IHJvd3MsIGNvbEdyb3VwOiBjb2xHcm91cH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbmFtZXMgb2YgdGhlIHBhcmFtZXRlcnMgdGhhdCBhcmUgcmVxdWlyZWQgdG8gZGlzcGxheSB0aGUgZ3JpZFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmdbXX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRGaWVsZHNUb1JlbmRlcigpIHtcbiAgICBsZXQgaTtcbiAgICBjb25zdCBjb2xzID0gdGhpcy5wcm9wcy5jb2xzO1xuICAgIGxldCBjb2x1bW5zID0gW107XG4gICAgZm9yIChpIGluIGNvbHMpIHtcbiAgICAgIGNvbHVtbnMgPSB1bmlvbihjb2x1bW5zLCBjb2xzW2ldLnJlbmRlci5zbGljZSgwLCBjb2xzW2ldLnJlbmRlci5sZW5ndGggLSAxKSk7XG4gICAgfVxuICAgIHJldHVybiBjb2x1bW5zO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEb2VzIHRoZSBwYXJhbWV0ZXJzIHRvIGRpc3BsYXkgZ3JpZFxuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSAgZmllbGRcbiAgICogQHJldHVybiAge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaXNGaWVsZEFmZmVjdHNSZW5kZXIoZmllbGQpIHtcbiAgICBsZXQgaTtcbiAgICBjb25zdCBjb2xzID0gdGhpcy5wcm9wcy5jb2xzO1xuICAgIGZvciAoaSBpbiBjb2xzKSB7XG4gICAgICBpZiAoY29sc1tpXS5yZW5kZXIuaW5kZXhPZihmaWVsZCkgPj0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgZGVwZW5kZW50IGNvbHVtbnNcbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ30gICAgZmllbGRcbiAgICogQHJldHVybiAge3N0cmluZ1tdfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldERlcGVuZGVudENvbHVtbnMoZmllbGQpIHtcbiAgICBjb25zdCBkZXBlbmRlbnRDb2x1bW5zID0gW107XG4gICAgY29uc3QgZGVwZW5kZW5jeUZpZWxkcyA9IFtcbiAgICAgIGZpZWxkLFxuICAgICAgLi4udGhpcy5wcm9wcy5tb2RlbC5nZXRWYWxpZGF0aW9uRGVwZW5kZW5jeShbZmllbGRdKVxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IFtjb2x1bW5OYW1lLCB7IHJlbmRlciB9XSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnByb3BzLmNvbHMpKSB7XG4gICAgICBpZiAocmVuZGVyLnNvbWUocmVuZGVyRmllbGQgPT4gZGVwZW5kZW5jeUZpZWxkcy5pbmNsdWRlcyhyZW5kZXJGaWVsZCkpKSB7XG4gICAgICAgIGRlcGVuZGVudENvbHVtbnMucHVzaChjb2x1bW5OYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVwZW5kZW50Q29sdW1ucztcbiAgfSxcblxuICBfZ2V0Q29sdW1uQ2xhc3MoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jb2xzW2lkXS5jbGFzc05hbWU7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRDb2x1bW5zTWl4aW47XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgVmFsaWRhdGlvbkVycm9ycyBmcm9tICcuLi8uLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0aW9uRXJyb3JzJztcbmltcG9ydCB7Y2xvbmVEZWVwLCByZWR1Y2UsIHBpY2ssIGlzRXF1YWwsIGlzRW1wdHksIGZvckVhY2gsIGdldFJlY29yZENoYW5nZXMsIHRvRW5jb2RlZFN0cmluZywgY2xvbmUsIHdhcm59IGZyb20gJy4uLy4uL2NvbW1vbi91dGlscyc7XG5pbXBvcnQgVGhyb3R0bGVFcnJvciBmcm9tICcuLi8uLi9jb21tb24vVGhyb3R0bGVFcnJvcic7XG5cbmNvbnN0IEdyaWREYXRhTWl4aW4gPSB7XG4gIC8qKlxuICAgKiBDaGFuZ2UgdGFibGUgcmVjb3JkXG4gICAqIFRoaXMgbWV0aG9kIG1hcmtzIGNoYW5nZWQgZmllbGRzIGFuZCB2YWxpZGF0ZXMgdGhlbVxuICAgKlxuICAgKiBAcGFyYW0geyp9ICAgICAgICAgcmVjb3JkSWQgICAgUmVjb3JkIElEXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICBkYXRhICAgICAgICBDaGFuZ2VkIGRhdGFcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gIGNiICAgICAgICAgIENhbGxCYWNrIGZ1bmN0aW9uXG4gICAqL1xuICBzZXQocmVjb3JkSWQsIGRhdGEsIGNiKSB7Ly9UT0RPIGNiIGRvZXMndCB1c2VkXG4gICAgY29uc3Qgcm93ID0gdGhpcy5fZ2V0Um93SUQocmVjb3JkSWQpO1xuICAgIHRoaXMuX3NldFJvd0NoYW5nZXMocm93LCBjbG9uZURlZXAoZGF0YSksIGNiKTtcblxuICAgIGlmICh0aGlzLnByb3BzLmF1dG9TdWJtaXQgfHwgdGhpcy5wcm9wcy5yZWFsdGltZSkge1xuICAgICAgaWYgKHRoaXMucHJvcHMucmVhbHRpbWUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGVkOiBHcmlkIHByb3AgXCJyZWFsdGltZVwiIHJlbmFtZWQgdG8gXCJhdXRvU3VibWl0XCInKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2F2ZSh0aGlzLnByb3BzLm9uUmVhbHRpbWVTdWJtaXQpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnN0YXRlLmNoYW5nZXMsIHRoaXMuc3RhdGUuZGF0YSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgcmVjb3JkIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHJlY29yZElkXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIGdldFJlY29yZChyZWNvcmRJZCkge1xuICAgIGNvbnN0IHJvdyA9IHRoaXMuX2dldFJvd0lEKHJlY29yZElkKTtcbiAgICByZXR1cm4gY2xvbmVEZWVwKHRoaXMuX2dldFJlY29yZFdpdGhDaGFuZ2VzKHJvdykpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgcmVjb3JkIGNoYW5nZXMgb2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSAgIHsqfSByZWNvcmRJZCBSZWNvcmQgSURcbiAgICogQHJldHVybiAge09iamVjdH1cbiAgICovXG4gIGdldFJlY29yZENoYW5nZXMocmVjb3JkSWQpIHtcbiAgICBjb25zdCByb3cgPSB0aGlzLl9nZXRSb3dJRChyZWNvcmRJZCk7XG4gICAgcmV0dXJuIHRoaXMuX2dldFJlY29yZENoYW5nZXMocm93KTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHJlY29yZCB3YXJuaW5ncyBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtICAgeyp9IHJlY29yZElkICBSZWNvcmQgSURcbiAgICogQHJldHVybiAge1ZhbGlkYXRpb25FcnJvcnN9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRSZWNvcmRXYXJuaW5ncyhyZWNvcmRJZCkge1xuICAgIGNvbnN0IHJvdyA9IHRoaXMuX2dldFJvd0lEKHJlY29yZElkKTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS53YXJuaW5nc1tyb3ddIHx8IG5ldyBWYWxpZGF0aW9uRXJyb3JzKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB2YWxpZGF0aW9uIHdhcm5pbmdzXG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5fG51bGx9XG4gICAqL1xuICBnZXRXYXJuaW5ncygpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5zdGF0ZS53YXJuaW5ncykge1xuICAgICAgcmVzdWx0LnB1c2goW1xuICAgICAgICB0aGlzLnN0YXRlLnJlY29yZHNJbmZvW2ldLmlkLFxuICAgICAgICB0aGlzLnN0YXRlLndhcm5pbmdzW2ldXG4gICAgICBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPyByZXN1bHQgOiBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgcmVjb3JkIGVycm9ycyBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtICAgeyp9IHJlY29yZElkICBSZWNvcmQgSURcbiAgICogQHJldHVybiAge1ZhbGlkYXRpb25FcnJvcnN9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRSZWNvcmRFcnJvcnMocmVjb3JkSWQpIHtcbiAgICBjb25zdCByb3cgPSB0aGlzLl9nZXRSb3dJRChyZWNvcmRJZCk7XG4gICAgcmV0dXJuIHRoaXMuX2dldFJlY29yZEVycm9ycyhyb3cpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdmFsaWRhdGlvbiBlcnJvcnNcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl8bnVsbH1cbiAgICovXG4gIGdldEVycm9ycygpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5zdGF0ZS5lcnJvcnMpIHtcbiAgICAgIHJlc3VsdC5wdXNoKFtcbiAgICAgICAgdGhpcy5zdGF0ZS5yZWNvcmRzSW5mb1tpXS5pZCxcbiAgICAgICAgdGhpcy5zdGF0ZS5lcnJvcnNbaV1cbiAgICAgIF0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA/IHJlc3VsdCA6IG51bGw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0YWJsZSBtb2RlbFxuICAgKlxuICAgKiBAcmV0dXJucyB7QWJzdHJhY3RHcmlkTW9kZWx9XG4gICAqL1xuICBnZXRNb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5tb2RlbDtcbiAgfSxcblxuICAvKipcbiAgICogU2F2ZSBncmlkIGNoYW5nZXNcbiAgICovXG4gIGFzeW5jIHNhdmUoKSB7XG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy5nZXRFcnJvcnMoKTtcblxuICAgIC8vIENvbGxlY3QgYWxsIHZhbGlkIGNoYW5nZXNcbiAgICBjb25zdCBjaGFuZ2VzID0gcmVkdWNlKHRoaXMuc3RhdGUuY2hhbmdlcywgKHJlc3VsdCwgcm93Q2hhbmdlcywgcm93KSA9PiB7XG4gICAgICBpZiAoIWVycm9ycyB8fCAhZXJyb3JzW3Jvd10pIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2F2ZUZ1bGxSZWNvcmQpIHtcbiAgICAgICAgICByZXN1bHRbcm93XSA9IHRoaXMuX2dldFJlY29yZFdpdGhDaGFuZ2VzKHJvdyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0W3Jvd10gPSB7fTtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHJlc3VsdFtyb3ddLCByb3dDaGFuZ2VzLCBwaWNrKFxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXRhW3Jvd10sXG4gICAgICAgICAgICB0aGlzLnByb3BzLm1vZGVsLmdldFZhbGlkYXRpb25EZXBlbmRlbmN5KE9iamVjdC5rZXlzKHJlc3VsdFtyb3ddKSlcbiAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCB7fSk7XG5cbiAgICAvLyBDYW5jZWwgbmV3IHJlY29yZCBkaXNwbGF5XG4gICAgdGhpcy5yZW1vdmVSZWNvcmRTdGF0dXNBbGwoJ25ldycpO1xuXG4gICAgLy8gUGFzcyBjaGFuZ2VzIHRvIHRhYmxlIG1vZGVsIHByb2Nlc3NpbmdcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5wcm9wcy5tb2RlbC51cGRhdGUodGhpcy5fZGF0YU9iamVjdFRvQXJyYXkoY2hhbmdlcykpO1xuICAgIGlmICghdGhpcy5faXNNb3VudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5wYXJ0aWFsRXJyb3JDaGVja2luZyA9IGZhbHNlO1xuXG4gICAgY29uc3QgdW5oYW5kbGVkRXJyb3JzID0gW107XG4gICAgZm9yIChjb25zdCByZWNvcmQgb2YgZGF0YSkge1xuICAgICAgY29uc3Qgcm93ID0gdGhpcy5fZ2V0Um93SUQocmVjb3JkWzBdKTtcblxuICAgICAgLy8gU2tpcCByZWNvcmRzIHRoYXQgYXJlIHVzZXIgY2hhbmdlZCB3aGlsZSBkYXRhIHByb2Nlc3NpbmdcbiAgICAgIGlmICghaXNFcXVhbCh0aGlzLnN0YXRlLmNoYW5nZXNbcm93XSwgY2hhbmdlc1tyb3ddKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZFsxXSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHVuaGFuZGxlZEVycm9ycy5wdXNoKHJlY29yZFsxXSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBQcm9jZXNzIHZhbGlkYXRpb24gZXJyb3JzXG4gICAgICBpZiAocmVjb3JkWzFdIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9ycykge1xuICAgICAgICB0aGlzLnN0YXRlLmVycm9yc1tyb3ddID0gcmVjb3JkWzFdO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FuY2VsIGNoYW5nZWQgZGF0YSBzdGF0dXMgb2YgdGhlIHBhcmFtZXRlcnMsIHRoYXQgYXJlIGNoYW5nZWRcbiAgICAgIGZvckVhY2goY2hhbmdlc1tyb3ddLCBmdW5jdGlvbiAodmFsdWUsIGZpZWxkKSB7XG4gICAgICAgIGlmIChpc0VxdWFsKHZhbHVlLCB0aGlzLnN0YXRlLmNoYW5nZXNbcm93XVtmaWVsZF0pKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3RhdGUuY2hhbmdlc1tyb3ddW2ZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG5cbiAgICAgIC8vIENsZWFyIGNoYW5nZWQgZGF0YSByb3cgaWYgaXQncyBlbXB0eVxuICAgICAgaWYgKGlzRW1wdHkodGhpcy5zdGF0ZS5jaGFuZ2VzW3Jvd10pKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnN0YXRlLmNoYW5nZXNbcm93XTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc01haW5Sb3cocm93KSkge1xuICAgICAgICAgIHRoaXMuX3JlbW92ZVJlY29yZChyb3cpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3JlbmRlckJvZHkoKTtcblxuICAgIGlmICh0aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMuc3RhdGUuY2hhbmdlcywgdGhpcy5zdGF0ZS5kYXRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvckhhbmRsZXIgPSB0aGlzLnByb3BzLm9uRXJyb3IgfHwgOjpjb25zb2xlLmVycm9yO1xuICAgIHVuaGFuZGxlZEVycm9ycy5mb3JFYWNoKGVycm9yID0+IGVycm9ySGFuZGxlcihlcnJvcikpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENsZWFyIHJlY29yZCBjaGFuZ2VzXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gcmVjb3JkSWQgUmVjb3JkIElEXG4gICAqL1xuICBjbGVhclJlY29yZENoYW5nZXMocmVjb3JkSWQpIHtcbiAgICBjb25zdCByb3cgPSB0aGlzLl9nZXRSb3dJRChyZWNvcmRJZCk7XG5cbiAgICBkZWxldGUgdGhpcy5zdGF0ZS5jaGFuZ2VzW3Jvd107XG4gICAgZGVsZXRlIHRoaXMuc3RhdGUud2FybmluZ3Nbcm93XTtcbiAgICBkZWxldGUgdGhpcy5zdGF0ZS5lcnJvcnNbcm93XTtcblxuICAgIHRoaXMuX3VwZGF0ZVJvdyhyb3cpO1xuXG4gICAgaWYgKHRoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5zdGF0ZS5jaGFuZ2VzLCB0aGlzLnN0YXRlLmRhdGEpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ2xlYXIgYWxsIHRhYmxlIGNoYW5nZXNcbiAgICovXG4gIGNsZWFyQWxsQ2hhbmdlcygpIHtcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgaW4gdGhpcy5zdGF0ZS5kYXRhKSB7XG4gICAgICBpZiAoIXRoaXMuX2lzTWFpblJvdyhpKSkge1xuICAgICAgICBkZWxldGUgdGhpcy5zdGF0ZS5kYXRhW2ldO1xuICAgICAgICBkZWxldGUgdGhpcy5zdGF0ZS5yZWNvcmRzSW5mb1tpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5jaGFuZ2VzID0ge307XG4gICAgdGhpcy5zdGF0ZS5zdGF0dXNlcyA9IHt9O1xuICAgIHRoaXMuc3RhdGUud2FybmluZ3MgPSB7fTtcbiAgICB0aGlzLnN0YXRlLmVycm9ycyA9IHt9O1xuICAgIHRoaXMuc3RhdGUucGFydGlhbEVycm9yQ2hlY2tpbmcgPSB0aGlzLnByb3BzLnBhcnRpYWxFcnJvckNoZWNraW5nO1xuXG4gICAgdGhpcy5fcmVuZGVyQm9keSgpO1xuXG4gICAgaWYgKHRoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5zdGF0ZS5jaGFuZ2VzLCB0aGlzLnN0YXRlLmRhdGEpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmVzZXQgdG8gaW5pdGlhbCB0YWJsZSBzdGF0ZVxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fc2V0UGFnZSgwKTtcbiAgICBpZiAoIXRoaXMuX2lzU29ydGluZ1Byb3BzTW9kZSgpKSB7XG4gICAgICB0aGlzLl9yZXNldFNvcnRpbmcoKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVUYWJsZSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgcmVjb3JkIGNoYW5nZXMgb2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICAgICAgICByb3cgICAgIFJvdyBJRFxuICAgKiBAcmV0dXJuICB7T2JqZWN0fVxuICAgKi9cbiAgX2dldFJlY29yZENoYW5nZXMocm93KSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eShyb3cpKSB7XG4gICAgICByZXR1cm4gY2xvbmVEZWVwKHRoaXMuc3RhdGUuY2hhbmdlc1tyb3ddKTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgcmVjb3JkIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHsqfSAgICAgICByZWNvcmRJZCAgUmVjb3JkIElEXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgZGF0YSAgICAgIERhdGFcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRSZWNvcmREYXRhKHJlY29yZElkLCBkYXRhKSB7XG4gICAgaWYgKCF0aGlzLl9pc1JlY29yZExvYWRlZChyZWNvcmRJZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUT0RPIGRvbmUgdGhyb3VnaCBfZGF0YUFycmF5VG9PYmplY3RcbiAgICBjb25zdCByb3cgPSB0aGlzLl9nZXRSb3dJRChyZWNvcmRJZCk7XG5cbiAgICAvLyBBcHBseSBhbmQgcmVkcmF3IGFsbCByZWNvcmQgY2hhbmdlc1xuICAgIGZvciAoY29uc3QgZmllbGQgaW4gZGF0YSkge1xuICAgICAgdGhpcy5zdGF0ZS5kYXRhW3Jvd11bZmllbGRdID0gY2xvbmVEZWVwKGRhdGFbZmllbGRdKTtcbiAgICAgIHRoaXMuX3JlbmRlckJpbmRzKHJvdywgZmllbGQpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVGFibGUgcm93IGhhcyB3YXJuaW5nIGZsYWdcbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ30gICAgICAgIHJvdyAgICAgUm93IElEXG4gICAqIEBwYXJhbSAgIHtBcnJheXxzdHJpbmd9ICBmaWVsZHNcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFzV2FybmluZyhyb3csIGZpZWxkcykge1xuICAgIHJldHVybiB0aGlzLl9jaGVja0ZpZWxkSW5WYWxpZGF0aW9uKHJvdywgZmllbGRzLCB0aGlzLnN0YXRlLndhcm5pbmdzKTtcbiAgfSxcblxuICAvKipcbiAgICogVGFibGUgcm93IGhhcyBlcnJvciBmbGFnXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICAgICAgICByb3cgICAgIFJvdyBJRFxuICAgKiBAcGFyYW0gICB7QXJyYXl8c3RyaW5nfSAgZmllbGRzXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhc0Vycm9yKHJvdywgZmllbGRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrRmllbGRJblZhbGlkYXRpb24ocm93LCBmaWVsZHMsIHRoaXMuc3RhdGUuZXJyb3JzKTtcbiAgfSxcblxuICAvKipcbiAgICogVGFibGUgcm93IGhhcyBlcnJvciBpbiBcInZhbGlkYXRpb25cIiBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ30gICAgICAgIHJvd1xuICAgKiBAcGFyYW0gICB7QXJyYXl8c3RyaW5nfSAgZmllbGRzXG4gICAqIEBwYXJhbSAgIHtWYWxpZGF0aW9ufSAgICB2YWxpZGF0aW9uXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NoZWNrRmllbGRJblZhbGlkYXRpb24ocm93LCBmaWVsZHMsIHZhbGlkYXRpb24pIHtcbiAgICBsZXQgaTtcblxuICAgIGlmICghdmFsaWRhdGlvbltyb3ddKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUucGFydGlhbEVycm9yQ2hlY2tpbmcgJiYgIXRoaXMuc3RhdGUuY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eShyb3cpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZpZWxkcykpIHtcbiAgICAgIGZpZWxkcyA9IFtmaWVsZHNdO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWxpZGF0aW9uW3Jvd10uaGFzRXJyb3IoZmllbGRzW2ldKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUYWJsZSByb3cgY2hhbmdlZCBmbGFnXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICAgICAgICByb3cgICAgICAgICBSb3cgSURcbiAgICogQHBhcmFtICAge0FycmF5fHN0cmluZ30gIFtmaWVsZHNdXG4gICAqIEByZXR1cm4gIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2lzQ2hhbmdlZChyb3csIGZpZWxkcykge1xuICAgIGxldCBpO1xuICAgIGlmICghdGhpcy5zdGF0ZS5jaGFuZ2VzW3Jvd10pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmllbGRzKSkge1xuICAgICAgICBmaWVsZHMgPSBbZmllbGRzXTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2hhbmdlc1tyb3ddLmhhc093blByb3BlcnR5KGZpZWxkc1tpXSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGFibGUgcm93IGVycm9ycyBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ30gcm93ICBSb3cgSURcbiAgICogQHJldHVybiAge1ZhbGlkYXRpb25FcnJvcnN9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0UmVjb3JkRXJyb3JzKHJvdykge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmVycm9yc1tyb3ddIHx8IG5ldyBWYWxpZGF0aW9uRXJyb3JzKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFBhc3MgY2hhbmdlcyB0byB0aGUgdGFibGVcbiAgICogVGhpcyBtZXRob2QgbWFya3MgY2hhbmdlZCBmaWVsZHNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgcm93ICAgICAgICAgUm93IElEXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIGRhdGEgICAgICAgIENoYW5nZWQgZGF0YVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFJvd0NoYW5nZXMocm93LCBkYXRhKSB7XG4gICAgY29uc3QgY2hhbmdlcyA9IHRoaXMuc3RhdGUuY2hhbmdlcztcblxuICAgIGlmICghY2hhbmdlc1tyb3ddKSB7XG4gICAgICBjaGFuZ2VzW3Jvd10gPSB7fTtcbiAgICB9XG5cbiAgICBjaGFuZ2VzW3Jvd10gPSBnZXRSZWNvcmRDaGFuZ2VzKHRoaXMucHJvcHMubW9kZWwsIHRoaXMuc3RhdGUuZGF0YVtyb3ddLCBjaGFuZ2VzW3Jvd10sIGRhdGEpO1xuXG4gICAgaWYgKGlzRW1wdHkoY2hhbmdlc1tyb3ddKSkge1xuICAgICAgZGVsZXRlIGNoYW5nZXNbcm93XTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGNvbHVtbiBvZiBPYmplY3Qua2V5cyhkYXRhKSkge1xuICAgICAgdGhpcy5fcmVuZGVyQmluZHMocm93LCBjb2x1bW4pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMuc3RhdGUuY2hhbmdlcywgdGhpcy5zdGF0ZS5kYXRhKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0YWJsZSByZWNvcmQgd2l0aCBjaGFuZ2VzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByb3cgUm93IElEXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJlcXVpcmVkIHRhYmxlIGRhdGEgcmVjb3JkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0UmVjb3JkV2l0aENoYW5nZXMocm93KSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZGF0YVtyb3ddKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5kYXRhW3Jvd10sIHRoaXMuc3RhdGUuY2hhbmdlc1tyb3ddKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldCB0YWJsZSBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9ICBjaGFuZ2VzICBDaGFuZ2VzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhc3luYyBfc2V0RGF0YShjaGFuZ2VzKSB7XG4gICAgLy8gQXBwbHkgYWxsIGNoYW5nZXNcbiAgICBmb3IgKGNvbnN0IFtpZCwgZGF0YV0gb2YgY2hhbmdlcykge1xuICAgICAgLy8gRmlyc3RseSB3ZSB1cGRhdGUgdGhlIHN0YXRlXG4gICAgICB0aGlzLl9zZXRSZWNvcmREYXRhKGlkLCBkYXRhKTtcbiAgICAgIC8vIFRoZW4gd2UgdmFsaWRhdGUgdGhlIHVwZGF0ZWQgZGF0YSBpbiBzdGF0ZVxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5fY2hlY2tXYXJuaW5ncyhpZCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBUaHJvdHRsZUVycm9yKSkge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCByZWNvcmQgZmllbGQgdGl0bGUgdGhhdCBjaGFuZ2VzIGNvbHVtbiBFZGl0b3JcbiAgICpcbiAgICogQHBhcmFtICAgICAgIHtzdHJpbmd9ICAgICAgICBpZCAgQ29sdW1uIElEXG4gICAqIEByZXR1cm5zICAgICB7QXJyYXl8c3RyaW5nfSAgICAgRmllbGRzIHRoYXQgY2hhbmdlIEVkaXRvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldEJpbmRQYXJhbShpZCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNvbHNbaWRdLmVkaXRvckZpZWxkIHx8IGlkO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBjb252ZXJ0cyBkYXRhIGFycmF5IHRvIHRoZSBvYmplY3Qgd2l0aCBrZXlzIHByZXNlbnRlZCBhcyByZWNvcmQgSUQgaGFzaFxuICAgKlxuICAgKiBAcGFyYW0gICB7QXJyYXl9ICAgIGFyciAgICAgRGF0YSBhcnJheVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgICBPYmplY3QgcmVzdWx0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZGF0YUFycmF5VG9PYmplY3Q6IGFyciA9PiB7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgcmVjb3JkcyA9IHt9O1xuICAgIGNvbnN0IGluZm8gPSB7fTtcbiAgICBsZXQgcm93O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgcm93ID0gdG9FbmNvZGVkU3RyaW5nKGFycltpXVswXSk7XG4gICAgICByZWNvcmRzW3Jvd10gPSBhcnJbaV1bMV07XG4gICAgICBpbmZvW3Jvd10gPSB7XG4gICAgICAgIGlkOiBhcnJbaV1bMF0sXG4gICAgICAgIGluZGV4OiBpIC8vIFNvcnQgaW5kZXhcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlY29yZHM6IHJlY29yZHMsXG4gICAgICBpbmZvOiBpbmZvXG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgY29udmVydHMgZGF0YSBvYmplY3QgdG8gdGhlIGFycmF5IHdpdGgga2V5cyBwcmVzZW50ZWQgYXMgcmVjb3JkIElEIGhhc2hcbiAgICpcbiAgICogQHBhcmFtICAge09iamVjdH0gIG9iaiAgICAgRGF0YSBvYmplY3RcbiAgICogQHJldHVybnMge0FycmF5fSAgIEFycmF5IHJlc3VsdFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RhdGFPYmplY3RUb0FycmF5KG9iaikge1xuICAgIGxldCBpO1xuICAgIGNvbnN0IGFyciA9IFtdO1xuXG4gICAgZm9yIChpIGluIG9iaikge1xuICAgICAgYXJyLnB1c2goW1xuICAgICAgICB0aGlzLnN0YXRlLnJlY29yZHNJbmZvW2ldLmlkLFxuICAgICAgICBjbG9uZShvYmpbaV0pXG4gICAgICBdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJcyBtYWluIHRhYmxlIHJvdyBmbGFnXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICAgIHJvdyAgICAgUm93IElEXG4gICAqIEByZXR1cm4gIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2lzTWFpblJvdyhyb3cpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5tYWluSWRzLmluZGV4T2Yocm93KSA+PSAwO1xuICB9LFxuXG4gIF9pc1JlY29yZExvYWRlZChyZWNvcmRJZCkge1xuICAgIC8vIFRPRE8gQ2FuIGJlIG9wdGltaXplZFxuICAgIGNvbnN0IHJvdyA9IHRvRW5jb2RlZFN0cmluZyhyZWNvcmRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuZGF0YS5oYXNPd25Qcm9wZXJ0eShyb3cpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGFibGUgcm93IElEIGhhdmluZyByZWNvcmQgSURcbiAgICpcbiAgICogQHBhcmFtICAgeyp9ICAgICAgIHJlY29yZElkICAgIFJlY29yZCBJRFxuICAgKiBAcmV0dXJuICB7c3RyaW5nfSAgUm93IElEXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0Um93SUQocmVjb3JkSWQpIHtcbiAgICBjb25zdCByb3cgPSB0b0VuY29kZWRTdHJpbmcocmVjb3JkSWQpO1xuXG4gICAgaWYgKCF0aGlzLnN0YXRlLmRhdGEuaGFzT3duUHJvcGVydHkocm93KSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1JlY29yZCB3aXRoIHRoZSBJRCBpcyBub3QgY29udGFpbmVkIGluIHRoZSB0YWJsZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcm93O1xuICB9LFxuXG4gIC8qKlxuICAgKiBMb2FkIG1vZGVsIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgc2V0dGluZ3MgICAgUmVxdWVzdCBwYXJhbWV0ZXJzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhc3luYyBfbG9hZERhdGEoc2V0dGluZ3MpIHtcbiAgICBsZXQgZGF0YTtcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IGF3YWl0IHRoaXMucHJvcHMubW9kZWwucmVhZChzZXR0aW5ncyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyICYmIHRoaXMucHJvcHMub25FcnJvcikge1xuICAgICAgICB0aGlzLnByb3BzLm9uRXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5vblBhZ2VMb2FkKSB7XG4gICAgICB0aGlzLnByb3BzLm9uUGFnZUxvYWQoZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGaW5kIHJlY29yZCBJRHMgdGhhdCBuZWVkIHRvIGJlIGRpc3BsYXllZCBhZGRpdGlvbmFsbHlcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9IEFkZGl0aW9uYWwgSURzIGFycmF5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0QWRkaXRpb25hbElkcygpIHtcbiAgICBjb25zdCBhZGRpdGlvbmFsSWRzID0gdGhpcy5fZ2V0UmVjb3Jkc1dpdGhTdGF0dXMoKTtcbiAgICBsZXQgaWQ7XG4gICAgZm9yIChjb25zdCByb3cgaW4gdGhpcy5zdGF0ZS5jaGFuZ2VzKSB7XG4gICAgICBpZCA9IHRoaXMuc3RhdGUucmVjb3Jkc0luZm9bcm93XS5pZDtcbiAgICAgIGlmIChhZGRpdGlvbmFsSWRzLmluZGV4T2YoaWQpIDwgMCkge1xuICAgICAgICBhZGRpdGlvbmFsSWRzLnB1c2goaWQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWRkaXRpb25hbElkcztcbiAgfSxcblxuICBfcmVtb3ZlUmVjb3JkKHJvd0lkLCBjYikge1xuICAgIGNvbnN0IHRvdWNoZWRDaGFuZ2VzID0gdGhpcy5zdGF0ZS5jaGFuZ2VzW3Jvd0lkXTtcbiAgICB0aGlzLl9yZW1vdmVUUihyb3dJZCk7XG4gICAgLy8gdGhpcy51bnNlbGVjdFJlY29yZChyZWNvcmRJZCwgdHJ1ZSk7IC8vIFRPRE8gTWFrZSB1bnNlbGVjdFJlY29yZCBieSByb3dJZCBtZXRob2RcbiAgICBkZWxldGUgdGhpcy5zdGF0ZS5kYXRhW3Jvd0lkXTtcbiAgICBkZWxldGUgdGhpcy5zdGF0ZS5yZWNvcmRzSW5mb1tyb3dJZF07XG4gICAgZGVsZXRlIHRoaXMuc3RhdGUuY2hhbmdlc1tyb3dJZF07XG4gICAgZGVsZXRlIHRoaXMuc3RhdGUud2FybmluZ3Nbcm93SWRdO1xuICAgIGRlbGV0ZSB0aGlzLnN0YXRlLmVycm9yc1tyb3dJZF07XG4gICAgZGVsZXRlIHRoaXMuc3RhdGUuZWRpdG9yW3Jvd0lkXTtcbiAgICB0aGlzLnNldFN0YXRlKHRoaXMuc3RhdGUsIGNiID8gY2IuYmluZCh0aGlzKSA6IG51bGwpO1xuXG4gICAgaWYgKHRvdWNoZWRDaGFuZ2VzICYmIHRoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5zdGF0ZS5jaGFuZ2VzLCB0aGlzLnN0YXRlLmRhdGEpO1xuICAgIH1cbiAgfSxcblxuICBhc3luYyBfY2hlY2tXYXJuaW5ncyhyb3cpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMud2FybmluZ3NWYWxpZGF0b3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrVmFsaWRhdG9yRXJyb3JzKFxuICAgICAgcm93LFxuICAgICAgdGhpcy5wcm9wcy53YXJuaW5nc1ZhbGlkYXRvcixcbiAgICAgIHRoaXMuX2dldFJlY29yZFdpdGhDaGFuZ2VzLFxuICAgICAgdGhpcy5zdGF0ZS53YXJuaW5nc1xuICAgICk7XG4gIH0sXG5cbiAgYXN5bmMgX3ZhbGlkYXRlUm93KHJvdykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9jaGVja1ZhbGlkYXRvckVycm9ycyhyb3csIHRoaXMucHJvcHMubW9kZWwsIHRoaXMuX2dldFJlY29yZENoYW5nZXMsIHRoaXMuc3RhdGUuZXJyb3JzKTtcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgZXJyb3JzIGluIFwidmFsaWRhdG9yXCIgb2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgcm93ICAgICAgICAgUm93IElEXG4gICAqIEBwYXJhbSB7VmFsaWRhdG9yfSAgICAgdmFsaWRhdG9yICAgVmFsaWRhdG9yIG9iamVjdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgICAgIGdldERhdGEgICAgIERhdGEgcHJvdmlkZXIgZnVuY3Rpb25cbiAgICogQHBhcmFtIHt7fX0gICAgICAgICAgICByZXN1bHQgICAgICBWYWxpZGF0aW9uIHJlc3VsdCBvYmplY3RcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzeW5jIF9jaGVja1ZhbGlkYXRvckVycm9ycyhyb3csIHZhbGlkYXRvciwgZ2V0RGF0YSwgcmVzdWx0KSB7XG4gICAgY29uc3QgcmVjb3JkSWQgPSB0aGlzLnN0YXRlLnJlY29yZHNJbmZvW3Jvd10uaWQ7XG4gICAgY29uc3QgcmVjb3JkID0gZ2V0RGF0YShyb3cpO1xuXG4gICAgY29uc3QgdmFsaWRFcnJvcnMgPSBhd2FpdCB2YWxpZGF0b3IuaXNWYWxpZFJlY29yZChyZWNvcmQsIHJlY29yZElkKTtcblxuICAgIGlmIChpc0VxdWFsKHJlY29yZCwgZ2V0RGF0YShyb3cpKSkge1xuICAgICAgaWYgKHZhbGlkRXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgICBkZWxldGUgcmVzdWx0W3Jvd107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbcm93XSA9IHZhbGlkRXJyb3JzO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCB0aGlzLl91cGRhdGVSb3cocm93KTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIFwiY3JlYXRlXCIgZXZlbnQgb2YgR3JpZE1vZGVsXG4gICAqXG4gICAqIEBwYXJhbSB7KltdfCp9IHJlY29yZElkc1xuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX29uUmVjb3Jkc0NyZWF0ZWQocmVjb3JkSWRzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJlY29yZElkcykpIHtcbiAgICAgIHdhcm4oJ05vdCBhcnJheSByZWNvcmRzSWRzIGluIFwiY3JlYXRlXCIgZXZlbnQgaXMgZGVwcmVjYXRlZCcpO1xuICAgICAgcmVjb3JkSWRzID0gW3JlY29yZElkc107XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVUYWJsZSgpLnRoZW4oXG4gICAgICBQcm9taXNlLmFsbChcbiAgICAgICAgcmVjb3JkSWRzLm1hcChhc3luYyByZWNvcmRJZCA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLl9pc1JlY29yZExvYWRlZChyZWNvcmRJZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCByb3dJZCA9IHRoaXMuX2dldFJvd0lEKHJlY29yZElkKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fY2hlY2tXYXJuaW5ncyhyb3dJZCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIFRocm90dGxlRXJyb3IpKSB7XG4gICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWREYXRhTWl4aW47XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7YXQsIGNsb25lRGVlcCwgcGFyc2VWYWx1ZUZyb21FdmVudCwgemlwT2JqZWN0fSBmcm9tICcuLi8uLi9jb21tb24vdXRpbHMnO1xuaW1wb3J0IFRocm90dGxlRXJyb3IgZnJvbSAnLi4vLi4vY29tbW9uL1Rocm90dGxlRXJyb3InO1xuXG5jb25zdCBmaW5kRE9NTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlO1xuXG5jb25zdCBFTlRFUl9LRVkgPSAxMztcbmNvbnN0IEVTQ0FQRV9LRVkgPSAyNztcblxuY29uc3QgR3JpZEVkaXRvck1peGluID0ge1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5IEVkaXRvciBpbiBhIHRhYmxlIGNlbGxcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAgICAgQ2VsbCBET00gZWxlbWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gICAgICByb3cgICAgICAgICBSb3cgSURcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgY29sdW1uICAgICAgQ29sdW1uIElEXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVuZGVyRWRpdG9yOiBmdW5jdGlvbiAoZWxlbWVudCwgcm93LCBjb2x1bW4pIHtcbiAgICBjb25zdCBiaW5kcyA9IHRoaXMuX2dldEJpbmRQYXJhbShjb2x1bW4pO1xuICAgIGNvbnN0IHJlY29yZCA9IHRoaXMuX2dldFJlY29yZFdpdGhDaGFuZ2VzKHJvdyk7XG4gICAgbGV0IHZhbHVlID0gYXQocmVjb3JkLCBiaW5kcyk7XG4gICAgbGV0IGZvY3VzRG9uZSA9IGZhbHNlO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJpbmRzKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZVswXTtcbiAgICB9XG5cbiAgICAvLyBQcmV2ZW50IHJlY3JlYXRlIG9mIHRoZSBvcGVuZWQgRWRpdG9yXG4gICAgaWYgKHRoaXMuX2lzRWRpdG9yVmlzaWJsZShyb3csIGNvbHVtbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlZGl0b3JDb250ZXh0ID0ge1xuICAgICAgdXBkYXRlRmllbGQ6IChmaWVsZCwgbmV4dFZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgZGF0YVtmaWVsZF0gPSBuZXh0VmFsdWU7XG4gICAgICAgIHRoaXMuX3NldFJvd0NoYW5nZXMocm93LCBkYXRhKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICBvbkNoYW5nZTogKHZhbHVlcykgPT4ge1xuICAgICAgICB0aGlzLl9vbkNoYW5nZUVkaXRvcihyb3csIGNvbHVtbiwgdmFsdWVzLCBlZGl0b3JDb250ZXh0LCBlbGVtZW50KTtcbiAgICAgIH0sXG4gICAgICBvbkZvY3VzOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuX29uRm9jdXNFZGl0b3Iocm93LCBjb2x1bW4pO1xuICAgICAgfSxcbiAgICAgIG9uQmx1cjogKCkgPT4ge1xuICAgICAgICAvLyBSZW1vdmUgRWRpdG9yXG4gICAgICAgIGlmIChmb2N1c0RvbmUpIHtcbiAgICAgICAgICB0aGlzLl91bm1vdW50RWRpdG9yKGVsZW1lbnQsIHJvdywgY29sdW1uKTtcbiAgICAgICAgICB0aGlzLl9vbkJsdXJFZGl0b3Iocm93KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uS2V5VXA6IChlKSA9PiB7XG4gICAgICAgIGlmIChmb2N1c0RvbmUgJiYgW0VOVEVSX0tFWSwgRVNDQVBFX0tFWV0uaW5jbHVkZXMoZS5rZXlDb2RlKSkge1xuICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IEVTQ0FQRV9LRVkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFJvd0NoYW5nZXMocm93LCB7IFtjb2x1bW5dOiB2YWx1ZSB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLl91bm1vdW50RWRpdG9yKGVsZW1lbnQsIHJvdywgY29sdW1uKTtcbiAgICAgICAgICB0aGlzLl9vbkJsdXJFZGl0b3Iocm93KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH07XG5cbiAgICBlZGl0b3JDb250ZXh0LnByb3BzID0gcHJvcHM7XG5cbiAgICAvLyBEaXNwbGF5IEVkaXRvclxuICAgIGNvbnN0IENvbXBvbmVudCA9IHRoaXMucHJvcHMuY29sc1tjb2x1bW5dLmVkaXRvci5jYWxsKGVkaXRvckNvbnRleHQsIHJlY29yZCwgdGhpcyk7XG5cbiAgICBpZiAoIUNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuZWRpdG9yW2Ake3Jvd31fJHtjb2x1bW59YF0gPSBSZWFjdERPTS5yZW5kZXIoQ29tcG9uZW50LCBlbGVtZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2RncmlkLWlucHV0LXdyYXBwZXInKTtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLmZvY3VzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbmRET01Ob2RlKHRoaXMpLmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBmb2N1c0RvbmUgPSB0cnVlO1xuICAgIH0pO1xuICB9LFxuXG4gIF91bm1vdW50RWRpdG9yKGVsZW1lbnQsIHJvdywgY29sdW1uKSB7XG4gICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShlbGVtZW50KTtcbiAgICBkZWxldGUgdGhpcy5zdGF0ZS5lZGl0b3JbYCR7cm93fV8ke2NvbHVtbn1gXTtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2RncmlkLWlucHV0LXdyYXBwZXInKTtcblxuICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5pc1NlbGVjdGVkKHRoaXMuc3RhdGUucmVjb3Jkc0luZm9bcm93XS5pZCk7XG4gICAgdGhpcy5fcmVuZGVyQ2VsbChyb3csIGNvbHVtbiwgc2VsZWN0ZWQpO1xuICB9LFxuXG4gIF9vbkNoYW5nZUVkaXRvcjogZnVuY3Rpb24gKHJvdywgY29sdW1uLCB2YWx1ZXMsIGVkaXRvckNvbnRleHQsIGVsZW1lbnQpIHtcbiAgICBsZXQgYmluZHMgPSB0aGlzLl9nZXRCaW5kUGFyYW0oY29sdW1uKTtcblxuICAgIHZhbHVlcyA9IGNsb25lRGVlcChwYXJzZVZhbHVlRnJvbUV2ZW50KHZhbHVlcykpO1xuXG4gICAgY29uc3QgcmVjb3JkID0gdGhpcy5fZ2V0UmVjb3JkV2l0aENoYW5nZXMocm93KTtcbiAgICBjb25zdCBjb250ZXh0ID0gY2xvbmVEZWVwKGVkaXRvckNvbnRleHQpO1xuICAgIGNvbnRleHQucHJvcHMudmFsdWUgPSB2YWx1ZXM7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gdGhpcy5wcm9wcy5jb2xzW2NvbHVtbl0uZWRpdG9yLmNhbGwoY29udGV4dCwgcmVjb3JkLCB0aGlzKTtcbiAgICB0aGlzLnN0YXRlLmVkaXRvcltgJHtyb3d9XyR7Y29sdW1ufWBdID0gUmVhY3RET00ucmVuZGVyKENvbXBvbmVudCwgZWxlbWVudCk7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYmluZHMpKSB7XG4gICAgICBiaW5kcyA9IFtiaW5kc107XG4gICAgICB2YWx1ZXMgPSBbdmFsdWVzXTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRSb3dDaGFuZ2VzKHJvdywgemlwT2JqZWN0KGJpbmRzLCB2YWx1ZXMpKTtcbiAgfSxcblxuICBfb25Gb2N1c0VkaXRvcjogZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmVycm9yc1tyb3ddKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGJpbmRzID0gdGhpcy5fZ2V0QmluZFBhcmFtKGNvbHVtbik7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJpbmRzKSkge1xuICAgICAgYmluZHMgPSBbYmluZHNdO1xuICAgIH1cblxuICAgIGJpbmRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB0aGlzLnN0YXRlLmVycm9yc1tyb3ddLmNsZWFyRmllbGQoZmllbGQpO1xuICAgIH0sIHRoaXMpO1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yc1tyb3ddLmlzRW1wdHkoKSkge1xuICAgICAgZGVsZXRlIHRoaXMuc3RhdGUuZXJyb3JzW3Jvd107XG4gICAgfVxuICB9LFxuXG4gIGFzeW5jIF9vbkJsdXJFZGl0b3Iocm93KSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuX2NoZWNrV2FybmluZ3Mocm93KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoIShlIGluc3RhbmNlb2YgVGhyb3R0bGVFcnJvcikpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPIERlcHJlY2F0ZWQgcHJvcCByZWFsdGltZSBpbiB2MC4xN1xuICAgIGlmICh0aGlzLnByb3BzLmF1dG9TdWJtaXQgfHwgdGhpcy5wcm9wcy5yZWFsdGltZSkge1xuICAgICAgaWYgKHRoaXMucHJvcHMucmVhbHRpbWUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGVkOiBHcmlkIHByb3AgXCJyZWFsdGltZVwiIHJlbmFtZWQgdG8gXCJhdXRvU3VibWl0XCInKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2F2ZSh0aGlzLnByb3BzLm9uUmVhbHRpbWVTdWJtaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLl92YWxpZGF0ZVJvdyhyb3cpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgVGhyb3R0bGVFcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMuc3RhdGUuY2hhbmdlcywgdGhpcy5zdGF0ZS5kYXRhKTtcbiAgICB9XG4gIH0sXG5cbiAgX2lzRWRpdG9yVmlzaWJsZTogZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5zdGF0ZS5lZGl0b3JbYCR7cm93fV8ke2NvbHVtbn1gXSk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRFZGl0b3JNaXhpbjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBSZWFjdCwge0ZyYWdtZW50fSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IEdyaWRQYWdpbmF0aW9uTWl4aW4gPSB7XG4gIC8qKlxuICAgKiBDaGFuZ2UgZXZlbnQgaGFuZGxlciBvZiBkaXNwbGF5ZWQgcm93cyBjb3VudCBpbiBhIHRhYmxlXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAqL1xuICBoYW5kbGVDaGFuZ2VWaWV3Q291bnQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGNvbnN0IGNvdW50ID0gdGhpcy5wcm9wcy52aWV3VmFyaWFudHNbZXZlbnQudGFyZ2V0LnZhbHVlXTtcbiAgICBpZiAodGhpcy5faXNWaWV3Q291bnRQcm9wc01vZGUoKSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZVZpZXdDb3VudChjb3VudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0Vmlld0NvdW50KGNvdW50KTtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZSB0byBmaXJzdCBwYWdlIGV2ZW50IGhhbmRsZXJcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICovXG4gIGhhbmRsZUZpcnN0UGFnZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNldFBhZ2UoMCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmUgdG8gbGFzdCBwYWdlIGV2ZW50IGhhbmRsZXJcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICovXG4gIGhhbmRsZUxhc3RQYWdlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuc2V0UGFnZSh0aGlzLmdldFBhZ2VzQ291bnQoKSAtIDEpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHByZXZpb3VzIHBhZ2UgZXZlbnQgaGFuZGxlclxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICAgKi9cbiAgaGFuZGxlUHJldlBhZ2U6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5zZXRQYWdlKHRoaXMuc3RhdGUucGFnZSAtIDEpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIG5leHQgcGFnZSBldmVudCBoYW5kbGVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAqL1xuICBoYW5kbGVOZXh0UGFnZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNldFBhZ2UodGhpcy5zdGF0ZS5wYWdlICsgMSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlZnJlc2ggdGFibGUgaGFuZGxlclxuICAgKlxuICAgKi9cbiAgaGFuZGxlUmVmcmVzaFRhYmxlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMudXBkYXRlVGFibGUoKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgcGFnZSBpbmRleCBudW1iZXJcbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0Q3VycmVudFBhZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5wYWdlO1xuICB9LFxuXG4gIGdldENvdW50UmVjb3JkczogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmNvdW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIG90aGVyIHBhZ2VcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9ICBwYWdlICAgICBQYWdlIGluZGV4IG51bWJlclxuICAgKi9cbiAgc2V0UGFnZTogZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICB0aGlzLl9zZXRQYWdlKHBhZ2UpO1xuICAgIHRoaXMudXBkYXRlVGFibGUoKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0IGRpc3BsYXllZCBlbGVtZW50cyBjb3VudFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmlld0NvdW50XG4gICAqL1xuICBzZXRWaWV3Q291bnQ6IGZ1bmN0aW9uICh2aWV3Q291bnQpIHtcbiAgICBpZiAodGhpcy5faXNWaWV3Q291bnRQcm9wc01vZGUoKSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1lvdSBjYW4gbm90IHVzZSBmdW5jdGlvbiBcInNldFZpZXdDb3VudFwiIHdoZW4gc2V0IHByb3AgXCJ2aWV3Q291bnRcIicpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUudmlld0NvdW50ID0gdmlld0NvdW50O1xuICAgIHRoaXMuc3RhdGUucGFnZSA9IHRoaXMuX2NoZWNrUGFnZSh0aGlzLnN0YXRlLnBhZ2UsIHZpZXdDb3VudCwgdGhpcy5zdGF0ZS5jb3VudCk7XG4gICAgdGhpcy51cGRhdGVUYWJsZSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgcGFnZXMgY291bnRcbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0UGFnZXNDb3VudDogZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHZpZXdDb3VudCA9IHRoaXMuZ2V0Vmlld0NvdW50KCk7XG4gICAgcmV0dXJuIHZpZXdDb3VudCA/IE1hdGguY2VpbCh0aGlzLnN0YXRlLmNvdW50IC8gdmlld0NvdW50KSA6IDE7XG4gIH0sXG5cbiAgZ2V0Vmlld0NvdW50OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX2lzVmlld0NvdW50UHJvcHNNb2RlKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnZpZXdDb3VudDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUudmlld0NvdW50O1xuICB9LFxuXG4gIF9zZXRQYWdlOiBmdW5jdGlvbiAocGFnZSkge1xuICAgIHRoaXMuc3RhdGUucGFnZSA9IHRoaXMuX2NoZWNrUGFnZShwYWdlLCB0aGlzLnN0YXRlLnZpZXdDb3VudCwgdGhpcy5zdGF0ZS5jb3VudCk7XG4gIH0sXG5cbiAgX2NoZWNrUGFnZTogKHBhZ2UsIHZpZXcsIGNvdW50KSA9PiB7XG4gICAgaWYgKHBhZ2UgKiB2aWV3ID49IGNvdW50KSB7XG4gICAgICBwYWdlID0gdmlldyA/IE1hdGguY2VpbChjb3VudCAvIHZpZXcpIC0gMSA6IDA7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1heCgwLCBwYWdlKTtcbiAgfSxcblxuICBfaXNWaWV3Q291bnRQcm9wc01vZGU6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgndmlld0NvdW50Jyk7XG4gIH0sXG5cbiAgX3JlbmRlclBhZ2luYXRpb246IGZ1bmN0aW9uIF9yZW5kZXJQYWdpbmF0aW9uKCkge1xuICAgIGNvbnN0IHZpZXdDb3VudCA9IHRoaXMuZ2V0Vmlld0NvdW50KCk7XG4gICAgcmV0dXJuIEJvb2xlYW4odmlld0NvdW50KSAmJiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRncmlkLWZvb3RlclwiPlxuICAgICAgICB7Qm9vbGVhbih0aGlzLnByb3BzLnZpZXdWYXJpYW50cykgJiYgKFxuICAgICAgICAgIDxGcmFnbWVudD5cbiAgICAgICAgICAgIDxkaXYga2V5PVwiMFwiIGNsYXNzTmFtZT1cImRncmlkLXBhZ2luYXRpb24tcGFnZS1zaXplXCI+IFBhZ2UgU2l6ZSA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYga2V5PVwiMVwiIGNsYXNzTmFtZT1cImRncmlkLXBhZ2luYXRpb24tdmlldy12YXJpYW50c1wiPlxuICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZGdyaWQtcGFnaW5hdGlvbi12aWV3LXZhcmlhbnRzLXNlbGVjdFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmlld1ZhcmlhbnRzLmluZGV4T2Yodmlld0NvdW50KX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2VWaWV3Q291bnR9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy52aWV3VmFyaWFudHMubWFwKChvcHRpb24sIGtleSkgPT4gPG9wdGlvbiBrZXk9e2tleX0gdmFsdWU9e2tleX0+e29wdGlvbn08L29wdGlvbj4sIHRoaXMpfVxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICAgICl9XG4gICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiYnRuLWZpcnN0LXBhZ2VcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUZpcnN0UGFnZX0vPlxuICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImJ0bi1wcmV2LXBhZ2VcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZVByZXZQYWdlfS8+XG4gICAgICAgIHtCb29sZWFuKHRoaXMuc3RhdGUuY291bnQpICYmIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgeyh0aGlzLnN0YXRlLnBhZ2UgKiB2aWV3Q291bnQpICsgMX1cbiAgICAgICAgICAgIHsnIC0gJ31cbiAgICAgICAgICAgIHtNYXRoLm1pbihcbiAgICAgICAgICAgICAgKHRoaXMuc3RhdGUucGFnZSArIDEpICogdmlld0NvdW50LFxuICAgICAgICAgICAgICB0aGlzLnN0YXRlLmNvdW50XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgeycgb2YgJ31cbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLmNvdW50fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImJ0bi1uZXh0LXBhZ2VcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZU5leHRQYWdlfS8+XG4gICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiYnRuLWxhc3QtcGFnZVwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlTGFzdFBhZ2V9Lz5cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJidG4tcmVmcmVzaC1wYWdlXCIgb25DbGljaz17dGhpcy5oYW5kbGVSZWZyZXNoVGFibGV9Lz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRQYWdpbmF0aW9uTWl4aW47XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge2Nsb25lLCBpbmRleE9mLCB0b0VuY29kZWRTdHJpbmd9IGZyb20gJy4uLy4uL2NvbW1vbi91dGlscyc7XG5cbi8qKlxuICogR3JpZCBtaXhpbiwgcmVzcG9uc2libGUgZm9yIHJvd3MgU2VsZWN0XG4gKi9cbmNvbnN0IEdyaWRTZWxlY3RNaXhpbiA9IHtcbiAgLyoqXG4gICAqIFNlbGVjdCBvbmx5IHRoZXNlIHJlY29yZHNcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gICBzZWxlY3RlZElkcyAgICAgICBSZWNvcmQgSURzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2JsYWNrTGlzdE1vZGVdICAgSXMgYmxhY2sgbGlzdCBtb2RlXG4gICAqL1xuICBzZXRTZWxlY3RlZFJlY29yZHM6IGZ1bmN0aW9uIChzZWxlY3RlZElkcywgYmxhY2tMaXN0TW9kZSkge1xuICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWQgPSBjbG9uZShzZWxlY3RlZElkcyk7XG4gICAgaWYgKHR5cGVvZiBibGFja0xpc3RNb2RlID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0QmxhY2tMaXN0TW9kZSA9IGJsYWNrTGlzdE1vZGU7XG4gICAgfVxuXG4gICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIHRoaXMuX3JlbmRlckJvZHkoKTtcbiAgICB0aGlzLl9lbWl0Q2hhbmdlU2VsZWN0ZWROdW0oKTtcbiAgfSxcblxuICAvKipcbiAgICogU2VsZWN0IGEgcmVjb3JkXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gICAgcmVjb3JkSWQgICAgICAgUmVjb3JkIElEXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gICAgICAgICAgICAgW2lnbm9yZUJsYWNrTGlzdD1mYWxzZV0gICAgIElnbm9yZSBCbGFja0xpc3QgbW9kZVxuICAgKi9cbiAgc2VsZWN0UmVjb3JkOiBmdW5jdGlvbiAocmVjb3JkSWQsIGlnbm9yZUJsYWNrTGlzdCkge1xuICAgIGNvbnN0IHJvdyA9IHRvRW5jb2RlZFN0cmluZyhyZWNvcmRJZCk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RCbGFja0xpc3RNb2RlICYmICFpZ25vcmVCbGFja0xpc3QpIHtcbiAgICAgIHJldHVybiB0aGlzLnVuc2VsZWN0UmVjb3JkKHJlY29yZElkLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXhPZih0aGlzLnN0YXRlLnNlbGVjdGVkLCByZWNvcmRJZCkgPCAwKSB7XG4gICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkLnB1c2gocmVjb3JkSWQpO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZC5sZW5ndGggPT09IHRoaXMuc3RhdGUuY291bnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0QmxhY2tMaXN0TW9kZSkge1xuICAgICAgICAgIHRoaXMudW5zZWxlY3RBbGwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdEFsbCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVSb3cocm93KS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuX2VtaXRDaGFuZ2VTZWxlY3RlZE51bSgpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBVbnNlbGVjdCByZWNvcmRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSAgIHJlY29yZElkICAgICAgICAgICAgICAgICAgICBSZWNvcmQgSURcbiAgICogQHBhcmFtIHtib29sZWFufSAgICAgICAgIFtpZ25vcmVCbGFja0xpc3Q9ZmFsc2VdICAgICBJZ25vcmUgQmxhY2tMaXN0IG1vZGVcbiAgICovXG4gIHVuc2VsZWN0UmVjb3JkOiBmdW5jdGlvbiAocmVjb3JkSWQsIGlnbm9yZUJsYWNrTGlzdCkge1xuICAgIGNvbnN0IHJvdyA9IHRvRW5jb2RlZFN0cmluZyhyZWNvcmRJZCk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RCbGFja0xpc3RNb2RlICYmICFpZ25vcmVCbGFja0xpc3QpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdFJlY29yZChyZWNvcmRJZCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcG9zID0gaW5kZXhPZih0aGlzLnN0YXRlLnNlbGVjdGVkLCByZWNvcmRJZCk7XG4gICAgaWYgKHBvcyA+PSAwKSB7XG4gICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkLnNwbGljZShwb3MsIDEpO1xuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZVJvdyhyb3cpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fZW1pdENoYW5nZVNlbGVjdGVkTnVtKCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIElzIHNlbGVjdGVkIHJvdyBmbGFnIGluIGFjY29yZGFuY2Ugd2l0aFxuICAgKiBjdXJyZW50IHNlbGVjdCBtb2RlICh3aGl0ZWxpc3QvYmxhY2tsaXN0KS5cbiAgICpcbiAgICogQHBhcmFtICAge251bWJlcnxzdHJpbmd9ICAgICByZWNvcmRJZCAgICBSZWNvcmQgSURcbiAgICogQHJldHVybnMge2Jvb2xlYW59ICAgICAgICAgICBJcyBzZWxlY3RlZCByb3cgZmxhZ1xuICAgKi9cbiAgaXNTZWxlY3RlZDogZnVuY3Rpb24gKHJlY29yZElkKSB7XG4gICAgY29uc3Qgc2VsZWN0ZWQgPSBpbmRleE9mKHRoaXMuc3RhdGUuc2VsZWN0ZWQsIHJlY29yZElkKSA+PSAwO1xuICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdEJsYWNrTGlzdE1vZGUpIHtcbiAgICAgIHJldHVybiAhc2VsZWN0ZWQ7XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3RlZDtcbiAgfSxcblxuICAvKipcbiAgICogU3dpdGNoIFwic2VsZWN0XCJcbiAgICpcbiAgICogQHBhcmFtIHsqfSAgIHJlY29yZElkICBSZWNvcmQgSURcbiAgICovXG4gIHRvZ2dsZVNlbGVjdGVkOiBmdW5jdGlvbiAocmVjb3JkSWQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblRvZ2dsZVNlbGVjdGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vblRvZ2dsZVNlbGVjdGVkKHJlY29yZElkKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNTZWxlY3RlZChyZWNvcmRJZCkpIHtcbiAgICAgIHRoaXMudW5zZWxlY3RSZWNvcmQocmVjb3JkSWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdFJlY29yZChyZWNvcmRJZCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTd2l0Y2ggcmVjb3JkcyBzZWxlY3Rpb24gbW9kZVxuICAgKi9cbiAgdG9nZ2xlU2VsZWN0QWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25Ub2dnbGVTZWxlY3RBbGwpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9uVG9nZ2xlU2VsZWN0QWxsKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdEJsYWNrTGlzdE1vZGUpIHtcbiAgICAgIHRoaXMudW5zZWxlY3RBbGwoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3RBbGwoKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNlbGVjdCBhbGwgcmVjb3Jkc1xuICAgKiBTd2l0Y2hlcyByZWNvcmRzIHNlbGVjdGlvbiBtb2RlIHRvIFwiYmxhY2tsaXN0XCJcbiAgICovXG4gIHNlbGVjdEFsbDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc3RhdGUuc2VsZWN0QmxhY2tMaXN0TW9kZSA9IHRydWU7XG4gICAgdGhpcy5zdGF0ZS5zZWxlY3RlZCA9IFtdO1xuICAgIHRoaXMuX3JlbmRlckJvZHkoKTtcbiAgICB0aGlzLl9lbWl0Q2hhbmdlU2VsZWN0ZWROdW0oKTtcbiAgfSxcblxuICAvKipcbiAgICogVW5zZWxlY3QgYWxsIHJlY29yZHMgc3RhdHVzXG4gICAqIFN3aXRjaGVzIHJlY29yZHMgc2VsZWN0aW9uIG1vZGUgdG8gXCJ3aGl0ZWxpc3RcIlxuICAgKi9cbiAgdW5zZWxlY3RBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnN0YXRlLnNlbGVjdEJsYWNrTGlzdE1vZGUgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXRlLnNlbGVjdGVkID0gW107XG4gICAgdGhpcy5fcmVuZGVyQm9keSgpO1xuICAgIHRoaXMuX2VtaXRDaGFuZ2VTZWxlY3RlZE51bSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCByZWNvcmRzIHNlbGVjdGlvbiBtb2RlXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZWNvcmRzIHNlbGVjdGlvbiBtb2RlLiB0cnVlIC0gQmxhY2tsaXN0OyBmYWxzZSAtIFdoaXRlbGlzdFxuICAgKi9cbiAgaXNTZWxlY3RCbGFja01vZGU6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZWxlY3RCbGFja0xpc3RNb2RlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHNlbGVjdGVkIHJlY29yZHNcbiAgICpcbiAgICogQHJldHVybnMge0FycmF5fSAgIFJlY29yZCBJRHMgYXJyYXlcbiAgICovXG4gIGdldEFsbFNlbGVjdGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNsb25lKHRoaXMuc3RhdGUuc2VsZWN0ZWQpO1xuICB9LFxuXG4gIGdldFNlbGVjdEFsbFN0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5zZWxlY3RBbGxTdGF0dXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRyaWdnZXIgc2VsZWN0ZWQgcmVjb3JkcyBjb3VudCBjaGFuZ2UgaGFuZGxlclxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2VtaXRDaGFuZ2VTZWxlY3RlZE51bTogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uU2VsZWN0ZWRDaGFuZ2UpIHtcbiAgICAgIGxldCBzZWxlY3RlZENvdW50ID0gdGhpcy5zdGF0ZS5zZWxlY3RlZC5sZW5ndGg7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RCbGFja0xpc3RNb2RlKSB7XG4gICAgICAgIHNlbGVjdGVkQ291bnQgPSB0aGlzLmdldENvdW50UmVjb3JkcygpIC0gc2VsZWN0ZWRDb3VudDtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJvcHMub25TZWxlY3RlZENoYW5nZSh0aGlzLmdldEFsbFNlbGVjdGVkKCksIHNlbGVjdGVkQ291bnQpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgR3JpZFNlbGVjdE1peGluO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtjbG9uZSwgZmluZEluZGV4LCBjbG9uZURlZXB9IGZyb20gJy4uLy4uL2NvbW1vbi91dGlscyc7XG5cbmNvbnN0IEdyaWRTb3J0aW5nTWl4aW4gPSB7XG4gIC8qKlxuICAgKiBTb3J0IGJ5IGNvbHVtblxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29sdW1uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb25cbiAgICovXG4gIHNvcnQ6IGZ1bmN0aW9uIChjb2x1bW4sIGRpcmVjdGlvbikge1xuICAgIGlmICh0aGlzLl9pc1NvcnRpbmdQcm9wc01vZGUoKSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1lvdSBjYW4gbm90IHVzZSBmdW5jdGlvbiBcInNvcnRcIiB3aGVuIHNldCBwcm9wIFwic29ydFwiJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc29ydCA9IHtcbiAgICAgIGNvbHVtbjogY29sdW1uLFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICB9O1xuXG4gICAgaWYgKHRoaXMucHJvcHMubXVsdGlwbGVTb3J0aW5nKSB7XG4gICAgICB0aGlzLnN0YXRlLnNvcnQucHVzaChzb3J0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZS5zb3J0ID0gc29ydDtcbiAgICB9XG5cbiAgICB0aGlzLnNldFBhZ2UoMCk7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5vblNvcnRpbmcpIHtcbiAgICAgIHRoaXMucHJvcHMub25Tb3J0aW5nKHRoaXMuc3RhdGUuc29ydCwgY29sdW1uLCBkaXJlY3Rpb24pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IHNvcnQgZGlyZWN0aW9uXG4gICAqXG4gICAqIEByZXR1cm4ge29iamVjdHxvYmplY3RbXX1cbiAgICovXG4gIGdldFNvcnREaXJlY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5faXNTb3J0aW5nUHJvcHNNb2RlKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnNvcnQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0YXRlLnNvcnQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlc2V0IHRvIGRlZmF1bHQgc29ydCBwYXJhbWV0ZXJzXG4gICAqL1xuICByZXNldFNvcnRpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5faXNTb3J0aW5nUHJvcHNNb2RlKCkpIHtcbiAgICAgIHRocm93IEVycm9yKCdZb3UgY2FuIG5vdCB1c2UgZnVuY3Rpb24gXCJyZXNldFNvcnRpbmdcIiB3aGVuIHNldCBwcm9wIFwic29ydFwiJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVzZXRTb3J0aW5nKCk7XG4gICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXNldCB0byBkZWZhdWx0IHNvcnQgcGFyYW1ldGVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Jlc2V0U29ydGluZzogZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNvcnQgPSB0aGlzLl9nZXREZWZhdWx0U29ydCgpO1xuXG4gICAgaWYgKHRoaXMuX2lzU29ydGluZ1Byb3BzTW9kZSgpKSB7XG4gICAgICB0aGlzLm9uU29ydGluZyhzb3J0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLnNvcnQgPSBzb3J0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBVc2UgY29sdW1uIG5hbWUgZm9yIHRhYmxlIHNvcnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbHVtbiAgQ29sdW1uIG5hbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zb3J0Q29sOiBmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgbGV0IG5ld09yZGVyO1xuICAgIGNvbnN0IGN5Y2xlID0gdGhpcy5wcm9wcy5jb2xzW2NvbHVtbl0uc29ydEN5Y2xlO1xuICAgIGxldCBuZXdTb3J0cyA9IGNsb25lKHRoaXMuZ2V0U29ydERpcmVjdGlvbigpKTtcbiAgICBjb25zdCBzb3J0RWxlbWVudCA9IHtjb2x1bW46IGNvbHVtbn07XG4gICAgbGV0IGN1cnJlbnRTb3J0SW5kZXg7XG4gICAgbGV0IGN1cnJlbnRTb3J0O1xuXG4gICAgaWYgKHRoaXMucHJvcHMubXVsdGlwbGVTb3J0aW5nKSB7XG4gICAgICAvLyBGaW5kIGFuIGVsZW1lbnQgYW1vbmcgdGhlIG90aGVyIHNvcnRzXG4gICAgICBjdXJyZW50U29ydEluZGV4ID0gZmluZEluZGV4KG5ld1NvcnRzLCBzb3J0ID0+IHNvcnQuY29sdW1uID09PSBjb2x1bW4pO1xuXG4gICAgICBpZiAoY3VycmVudFNvcnRJbmRleCA+PSAwKSB7XG4gICAgICAgIGN1cnJlbnRTb3J0ID0gbmV3U29ydHNbY3VycmVudFNvcnRJbmRleF07XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBkaXJlY3Rpb24gb2Ygc29ydGluZ1xuICAgICAgICBpZiAoY3VycmVudFNvcnRJbmRleCA8IG5ld1NvcnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBuZXdPcmRlciA9IGN5Y2xlWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIHRoZSBpdGVtIGlzIHRoZSBsYXN0IG9uZSwgc2VsZWN0IHRoZSBuZXh0IGRpcmVjdGlvbiBvZiBzb3J0aW5nXG4gICAgICAgICAgbmV3T3JkZXIgPSBjeWNsZVsoY3ljbGUuaW5kZXhPZihjdXJyZW50U29ydC5kaXJlY3Rpb24pICsgMSkgJSBjeWNsZS5sZW5ndGhdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld09yZGVyID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgaXRlbSBmcm9tIHRoZSBzb3J0c1xuICAgICAgICAgIG5ld1NvcnRzLnNwbGljZShjdXJyZW50U29ydEluZGV4LCAxKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50U29ydEluZGV4ID09PSBuZXdTb3J0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgLy8gU2V0IG5ldyBkaXJlY3Rpb24sIGlmIHRoZSBsYXN0IGVsZW1lbnRcbiAgICAgICAgICBjdXJyZW50U29ydC5kaXJlY3Rpb24gPSBuZXdPcmRlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBNb3ZlIHRoZSBpdGVtIHRvIHRoZSBlbmQsIGlmIGl0IGlzIGFscmVhZHkgaW4gc29ydHNcbiAgICAgICAgICBuZXdTb3J0cy5zcGxpY2UoY3VycmVudFNvcnRJbmRleCwgMSk7XG4gICAgICAgICAgc29ydEVsZW1lbnQuZGlyZWN0aW9uID0gbmV3T3JkZXI7XG4gICAgICAgICAgbmV3U29ydHMucHVzaChzb3J0RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFkZCBuZXcgZWxlbWVudFxuICAgICAgICBzb3J0RWxlbWVudC5kaXJlY3Rpb24gPSBuZXdPcmRlciA9IGN5Y2xlWzBdO1xuICAgICAgICBuZXdTb3J0cy5wdXNoKHNvcnRFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5ld1NvcnRzICYmIG5ld1NvcnRzLmNvbHVtbiA9PT0gY29sdW1uKSB7XG4gICAgICAgIC8vIFNlbGVjdCB0aGUgbmV4dCBkaXJlY3Rpb24gb2Ygc29ydGluZ1xuICAgICAgICBuZXdPcmRlciA9IGN5Y2xlWyhjeWNsZS5pbmRleE9mKG5ld1NvcnRzLmRpcmVjdGlvbikgKyAxKSAlIGN5Y2xlLmxlbmd0aF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdPcmRlciA9IGN5Y2xlWzBdO1xuICAgICAgfVxuICAgICAgaWYgKG5ld09yZGVyID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgbmV3U29ydHMgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc29ydEVsZW1lbnQuZGlyZWN0aW9uID0gbmV3T3JkZXI7XG4gICAgICAgIG5ld1NvcnRzID0gc29ydEVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMub25Tb3J0aW5nKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU29ydGluZyhuZXdTb3J0cywgY29sdW1uLCBuZXdPcmRlcik7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9pc1NvcnRpbmdQcm9wc01vZGUoKSkge1xuICAgICAgdGhpcy5zdGF0ZS5zb3J0ID0gbmV3U29ydHM7XG4gICAgICB0aGlzLnNldFBhZ2UoMCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgaW5pdGlhbCBzb3J0IHN0YXRlXG4gICAqXG4gICAqIEByZXR1cm5zIHtBcnJheX0gSW5pdGlhbCBzb3J0IHN0YXRlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0RGVmYXVsdFNvcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kZWZhdWx0U29ydCkge1xuICAgICAgcmV0dXJuIGNsb25lRGVlcCh0aGlzLnByb3BzLmRlZmF1bHRTb3J0KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IG1vZGUgYW5kIGNvbHVtbiBzb3J0IHBhcmFtZXRlclxuICAgKlxuICAgKiBAcGFyYW0gICBjb2x1bW4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29sdW1uIElEXG4gICAqIEByZXR1cm5zIHt7ZmllbGQ6IHtzdHJpbmd9LCBzb3J0OiB7c3RyaW5nfX18e319ICBTb3J0IHBhcmFtZXRlciBhbmQgbW9kZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFNvcnRQYXJhbXM6IGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICBjb25zdCBwYXJhbXMgPSB7Y29sdW1uOiBjb2x1bW59O1xuICAgIGNvbnN0IHNvcnRzID0gdGhpcy5nZXRTb3J0RGlyZWN0aW9uKCk7XG4gICAgbGV0IHNvcnRJbmRleDtcblxuICAgIGlmICghdGhpcy5wcm9wcy5jb2xzW2NvbHVtbl0uc29ydEN5Y2xlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIXNvcnRzKSB7XG4gICAgICBwYXJhbXMuZGlyZWN0aW9uID0gJ2RlZmF1bHQnO1xuICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5tdWx0aXBsZVNvcnRpbmcpIHtcbiAgICAgIHNvcnRJbmRleCA9IGZpbmRJbmRleChzb3J0cywgc29ydCA9PiBzb3J0LmNvbHVtbiA9PT0gcGFyYW1zLmNvbHVtbik7XG5cbiAgICAgIGlmIChzb3J0SW5kZXggPCAwIHx8IHNvcnRJbmRleCA8IHNvcnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgcGFyYW1zLmRpcmVjdGlvbiA9ICdkZWZhdWx0JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmFtcy5kaXJlY3Rpb24gPSBzb3J0c1tzb3J0SW5kZXhdLmRpcmVjdGlvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuXG4gICAgaWYgKHNvcnRzLmNvbHVtbiA9PT0gY29sdW1uKSB7XG4gICAgICBwYXJhbXMuZGlyZWN0aW9uID0gc29ydHMuZGlyZWN0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXMuZGlyZWN0aW9uID0gJ2RlZmF1bHQnO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJhbXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIERvZXMgc29ydGluZyB1c2luZyBwcm9wc1xuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2lzU29ydGluZ1Byb3BzTW9kZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmhhc093blByb3BlcnR5KCdzb3J0Jyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbnZlcnQgc29ydGluZyB0byBhcnJheVxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3RbXXxPYmplY3R9IHNvcnRzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc29ydGluZ1RvQXJyYXk6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0b0FycmF5KHNvcnQpIHtcbiAgICAgIHJldHVybiBbc29ydC5jb2x1bW4sIHNvcnQuZGlyZWN0aW9uXTtcbiAgICB9XG5cbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmdldFNvcnREaXJlY3Rpb24oKTtcbiAgICBpZiAoIWRpcmVjdGlvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMubXVsdGlwbGVTb3J0aW5nKSB7XG4gICAgICBpZiAoIWRpcmVjdGlvbi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGlyZWN0aW9uLm1hcCh0b0FycmF5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gW3RvQXJyYXkoZGlyZWN0aW9uKV07XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRTb3J0aW5nTWl4aW47XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge3RvRW5jb2RlZFN0cmluZywgc2l6ZX0gZnJvbSAnLi4vLi4vY29tbW9uL3V0aWxzJztcbmltcG9ydCB7ZmluZERPTU5vZGV9IGZyb20gJ3JlYWN0LWRvbSc7XG5cbi8qKlxuICogR3JpZCBtaXhpbiwgcmVzcG9uc2libGUgZm9yIHJvdyBzdGF0dXNlcyBwcm9jZXNzaW5nXG4gKi9cbmNvbnN0IEdyaWRTdGF0dXNlc01peGluID0ge1xuXG4gIC8qKlxuICAgKiBBZGQgcmVjb3JkIHN0YXR1c1xuICAgKlxuICAgKiBAcGFyYW0geyp9ICAgIHJlY29yZElkICAgIFJlY29yZCBJRFxuICAgKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgIHN0YXR1cyAgICAgIFJlY29yZCBzdGF0dXNcbiAgICovXG4gIGFkZFJlY29yZFN0YXR1czogZnVuY3Rpb24gKHJlY29yZElkLCBzdGF0dXMpIHtcbiAgICBjb25zdCByb3cgPSB0b0VuY29kZWRTdHJpbmcocmVjb3JkSWQpO1xuXG4gICAgLy8gSWYgbGlzdCBkb2VzIG5vdCBjb250YWluIHRoZSByZWNvcmQsIG1hcmsgaXRzIHN0YXR1cyBhcyBlbXB0eVxuICAgIGlmICghdGhpcy5zdGF0ZS5zdGF0dXNlcy5oYXNPd25Qcm9wZXJ0eShyb3cpKSB7XG4gICAgICB0aGlzLnN0YXRlLnN0YXR1c2VzW3Jvd10gPSB7XG4gICAgICAgIGlkOiByZWNvcmRJZCxcbiAgICAgICAgc3VtOiAwXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuc3RhdHVzZXNbcm93XS5zdW0gfD0gdGhpcy5fZ2V0U3RhdHVzQml0KHN0YXR1cyk7XG5cbiAgICBjb25zdCBlbGVtID0gZmluZERPTU5vZGUodGhpcy5ib2R5KS5xdWVyeVNlbGVjdG9yKGB0cltrZXk9XCIke3Jvd31cIl1gKTtcbiAgICBpZiAoZWxlbSkge1xuICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKHN0YXR1cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXBkYXRlVGFibGUoKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFkZCBzdGF0dXMgdG8gcmVjb3JkcyBncm91cFxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgIHJlY29yZElkcyAgIFJlY29yZCBJRHMgYXJyYXlcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICBzdGF0dXMgICAgICBTdGF0dXNcbiAgICovXG4gIGFkZFJlY29yZFN0YXR1c0dyb3VwOiBmdW5jdGlvbiAocmVjb3JkSWRzLCBzdGF0dXMpIHtcbiAgICBjb25zdCBiaXQgPSB0aGlzLl9nZXRTdGF0dXNCaXQoc3RhdHVzKTtcbiAgICBsZXQgbmVlZFRhYmxlVXBkYXRlO1xuXG4gICAgZm9yIChjb25zdCBpZCBvZiByZWNvcmRJZHMpIHtcbiAgICAgIGNvbnN0IHJvdyA9IHRvRW5jb2RlZFN0cmluZyhpZCk7XG5cbiAgICAgIGlmICghdGhpcy5zdGF0ZS5zdGF0dXNlcy5oYXNPd25Qcm9wZXJ0eShyb3cpKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuc3RhdHVzZXNbcm93XSA9IHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBzdW06IDBcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGF0ZS5zdGF0dXNlc1tyb3ddLnN1bSB8PSBiaXQ7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmRhdGFbcm93XSkge1xuICAgICAgICB0aGlzLl91cGRhdGVSb3cocm93KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIG5lZWRUYWJsZVVwZGF0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG5lZWRUYWJsZVVwZGF0ZSkge1xuICAgICAgdGhpcy51cGRhdGVUYWJsZSgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlIHJlY29yZCBzdGF0dXNcbiAgICpcbiAgICogQHBhcmFtIHsqfSAgICAgICByZWNvcmRJZCAgICBSZWNvcmQgSURcbiAgICogQHBhcmFtIHtzdHJpbmd9ICBzdGF0dXMgICAgICBSZWNvcmQgc3RhdHVzXG4gICAqL1xuICByZW1vdmVSZWNvcmRTdGF0dXM6IGZ1bmN0aW9uIChyZWNvcmRJZCwgc3RhdHVzKSB7XG4gICAgY29uc3QgYml0ID0gdGhpcy5fZ2V0U3RhdHVzQml0KHN0YXR1cyk7XG4gICAgY29uc3Qgcm93SWQgPSB0b0VuY29kZWRTdHJpbmcocmVjb3JkSWQpO1xuXG4gICAgLy8gQ2FuY2VsIG1ldGhvZCBleGVjdXRpb24gaWYgcmVjb3JkIGhhcyBubyBzdGF0dXNlc1xuICAgIGlmICghdGhpcy5zdGF0ZS5zdGF0dXNlc1tyb3dJZF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgc3RhdHVzIGlmIHJlY29yZCBoYXMgaXRcbiAgICBpZiAodGhpcy5zdGF0ZS5zdGF0dXNlc1tyb3dJZF0uc3VtICYgYml0KSB7XG4gICAgICB0aGlzLnN0YXRlLnN0YXR1c2VzW3Jvd0lkXS5zdW0gXj0gYml0O1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLnN0YXR1c2VzW3Jvd0lkXS5zdW0pIHtcbiAgICAgICAgLy8gUmVtb3ZlIHRhYmxlIHJlY29yZCBpZiBpdCdzIGV4dHJhXG4gICAgICAgIGlmICghdGhpcy5faXNNYWluUm93KHJvd0lkKSkge1xuICAgICAgICAgIHRoaXMuX3JlbW92ZVJlY29yZChyb3dJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuc3RhdGUuc3RhdHVzZXNbcm93SWRdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBlbGVtZW50J3MgY2xhc3NcbiAgICBjb25zdCBlbGVtID0gZmluZERPTU5vZGUodGhpcy5ib2R5KS5xdWVyeVNlbGVjdG9yKGB0cltrZXk9XCIke3Jvd0lkfVwiXWApO1xuICAgIGlmIChlbGVtKSB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoc3RhdHVzKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIHJlY29yZCBzdGF0dXMgcHJlc2VuY2VcbiAgICpcbiAgICogQHBhcmFtICAgeyp9ICAgICAgIHJlY29yZElkICAgIFJlY29yZCBJRFxuICAgKiBAcGFyYW0gICB7bnVtYmVyfSAgc3RhdHVzICAgICAgUmVjb3JkIHN0YXR1c1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmVjb3JkIGhhcyBzdGF0dXMgZmxhZ1xuICAgKi9cbiAgaGFzUmVjb3JkU3RhdHVzOiBmdW5jdGlvbiAocmVjb3JkSWQsIHN0YXR1cykge1xuICAgIGNvbnN0IHJvdyA9IHRvRW5jb2RlZFN0cmluZyhyZWNvcmRJZCk7XG4gICAgaWYgKHRoaXMuc3RhdGUuc3RhdHVzZXNbcm93XSkge1xuICAgICAgcmV0dXJuICh0aGlzLnN0YXRlLnN0YXR1c2VzW3Jvd10uc3VtICYgdGhpcy5fZ2V0U3RhdHVzQml0KHN0YXR1cykpID4gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHJlY29yZCBJRHMgdGhhdCBoYXZlIHRoZSBzdGF0dXNcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9ICBzdGF0dXMgIFN0YXR1c1xuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJlY29yZCBJRHMgYXJyYXlcbiAgICovXG4gIGdldEFsbFdpdGhTdGF0dXM6IGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICBsZXQgaTtcbiAgICBjb25zdCByZWNvcmRzID0gW107XG4gICAgY29uc3QgYml0ID0gdGhpcy5fZ2V0U3RhdHVzQml0KHN0YXR1cyk7XG5cbiAgICBmb3IgKGkgaW4gdGhpcy5zdGF0ZS5zdGF0dXNlcykge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuc3RhdHVzZXNbaV0uc3VtICYgYml0KSB7XG4gICAgICAgIHJlY29yZHMucHVzaCh0aGlzLnN0YXRlLnN0YXR1c2VzW2ldLmlkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlY29yZHM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZSByZWNvcmRzIHN0YXR1c1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gICAgICBzdGF0dXMgIFN0YXR1c1xuICAgKi9cbiAgcmVtb3ZlUmVjb3JkU3RhdHVzQWxsOiBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgYml0ID0gdGhpcy5fZ2V0U3RhdHVzQml0KHN0YXR1cyk7XG5cbiAgICBmb3IgKGkgaW4gdGhpcy5zdGF0ZS5zdGF0dXNlcykge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuc3RhdHVzZXNbaV0uc3VtICYgYml0KSB7XG4gICAgICAgIHRoaXMuc3RhdGUuc3RhdHVzZXNbaV0uc3VtIF49IGJpdDtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5zdGF0ZS5zdGF0dXNlc1tpXS5zdW0pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc01haW5Sb3coaSkgJiYgIXRoaXMuX2lzQ2hhbmdlZChpKSkge1xuICAgICAgICAgIHRoaXMuX3JlbW92ZVJlY29yZChpKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5zdGF0ZS5zdGF0dXNlc1tpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZWxlbSA9IGZpbmRET01Ob2RlKHRoaXMuYm9keSkucXVlcnlTZWxlY3RvcihgLmRncmlkLWJvZHkgdHIuJHtzdGF0dXN9YCk7XG4gICAgaWYgKGVsZW0pIHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShzdGF0dXMpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IGFsbCBzdGF0dXMgbmFtZXMgdGhhdCBhcmUgYXBwbGllZCB0byB0aGUgcm93XG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICAgIHJvdyAgICBSb3cgSURcbiAgICogQHJldHVybiAge0FycmF5fSAgU3RhdHVzIG5hbWVzIGFycmF5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0Um93U3RhdHVzTmFtZXM6IGZ1bmN0aW9uIChyb3cpIHtcbiAgICBjb25zdCBuYW1lcyA9IFtdO1xuICAgIGNvbnN0IHN0YXR1c2VzID0gdGhpcy5zdGF0ZS5zdGF0dXNlc1tyb3ddICYmIHRoaXMuc3RhdGUuc3RhdHVzZXNbcm93XS5zdW07XG5cbiAgICBpZiAoIXN0YXR1c2VzKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuc3RhdGUuc3RhdHVzTWFwKSB7XG4gICAgICBpZiAoc3RhdHVzZXMgJiB0aGlzLnN0YXRlLnN0YXR1c01hcFtpXSkge1xuICAgICAgICBuYW1lcy5wdXNoKGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuYW1lcztcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHN0YXR1cyBhcyBhIGJpdCB1c2luZyBpdHMgdGV4dCBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSAgICAgICB7c3RyaW5nfSAgICBzdGF0dXNOYW1lICBTdGF0dXMgbmFtZVxuICAgKiBAcmV0dXJuICAgICAge251bWJlcn0gICAgQml0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0U3RhdHVzQml0OiBmdW5jdGlvbiAoc3RhdHVzTmFtZSkge1xuICAgIGxldCBzdGF0dXM7XG4gICAgbGV0IG9mZnNldDtcblxuICAgIGlmICh0aGlzLnN0YXRlLnN0YXR1c01hcC5oYXNPd25Qcm9wZXJ0eShzdGF0dXNOYW1lKSkge1xuICAgICAgc3RhdHVzID0gdGhpcy5zdGF0ZS5zdGF0dXNNYXBbc3RhdHVzTmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRPRE8gb2Zmc2V0IHN0b3JlZCBpbiB0aGUgc3RhdGUsIEkgcmVtb3ZlIHRoZSB1dGlscy5zaXplXG4gICAgICBvZmZzZXQgPSBzaXplKHRoaXMuc3RhdGUuc3RhdHVzTWFwKTtcbiAgICAgIGlmIChvZmZzZXQgPiAzMCkge1xuICAgICAgICB0aHJvdyBFcnJvcignU3RhdHVzIHF1YW50aXR5IGV4Y2VlZHMgMzAnKTtcbiAgICAgIH1cbiAgICAgIHN0YXR1cyA9IHRoaXMuc3RhdGUuc3RhdHVzTWFwW3N0YXR1c05hbWVdID0gMSA8PCBvZmZzZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXR1cztcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHJlY29yZCBJRHMgdGhhdCBoYXZlIGEgc3RhdHVzXG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFJlY29yZHNXaXRoU3RhdHVzOiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgaWRzID0gW107XG4gICAgbGV0IGk7XG5cbiAgICBmb3IgKGkgaW4gdGhpcy5zdGF0ZS5zdGF0dXNlcykge1xuICAgICAgaWRzLnB1c2godGhpcy5zdGF0ZS5zdGF0dXNlc1tpXS5pZCk7XG4gICAgfVxuICAgIHJldHVybiBpZHM7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRTdGF0dXNlc01peGluO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHRvUHJvbWlzZSBmcm9tICcuLi8uLi9jb21tb24vdG9Qcm9taXNlJztcbmltcG9ydCB7cGFyZW50cywgcGljaywgZXNjYXBlLCBsYXN0LCBpc0RlZmluZWQsIHBhaXJzfSBmcm9tICcuLi8uLi9jb21tb24vdXRpbHMnO1xuaW1wb3J0IHtmaW5kRE9NTm9kZX0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVGhyb3R0bGVFcnJvciBmcm9tICcuLi8uLi9jb21tb24vVGhyb3R0bGVFcnJvcic7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxuY29uc3QgR3JpZFVJTWl4aW4gPSB7XG4gIC8qKlxuICAgKiBUYWJsZSBjb250ZW50IGNsaWNrIGV2ZW50IGhhbmRsZXJcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICovXG4gIF9oYW5kbGVCb2R5Q2xpY2soZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3QgcmVmUGFyZW50ID0gcGFyZW50cyh0YXJnZXQsICdbcmVmXScpWzBdO1xuXG4gICAgbGV0IGVsZW1lbnQ7XG5cbiAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZGdyaWQtY2VsbCcpKSB7XG4gICAgICBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50ID0gcGFyZW50cyh0YXJnZXQsICd0ZC5kZ3JpZC1jZWxsJylbMF07XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgZWxlbWVudFxuICAgICAgJiYgIShyZWZQYXJlbnQgJiYgcmVmUGFyZW50Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSlcbiAgICApIHtcbiAgICAgIHRoaXMuX2hhbmRsZUNlbGxDbGljayhldmVudCwgZWxlbWVudCwgKHJlZlBhcmVudCB8fCBldmVudC50YXJnZXQpLmdldEF0dHJpYnV0ZSgncmVmJykpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ2VsbCBjbGljayBoYW5kbGVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9ICAgICAgICAgICBldmVudCAgICAgICBFdmVudCBvYmplY3RcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gICAgIGVsZW1lbnQgICAgIENlbGwgRE9NIGVsZW1lbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgIHJlZiAgICAgICAgIENsaWNrIGhhbmRsZXIgbmFtZSBpbiB0aGUgdGFibGUgY29uZmlndXJhdGlvblxuICAgKi9cbiAgX2hhbmRsZUNlbGxDbGljayhldmVudCwgZWxlbWVudCwgcmVmKSB7XG4gICAgY29uc3QgY29sSWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgna2V5Jyk7XG4gICAgY29uc3Qgcm93ID0gZWxlbWVudC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgna2V5Jyk7XG4gICAgY29uc3QgY29sdW1uQ29uZmlnID0gdGhpcy5wcm9wcy5jb2xzW2NvbElkXTtcbiAgICBjb25zdCByZWNvcmRJZCA9IHRoaXMuc3RhdGUucmVjb3Jkc0luZm9bcm93XS5pZDtcbiAgICBjb25zdCByZWNvcmQgPSB0aGlzLl9nZXRSZWNvcmRXaXRoQ2hhbmdlcyhyb3cpO1xuXG4gICAgLy8gVHJpZ2dlciBjbGljayBoYW5kbGVyIG9uIHRoZSB0YWJsZSBjb25maWd1cmF0aW9uXG4gICAgaWYgKHJlZikge1xuICAgICAgY29sdW1uQ29uZmlnLm9uQ2xpY2tSZWZzW3JlZl0oZXZlbnQsIHJlY29yZElkLCByZWNvcmQsIHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoY29sdW1uQ29uZmlnLm9uQ2xpY2spIHtcbiAgICAgIGNvbHVtbkNvbmZpZy5vbkNsaWNrKGV2ZW50LCByZWNvcmRJZCwgcmVjb3JkLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBPcGVuIGNlbGwgZWRpdG9yXG4gICAgaWYgKHRoaXMucHJvcHMuY29sc1tjb2xJZF0uZWRpdG9yKSB7XG4gICAgICB0aGlzLl9yZW5kZXJFZGl0b3IoZWxlbWVudCwgcm93LCBjb2xJZCk7XG4gICAgfVxuICB9LFxuXG4gIC8vIFRPRE8gRGVwcmVjYXRlZFxuICBfaGFuZGxlSGVhZGVyQ2VsbENsaWNrKGNvbCwgZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3QgcmVmUGFyZW50ID0gcGFyZW50cyh0YXJnZXQsICdbcmVmXScpWzBdO1xuICAgIGNvbnN0IHJlZiA9IChyZWZQYXJlbnQgfHwgdGFyZ2V0KS5nZXRBdHRyaWJ1dGUoJ3JlZicpO1xuICAgIGxldCBoYW5kbGVyO1xuXG4gICAgaWYgKHJlZiAmJiBjb2wub25DbGlja1JlZnMpIHtcbiAgICAgIGhhbmRsZXIgPSBjb2wub25DbGlja1JlZnNbcmVmXTtcbiAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVyKGV2ZW50LCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29sLm9uQ2xpY2spIHtcbiAgICAgIGNvbC5vbkNsaWNrKGV2ZW50LCB0aGlzKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZldGNoIHNlcnZlciBkYXRhXG4gICAqL1xuICB1cGRhdGVUYWJsZTogYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dMb2FkZXI6IHRydWV9KTtcblxuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXdDb3VudCA9IHRoaXMuZ2V0Vmlld0NvdW50KCk7XG5cbiAgICBsZXQgb2JqO1xuICAgIHRyeSB7XG4gICAgICBvYmogPSBhd2FpdCB0aGlzLl9sb2FkRGF0YSh7XG4gICAgICAgIGxpbWl0OiB2aWV3Q291bnQsXG4gICAgICAgIG9mZnNldDogdGhpcy5zdGF0ZS5wYWdlICogdmlld0NvdW50LFxuICAgICAgICBzb3J0OiB0aGlzLl9zb3J0aW5nVG9BcnJheSgpLFxuICAgICAgICBmaWVsZHM6IHRoaXMuX2dldEZpZWxkc1RvUmVuZGVyKCksXG4gICAgICAgIGV4dHJhOiB0aGlzLl9nZXRBZGRpdGlvbmFsSWRzKClcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBUaHJvdHRsZUVycm9yKSkge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5faXNNb3VudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2V0Vmlld0NvdW50KCkgJiYgIW9iai5oYXNPd25Qcm9wZXJ0eSgnY291bnQnKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmNvcnJlY3QgcmVzcG9uc2UgZnJvbSBHcmlkTW9kZWwuIFwicmVzcG9uc2UuY291bnRcIiBub3QgZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIC8vIElmIHJlcXVpcmVkIHBhZ2UgaXMgbm90IGluY2x1ZGVkIGluIHRoZSByYW5nZSBvZiBleGlzdGluZyBwYWdlcyxcbiAgICAvLyByZXF1ZXN0IGV4aXN0aW5nIGluIGEgbW9tZW50IHBhZ2VcbiAgICBjb25zdCBwYWdlID0gdGhpcy5fY2hlY2tQYWdlKHRoaXMuc3RhdGUucGFnZSwgdGhpcy5nZXRWaWV3Q291bnQoKSwgb2JqLmNvdW50KTtcbiAgICBpZiAocGFnZSAhPT0gdGhpcy5zdGF0ZS5wYWdlKSB7XG4gICAgICB0aGlzLnN0YXRlLnBhZ2UgPSBwYWdlO1xuICAgICAgdGhpcy51cGRhdGVUYWJsZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9kYXRhQXJyYXlUb09iamVjdChvYmoucmVjb3Jkcyk7XG4gICAgY29uc3QgZXh0cmEgPSB0aGlzLl9kYXRhQXJyYXlUb09iamVjdChvYmouZXh0cmFSZWNvcmRzIHx8IFtdKTtcbiAgICBjb25zdCByZWNvcmRJZHMgPSBPYmplY3Qua2V5cyhkYXRhLnJlY29yZHMpLmNvbmNhdChPYmplY3Qua2V5cyhleHRyYS5yZWNvcmRzKSk7XG5cbiAgICBhd2FpdCB0b1Byb21pc2UodGhpcy5zZXRTdGF0ZS5iaW5kKHRoaXMpLCB0cnVlKSh7XG4gICAgICBkYXRhOiBPYmplY3QuYXNzaWduKHt9LCBkYXRhLnJlY29yZHMsIGV4dHJhLnJlY29yZHMpLFxuICAgICAgbWFpbklkczogT2JqZWN0LmtleXMoZGF0YS5yZWNvcmRzKSxcbiAgICAgIGNvdW50OiBvYmouY291bnQsXG4gICAgICB0b3RhbHM6IG9iai50b3RhbHMsXG4gICAgICByZWNvcmRzSW5mbzogT2JqZWN0LmFzc2lnbih7fSwgZXh0cmEuaW5mbywgZGF0YS5pbmZvKSxcbiAgICAgIGVycm9yczogcGljayh0aGlzLnN0YXRlLmVycm9ycywgcmVjb3JkSWRzKSxcbiAgICAgIGNoYW5nZXM6IHBpY2sodGhpcy5zdGF0ZS5jaGFuZ2VzLCByZWNvcmRJZHMpLFxuICAgICAgc3RhdHVzZXM6IHBpY2sodGhpcy5zdGF0ZS5zdGF0dXNlcywgcmVjb3JkSWRzKVxuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVuZGVyQm9keSgpO1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dMb2FkZXI6IGZhbHNlfSk7XG4gIH0sXG5cbiAgX2dldEhlYWRlckNlbGxIVE1MKGNvbHVtbk5hbWUpIHtcbiAgICBjb25zdCBjZWxsSHRtbCA9IHR5cGVvZiBjb2x1bW5OYW1lID09PSAnZnVuY3Rpb24nID8gY29sdW1uTmFtZSh0aGlzKSA6IGNvbHVtbk5hbWU7XG4gICAgaWYgKGNlbGxIdG1sID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGNlbGxIdG1sO1xuICB9LFxuXG4gIF9lc2NhcGVSZWNvcmQoY29sdW1uSWQsIHJlY29yZCkge1xuICAgIGxldCBmaWVsZDtcbiAgICBsZXQgdHlwZTtcbiAgICBsZXQgaTtcbiAgICBjb25zdCBlc2NhcGVkUmVjb3JkID0ge307XG4gICAgY29uc3QgY29sdW1uID0gdGhpcy5wcm9wcy5jb2xzW2NvbHVtbklkXTtcbiAgICBjb25zdCBuZWVkRXNjYXBpbmcgPSAhY29sdW1uLmhhc093blByb3BlcnR5KCdlc2NhcGUnKSB8fCBjb2x1bW4uZXNjYXBlO1xuICAgIGNvbnN0IGZpZWxkcyA9IGNvbHVtbi5yZW5kZXIuc2xpY2UoMCwgLTEpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgZmllbGQgPSBmaWVsZHNbaV07XG4gICAgICB0eXBlID0gdHlwZW9mIHJlY29yZFtmaWVsZF07XG5cbiAgICAgIGlmIChuZWVkRXNjYXBpbmcpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgZXNjYXBlZFJlY29yZFtmaWVsZF0gPSBlc2NhcGUocmVjb3JkW2ZpZWxkXSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSA9PT0gJ29iamVjdCcgJiYgcmVjb3JkW2ZpZWxkXSAmJiAhdGhpcy5zdGF0ZS5jb2xzV2l0aEVzY2FwZUVycm9yc1tjb2x1bW5JZF0pIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmNvbHNXaXRoRXNjYXBlRXJyb3JzW2NvbHVtbklkXSA9IHRydWU7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIGBVSUtlcm5lbC5HcmlkIHdhcm5pbmc6IGAgK1xuICAgICAgICAgICAgYFlvdSBzZW5kIHJlY29yZCB3aXRoIGZpZWxkcyBvZiBPYmplY3QgdHlwZSBpbiBlc2NhcGVkIGNvbHVtbiBcIiR7Y29sdW1uSWR9XCIuIGAgK1xuICAgICAgICAgICAgYFRvIHVzZSBPYmplY3RzLCBzZXQgY29sdW1uIGNvbmZpZyBcImVzY2FwZVwiIHRvIGZhbHNlLCBgICtcbiAgICAgICAgICAgIGBhbmQgZXNjYXBlIFwiJHtjb2x1bW5JZH1cIiBmaWVsZCBpbiByZW5kZXIgZnVuY3Rpb24gYnkgeW91cnNlbGZgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBlc2NhcGVkUmVjb3JkW2ZpZWxkXSA9IHJlY29yZFtmaWVsZF07XG4gICAgfVxuXG4gICAgcmV0dXJuIGVzY2FwZWRSZWNvcmQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0YWJsZSBjZWxsIEhUTUxcbiAgICpcbiAgICogQHBhcmFtICAge251bWJlcn0gICBjb2x1bW5JZCAgICAgICBDb2x1bW4gSURcbiAgICogQHBhcmFtICAge09iamVjdH0gICByZWNvcmQgICAgICAgICBUYWJsZSByZWNvcmQgKGluaXRpYWwgcmVjb3JkICsgY2hhbmdlcylcbiAgICogQHBhcmFtICAge2Jvb2xlYW59ICBzZWxlY3RlZCAgICAgICBcIlNlbGVjdGVkXCIgcm93IHN0YXR1c1xuICAgKiBAcGFyYW0gICB7T2JqZWN0fSAgIGluaXRpYWxSZWNvcmQgIEluaXRpYWwgcmVjb3JkXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9ICAgVGFibGUgY2VsbCBIVE1MXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0Q2VsbEhUTUwoY29sdW1uSWQsIHJlY29yZCwgc2VsZWN0ZWQsIGluaXRpYWxSZWNvcmQpIHtcbiAgICBjb25zdCByZW5kZXIgPSBsYXN0KHRoaXMucHJvcHMuY29sc1tjb2x1bW5JZF0ucmVuZGVyKTtcbiAgICBjb25zdCBjZWxsSHRtbCA9IHJlbmRlcihcbiAgICAgIHRoaXMuX2VzY2FwZVJlY29yZChjb2x1bW5JZCwgcmVjb3JkKSxcbiAgICAgIHNlbGVjdGVkLFxuICAgICAgdGhpcy5fZXNjYXBlUmVjb3JkKGNvbHVtbklkLCBpbml0aWFsUmVjb3JkKVxuICAgICk7XG4gICAgcmV0dXJuIGAke2lzRGVmaW5lZChjZWxsSHRtbCkgPyBjZWxsSHRtbCA6ICcnfWA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0YWJsZSByb3cgSFRNTFxuICAgKlxuICAgKiBAcGFyYW0gICAgICAge251bWJlcn0gICAgcm93SWQgICAgICAgICBSb3cgSURcbiAgICogQHBhcmFtICAgICAgIHtzdHJpbmd9ICAgIGNsYXNzTmFtZSAgIDxUUj4gY2xhc3MgYXR0cmlidXRlXG4gICAqIEByZXR1cm5zICAgICB7c3RyaW5nfSAgICBUYWJsZSByb3cgSFRNTFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFJvd0hUTUwocm93SWQsIGNsYXNzTmFtZSkge1xuICAgIGxldCBjb2xJZDtcbiAgICBjb25zdCByZWNvcmQgPSB0aGlzLl9nZXRSZWNvcmRXaXRoQ2hhbmdlcyhyb3dJZCk7XG4gICAgY29uc3QgaW5pdGlhbFJlY29yZCA9IHRoaXMuc3RhdGUuZGF0YVtyb3dJZF0gfHwgbnVsbDtcbiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuaXNTZWxlY3RlZCh0aGlzLnN0YXRlLnJlY29yZHNJbmZvW3Jvd0lkXS5pZCk7XG4gICAgY29uc3QgZ3JpZFJvd0NsYXNzID0gY2xhc3NOYW1lcyhcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIHRoaXMuX2dldFJvd1N0YXR1c05hbWVzKHJvd0lkKS5qb2luKCcgJyksXG4gICAgICB7J2RncmlkX19yb3dfc2VsZWN0ZWQnOiBzZWxlY3RlZH1cbiAgICApO1xuICAgIGxldCBodG1sID0gYDx0ciBrZXk9XCIke3Jvd0lkfVwiIGNsYXNzPVwiJHtncmlkUm93Q2xhc3N9XCI+YDtcbiAgICBmb3IgKGNvbElkIG9mIE9iamVjdC5rZXlzKHRoaXMucHJvcHMuY29scykpIHtcbiAgICAgIGlmICh0aGlzLl9pc1ZpZXdDb2x1bW4oY29sSWQpKSB7XG4gICAgICAgIGNvbnN0IGdyaWRDZWxsQ2xhc3MgPSBjbGFzc05hbWVzKHRoaXMuX2dldENvbHVtbkNsYXNzKGNvbElkKSwge1xuICAgICAgICAgICdkZ3JpZC1jZWxsJzogdHJ1ZSxcbiAgICAgICAgICAnZGdyaWQtY2hhbmdlZCc6IHRoaXMuX2lzQ2hhbmdlZChyb3dJZCwgdGhpcy5fZ2V0QmluZFBhcmFtKGNvbElkKSksXG4gICAgICAgICAgJ2RncmlkLWVycm9yJzogdGhpcy5faGFzRXJyb3Iocm93SWQsIHRoaXMuX2dldEJpbmRQYXJhbShjb2xJZCkpLFxuICAgICAgICAgICdkZ3JpZC13YXJuaW5nJzogdGhpcy5faGFzV2FybmluZyhyb3dJZCwgdGhpcy5fZ2V0QmluZFBhcmFtKGNvbElkKSlcbiAgICAgICAgfSk7XG4gICAgICAgIGh0bWwgKz0gYFxuICAgICAgICAgIDx0ZCBrZXk9XCIke2NvbElkfVwiIGNsYXNzPVwiJHtncmlkQ2VsbENsYXNzfVwiPlxuICAgICAgICAgICAgJHt0aGlzLl9nZXRDZWxsSFRNTChjb2xJZCwgcmVjb3JkLCBzZWxlY3RlZCwgaW5pdGlhbFJlY29yZCl9XG4gICAgICAgICAgPC90ZD5gO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYCR7aHRtbH08L3RyPmA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlZHJhdyB0YWJsZSBjb250ZW50IHRvdGFsbHlcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW5kZXJCb2R5KCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5kYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGk7XG4gICAgbGV0IHJvdztcbiAgICBsZXQgaHRtbEV4dHJhID0gJyc7XG4gICAgbGV0IGh0bWxCb2R5ID0gJyc7XG4gICAgY29uc3Qgc29ydGVkID0gcGFpcnModGhpcy5zdGF0ZS5yZWNvcmRzSW5mbykuc29ydCgoYSwgYikgPT4gYVsxXS5pbmRleCAtIGJbMV0uaW5kZXgpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNvcnRlZC5sZW5ndGg7IGkrKykge1xuICAgICAgcm93ID0gc29ydGVkW2ldWzBdO1xuICAgICAgaWYgKHRoaXMuX2lzTWFpblJvdyhyb3cpKSB7XG4gICAgICAgIGh0bWxCb2R5ICs9IHRoaXMuX2dldFJvd0hUTUwocm93KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5faXNDaGFuZ2VkKHJvdykgfHwgdGhpcy5fZ2V0Um93U3RhdHVzTmFtZXMocm93KS5sZW5ndGgpIHtcbiAgICAgICAgaHRtbEV4dHJhICs9IHRoaXMuX2dldFJvd0hUTUwocm93LCAnb3RoZXJzJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50Qm9keS5pbm5lckhUTUwgPSBodG1sRXh0cmEgKyBodG1sQm9keTtcbiAgfSxcblxuICAvKipcbiAgICogRGlzcGxheSBtb2RlbCBjaGFuZ2VzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByb3cgICAgICBSb3cgSURcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtICAgIE1vZGVsIHBhcmFtZXRlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlckJpbmRzKHJvdywgcGFyYW0pIHtcbiAgICAvLyBJZiBwYXJhbWV0ZXIgZG9lcyBub3QgYWZmZWN0IG9uIHRoZSByZWRyYXcsIGRvIG5vdGhpbmdcbiAgICBpZiAoIXRoaXMuX2lzRmllbGRBZmZlY3RzUmVuZGVyKHBhcmFtKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5pc1NlbGVjdGVkKHRoaXMuc3RhdGUucmVjb3Jkc0luZm9bcm93XS5pZCk7XG5cbiAgICAvLyBVcGRhdGUgY29sdW1uIGRlcGVuZGVuY2llc1xuICAgIGZvciAoY29uc3QgY29sdW1uIG9mIHRoaXMuX2dldERlcGVuZGVudENvbHVtbnMocGFyYW0pKSB7XG4gICAgICBpZiAodGhpcy5faXNWaWV3Q29sdW1uKGNvbHVtbikgJiYgIXRoaXMuX2lzRWRpdG9yVmlzaWJsZShyb3csIGNvbHVtbikpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyQ2VsbChyb3csIGNvbHVtbiwgc2VsZWN0ZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBfcmVtb3ZlVFIocm93SWQpIHtcbiAgICBmaW5kRE9NTm9kZSh0aGlzLmJvZHkpLnJlbW92ZVJvdyhyb3dJZCk7XG4gIH0sXG5cbiAgX3JlbmRlclRvdGFscyhpc1Njcm9sbGFibGUpIHtcbiAgICBsZXQgdG90YWxzRGlzcGxheWVkID0gZmFsc2U7XG4gICAgbGV0IGk7XG4gICAgbGV0IGNsYXNzTmFtZTtcbiAgICBsZXQgdG90YWxzUm93SFRNTCA9ICcnO1xuICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuX2Zvcm1IZWFkZXIoKTtcblxuICAgIC8vIElmIGRhdGEgZm9yIHJlc3VsdCBsaW5lIGRpc3BsYXkgZXhpc3RzLCBmb3JtIGl0XG4gICAgaWYgKHRoaXMuc3RhdGUudG90YWxzKSB7XG4gICAgICBmb3IgKGkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wcy5jb2xzKSkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzVmlld0NvbHVtbihpKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy5jb2xzW2ldLmNsYXNzTmFtZTtcbiAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICAgIHRvdGFsc1Jvd0hUTUwgKz0gYDx0ZCBjbGFzcz1cIiR7Y2xhc3NOYW1lfVwiPmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG90YWxzUm93SFRNTCArPSAnPHRkPic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdGF0ZS50b3RhbHMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICB0b3RhbHNSb3dIVE1MICs9IHRoaXMuX2dldENlbGxIVE1MKGksIHRoaXMuc3RhdGUudG90YWxzLCBmYWxzZSwgdGhpcy5zdGF0ZS50b3RhbHMpO1xuICAgICAgICAgIHRvdGFsc0Rpc3BsYXllZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0b3RhbHNSb3dIVE1MICs9ICc8L3RkPic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0b3RhbHNEaXNwbGF5ZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChpc1Njcm9sbGFibGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDx0YWJsZSBjZWxsU3BhY2luZz1cIjBcIiBjbGFzc05hbWU9XCJkZ3JpZC10b3RhbHNcIj5cbiAgICAgICAgICA8Y29sZ3JvdXA+e2hlYWRlci5jb2xHcm91cH08L2NvbGdyb3VwPlxuICAgICAgICAgIDx0ciBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogdG90YWxzUm93SFRNTH19Lz5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDx0Zm9vdCBjbGFzc05hbWU9XCJkZ3JpZC10b3RhbHNcIj5cbiAgICAgICAgPHRyIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiB0b3RhbHNSb3dIVE1MfX0vPlxuICAgICAgPC90Zm9vdD5cbiAgICApO1xuICB9LFxuXG4gIF9yZW5kZXJDZWxsKHJvd0lkLCBjb2x1bW4sIGlzU2VsZWN0ZWQpIHtcbiAgICBjb25zdCBjZWxsID0gZmluZERPTU5vZGUodGhpcy5ib2R5KS5xdWVyeVNlbGVjdG9yKGB0cltrZXk9XCIke3Jvd0lkfVwiXSB0ZFtrZXk9JHtjb2x1bW59XWApO1xuICAgIGNvbnN0IGluaXRpYWxSZWNvcmQgPSB0aGlzLnN0YXRlLmRhdGFbcm93SWRdIHx8IG51bGw7XG5cbiAgICBjb25zdCBjZWxsSFRNTCA9IHRoaXMuX2dldENlbGxIVE1MKGNvbHVtbiwgdGhpcy5fZ2V0UmVjb3JkV2l0aENoYW5nZXMocm93SWQpLCBpc1NlbGVjdGVkLCBpbml0aWFsUmVjb3JkKTtcblxuICAgIHRyeSB7XG4gICAgICBjZWxsLmlubmVySFRNTCA9IGNlbGxIVE1MO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFNvbWV0aW1lcyBpdCBpcyBwb3NzaWJsZSBhIHNpdHVhdGlvbiB3aGVuIHJlcmVuZGVyaW5nIG9mIHRoZSBjZWxsIGlzIGNhbGxlZCBpbiB0aGUgbWlkZGxlIG9mIHBlcmZvcm1pbmcgb2YgYW5cbiAgICAgIC8vIGV2ZW50IGluIHRoYXQgY2VsbCB3aGljaCBtYXkgY2F1c2UgYW4gZXJyb3IgbGlrZSBcIkRPTUV4Y2VwdGlvbjogVGhlIG5vZGUgdG8gYmUgcmVtb3ZlZCBpcyBubyBsb25nZXIgYSBjaGlsZFxuICAgICAgLy8gb2YgdGhpcyBub2RlXCIsIHNvIGp1c3QgaWdub3JlIGl0XG4gICAgfVxuXG4gICAgY2VsbC5jbGFzc0xpc3QucmVtb3ZlKCdkZ3JpZC1jaGFuZ2VkJywgJ2RncmlkLWVycm9yJywgJ2RncmlkLXdhcm5pbmcnKTtcbiAgICBjb25zdCBjZWxsQ2xhc3NMaXN0ID0gW107XG4gICAgaWYgKHRoaXMuX2lzQ2hhbmdlZChyb3dJZCwgdGhpcy5fZ2V0QmluZFBhcmFtKGNvbHVtbikpKSB7XG4gICAgICBjZWxsQ2xhc3NMaXN0LnB1c2goJ2RncmlkLWNoYW5nZWQnKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2hhc0Vycm9yKHJvd0lkLCB0aGlzLl9nZXRCaW5kUGFyYW0oY29sdW1uKSkpIHtcbiAgICAgIGNlbGxDbGFzc0xpc3QucHVzaCgnZGdyaWQtZXJyb3InKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2hhc1dhcm5pbmcocm93SWQsIHRoaXMuX2dldEJpbmRQYXJhbShjb2x1bW4pKSkge1xuICAgICAgY2VsbENsYXNzTGlzdC5wdXNoKCdkZ3JpZC13YXJuaW5nJyk7XG4gICAgfVxuICAgIGNlbGwuY2xhc3NMaXN0LmFkZCguLi5jZWxsQ2xhc3NMaXN0KTtcbiAgfSxcblxuICBhc3luYyBfdXBkYXRlUm93KHJvdykge1xuICAgIGlmICghdGhpcy5zdGF0ZS5kYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUuZGF0YVtyb3ddKSB7XG4gICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuaXNTZWxlY3RlZCh0aGlzLnN0YXRlLnJlY29yZHNJbmZvW3Jvd10uaWQpO1xuICAgICAgY29uc3Qgdmlld0NvbHVtbnMgPSBPYmplY3Qua2V5cyh0aGlzLnByb3BzLmNvbHMpLmZpbHRlcih0aGlzLl9pc1ZpZXdDb2x1bW4pO1xuXG4gICAgICBmb3IgKGNvbnN0IHZpZXdDb2x1bW4gb2Ygdmlld0NvbHVtbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0VkaXRvclZpc2libGUocm93LCB2aWV3Q29sdW1uKSkge1xuICAgICAgICAgIHRoaXMuX3JlbmRlckNlbGwocm93LCB2aWV3Q29sdW1uLCBzZWxlY3RlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgdGhpcy51cGRhdGVUYWJsZSgpOyAvLyBUT0RPIENoZWNrIGlzIGl0IG5lZWRcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRVSU1peGluO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IFZhbGlkYXRpb25FcnJvcnMgZnJvbSAnLi4vLi4vY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdGlvbkVycm9ycyc7XG5pbXBvcnQgRXZlbnRzTW9kZWwgZnJvbSAnLi4vLi4vY29tbW9uL0V2ZW50cyc7XG5cbi8qKlxuICogR3JpZCBtb2RlbCBhYnN0cmFjdGlvblxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgRXZlbnRzTW9kZWxcbiAqL1xuY2xhc3MgQWJzdHJhY3RHcmlkTW9kZWwgZXh0ZW5kcyBFdmVudHNNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgcmVjb3JkXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHJlY29yZCAgUmVjb3JkIG9iamVjdFxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGNyZWF0ZSgvKnJlY29yZCovKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCByZWNvcmRzIGxpc3RcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgc2V0dGluZ3MgICAgICAgICAgICAgICAgUmVxdWVzdFxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICBzZXR0aW5ncy5maWVsZHMgICAgICAgICBGaWVsZHNcbiAgICogQHBhcmFtIHtudW1iZXJ9ICAgICAgW3NldHRpbmdzLmxpbWl0XSAgICAgICAgTGltaXRcbiAgICogQHBhcmFtIHtudW1iZXJ9ICAgICAgW3NldHRpbmdzLm9mZnNldF0gICAgICAgT2Zmc2V0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIFtzZXR0aW5ncy5maWx0ZXJzXSAgICAgIEZpbHRlciB2YWx1ZXMgb2JqZWN0XG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgICAgIFtzZXR0aW5ncy5zb3J0XSAgICAgICAgIFNvcnQgcGFyYW1ldGVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICBbc2V0dGluZ3MuZXh0cmFdICAgICAgICBSZWNvcmQgSURzLCB3ZSBuZWVkIHRvIGdldCBmb3Igc3VyZVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHJlYWQoLypzZXR0aW5ncyovKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICByZWNvcmRzOiBbXSwgLy8gUHJpbWFyeSByZWNvcmRzXG4gICAgICBpZHM6IFtdLCAvLyBFeHRyYSByZWNvcmRzXG4gICAgICBleHRyYVJlY29yZHM6IDAgLy8gSW4gYWxsIHJlY29yZHMgY291bnRcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHBhcnRpY3VsYXIgcmVjb3JkXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gICAgICAgICBpZCAgICAgIFJlY29yZCBJRFxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgZmllbGRzICBSZXF1aXJlZCBmaWVsZHNcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBnZXRSZWNvcmQoLyppZCwgZmllbGRzKi8pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgcmVjb3JkIGNoYW5nZXNcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gICAgICAgY2hhbmdlcyAgICAgQ2hhbmdlcyBhcnJheVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHVwZGF0ZSgvKmNoYW5nZXMqLykge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRpb24gY2hlY2tcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgcmVjb3JkXG4gICAqIEBwYXJhbSB7KnxudWxsfSAgICAgIHJlY29yZElkXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgaXNWYWxpZFJlY29yZCgvKnJlY29yZCwgcmVjb3JkSWQqLykge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IFZhbGlkYXRpb25FcnJvcnMoKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBkZXBlbmRlbnQgZmllbGRzLCB0aGF0IGFyZSByZXF1aXJlZCBmb3IgdmFsaWRhdGlvblxuICAgKlxuICAgKiBAcGFyYW0gICB7QXJyYXl9ICBmaWVsZHMgICBGaWVsZHMgbGlzdFxuICAgKiBAcmV0dXJucyB7QXJyYXl9ICBEZXBlbmRlbmNpZXNcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBnZXRWYWxpZGF0aW9uRGVwZW5kZW5jeSgpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWJzdHJhY3RHcmlkTW9kZWw7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgVmFsaWRhdG9yIGZyb20gJy4uLy4uL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRvcic7XG5pbXBvcnQgQWJzdHJhY3RHcmlkTW9kZWwgZnJvbSAnLi9BYnN0cmFjdEdyaWRNb2RlbCc7XG5pbXBvcnQge2Nsb25lRGVlcCwgd2FybiwgaXNFcXVhbCwgd2l0aG91dCwgY2xvbmUsIGZvckVhY2gsIGZpbmR9IGZyb20gJy4uLy4uL2NvbW1vbi91dGlscyc7XG5cbmNsYXNzIEdyaWRDb2xsZWN0aW9uTW9kZWwgZXh0ZW5kcyBBYnN0cmFjdEdyaWRNb2RlbCB7XG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgYSBncmlkIG1vZGVsIHRoYXQgd2lsbCB3b3JrIHdpdGggYXJyYXkgZGF0YSBwYXNzZWQgdG8gaXQgYXMgYSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICBbb3B0aW9uc11cbiAgICogQHBhcmFtIHtPYmplY3RbXX0gIFtvcHRpb25zLmRhdGFdICAgICAgICAgICAgICBEYXRhIGFycmF5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICBbb3B0aW9ucy5maWx0ZXJzSGFuZGxlcl1cbiAgICogQHBhcmFtIHtWYWxpZGF0b3J9IFtvcHRpb25zLnZhbGlkYXRvcl1cbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gIFtvcHRpb25zLnJlcXVpcmVkRmllbGRzXVxuICAgKiBAcGFyYW0ge2Jvb2x9ICAgICAgW29wdGlvbnMudmFsaWRhdGVPbkNyZWF0ZV1cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIHRoaXMuZGF0YSA9IGNsb25lRGVlcChvcHRpb25zLmRhdGEpIHx8IFtdO1xuICAgIHRoaXMuX2lkID0gMTtcbiAgICB0aGlzLl9maWx0ZXJzSGFuZGxlciA9IG9wdGlvbnMuZmlsdGVyc0hhbmRsZXI7XG4gICAgaWYgKG9wdGlvbnMudmFsaWRhdGlvbikge1xuICAgICAgd2FybignUHJvcGVydHkgXCJ2YWxpZGF0aW9uXCIgaXMgZGVwcmVjYXRlZCwgdXNlIFwidmFsaWRhdG9yXCIgaW5zdGVhZCcpO1xuICAgIH1cbiAgICB0aGlzLl92YWxpZGF0b3IgPSBvcHRpb25zLnZhbGlkYXRvciB8fCBvcHRpb25zLnZhbGlkYXRpb24gfHwgbmV3IFZhbGlkYXRvcigpO1xuICAgIHRoaXMuX3JlcXVpcmVkRmllbGRzID0gb3B0aW9ucy5yZXF1aXJlZEZpZWxkcyB8fCBbXTtcbiAgICB0aGlzLl92YWxpZGF0ZU9uQ3JlYXRlID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgndmFsaWRhdGVPbkNyZWF0ZScpID8gb3B0aW9ucy52YWxpZGF0ZU9uQ3JlYXRlIDogdHJ1ZTtcblxuICAgIC8vIFRPRE8gRGVwcmVjYXRlZC4gV2lsbCBiZSBkZWxldGVkIGluIHYwLjE3LjBcbiAgICBpZiAoIXRoaXMuX3ZhbGlkYXRlT25DcmVhdGUpIHtcbiAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRlZCBvcHRpb24gXCJ2YWxpZGF0ZU9uQ3JlYXRlXCIuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBkYXRhIGFycmF5IGluIG1vZGVsXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0W119IGRhdGFcbiAgICovXG4gIHNldERhdGEoZGF0YSkge1xuICAgIGNvbnN0IGN1cnJlbnREYXRhID0gdGhpcy5kYXRhLnJlZHVjZSgocmVzdWx0LCBbcmVjb3JkSWQsIHJlY29yZF0pID0+IHtcbiAgICAgIHJlc3VsdFtKU09OLnN0cmluZ2lmeShyZWNvcmRJZCldID0gcmVjb3JkO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCB7fSk7XG5cbiAgICBjb25zdCBjcmVhdGVkUmVjb3Jkc0lkcyA9IFtdO1xuICAgIGNvbnN0IHVwZGF0ZWRSZWNvcmRzID0gW107XG5cbiAgICBjb25zdCByZWNvcmRJZHMgPSBbXTtcblxuICAgIGZvciAoY29uc3QgW3JlY29yZElkLCByZWNvcmRdIG9mIGRhdGEpIHtcbiAgICAgIGNvbnN0IGlkID0gSlNPTi5zdHJpbmdpZnkocmVjb3JkSWQpO1xuXG4gICAgICByZWNvcmRJZHMucHVzaChpZCk7XG5cbiAgICAgIGlmICghY3VycmVudERhdGFbaWRdKSB7XG4gICAgICAgIGNyZWF0ZWRSZWNvcmRzSWRzLnB1c2gocmVjb3JkSWQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0VxdWFsKHJlY29yZCwgY3VycmVudERhdGFbaWRdKSkge1xuICAgICAgICB1cGRhdGVkUmVjb3Jkcy5wdXNoKHJlY29yZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlZFJlY29yZHNJZHMgPSB3aXRob3V0KE9iamVjdC5rZXlzKGN1cnJlbnREYXRhKSwgcmVjb3JkSWRzKS5tYXAoSlNPTi5wYXJzZSk7XG5cbiAgICB0aGlzLmRhdGEgPSBjbG9uZURlZXAoZGF0YSk7XG5cbiAgICBpZiAoY3JlYXRlZFJlY29yZHNJZHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2NyZWF0ZScsIFtjcmVhdGVkUmVjb3Jkc0lkc10pO1xuICAgIH1cblxuICAgIGlmIChkZWxldGVkUmVjb3Jkc0lkcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMudHJpZ2dlcignZGVsZXRlJywgZGVsZXRlZFJlY29yZHNJZHMpO1xuICAgIH1cblxuICAgIGlmICh1cGRhdGVkUmVjb3Jkcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMudHJpZ2dlcigndXBkYXRlJywgdXBkYXRlZFJlY29yZHMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgZmllbGQgYnkgcmVjb3JkIGlkIGZyb20gZGF0YVxuICAgKlxuICAgKiBAcGFyYW0gICB7TnVtYmVyfSAgcmVjb3JkSWQgICByZWNvcmQgaWQgZm9yIHJlbW92ZVxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSAgcmVjb3JkSWQgICByZXR1cm4gaWQgb2YgZGVsZXRlZCByZWNvcmRcbiAgICovXG4gIGFzeW5jIGRlbGV0ZShyZWNvcmRJZCkge1xuICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YS5maWx0ZXIocmVjb3JkID0+IHtcbiAgICAgIHJldHVybiByZWNvcmRbMF0gIT09IHJlY29yZElkO1xuICAgIH0pO1xuICAgIHRoaXMudHJpZ2dlcignZGVsZXRlJywgcmVjb3JkSWQpO1xuICAgIHJldHVybiByZWNvcmRJZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSByZWNvcmQgdG8gbG9jYWwgY29sbGVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICByZWNvcmQgIFJlY29yZCBvYmplY3RcbiAgICovXG4gIGFzeW5jIGNyZWF0ZShyZWNvcmQpIHtcbiAgICBsZXQgaTtcbiAgICBsZXQgZmllbGQ7XG4gICAgbGV0IHZhbGlkYXRpb25FcnJvcnM7XG4gICAgbGV0IGlkID0gdGhpcy5fZ2V0SUQoKTtcbiAgICBsZXQgY2xvbmVkUmVjb3JkID0gY2xvbmUocmVjb3JkKTtcbiAgICAvLyBDcmVhdGUgcmVjb3JkIHdpdGggZGVmaW5pdGUgaWRcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjbG9uZWRSZWNvcmQpICYmIGNsb25lZFJlY29yZC5sZW5ndGggPT09IDIpIHtcbiAgICAgIGlkID0gY2xvbmVkUmVjb3JkWzBdO1xuICAgICAgY2xvbmVkUmVjb3JkID0gY2xvbmVkUmVjb3JkWzFdO1xuICAgIH1cblxuICAgIGZvciAoaSBpbiB0aGlzLl9yZXF1aXJlZEZpZWxkcykge1xuICAgICAgZmllbGQgPSB0aGlzLl9yZXF1aXJlZEZpZWxkc1tpXTtcbiAgICAgIGlmICghY2xvbmVkUmVjb3JkLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgICAgICBjbG9uZWRSZWNvcmRbZmllbGRdID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fdmFsaWRhdGVPbkNyZWF0ZSkge1xuICAgICAgdmFsaWRhdGlvbkVycm9ycyA9IGF3YWl0IHRoaXMuaXNWYWxpZFJlY29yZChjbG9uZWRSZWNvcmQpO1xuICAgICAgaWYgKCF2YWxpZGF0aW9uRXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgICB0aHJvdyB2YWxpZGF0aW9uRXJyb3JzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlKGNsb25lZFJlY29yZCwgaWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlKGNsb25lZFJlY29yZCwgaWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcmVjb3JkcyBsaXN0XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHNldHRpbmdzICAgICAgICAgICAgICAgIFJlcXVlc3RcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gICAgc2V0dGluZ3MuZmllbGRzICAgICAgICAgRmllbGRzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSAgICAgIFtzZXR0aW5ncy5saW1pdF0gICAgICAgIExpbWl0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSAgICAgIFtzZXR0aW5ncy5vZmZzZXQ9MF0gICAgIE9mZnNldFxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICBbc2V0dGluZ3MuZmlsdGVyc10gICAgICBGaWx0ZXIgdmFsdWVzIG9iamVjdFxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICBbc2V0dGluZ3Muc29ydF0gICAgICAgICBTb3J0IHBhcmFtZXRlcnNcbiAgICogQHBhcmFtIHtBcnJheX0gICAgICAgW3NldHRpbmdzLmlkc10gICAgICAgICAgUmVjb3JkIElEcywgd2UgbmVlZCB0byBnZXQgZm9yIHN1cmVcbiAgICovXG4gIHJlYWQoc2V0dGluZ3MpIHtcbiAgICBsZXQgZGF0YSA9IGNsb25lRGVlcCh0aGlzLmRhdGEpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuXG4gICAgLy8gR2V0IGV4dHJhIHJlY29yZHNcbiAgICBpZiAoc2V0dGluZ3MuZXh0cmEgJiYgc2V0dGluZ3MuZXh0cmEubGVuZ3RoID4gMCkge1xuICAgICAgcmVzdWx0LmV4dHJhUmVjb3JkcyA9IGRhdGEuZmlsdGVyKHJlY29yZCA9PiBzZXR0aW5ncy5leHRyYS5pbmRleE9mKHJlY29yZFswXSkgPj0gMCk7XG4gICAgfVxuXG4gICAgLy8gRGVsZXRlIHVubmVjZXNzYXJ5IGZpZWxkc1xuICAgIGlmIChzZXR0aW5ncy5maWVsZHMpIHtcbiAgICAgIGZvckVhY2gocmVzdWx0LmV4dHJhUmVjb3JkcywgcmVjb3JkID0+IHtcbiAgICAgICAgZm9yRWFjaChyZWNvcmRbMV0sICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgaWYgKHNldHRpbmdzLmZpZWxkcy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICAgICAgICBkZWxldGUgcmVjb3JkWzFdW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNvcnRpbmdcbiAgICBpZiAoc2V0dGluZ3Muc29ydCAmJiBzZXR0aW5ncy5zb3J0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHNvcnRGaWVsZCA9IHNldHRpbmdzLnNvcnRbMF1bMF07XG4gICAgICBjb25zdCBzb3J0TW9kZSA9IHNldHRpbmdzLnNvcnRbMF1bMV07XG5cbiAgICAgIGRhdGEgPSBkYXRhLnNvcnQoKHByZXYsIG5leHQpID0+IHtcbiAgICAgICAgaWYgKHByZXZbMV1bc29ydEZpZWxkXSA8IG5leHRbMV1bc29ydEZpZWxkXSkge1xuICAgICAgICAgIHJldHVybiBzb3J0TW9kZSA9PT0gJ2FzYycgPyAtMSA6IDE7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldlsxXVtzb3J0RmllbGRdID4gbmV4dFsxXVtzb3J0RmllbGRdKSB7XG4gICAgICAgICAgcmV0dXJuIHNvcnRNb2RlID09PSAnYXNjJyA/IDEgOiAtMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgZmlsdGVyc1xuICAgIGlmICh0aGlzLl9maWx0ZXJzSGFuZGxlciAmJiBzZXR0aW5ncy5maWx0ZXJzKSB7XG4gICAgICBkYXRhID0gY2xvbmVEZWVwKHRoaXMuX2ZpbHRlcnNIYW5kbGVyKGRhdGEsIHNldHRpbmdzLmZpbHRlcnMpKTtcbiAgICB9XG5cbiAgICByZXN1bHQuY291bnQgPSBkYXRhLmxlbmd0aDtcblxuICAgIC8vIE9mZnNldCBhbmQgbGltaXRcbiAgICBpZiAoc2V0dGluZ3Mub2Zmc2V0IHx8IHNldHRpbmdzLmxpbWl0KSB7XG4gICAgICBjb25zdCBzdGFydCA9IHNldHRpbmdzLm9mZnNldCB8fCAwO1xuICAgICAgY29uc3QgZW5kID0gKHNldHRpbmdzLm9mZnNldCArIHNldHRpbmdzLmxpbWl0KSB8fCBkYXRhLmxlbmd0aDtcbiAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8vIERlbGV0ZSB1bm5lY2Vzc2FyeSBmaWVsZHNcbiAgICBpZiAoc2V0dGluZ3MuZmllbGRzKSB7XG4gICAgICBmb3JFYWNoKGRhdGEsIHJlY29yZCA9PiB7XG4gICAgICAgIGZvckVhY2gocmVjb3JkWzFdLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgIGlmIChzZXR0aW5ncy5maWVsZHMuaW5kZXhPZihrZXkpID09PSAtMSkge1xuICAgICAgICAgICAgZGVsZXRlIHJlY29yZFsxXVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXN1bHQucmVjb3JkcyA9IGRhdGE7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYXJ0aWN1bGFyIHJlY29yZFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9ICAgaWQgICAgICBSZWNvcmQgSURcbiAgICogQHBhcmFtIHtBcnJheX0gICAgICAgICAgIGZpZWxkcyAgUmVxdWlyZWQgZmllbGRzXG4gICAqL1xuICBnZXRSZWNvcmQoaWQsIGZpZWxkcykge1xuICAgIGNvbnN0IHJlY29yZCA9IGNsb25lRGVlcCh0aGlzLl9nZXRSZWNvcmRCeUlEKGlkKSk7XG4gICAgaWYgKCFyZWNvcmQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1JlY29yZCBub3QgZm91bmQuJykpO1xuICAgIH1cblxuICAgIGNvbnN0IHJldHVyblJlY29yZCA9IHJlY29yZFsxXTtcblxuICAgIC8vIERlbGV0aW5nIHVudXNlZCBmaWVsZHNcbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICBmb3JFYWNoKHJldHVyblJlY29yZCwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgaWYgKGZpZWxkcy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICAgICAgZGVsZXRlIHJldHVyblJlY29yZFtrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJldHVyblJlY29yZCk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgcmVjb3JkIGNoYW5nZXNcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gICAgICAgY2hhbmdlcyAgICAgQ2hhbmdlcyBhcnJheVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGFzeW5jIHVwZGF0ZShjaGFuZ2VzKSB7XG4gICAgaWYgKCFjaGFuZ2VzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IGFwcGxpZWRDaGFuZ2VzID0gW107XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIGNoYW5nZXMubWFwKFxuICAgICAgICBhc3luYyAoW3JlY29yZElkLCBjaGFuZ2VzXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHZhbGlkRXJyb3JzID0gYXdhaXQgdGhpcy5pc1ZhbGlkUmVjb3JkKGNoYW5nZXMpO1xuXG4gICAgICAgICAgaWYgKCF2YWxpZEVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBbcmVjb3JkSWQsIHZhbGlkRXJyb3JzXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhcHBsaWVkQ2hhbmdlcy5wdXNoKFtyZWNvcmRJZCwgY2hhbmdlc10pO1xuICAgICAgICAgIHJldHVybiBbcmVjb3JkSWQsIGNoYW5nZXNdO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcblxuICAgIGlmIChhcHBsaWVkQ2hhbmdlcy5sZW5ndGgpIHtcbiAgICAgIC8vIEFwcGx5IGNoYW5nZXNcbiAgICAgIGZvciAoY29uc3QgW3JlY29yZElkLCBjaGFuZ2VzXSBvZiBhcHBsaWVkQ2hhbmdlcykge1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2dldFJlY29yZEJ5SUQocmVjb3JkSWQpWzFdLCBjaGFuZ2VzKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50cmlnZ2VyKCd1cGRhdGUnLCBhcHBsaWVkQ2hhbmdlcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0aW9uIGNoZWNrXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHJlY29yZFxuICAgKi9cbiAgaXNWYWxpZFJlY29yZChyZWNvcmQpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsaWRhdG9yLmlzVmFsaWRSZWNvcmQocmVjb3JkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGRlcGVuZGVudCBmaWVsZHMsIHRoYXQgYXJlIHJlcXVpcmVkIGZvciB2YWxpZGF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSAgIHtBcnJheX0gIGZpZWxkcyAgIEZpZWxkcyBsaXN0XG4gICAqIEByZXR1cm5zIHtBcnJheX0gIERlcGVuZGVuY2llc1xuICAgKi9cbiAgZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koZmllbGRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRvci5nZXRWYWxpZGF0aW9uRGVwZW5kZW5jeShmaWVsZHMpO1xuICB9XG5cbiAgX2dldElEKCkge1xuICAgIHdoaWxlICh0aGlzLl9nZXRSZWNvcmRCeUlEKHRoaXMuX2lkKSkge1xuICAgICAgdGhpcy5faWQrKztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2lkKys7XG4gIH1cblxuICBfZ2V0UmVjb3JkQnlJRChpZCkge1xuICAgIHJldHVybiBmaW5kKHRoaXMuZGF0YSwgcmVjb3JkID0+IHJlY29yZFswXSA9PT0gaWQpO1xuICB9XG5cbiAgX2NyZWF0ZShyZWNvcmQsIGlkKSB7XG4gICAgdGhpcy5kYXRhLnB1c2goW2lkLCByZWNvcmRdKTtcbiAgICB0aGlzLnRyaWdnZXIoJ2NyZWF0ZScsIFtpZF0pO1xuICAgIHJldHVybiBpZDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcmlkQ29sbGVjdGlvbk1vZGVsO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgVmFsaWRhdGlvbkVycm9ycyBmcm9tICcuLi8uLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0aW9uRXJyb3JzJztcbmltcG9ydCB7YXN5bmNIYW5kbGVyfSBmcm9tICcuLi8uLi9jb21tb24vdXRpbHMnO1xuXG4vKipcbiAqIEZvcm0gRXhwcmVzcyBBUEkgZm9yIEdyaWQgbW9kZWwgaW50ZXJhY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtHcmlkRXhwcmVzc0FwaX1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBHcmlkRXhwcmVzc0FwaSB7XG4gIHN0YXRpYyBjcmVhdGUoKSB7XG4gICAgcmV0dXJuIG5ldyBHcmlkRXhwcmVzc0FwaSgpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5taWRkbGV3YXJlcyA9IHtcbiAgICAgIHJlYWRHZXQ6IFthc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0ge307XG4gICAgICAgIGlmIChyZXEucXVlcnkubGltaXQpIHtcbiAgICAgICAgICBzZXR0aW5ncy5saW1pdCA9IHBhcnNlSW50KHJlcS5xdWVyeS5saW1pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcS5xdWVyeS5vZmZzZXQpIHtcbiAgICAgICAgICBzZXR0aW5ncy5vZmZzZXQgPSBwYXJzZUludChyZXEucXVlcnkub2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxLnF1ZXJ5LnNvcnQpIHtcbiAgICAgICAgICBzZXR0aW5ncy5zb3J0ID0gSlNPTi5wYXJzZShyZXEucXVlcnkuc29ydCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcS5xdWVyeS5maWVsZHMpIHtcbiAgICAgICAgICBzZXR0aW5ncy5maWVsZHMgPSBKU09OLnBhcnNlKHJlcS5xdWVyeS5maWVsZHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEucXVlcnkuZXh0cmEpIHtcbiAgICAgICAgICBzZXR0aW5ncy5leHRyYSA9IEpTT04ucGFyc2UocmVxLnF1ZXJ5LmV4dHJhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxLnF1ZXJ5LmZpbHRlcnMpIHtcbiAgICAgICAgICBzZXR0aW5ncy5maWx0ZXJzID0gSlNPTi5wYXJzZShyZXEucXVlcnkuZmlsdGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5fY29tbW9uUmVhZE1pZGRsZXdhcmUocmVxLCByZXMsIG5leHQsIHNldHRpbmdzKTtcbiAgICAgIH0pXSxcbiAgICAgIHJlYWRQb3N0OiBbYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHt9O1xuICAgICAgICBpZiAocmVxLmJvZHkubGltaXQpIHtcbiAgICAgICAgICBzZXR0aW5ncy5saW1pdCA9IHBhcnNlSW50KHJlcS5ib2R5LmxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxLmJvZHkub2Zmc2V0KSB7XG4gICAgICAgICAgc2V0dGluZ3Mub2Zmc2V0ID0gcGFyc2VJbnQocmVxLmJvZHkub2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxLmJvZHkuc29ydCkge1xuICAgICAgICAgIHNldHRpbmdzLnNvcnQgPSByZXEuYm9keS5zb3J0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEuYm9keS5maWVsZHMpIHtcbiAgICAgICAgICBzZXR0aW5ncy5maWVsZHMgPSByZXEuYm9keS5maWVsZHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcS5ib2R5LmV4dHJhKSB7XG4gICAgICAgICAgc2V0dGluZ3MuZXh0cmEgPSByZXEuYm9keS5leHRyYTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxLmJvZHkuZmlsdGVycykge1xuICAgICAgICAgIHNldHRpbmdzLmZpbHRlcnMgPSByZXEuYm9keS5maWx0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMuX2NvbW1vblJlYWRNaWRkbGV3YXJlKHJlcSwgcmVzLCBuZXh0LCBzZXR0aW5ncyk7XG4gICAgICB9KV0sXG4gICAgICB2YWxpZGF0ZTogW2FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChyZXEsIHJlcyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3Jlc3VsdCgndmFsaWRhdGUnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBlcnJvcnMgPSBhd2FpdCBtb2RlbC5pc1ZhbGlkUmVjb3JkKHJlcS5ib2R5LnJlY29yZCwgcmVxLmJvZHkuaWQpO1xuICAgICAgICAgIHJlc3VsdChudWxsLCBlcnJvcnMsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmVzdWx0KGVyciwgbnVsbCwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9XG4gICAgICB9KV0sXG4gICAgICBnZXRSZWNvcmQ6IFthc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbHMgPSByZXEucXVlcnkuY29scyA/IEpTT04ucGFyc2UocmVxLnF1ZXJ5LmNvbHMpIDogbnVsbDtcbiAgICAgICAgY29uc3QgcmVjb3JkSWQgPSByZXEucGFyYW1zLnJlY29yZElkID8gSlNPTi5wYXJzZShyZXEucGFyYW1zLnJlY29yZElkKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwocmVxLCByZXMpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9yZXN1bHQoJ2dldFJlY29yZCcpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbW9kZWwuZ2V0UmVjb3JkKHJlY29yZElkLCBjb2xzKTtcbiAgICAgICAgICByZXN1bHQobnVsbCwgcmVzcG9uc2UsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmVzdWx0KGVyciwgbnVsbCwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9XG4gICAgICB9KV0sXG4gICAgICB1cGRhdGU6IFthc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwocmVxLCByZXMpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9yZXN1bHQoJ3VwZGF0ZScpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBtb2RlbC51cGRhdGUocmVxLmJvZHkpO1xuICAgICAgICAgIHJlc3VsdChudWxsLCBkYXRhLCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHJlc3VsdChlcnIsIG51bGwsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSldLFxuICAgICAgY3JlYXRlOiBbYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKHJlcSwgcmVzKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcmVzdWx0KCdjcmVhdGUnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgbW9kZWwuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgICAgICByZXN1bHQobnVsbCwgZGF0YSwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZXN1bHQoZXJyLCBudWxsLCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0pXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU3BlY2lmeSBHcmlkIG1vZGVsXG4gICAqXG4gICAqIEBwYXJhbSAgIHtGdW5jdGlvbnxBYnN0cmFjdEdyaWRNb2RlbH0gIG1vZGVsICAgR3JpZCBtb2RlbFxuICAgKiBAcmV0dXJuICB7R3JpZEV4cHJlc3NBcGl9XG4gICAqL1xuICBtb2RlbChtb2RlbCkge1xuICAgIGlmICh0eXBlb2YgbW9kZWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX2dldE1vZGVsID0gbW9kZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2dldE1vZGVsID0gKCkgPT4gbW9kZWw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0Um91dGVyKCkge1xuICAgIHJldHVybiBuZXcgZXhwcmVzcy5Sb3V0ZXIoKVxuICAgICAgLmdldCgnLycsIHRoaXMubWlkZGxld2FyZXMucmVhZEdldClcbiAgICAgIC5wb3N0KCcvcmVhZCcsIHRoaXMubWlkZGxld2FyZXMucmVhZFBvc3QpXG4gICAgICAucG9zdCgnL3ZhbGlkYXRpb24nLCB0aGlzLm1pZGRsZXdhcmVzLnZhbGlkYXRlKVxuICAgICAgLmdldCgnLzpyZWNvcmRJZCcsIHRoaXMubWlkZGxld2FyZXMuZ2V0UmVjb3JkKVxuICAgICAgLnB1dCgnLycsIHRoaXMubWlkZGxld2FyZXMudXBkYXRlKVxuICAgICAgLnBvc3QoJy8nLCB0aGlzLm1pZGRsZXdhcmVzLmNyZWF0ZSlcbiAgICAgIC51c2UoKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgdGhpcy5fcmVzdWx0KCkoZXJyLCBudWxsLCByZXEsIHJlcywgbmV4dCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHJlYWQobWlkZGxld2FyZXMpIHtcbiAgICB0aGlzLl9hZGRNaWRlbHdhcmVzKCdyZWFkR2V0JywgbWlkZGxld2FyZXMpO1xuICAgIHRoaXMuX2FkZE1pZGVsd2FyZXMoJ3JlYWRQb3N0JywgbWlkZGxld2FyZXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFsaWRhdGUobWlkZGxld2FyZXMpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkTWlkZWx3YXJlcygndmFsaWRhdGUnLCBtaWRkbGV3YXJlcyk7XG4gIH1cblxuICBnZXRSZWNvcmQobWlkZGxld2FyZXMpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkTWlkZWx3YXJlcygnZ2V0UmVjb3JkJywgbWlkZGxld2FyZXMpO1xuICB9XG5cbiAgdXBkYXRlKG1pZGRsZXdhcmVzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZE1pZGVsd2FyZXMoJ3VwZGF0ZScsIG1pZGRsZXdhcmVzKTtcbiAgfVxuXG4gIGNyZWF0ZShtaWRkbGV3YXJlcykge1xuICAgIHJldHVybiB0aGlzLl9hZGRNaWRlbHdhcmVzKCdjcmVhdGUnLCBtaWRkbGV3YXJlcyk7XG4gIH1cblxuICBfYWRkTWlkZWx3YXJlcyhtZXRob2QsIG1pZGRsZXdhcmVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG1pZGRsZXdhcmVzKSkge1xuICAgICAgbWlkZGxld2FyZXMgPSBbbWlkZGxld2FyZXNdO1xuICAgIH1cbiAgICB0aGlzLm1pZGRsZXdhcmVzW21ldGhvZF0gPSBtaWRkbGV3YXJlcy5jb25jYXQodGhpcy5taWRkbGV3YXJlc1ttZXRob2RdKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb25cbiAgX2dldE1vZGVsKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTW9kZWwgaXMgbm90IGRlZmluZWQuJyk7XG4gIH1cblxuICBfcmVzdWx0KG1ldGhvZCkge1xuICAgIGlmIChtZXRob2QgPT09ICd1cGRhdGUnKSB7XG4gICAgICByZXR1cm4gKGVyciwgZGF0YSwgcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBzZW5kKGVyciwgbnVsbCwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YSA9IGRhdGEucmVkdWNlKFxuICAgICAgICAgIChyZXN1bHQsIHJlY29yZCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZWNvcmQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWNvcmRbMV0gaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICByZXN1bHQuZXJyb3JzLnB1c2gocmVjb3JkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVjb3JkWzFdIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9ycykge1xuICAgICAgICAgICAgICByZXN1bHQudmFsaWRhdGlvbi5wdXNoKHJlY29yZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXN1bHQuY2hhbmdlcy5wdXNoKHJlY29yZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAge2NoYW5nZXM6IFtdLCBlcnJvcnM6IFtdLCB2YWxpZGF0aW9uOiBbXX1cbiAgICAgICAgKTtcblxuICAgICAgICBzZW5kKG51bGwsIGRhdGEsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKG1ldGhvZCA9PT0gJ2NyZWF0ZScpIHtcbiAgICAgIHJldHVybiAoZXJyLCBkYXRhLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9ycykpIHtcbiAgICAgICAgICAgIHJldHVybiBzZW5kKGVyciwgbnVsbCwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc2VuZChudWxsLCB7ZGF0YTogbnVsbCwgZXJyb3I6IGVycn0sIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VuZChudWxsLCB7ZGF0YTogZGF0YSwgZXJyb3I6IG51bGx9LCByZXEsIHJlcywgbmV4dCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBzZW5kO1xuXG4gICAgZnVuY3Rpb24gc2VuZChlcnIsIGRhdGEsIHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIG5leHQoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5qc29uKGRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9jb21tb25SZWFkTWlkZGxld2FyZShyZXEsIHJlcywgbmV4dCwgc2V0dGluZ3MpIHtcbiAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKHJlcSwgcmVzKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9yZXN1bHQoJ3JlYWQnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5yZWFkKHNldHRpbmdzKTtcbiAgICAgIHJlc3VsdChudWxsLCByZXNwb25zZSwgcmVxLCByZXMsIG5leHQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVzdWx0KGVyciwgbnVsbCwgcmVxLCByZXMsIG5leHQpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcmlkRXhwcmVzc0FwaTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBWYWxpZGF0aW9uRXJyb3JzIGZyb20gJy4uLy4uL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRpb25FcnJvcnMnO1xuaW1wb3J0IFZhbGlkYXRvciBmcm9tICcuLi8uLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0b3InO1xuaW1wb3J0IGRlZmF1bHRYaHIgZnJvbSAnLi4vLi4vY29tbW9uL2RlZmF1bHRYaHInO1xuaW1wb3J0IEFic3RyYWN0R3JpZE1vZGVsIGZyb20gJy4vQWJzdHJhY3RHcmlkTW9kZWwnO1xuaW1wb3J0IHVybCBmcm9tICd1cmwnO1xuXG5jb25zdCBNQVhfVVJJX0xFTkdUSCA9IDIwNDg7XG5cbi8qKlxuICogR3JpZCBtb2RlbCwgdGhhdCB3b3JrcyB3aXRoIEFQSSB2aWEgWEhSXG4gKlxuICogQHBhcmFtIHtPYmplY3R9ICAgIHNldHRpbmdzICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RlbCBzZXR0aW5nc1xuICogQHBhcmFtIHtzdHJpbmd9ICAgIHNldHRpbmdzLmFwaSAgICAgICAgICAgICAgICAgICAgICBBUEkgYWRkcmVzc1xuICogQHBhcmFtIHtWYWxpZGF0b3J9IFtzZXR0aW5ncy52YWxpZGF0b3JdICAgICAgICAgICAgICBHZW5lcmFsIHZhbGlkYXRvclxuICogQHBhcmFtIHtGdW5jdGlvbn0gIFtzZXR0aW5ncy54aHJdICAgICAgICAgICAgICAgICAgICBYSFIgaW50ZXJmYWNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59ICAgW3NldHRpbmdzLnZhbGlkYXRlT25DbGllbnQ9ZmFsc2VdIERvbid0IHNlbmQgdmFsaWRhdGlvbiByZXF1ZXN0IHRvIHNlcnZlclxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIEdyaWRYaHJNb2RlbCBleHRlbmRzIEFic3RyYWN0R3JpZE1vZGVsIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgaWYgKCFzZXR0aW5ncy5hcGkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW5pdGlhbGl6YXRpb24gcHJvYmxlbTogXFwnYXBpXFwnIG11c3QgYmUgc3BlY2lmaWVkLicpO1xuICAgIH1cblxuICAgIHRoaXMuX3ZhbGlkYXRvciA9IHNldHRpbmdzLnZhbGlkYXRvciB8fCBuZXcgVmFsaWRhdG9yKCk7XG4gICAgdGhpcy5feGhyID0gc2V0dGluZ3MueGhyIHx8IGRlZmF1bHRYaHI7XG4gICAgdGhpcy5fdmFsaWRhdGVPbkNsaWVudCA9IHNldHRpbmdzLnZhbGlkYXRlT25DbGllbnQgfHwgZmFsc2U7XG4gICAgdGhpcy5fYXBpVXJsID0gc2V0dGluZ3MuYXBpXG4gICAgICAucmVwbGFjZSgvKFteL10pXFw/LywgJyQxLz8nKSAvLyBBZGQgXCIvXCIgYmVmb3JlIFwiP1wiXG4gICAgICAucmVwbGFjZSgvXlteP10qW14vXSQvLCAnJCYvJyk7IC8vIEFkZCBcIi9cIiB0byB0aGUgZW5kXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgcmVjb3JkXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHJlY29yZCAgUmVjb3JkIG9iamVjdFxuICAgKi9cbiAgYXN5bmMgY3JlYXRlKHJlY29yZCkge1xuICAgIGxldCBib2R5ID0gYXdhaXQgdGhpcy5feGhyKHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeydDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9LFxuICAgICAgdXJpOiB0aGlzLl9hcGlVcmwsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZWNvcmQpXG4gICAgfSk7XG5cbiAgICBib2R5ID0gSlNPTi5wYXJzZShib2R5KTtcblxuICAgIGlmIChib2R5LmVycm9yKSB7XG4gICAgICB0aHJvdyBWYWxpZGF0aW9uRXJyb3JzLmNyZWF0ZUZyb21KU09OKGJvZHkuZXJyb3IpO1xuICAgIH1cblxuICAgIHRoaXMudHJpZ2dlcignY3JlYXRlJywgW2JvZHkuZGF0YV0pO1xuXG4gICAgcmV0dXJuIGJvZHkuZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcmVjb3JkcyBsaXN0XG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHNldHRpbmdzICAgICAgICAgICAgICAgIFJlcXVlc3RcbiAgICogQHBhcmFtIHtBcnJheX0gICAgICAgc2V0dGluZ3MuZmllbGRzICAgICAgICAgRmllbGRzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSAgICAgIFtzZXR0aW5ncy5saW1pdF0gICAgICAgIExpbWl0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSAgICAgIFtzZXR0aW5ncy5vZmZzZXQ9MF0gICAgIE9mZnNldFxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICBbc2V0dGluZ3MuZmlsdGVyc10gICAgICBGaWx0ZXIgdmFsdWVzIG9iamVjdFxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICBbc2V0dGluZ3Muc29ydF0gICAgICAgICBTb3J0IHBhcmFtZXRlcnNcbiAgICogQHBhcmFtIHtBcnJheX0gICAgICAgW3NldHRpbmdzLmV4dHJhXSAgICAgICAgUmVjb3JkIElEcywgd2UgbmVlZCB0byBnZXQgZm9yIHN1cmVcbiAgICovXG4gIGFzeW5jIHJlYWQoc2V0dGluZ3MpIHtcbiAgICBjb25zdCBxdWVyeVVybCA9IHRoaXMuX2dldFF1ZXJ5VXJsKHNldHRpbmdzKTtcblxuICAgIGlmICh1cmwuZm9ybWF0KHF1ZXJ5VXJsKS5sZW5ndGggPiBNQVhfVVJJX0xFTkdUSCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlYWRQb3N0UmVxdWVzdChzZXR0aW5ncyk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLl94aHIoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVyaTogdXJsLmZvcm1hdChxdWVyeVVybClcbiAgICB9KTtcblxuICAgIHJldHVybiBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHBhcnRpY3VsYXIgcmVjb3JkXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gICBpZCAgICAgIFJlY29yZCBJRFxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICAgICAgZmllbGRzICBSZXF1aXJlZCBmaWVsZHNcbiAgICovXG4gIGFzeW5jIGdldFJlY29yZChpZCwgZmllbGRzKSB7XG4gICAgY29uc3QgcGFyc2VkVXJsID0gdXJsLnBhcnNlKHRoaXMuX2FwaVVybCwgdHJ1ZSk7XG4gICAgcGFyc2VkVXJsLnF1ZXJ5LmNvbHMgPSBKU09OLnN0cmluZ2lmeShmaWVsZHMpOyAvLyBUT0RPIHJlbmFtZSBjb2xzIHRvIGZpZWxkc1xuICAgIHBhcnNlZFVybC5wYXRobmFtZSA9IHVybC5yZXNvbHZlKHBhcnNlZFVybC5wYXRobmFtZSwgSlNPTi5zdHJpbmdpZnkoaWQpKTtcbiAgICBkZWxldGUgcGFyc2VkVXJsLnNlYXJjaDtcblxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCB0aGlzLl94aHIoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVyaTogdXJsLmZvcm1hdChwYXJzZWRVcmwpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gSlNPTi5wYXJzZShib2R5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSByZWNvcmQgY2hhbmdlc1xuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICBjaGFuZ2VzICAgICBDaGFuZ2VzIGFycmF5XG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgYXN5bmMgdXBkYXRlKGNoYW5nZXMpIHtcbiAgICBsZXQgYm9keSA9IGF3YWl0IHRoaXMuX3hocih7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgdXJpOiB0aGlzLl9hcGlVcmwsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjaGFuZ2VzKVxuICAgIH0pO1xuXG4gICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgY29uc3QgcmVzID0gW107XG5cbiAgICBpZiAoYm9keS5jaGFuZ2VzICYmIGJvZHkuY2hhbmdlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMudHJpZ2dlcigndXBkYXRlJywgYm9keS5jaGFuZ2VzKTtcbiAgICAgIHJlcy5wdXNoKC4uLmJvZHkuY2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChib2R5LnZhbGlkYXRpb24gJiYgYm9keS52YWxpZGF0aW9uLmxlbmd0aCkge1xuICAgICAgZm9yIChjb25zdCBlcnJvciBvZiBib2R5LnZhbGlkYXRpb24pIHtcbiAgICAgICAgaWYgKGVycm9yICYmIGVycm9yWzFdKSB7XG4gICAgICAgICAgZXJyb3JbMV0gPSBWYWxpZGF0aW9uRXJyb3JzLmNyZWF0ZUZyb21KU09OKGVycm9yWzFdKTtcbiAgICAgICAgICByZXMucHVzaChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJvZHkuZXJyb3JzICYmIGJvZHkuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgZm9yIChjb25zdCBlcnJvciBvZiBib2R5LmVycm9ycykge1xuICAgICAgICBpZiAoZXJyb3IgJiYgZXJyb3JbMV0pIHtcbiAgICAgICAgICBlcnJvclsxXSA9IE9iamVjdC5hc3NpZ24obmV3IEVycm9yKCksIGVycm9yWzFdKTsgLy8gTm90ZSwgdGhhdCBPYmplY3Qgc3ByZWFkIG9wZXJhdG9yIHdvbid0IHdvcmsgaGVyZVxuICAgICAgICAgIHJlcy5wdXNoKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXM7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGlvbiBjaGVja1xuICAgKlxuICAgKiBAcGFyYW0ge3tbc3RyaW5nXTogKn19IHJlY29yZFxuICAgKiBAcGFyYW0ge1Byb21pc2U8Kj59ICAgIHJlY29yZElkXG4gICAqL1xuICBhc3luYyBpc1ZhbGlkUmVjb3JkKHJlY29yZCwgcmVjb3JkSWQpIHtcbiAgICBpZiAodGhpcy5fdmFsaWRhdGVPbkNsaWVudCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3ZhbGlkYXRvci5pc1ZhbGlkUmVjb3JkKHJlY29yZCk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyc2VkVXJsID0gdXJsLnBhcnNlKHRoaXMuX2FwaVVybCwgdHJ1ZSk7XG4gICAgcGFyc2VkVXJsLnBhdGhuYW1lID0gdXJsLnJlc29sdmUocGFyc2VkVXJsLnBhdGhuYW1lLCAndmFsaWRhdGlvbicpO1xuXG4gICAgbGV0IHJlc3BvbnNlO1xuICAgIHRyeSB7XG4gICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuX3hocih7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICB1cmk6IHVybC5mb3JtYXQocGFyc2VkVXJsKSxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIHJlY29yZCxcbiAgICAgICAgICBpZDogcmVjb3JkSWRcbiAgICAgICAgfSxcbiAgICAgICAganNvbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyLnN0YXR1c0NvZGUgPT09IDQxMykge1xuICAgICAgICAvLyBXaGVuIHJlcXVlc3QgZXhjZWVkcyBzZXJ2ZXIgbGltaXRzIGFuZFxuICAgICAgICAvLyBjbGllbnQgdmFsaWRhdG9ycyBhcmUgYWJsZSB0byBmaW5kIGVycm9ycyxcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZXR1cm4gdGhlc2UgZXJyb3Jze1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3JzID0gYXdhaXQgdGhpcy5fdmFsaWRhdG9yLmlzVmFsaWRSZWNvcmQocmVjb3JkKTtcbiAgICAgICAgaWYgKCF2YWxpZGF0aW9uRXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgICAgIHJldHVybiB2YWxpZGF0aW9uRXJyb3JzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuXG4gICAgcmV0dXJuIFZhbGlkYXRpb25FcnJvcnMuY3JlYXRlRnJvbUpTT04ocmVzcG9uc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgZGVwZW5kZW50IGZpZWxkcywgdGhhdCBhcmUgcmVxdWlyZWQgZm9yIHZhbGlkYXRpb25cbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ1tdfSAgZmllbGRzICAgRmllbGRzIGxpc3RcbiAgICogQHJldHVybnMge3N0cmluZ1tdfSAgRGVwZW5kZW5jaWVzXG4gICAqL1xuICBnZXRWYWxpZGF0aW9uRGVwZW5kZW5jeShmaWVsZHMpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsaWRhdG9yLmdldFZhbGlkYXRpb25EZXBlbmRlbmN5KGZpZWxkcyk7XG4gIH1cblxuICBfZ2V0UXVlcnlVcmwoc2V0dGluZ3MpIHtcbiAgICBjb25zdCBwYXJzZWRVcmwgPSB1cmwucGFyc2UodGhpcy5fYXBpVXJsLCB0cnVlKTtcbiAgICBwYXJzZWRVcmwucXVlcnkuZmllbGRzID0gSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MuZmllbGRzKTtcbiAgICBwYXJzZWRVcmwucXVlcnkub2Zmc2V0ID0gc2V0dGluZ3Mub2Zmc2V0IHx8IDA7XG4gICAgaWYgKHNldHRpbmdzLmxpbWl0KSB7XG4gICAgICBwYXJzZWRVcmwucXVlcnkubGltaXQgPSBzZXR0aW5ncy5saW1pdDtcbiAgICB9XG4gICAgaWYgKHNldHRpbmdzLmZpbHRlcnMpIHtcbiAgICAgIHBhcnNlZFVybC5xdWVyeS5maWx0ZXJzID0gSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MuZmlsdGVycyk7XG4gICAgfVxuICAgIGlmIChzZXR0aW5ncy5zb3J0KSB7XG4gICAgICBwYXJzZWRVcmwucXVlcnkuc29ydCA9IEpTT04uc3RyaW5naWZ5KHNldHRpbmdzLnNvcnQpO1xuICAgIH1cbiAgICBpZiAoc2V0dGluZ3MuZXh0cmEpIHtcbiAgICAgIHBhcnNlZFVybC5xdWVyeS5leHRyYSA9IEpTT04uc3RyaW5naWZ5KHNldHRpbmdzLmV4dHJhKTtcbiAgICB9XG4gICAgZGVsZXRlIHBhcnNlZFVybC5zZWFyY2g7XG5cbiAgICByZXR1cm4gcGFyc2VkVXJsO1xuICB9XG5cbiAgYXN5bmMgX3JlYWRQb3N0UmVxdWVzdChzZXR0aW5ncykge1xuICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge307XG4gICAgcmVxdWVzdEJvZHkuZmllbGRzID0gc2V0dGluZ3MuZmllbGRzO1xuICAgIHJlcXVlc3RCb2R5Lm9mZnNldCA9IHNldHRpbmdzLm9mZnNldCB8fCAwO1xuICAgIGlmIChzZXR0aW5ncy5saW1pdCkge1xuICAgICAgcmVxdWVzdEJvZHkubGltaXQgPSBzZXR0aW5ncy5saW1pdDtcbiAgICB9XG4gICAgaWYgKHNldHRpbmdzLmZpbHRlcnMpIHtcbiAgICAgIHJlcXVlc3RCb2R5LmZpbHRlcnMgPSBzZXR0aW5ncy5maWx0ZXJzO1xuICAgIH1cbiAgICBpZiAoc2V0dGluZ3Muc29ydCkge1xuICAgICAgcmVxdWVzdEJvZHkuc29ydCA9IHNldHRpbmdzLnNvcnQ7XG4gICAgfVxuICAgIGlmIChzZXR0aW5ncy5leHRyYSkge1xuICAgICAgcmVxdWVzdEJvZHkuZXh0cmEgPSBzZXR0aW5ncy5leHRyYTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJzZWRVcmwgPSB1cmwucGFyc2UodGhpcy5fYXBpVXJsLCB0cnVlKTtcbiAgICBwYXJzZWRVcmwucGF0aG5hbWUgPSB1cmwucmVzb2x2ZShwYXJzZWRVcmwucGF0aG5hbWUsICdyZWFkJyk7XG5cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5feGhyKHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAganNvbjogdHJ1ZSxcbiAgICAgIHVyaTogdXJsLmZvcm1hdChwYXJzZWRVcmwpLFxuICAgICAgYm9keTogcmVxdWVzdEJvZHlcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcmlkWGhyTW9kZWw7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge2RlY29yYXRlfSBmcm9tICcuLi8uLi9jb21tb24vdXRpbHMnO1xuXG4vKipcbiAqIERlZmluZXMgZmlsdGVyIHZhbHVlcyB3aGlsZSByZWFkaW5nIEdyaWQgbW9kZWwgZGF0YVxuICpcbiAqIEBwYXJhbSB7QWJzdHJhY3RHcmlkTW9kZWx9IG1vZGVsICAgICAgIEdyaWQgbW9kZWxcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgIGZpbHRlcnMgICAgIEZpbHRlciB2YWx1ZXNcbiAqL1xuZnVuY3Rpb24gYXBwbHlHcmlkRmlsdGVycyhtb2RlbCwgZmlsdGVycykge1xuICByZXR1cm4gZGVjb3JhdGUobW9kZWwsIHtcbiAgICBhc3luYyByZWFkKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMuZmlsdGVycyA9IHtcbiAgICAgICAgLi4uZmlsdGVycyxcbiAgICAgICAgLi4ub3B0aW9ucy5maWx0ZXJzXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGF3YWl0IG1vZGVsLnJlYWQob3B0aW9ucyk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXBwbHlHcmlkRmlsdGVycztcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbi8qKlxuICogQWJzdHJhY3QgTGlzdCBtb2RlbFxuICovXG5jbGFzcyBBYnN0cmFjdExpc3RNb2RlbCB7XG4gIC8qKlxuICAgKiBHZXQgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gICAgc2VhcmNoICBTZWFyY2ggcXVlcnlcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICByZWFkKC8qc2VhcmNoKi8pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3B0aW9uIG5hbWUgdXNpbmcgSURcbiAgICpcbiAgICogQHBhcmFtIHsqfSAgICAgICAgIGlkICBPcHRpb24gSURcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBnZXRMYWJlbCgvKmlkKi8pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCcnKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBYnN0cmFjdExpc3RNb2RlbDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHthc3luY0hhbmRsZXJ9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5cbi8qKlxuICogRm9ybSBFeHByZXNzIEFQSSBmb3IgTGlzdCBtb2RlbCBpbnRlcmFjdGlvblxuICpcbiAqIEByZXR1cm4ge0xpc3RFeHByZXNzQXBpfVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIExpc3RFeHByZXNzQXBpIHtcbiAgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gbmV3IExpc3RFeHByZXNzQXBpKCk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1pZGRsZXdhcmVzID0ge1xuICAgICAgcmVhZDogW2FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChyZXEsIHJlcyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5yZWFkKHJlcS5xdWVyeS52KTtcbiAgICAgICAgICB0aGlzLl9yZXN1bHQobnVsbCwgcmVzcG9uc2UsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdGhpcy5fcmVzdWx0KGVyciwgbnVsbCwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9XG4gICAgICB9KV0sXG4gICAgICBnZXRMYWJlbDogW2FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBKU09OLnBhcnNlKHJlcS5wYXJhbXMuaWQpO1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKHJlcSwgcmVzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1vZGVsLmdldExhYmVsKGlkKTtcbiAgICAgICAgICB0aGlzLl9yZXN1bHQobnVsbCwgcmVzcG9uc2UsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdGhpcy5fcmVzdWx0KGVyciwgbnVsbCwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9XG4gICAgICB9KV1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNwZWNpZnkgTGlzdCBtb2RlbFxuICAgKlxuICAgKiBAcGFyYW0gICB7RnVuY3Rpb258QWJzdHJhY3RMaXN0TW9kZWx9ICBtb2RlbCAgTGlzdCBtb2RlbFxuICAgKiBAcmV0dXJuIHtMaXN0RXhwcmVzc0FwaX1cbiAgICovXG4gIG1vZGVsKG1vZGVsKSB7XG4gICAgaWYgKHR5cGVvZiBtb2RlbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fZ2V0TW9kZWwgPSBtb2RlbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZ2V0TW9kZWwgPSAoKSA9PiBtb2RlbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXRSb3V0ZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBleHByZXNzLlJvdXRlcigpXG4gICAgICAuZ2V0KCcvJywgdGhpcy5taWRkbGV3YXJlcy5yZWFkKVxuICAgICAgLmdldCgnL2xhYmVsLzppZCcsIHRoaXMubWlkZGxld2FyZXMuZ2V0TGFiZWwpO1xuICB9XG5cbiAgcmVhZChtaWRkbGV3YXJlcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShtaWRkbGV3YXJlcykpIHtcbiAgICAgIG1pZGRsZXdhcmVzID0gW21pZGRsZXdhcmVzXTtcbiAgICB9XG4gICAgdGhpcy5taWRkbGV3YXJlcy5yZWFkID0gbWlkZGxld2FyZXMuY29uY2F0KHRoaXMubWlkZGxld2FyZXMucmVhZCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXRMYWJlbChtaWRkbGV3YXJlcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShtaWRkbGV3YXJlcykpIHtcbiAgICAgIG1pZGRsZXdhcmVzID0gW21pZGRsZXdhcmVzXTtcbiAgICB9XG4gICAgdGhpcy5taWRkbGV3YXJlcy5nZXRMYWJlbCA9IG1pZGRsZXdhcmVzLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVzLmdldExhYmVsKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb25cbiAgX2dldE1vZGVsKCkge1xuICAgIHRocm93IEVycm9yKCdNb2RlbCBpcyBub3QgZGVmaW5lZC4nKTtcbiAgfVxuXG4gIF9yZXN1bHQoZXJyLCBkYXRhLCByZXEsIHJlcywgbmV4dCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG5leHQoZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICBkYXRhID0gZGF0YS50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgcmVzLmpzb24oZGF0YSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExpc3RFeHByZXNzQXBpO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGRlZmF1bHRYaHIgZnJvbSAnLi4vY29tbW9uL2RlZmF1bHRYaHInO1xuaW1wb3J0IHVybCBmcm9tICd1cmwnO1xuXG5jbGFzcyBMaXN0WE1MSHR0cFJlcXVlc3RNb2RlbCB7XG4gIC8qKlxuICAgKiBTaW1wbGUgbGlzdCBjbGllbnQgbW9kZWwgd2hpY2ggd29ya3MgdmlhIFhNTEh0dHBSZXF1ZXN0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICBhcGlVUkwgIEFQSSBhZGRyZXNzIGZvciBsaXN0IG1vZGVsIGludGVyYWN0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICBbeGhyXSAgIFhIUiB3cmFwcGVyXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoYXBpVVJMLCB4aHIpIHtcbiAgICB0aGlzLl9hcGlVUkwgPSBhcGlVUkw7XG4gICAgdGhpcy5feGhyID0geGhyIHx8IGRlZmF1bHRYaHI7XG4gICAgdGhpcy5fYXBpVXJsID0gYXBpVVJMXG4gICAgICAucmVwbGFjZSgvKFteL10pXFw/LywgJyQxLz8nKSAvLyBBZGQgXCIvXCIgYmVmb3JlIFwiP1wiXG4gICAgICAucmVwbGFjZSgvXlteP10qW14vXSQvLCAnJCYvJyk7IC8vIEFkZCBcIi9cIiB0byB0aGUgZW5kXG4gIH1cblxuICAvKipcbiAgICogR2V0IG1vZGVsIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgIHNlYXJjaCAgTGlzdCBzZWFyY2ggcXVlcnlcbiAgICovXG4gIGFzeW5jIHJlYWQoc2VhcmNoKSB7XG4gICAgY29uc3QgcGFyc2VkVXJsID0gdXJsLnBhcnNlKHRoaXMuX2FwaVVybCwgdHJ1ZSk7XG4gICAgZGVsZXRlIHBhcnNlZFVybC5zZWFyY2g7XG4gICAgaWYgKHNlYXJjaCkge1xuICAgICAgcGFyc2VkVXJsLnF1ZXJ5LnYgPSBzZWFyY2g7XG4gICAgfVxuXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHRoaXMuX3hocih7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgdXJpOiB1cmwuZm9ybWF0KHBhcnNlZFVybClcbiAgICB9KTtcblxuICAgIHJldHVybiBKU09OLnBhcnNlKGJvZHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvcHRpb24gbmFtZSB1c2luZyBJRFxuICAgKlxuICAgKiBAcGFyYW0geyp9ICAgICAgICAgaWQgIE9wdGlvbiBJRFxuICAgKi9cbiAgYXN5bmMgZ2V0TGFiZWwoaWQpIHtcbiAgICBjb25zdCBwYXJzZWRVcmwgPSB1cmwucGFyc2UodGhpcy5fYXBpVXJsLCB0cnVlKTtcbiAgICBwYXJzZWRVcmwucGF0aG5hbWUgPSB1cmwucmVzb2x2ZShwYXJzZWRVcmwucGF0aG5hbWUsIGBsYWJlbC8ke0pTT04uc3RyaW5naWZ5KGlkKX1gKTtcblxuICAgIGxldCBib2R5ID0gYXdhaXQgdGhpcy5feGhyKHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH0sXG4gICAgICB1cmk6IHVybC5mb3JtYXQocGFyc2VkVXJsKVxuICAgIH0pO1xuXG4gICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSk7XG5cbiAgICByZXR1cm4gYm9keTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXN0WE1MSHR0cFJlcXVlc3RNb2RlbDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBicm93c2VyTW9kdWxlIGZyb20gJy4vYnJvd3Nlcic7XG5pbXBvcnQgR3JpZEV4cHJlc3NBcGkgZnJvbSAnLi9ncmlkL21vZGVscy9HcmlkRXhwcmVzc0FwaSc7XG5pbXBvcnQgTGlzdEV4cHJlc3NBcGkgZnJvbSAnLi9saXN0L0xpc3RFeHByZXNzQXBpJztcbmltcG9ydCBGb3JtRXhwcmVzc0FwaSBmcm9tICcuL2Zvcm0vRm9ybUV4cHJlc3NBcGknO1xuaW1wb3J0IHRvQ1NWIGZyb20gJy4vZ3JpZC9leHBvcnQvZXhwb3J0ZXJzL3RvQ1NWJztcblxuYnJvd3Nlck1vZHVsZS5ncmlkRXhwcmVzc0FwaSA9IEdyaWRFeHByZXNzQXBpLmNyZWF0ZTtcbmJyb3dzZXJNb2R1bGUubGlzdEV4cHJlc3NBcGkgPSBMaXN0RXhwcmVzc0FwaS5jcmVhdGU7XG5icm93c2VyTW9kdWxlLmZvcm1FeHByZXNzQXBpID0gRm9ybUV4cHJlc3NBcGkuY3JlYXRlO1xuYnJvd3Nlck1vZHVsZS50b0NTViA9IHRvQ1NWO1xuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyTW9kdWxlO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXlcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2ZcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3JcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY2xhc3NuYW1lc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjcmVhdGUtcmVhY3QtY2xhc3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY3N2LXN0cmluZ2lmeVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbWVudFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LWRhdGVwaWNrZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3QtZG9tXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LWRvbS1mYWN0b3JpZXNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXJsXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInhoclwiKTsiXSwic291cmNlUm9vdCI6IiJ9