(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["UIKernel"] = factory();
	else
		root["UIKernel"] = factory();
})(global, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/node.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/browser.js":
/*!************************!*\
  !*** ./src/browser.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _common_setImmediate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common/setImmediate */ "./src/common/setImmediate.js");
/* harmony import */ var _common_setImmediate__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_common_setImmediate__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_variables__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common/variables */ "./src/common/variables.js");
/* harmony import */ var _grid_models_applyGridFilters__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./grid/models/applyGridFilters */ "./src/grid/models/applyGridFilters.js");
/* harmony import */ var _grid_Component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./grid/Component */ "./src/grid/Component.js");
/* harmony import */ var _form_FormService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./form/FormService */ "./src/form/FormService.js");
/* harmony import */ var _form_connectForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./form/connectForm */ "./src/form/connectForm.js");
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _grid_export_exportGridData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./grid/export/exportGridData */ "./src/grid/export/exportGridData.js");
/* harmony import */ var _grid_export_exporters_toJSON__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./grid/export/exporters/toJSON */ "./src/grid/export/exporters/toJSON.js");
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _grid_models_GridXhrModel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./grid/models/GridXhrModel */ "./src/grid/models/GridXhrModel.js");
/* harmony import */ var _grid_models_GridCollectionModel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./grid/models/GridCollectionModel */ "./src/grid/models/GridCollectionModel.js");
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./common/Events */ "./src/common/Events.js");
/* harmony import */ var _form_FormModel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./form/FormModel */ "./src/form/FormModel.js");
/* harmony import */ var _form_FormXhrModel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./form/FormXhrModel */ "./src/form/FormXhrModel.js");
/* harmony import */ var _list_ListXhrModel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./list/ListXhrModel */ "./src/list/ListXhrModel.js");
/* harmony import */ var _form_AbstractFormModel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./form/AbstractFormModel */ "./src/form/AbstractFormModel.js");
/* harmony import */ var _grid_models_AbstractGridModel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./grid/models/AbstractGridModel */ "./src/grid/models/AbstractGridModel.js");
/* harmony import */ var _list_AbstractListModel__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./list/AbstractListModel */ "./src/list/AbstractListModel.js");
/* harmony import */ var _form_adapters_GridToFormUpdate__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./form/adapters/GridToFormUpdate */ "./src/form/adapters/GridToFormUpdate.js");
/* harmony import */ var _form_adapters_GridToFormCreate__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./form/adapters/GridToFormCreate */ "./src/form/adapters/GridToFormCreate.js");
/* harmony import */ var _editors_Select__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./editors/Select */ "./src/editors/Select.js");
/* harmony import */ var _editors_SuggestBox__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./editors/SuggestBox */ "./src/editors/SuggestBox.js");
/* harmony import */ var _editors_DatePicker__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./editors/DatePicker */ "./src/editors/DatePicker.js");
/* harmony import */ var _editors_Checkbox__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./editors/Checkbox */ "./src/editors/Checkbox.js");
/* harmony import */ var _editors_Number__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./editors/Number */ "./src/editors/Number.js");
/* harmony import */ var _common_ArgumentsError__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./common/ArgumentsError */ "./src/common/ArgumentsError.js");
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./common/ThrottleError */ "./src/common/ThrottleError.js");
/* harmony import */ var _common_validation_rules_boolean__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./common/validation/rules/boolean */ "./src/common/validation/rules/boolean.js");
/* harmony import */ var _common_validation_rules_date__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./common/validation/rules/date */ "./src/common/validation/rules/date.js");
/* harmony import */ var _common_validation_rules_enum__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./common/validation/rules/enum */ "./src/common/validation/rules/enum.js");
/* harmony import */ var _common_validation_rules_set__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./common/validation/rules/set */ "./src/common/validation/rules/set.js");
/* harmony import */ var _common_validation_rules_float__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./common/validation/rules/float */ "./src/common/validation/rules/float.js");
/* harmony import */ var _common_validation_rules_regExp__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./common/validation/rules/regExp */ "./src/common/validation/rules/regExp.js");
/* harmony import */ var _common_validation_rules_notNull__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./common/validation/rules/notNull */ "./src/common/validation/rules/notNull.js");
/* harmony import */ var _common_validation_rules_number__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./common/validation/rules/number */ "./src/common/validation/rules/number.js");
/* harmony import */ var _common_validation_rules_notEmpty__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./common/validation/rules/notEmpty */ "./src/common/validation/rules/notEmpty.js");
/* harmony import */ var _form_mixin__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./form/mixin */ "./src/form/mixin.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */







































if (!global._babelPolyfill) {
  __webpack_require__(/*! @babel/polyfill/browser */ "@babel/polyfill/browser");
}

var UIKernel = {
  applyGridFilters: _grid_models_applyGridFilters__WEBPACK_IMPORTED_MODULE_2__["default"],
  Grid: _grid_Component__WEBPACK_IMPORTED_MODULE_3__["default"],
  Form: _form_FormService__WEBPACK_IMPORTED_MODULE_4__["default"],
  connectForm: _form_connectForm__WEBPACK_IMPORTED_MODULE_5__["default"],
  createValidator: _common_validation_Validator__WEBPACK_IMPORTED_MODULE_6__["default"].create,
  exportGridData: _grid_export_exportGridData__WEBPACK_IMPORTED_MODULE_7__["default"],
  toJSON: _grid_export_exporters_toJSON__WEBPACK_IMPORTED_MODULE_8__["default"],
  ValidationErrors: _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"],
  Models: {
    Grid: {
      Xhr: _grid_models_GridXhrModel__WEBPACK_IMPORTED_MODULE_10__["default"],
      Collection: _grid_models_GridCollectionModel__WEBPACK_IMPORTED_MODULE_11__["default"]
    },
    Events: _common_Events__WEBPACK_IMPORTED_MODULE_12__["default"],
    Form: _form_FormModel__WEBPACK_IMPORTED_MODULE_13__["default"],
    FormXhr: _form_FormXhrModel__WEBPACK_IMPORTED_MODULE_14__["default"],
    List: {
      Xhr: _list_ListXhrModel__WEBPACK_IMPORTED_MODULE_15__["default"]
    }
  },
  AbstractModels: {
    Form: _form_AbstractFormModel__WEBPACK_IMPORTED_MODULE_16__["default"],
    Grid: _grid_models_AbstractGridModel__WEBPACK_IMPORTED_MODULE_17__["default"],
    List: _list_AbstractListModel__WEBPACK_IMPORTED_MODULE_18__["default"]
  },
  Adapters: {
    Grid: {
      ToFormUpdate: _form_adapters_GridToFormUpdate__WEBPACK_IMPORTED_MODULE_19__["default"],
      ToFormCreate: _form_adapters_GridToFormCreate__WEBPACK_IMPORTED_MODULE_20__["default"]
    }
  },
  Editors: {
    Select: _editors_Select__WEBPACK_IMPORTED_MODULE_21__["default"],
    SuggestBox: _editors_SuggestBox__WEBPACK_IMPORTED_MODULE_22__["default"],
    DatePicker: _editors_DatePicker__WEBPACK_IMPORTED_MODULE_23__["default"],
    Checkbox: _editors_Checkbox__WEBPACK_IMPORTED_MODULE_24__["default"],
    Number: _editors_Number__WEBPACK_IMPORTED_MODULE_25__["default"]
  },
  ArgumentsError: _common_ArgumentsError__WEBPACK_IMPORTED_MODULE_26__["default"],
  ThrottleError: _common_ThrottleError__WEBPACK_IMPORTED_MODULE_27__["default"],
  Validators: {
    "boolean": _common_validation_rules_boolean__WEBPACK_IMPORTED_MODULE_28__["default"],
    date: _common_validation_rules_date__WEBPACK_IMPORTED_MODULE_29__["default"],
    "enum": _common_validation_rules_enum__WEBPACK_IMPORTED_MODULE_30__["default"],
    set: _common_validation_rules_set__WEBPACK_IMPORTED_MODULE_31__["default"],
    "float": _common_validation_rules_float__WEBPACK_IMPORTED_MODULE_32__["default"],
    regExp: _common_validation_rules_regExp__WEBPACK_IMPORTED_MODULE_33__["default"],
    notNull: _common_validation_rules_notNull__WEBPACK_IMPORTED_MODULE_34__["default"],
    number: _common_validation_rules_number__WEBPACK_IMPORTED_MODULE_35__["default"],
    notEmpty: _common_validation_rules_notEmpty__WEBPACK_IMPORTED_MODULE_36__["default"]
  },
  Mixins: {
    Form: _form_mixin__WEBPACK_IMPORTED_MODULE_37__["default"]
  },
  _get: _common_variables__WEBPACK_IMPORTED_MODULE_1__["default"].get,
  _set: _common_variables__WEBPACK_IMPORTED_MODULE_1__["default"].set
};
/* harmony default export */ __webpack_exports__["default"] = (UIKernel);

/***/ }),

/***/ "./src/common/ArgumentsError.js":
/*!**************************************!*\
  !*** ./src/common/ArgumentsError.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function ArgumentsError(message) {
  Error.call(this, message);
  this.name = 'ArgumentsError';
  this.message = message;
  this.status = this.statusCode = 422;
  this.stack = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getStack"])();
}

ArgumentsError.prototype = Object.create(Error.prototype);
ArgumentsError.prototype.constructor = ArgumentsError;
/* harmony default export */ __webpack_exports__["default"] = (ArgumentsError);

/***/ }),

/***/ "./src/common/Events.js":
/*!******************************!*\
  !*** ./src/common/Events.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "@babel/runtime/helpers/typeof");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./src/common/utils.js");




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Events control model
 */

var EventsModel =
/*#__PURE__*/
function () {
  function EventsModel() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, EventsModel);

    this._subscribers = {};
  }
  /**
   * Subscribe to inner model event
   *
   * @param {string}      event   Event ID
   * @param {Function}    cb      CallBack function
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(EventsModel, [{
    key: "on",
    value: function on(event, cb) {
      if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this._subscribers[event]) !== 'object') {
        this._subscribers[event] = [];
      }

      this._subscribers[event].push(cb);
    }
    /**
     * Unsubscribe from inner model event
     *
     * @param {number}      event   Event ID
     * @param {Function}    cb      CallBack function
     */

  }, {
    key: "off",
    value: function off(event, cb) {
      if (this._subscribers[event]) {
        this._subscribers[event] = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["without"])(this._subscribers[event], cb);
      }
    }
    /**
     * Trigger inner model event
     *
     * @param {number}  event   Event ID
     * @param {...*}    params
     */

  }, {
    key: "trigger",
    value: function trigger(event) {
      if (!this._subscribers[event] || !this._subscribers[event].length) {
        return;
      }

      for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        params[_key - 1] = arguments[_key];
      }

      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = this._subscribers[event][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var subscriber = _step.value;
          subscriber.apply(void 0, params);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator["return"] != null) {
            _iterator["return"]();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
    /**
     * Returns the number of listeners listening to the event
     *
     * @param {string} event name
     */

  }, {
    key: "listenerCount",
    value: function listenerCount(event) {
      return this._subscribers[event] ? this._subscribers[event].length : 0;
    }
    /**
     * Removes all listeners of the specified event
     *
     * @param {string} event name
     */

  }, {
    key: "removeAllListeners",
    value: function removeAllListeners(event) {
      this._subscribers[event] = [];
    }
  }]);

  return EventsModel;
}();

/* harmony default export */ __webpack_exports__["default"] = (EventsModel);

/***/ }),

/***/ "./src/common/Portal.js":
/*!******************************!*\
  !*** ./src/common/Portal.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "@babel/runtime/helpers/assertThisInitialized");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils */ "./src/common/utils.js");







/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var portalClass = '__portal';

var Portal =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(Portal, _React$Component);

  function Portal(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Portal);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(Portal).call(this, props));
    _this._onDocumentMouseDown = _this._onDocumentMouseDown.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this));
    _this._onDocumentMouseScroll = _this._onDocumentMouseScroll.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4___default()(_this));
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Portal, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      document.addEventListener('mousedown', this._onDocumentMouseDown, false);
      document.addEventListener('scroll', this._onDocumentMouseScroll, true);
      var portal = document.createElement('div');
      document.body.appendChild(portal);
      portal.className = portalClass;
      this.portal = portal;
      this.renderPortal();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      document.removeEventListener('mousedown', this._onDocumentMouseDown, false);
      document.removeEventListener('scroll', this._onDocumentMouseScroll, true);
      react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.unmountComponentAtNode(this.portal);
      document.body.removeChild(this.portal);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this.renderPortal();
    }
  }, {
    key: "_isDocumentEventOwner",
    value: function _isDocumentEventOwner(target) {
      return target === this.portal || this.portal.contains(target);
    }
  }, {
    key: "_onDocumentMouseDown",
    value: function _onDocumentMouseDown(e) {
      if (this.props.onDocumentMouseDown) {
        this.props.onDocumentMouseDown(e, this._isDocumentEventOwner(e.target));
      }
    }
  }, {
    key: "_onDocumentMouseScroll",
    value: function _onDocumentMouseScroll(e) {
      if (this.props.onDocumentMouseScroll) {
        this.props.onDocumentMouseScroll(e, this._isDocumentEventOwner(e.target));
      }
    }
  }, {
    key: "renderPortal",
    value: function renderPortal() {
      react_dom__WEBPACK_IMPORTED_MODULE_6___default.a.render(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", Object(_utils__WEBPACK_IMPORTED_MODULE_9__["omit"])(this.props, ['onDocumentMouseDown', 'onDocumentMouseScroll']), this.props.children), this.portal);
    }
  }, {
    key: "render",
    value: function render() {
      return null;
    }
  }]);

  return Portal;
}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);

Portal.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.node,
  onDocumentMouseDown: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,
  onDocumentMouseScroll: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func
};
/* harmony default export */ __webpack_exports__["default"] = (Portal);

/***/ }),

/***/ "./src/common/ThrottleError.js":
/*!*************************************!*\
  !*** ./src/common/ThrottleError.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function ThrottleError() {
  Error.call(this);
  this.name = 'ThrottleError';
  this.message = 'Too many function call';
  this.stack = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getStack"])();
}

ThrottleError.prototype = Object.create(Error.prototype);
ThrottleError.prototype.constructor = ThrottleError;

ThrottleError.createWithParentStack = function (stack) {
  var err = new ThrottleError();
  err.stack += '\n' + stack;
  return err;
};

/* harmony default export */ __webpack_exports__["default"] = (ThrottleError);

/***/ }),

/***/ "./src/common/callbackify.js":
/*!***********************************!*\
  !*** ./src/common/callbackify.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

var functionsNames = [];
/* harmony default export */ __webpack_exports__["default"] = (function (func) {
  var hideWarning = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var funcName = func.name;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var lastArgumentIndex = args.length - 1;
    var cb = args[lastArgumentIndex];

    if (typeof cb === 'function' && !cb.__ignoreUIKernelWarning) {
      if (!functionsNames.includes(funcName) && !hideWarning) {
        Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["warn"])("You are using callback in: '".concat(funcName, "'. Use promise instead.\n").concat(JSON.stringify(args)));
        functionsNames.push(funcName);
      }

      var result = func.apply(this, args);

      if (result && result.then) {
        result.then(function (data) {
          cb(null, data);
        })["catch"](function (err) {
          cb(err);
        });
      }
    } else {
      return func.apply(this, args);
    }
  };
});

/***/ }),

/***/ "./src/common/defaultXhr.js":
/*!**********************************!*\
  !*** ./src/common/defaultXhr.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _variables__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./variables */ "./src/common/variables.js");
/* harmony import */ var xhr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! xhr */ "xhr");
/* harmony import */ var xhr__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(xhr__WEBPACK_IMPORTED_MODULE_1__);
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



function defaultXhr(settings) {
  return new Promise(function (resolve, reject) {
    xhr__WEBPACK_IMPORTED_MODULE_1___default()(settings, function (err, response, body) {
      if (response.statusCode === 200) {
        resolve(body);
        return;
      }

      if (!err) {
        err = new Error();
        err.statusCode = response.statusCode;
        err.message = 'Status Code: ' + err.statusCode;
      }

      if (body) {
        try {
          var parsedBody = JSON.parse(body);
          err.message = parsedBody.message || body;
        } catch (e) {
          err.message = body;
        }
      }

      reject(err);
    });
  });
}

if (!_variables__WEBPACK_IMPORTED_MODULE_0__["default"].get('xhr')) {
  _variables__WEBPACK_IMPORTED_MODULE_0__["default"].set('xhr', defaultXhr);
}

/* harmony default export */ __webpack_exports__["default"] = (function (settings) {
  return _variables__WEBPACK_IMPORTED_MODULE_0__["default"].get('xhr')(settings);
});

/***/ }),

/***/ "./src/common/setImmediate.js":
/*!************************************!*\
  !*** ./src/common/setImmediate.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */
if (typeof window !== 'undefined' && typeof window.setImmediate !== 'function') {
  window.setImmediate = function () {
    var head = {};
    var tail = head;
    var ID = Math.random();

    function onMessage(e) {
      if (e.data !== ID) {
        return;
      }

      head = head.next;
      var func = head.func;
      delete head.func;
      func();
    }

    if (window.addEventListener) {
      window.addEventListener('message', onMessage, false);
    } else {
      window.attachEvent('onmessage', onMessage);
    }

    return window.postMessage ? function (func) {
      tail = tail.next = {
        func: func
      };
      window.postMessage(ID, '*');
    } : function (func) {
      setTimeout(func, 0);
    };
  }();
}

/***/ }),

/***/ "./src/common/toPromise.js":
/*!*********************************!*\
  !*** ./src/common/toPromise.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

var functionsNames = [];

function toPromise(func, hideWarning) {
  var funcName = func.name;

  function promiseWarn(text) {
    if (!hideWarning) {
      if (!functionsNames.includes(funcName)) {
        Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["warn"])(text);
        functionsNames.push(funcName);
      }
    }
  }

  return function () {
    for (var _len = arguments.length, mainArguments = new Array(_len), _key = 0; _key < _len; _key++) {
      mainArguments[_key] = arguments[_key];
    }

    var promise;
    var callbackPromise = new Promise(function (resolve, reject) {
      function toPromiseCallback(err, data) {
        if (err) {
          return reject(err);
        }

        resolve(data);
      }

      toPromiseCallback.__ignoreUIKernelWarning = true;
      mainArguments.push(toPromiseCallback);
      promise = func.apply(void 0, mainArguments);
    });

    if (promise) {
      if (promise.then && promise["catch"]) {
        return promise;
      }

      promiseWarn("The return value is not a Promise in '".concat(funcName, "'.\n") + "Arguments: ".concat(JSON.stringify(mainArguments), "\n") + "Returns: ".concat(JSON.stringify(promise)));
      return callbackPromise;
    } else {
      promiseWarn("You are using callback in: '".concat(funcName, "'. Use promise instead.\n") + "Arguments: ".concat(JSON.stringify(mainArguments)));
      return callbackPromise;
    }
  };
}

/* harmony default export */ __webpack_exports__["default"] = (toPromise);

/***/ }),

/***/ "./src/common/utils.js":
/*!*****************************!*\
  !*** ./src/common/utils.js ***!
  \*****************************/
/*! exports provided: isIntersection, size, indexOf, throttle, parseValueFromEvent, Decorator, decorate, isEqual, clone, cloneDeep, isEmpty, isDefined, forEach, pluck, find, findIndex, omit, escape, zipObject, pick, mapKeys, reduce, union, at, pairs, toDate, without, last, getRecordChanges, getStack, warn, toEncodedString, asyncHandler, parents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIntersection", function() { return isIntersection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "size", function() { return size; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "indexOf", function() { return indexOf; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throttle", function() { return throttle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseValueFromEvent", function() { return parseValueFromEvent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Decorator", function() { return Decorator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "decorate", function() { return decorate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEqual", function() { return isEqual; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clone", function() { return clone; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cloneDeep", function() { return cloneDeep; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEmpty", function() { return isEmpty; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDefined", function() { return isDefined; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forEach", function() { return forEach; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pluck", function() { return pluck; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "find", function() { return find; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findIndex", function() { return findIndex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "omit", function() { return omit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "escape", function() { return escape; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "zipObject", function() { return zipObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pick", function() { return pick; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapKeys", function() { return mapKeys; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reduce", function() { return reduce; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "union", function() { return union; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "at", function() { return at; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pairs", function() { return pairs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toDate", function() { return toDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "without", function() { return without; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "last", function() { return last; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRecordChanges", function() { return getRecordChanges; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStack", function() { return getStack; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "warn", function() { return warn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toEncodedString", function() { return toEncodedString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "asyncHandler", function() { return asyncHandler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parents", function() { return parents; });
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "@babel/runtime/helpers/typeof");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "@babel/runtime/helpers/slicedToArray");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ThrottleError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ThrottleError */ "./src/common/ThrottleError.js");



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseClone(obj, isDeep) {
  var cloned;
  var es6types = ['[object Set]', '[object WeakSet]', '[object Map]', '[object WeakMap]'];

  if (!(obj instanceof Object) || obj instanceof Date || obj instanceof Function || obj instanceof RegExp) {
    return obj;
  }

  if (Array.isArray(obj)) {
    cloned = [];
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = obj[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var el = _step.value;
        cloned.push(isDeep ? baseClone(el, true) : el);
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator["return"] != null) {
          _iterator["return"]();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
  } else if (es6types.includes(obj.toString())) {
    cloned = new obj.constructor(obj);
  } else {
    cloned = {};

    for (var _i = 0, _Object$entries = Object.entries(obj); _i < _Object$entries.length; _i++) {
      var _Object$entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_Object$entries[_i], 2),
          field = _Object$entries$_i[0],
          value = _Object$entries$_i[1];

      cloned[field] = isDeep ? baseClone(value, true) : value;
    }
  }

  return cloned;
}
/**
 * Check if two arrays intersection exists
 */


function isIntersection(a, b) {
  var c;

  if (a.length > b.length) {
    c = a;
    a = b;
    b = c;
  }

  var _iteratorNormalCompletion2 = true;
  var _didIteratorError2 = false;
  var _iteratorError2 = undefined;

  try {
    for (var _iterator2 = a[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
      var el = _step2.value;

      if (indexOf(b, el) > -1) {
        return true;
      }
    }
  } catch (err) {
    _didIteratorError2 = true;
    _iteratorError2 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
        _iterator2["return"]();
      }
    } finally {
      if (_didIteratorError2) {
        throw _iteratorError2;
      }
    }
  }

  return false;
}
/**
 * Define object size
 *
 * @param   {Object}    obj     Object
 * @return  {number}    Object size
 */

function size(obj) {
  return Object.keys(obj).length;
}
/**
 * Element position (isEqual checking)
 *
 * @param   {Array}   arr   Array
 * @param   {*}       item  Element item
 * @return  {number}
 */

function indexOf(arr, item) {
  for (var i = 0; i < arr.length; i++) {
    if (isEqual(arr[i], item)) {
      return i;
    }
  }

  return -1;
}
function throttle(func) {
  var worked = false;
  var nextArguments;
  var nextResolve;
  var nextReject;
  return function () {
    if (typeof arguments[arguments.length - 1] === 'function') {
      return throttleCallback(func).apply(this, arguments);
    } else {
      return throttlePromise(func).apply(this, arguments);
    }
  }; // it is still used in FormMixin._validateForm so we can't remove it yet

  function throttleCallback(func) {
    return function run() {
      var ctx = this; // Function context

      var cb = arguments[arguments.length - 1];
      var argumentsArray = [].slice.call(arguments);

      if (worked) {
        // Set as the next call
        nextArguments = arguments;
        return;
      }

      worked = true;

      var cbWrapper = function cbWrapper() {
        if (!nextWorker() && typeof cb === 'function') {
          cb.apply(null, arguments);
        }
      };

      if (typeof cb === 'function') {
        argumentsArray[argumentsArray.length - 1] = cbWrapper;
        func.apply(this, argumentsArray.concat(nextWorker));
      } else {
        func.apply(this, argumentsArray.concat(cbWrapper, nextWorker));
      }

      function nextWorker() {
        worked = false;

        if (nextArguments) {
          var args = nextArguments;
          nextArguments = null;
          run.apply(ctx, args);
          return true;
        }

        return false;
      }
    };
  }

  function throttlePromise(func) {
    /**
     * @throws {ThrottleError} Too many function call
     */
    return function run() {
      var _this = this;

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      var parentStack = getStack(2);
      return new Promise(function (resolve, reject) {
        if (worked) {
          if (nextArguments) {
            nextReject(_ThrottleError__WEBPACK_IMPORTED_MODULE_2__["default"].createWithParentStack(parentStack));
          }

          nextArguments = args;
          nextResolve = resolve;
          nextReject = reject;
          return;
        }

        worked = true;
        func.apply(_this, args).then(function (result) {
          worked = false;

          if (nextArguments) {
            nextResolve(run.apply(_this, nextArguments));
            nextArguments = null;
            reject(_ThrottleError__WEBPACK_IMPORTED_MODULE_2__["default"].createWithParentStack(parentStack));
            return;
          }

          resolve(result);
        })["catch"](function (err) {
          worked = false;
          reject(err);
        });
      });
    };
  }
}
function parseValueFromEvent(event) {
  if (event && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(event) === 'object' && event.target && ['INPUT', 'TEXTAREA', 'SELECT'].indexOf(event.target.tagName) >= 0) {
    switch (event.target.type) {
      case 'checkbox':
        return event.target.checked;
    }

    return event.target.value;
  }

  return event;
}
function Decorator(obj, decor) {
  Object.assign(this, decor);

  for (var i in obj) {
    if (typeof obj[i] === 'function' && !decor[i]) {
      this[i] = obj[i].bind(obj);
    }
  }
}
function decorate(obj, decor) {
  Decorator.prototype = obj;
  return new Decorator(obj, decor);
}
/**
 * Checking at equals params
 *
 * @param a
 * @param b
 * @returns {boolean}
 */

function isEqual(a, b) {
  if (a === null || b === null || a === undefined || b === undefined || typeof a === 'function' || typeof b === 'function' || a instanceof RegExp || b instanceof RegExp) {
    return a === b;
  }

  if (a === b || a.valueOf() === b.valueOf() || a !== a && b !== b) {
    return true;
  }

  if (Array.isArray(a) && (!Array.isArray(b) || a.length !== b.length) || !(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(a) === 'object')) {
    return false;
  }

  var p = Object.keys(a);
  return Object.keys(b).every(function (i) {
    return p.indexOf(i) >= 0;
  }) && p.every(function (i) {
    return isEqual(a[i], b[i]);
  });
}
/**
 * Clone object
 *
 * @param obj
 * @returns {*}
 */

function clone(obj) {
  return baseClone(obj, false);
}
function cloneDeep(obj) {
  return baseClone(obj, true);
}
function isEmpty(value) {
  if (!value) {
    return true;
  }

  if (Array.isArray(value)) {
    return value.length === 0;
  }

  if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(value) === 'object') {
    return Object.keys(value).length === 0;
  }

  if (typeof value === 'string') {
    return value.trim().length === 0;
  }

  return false;
}
function isDefined(value) {
  return value !== null && value !== undefined;
}
function forEach(obj, func, ctx) {
  for (var i in obj) {
    func.call(ctx, obj[i], i);
  }
}
function pluck(arr, field) {
  return arr.map(function (item) {
    return item[field];
  });
}
function find(arr, func) {
  for (var i in arr) {
    if (func(arr[i], i)) {
      return arr[i];
    }
  }

  return null;
}
function findIndex(obj, func) {
  for (var i in obj) {
    if (func(obj[i], i)) {
      return i;
    }
  }

  return -1;
}
function omit(obj, predicate) {
  var result = {};

  for (var _i2 = 0, _Object$entries2 = Object.entries(obj); _i2 < _Object$entries2.length; _i2++) {
    var _Object$entries2$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_Object$entries2[_i2], 2),
        field = _Object$entries2$_i[0],
        value = _Object$entries2$_i[1];

    if (typeof predicate === 'string' && predicate !== field || Array.isArray(predicate) && !predicate.includes(field) || typeof predicate === 'function' && !predicate(value, field)) {
      result[field] = value;
    }
  }

  return result;
}
function escape(string) {
  var reUnescaped = /[&<>"'`]/g;
  var escapes = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    '\'': '&#39;',
    '`': '&#96;'
  };
  string = "".concat(string === null ? '' : string.toString());

  if (string && reUnescaped.test(string)) {
    return string.replace(reUnescaped, function (chr) {
      return escapes[chr];
    });
  }

  return string;
}
function zipObject(keys, values) {
  var result = {};

  for (var i = 0; i < keys.length; i++) {
    result[keys[i]] = values[i];
  }

  return result;
}
function pick(obj, keys, defaultValue) {
  return keys.reduce(function (result, key) {
    if (obj.hasOwnProperty(key)) {
      result[key] = obj[key];
    } else if (defaultValue !== undefined) {
      result[key] = defaultValue;
    }

    return result;
  }, {});
}
function mapKeys(object, iteratee) {
  var result = {};

  for (var _i3 = 0, _Object$entries3 = Object.entries(object); _i3 < _Object$entries3.length; _i3++) {
    var _Object$entries3$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_Object$entries3[_i3], 2),
        key = _Object$entries3$_i[0],
        value = _Object$entries3$_i[1];

    result[iteratee(value, key)] = value;
  }

  return result;
}
function reduce(obj, func, value) {
  for (var i in obj) {
    value = func(value, obj[i], i);
  }

  return value;
}
function union() {
  var elements = {};

  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }

  for (var _i4 = 0, _args = args; _i4 < _args.length; _i4++) {
    var arg = _args[_i4];
    var _iteratorNormalCompletion3 = true;
    var _didIteratorError3 = false;
    var _iteratorError3 = undefined;

    try {
      for (var _iterator3 = arg[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
        var el = _step3.value;
        elements[el] = el;
      }
    } catch (err) {
      _didIteratorError3 = true;
      _iteratorError3 = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion3 && _iterator3["return"] != null) {
          _iterator3["return"]();
        }
      } finally {
        if (_didIteratorError3) {
          throw _iteratorError3;
        }
      }
    }
  }

  return Object.values(elements);
}
function at(obj, keys) {
  var result = [];

  if (!Array.isArray(keys)) {
    return [obj[keys]];
  }

  var _iteratorNormalCompletion4 = true;
  var _didIteratorError4 = false;
  var _iteratorError4 = undefined;

  try {
    for (var _iterator4 = keys[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
      var key = _step4.value;
      result.push(obj[key]);
    }
  } catch (err) {
    _didIteratorError4 = true;
    _iteratorError4 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion4 && _iterator4["return"] != null) {
        _iterator4["return"]();
      }
    } finally {
      if (_didIteratorError4) {
        throw _iteratorError4;
      }
    }
  }

  return result;
}
function pairs(obj) {
  var result = [];

  for (var i in obj) {
    result.push([i, obj[i]]);
  }

  return result;
}
function toDate(value) {
  var date;

  if (typeof value === 'number') {
    return new Date(value);
  }

  if (typeof value === 'string') {
    date = new Date(value);
    date.setTime(date.getTime() + date.getTimezoneOffset() * 60 * 1000); // Convert UTC to local time

    return date;
  }

  return new Date(value);
}
function without(arr, el) {
  var result = [];

  for (var i = 0; i < arr.length; i++) {
    if (Array.isArray(el) ? indexOf(el, arr[i]) > -1 : isEqual(arr[i], el)) {
      continue;
    }

    result.push(arr[i]);
  }

  return result;
}
function last(arr) {
  return arr[arr.length - 1];
}
function getRecordChanges(model, data, changes, newChanges) {
  var result = Object.assign({}, changes, newChanges);

  for (var i in result) {
    if (isEqual(data[i], result[i])) {
      delete result[i];
    }
  }

  Object.assign(result, pick(data, model.getValidationDependency(Object.keys(result))));
  return result;
}
function getStack() {
  var deep = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  // We add here try..catch because in IE Error.stack is available only
  // for thrown errors: https://msdn.microsoft.com/ru-ru/library/windows/apps/hh699850.aspx
  var stack = '';
  var stackTraceLimitDefault = Error.stackTraceLimit;
  Error.stackTraceLimit = deep + 12;

  try {
    throw new Error();
  } catch (e) {
    if (e.stack) {
      // Error.stack is unavailable in old browsers
      stack = e.stack.split('\n').slice(2 + deep) // Here we delete rows 'Error' and 'at getStack(utils.js:427)'
      .join('\n');
    }
  }

  Error.stackTraceLimit = stackTraceLimitDefault;
  return stack;
}
function warn(message) {
  console.warn(message, '\n', getStack(1));
}
function toEncodedString(value) {
  return encodeURIComponent(typeof value === 'string' ? value : JSON.stringify(value));
}
function asyncHandler(router) {
  return function (req, res, next) {
    var promise = router(req, res, next);

    if (promise && promise.then) {
      return promise["catch"](next);
    }

    next(new Error('asyncHandler expected to take async function.'));
  };
}
function parents(element, selector) {
  var result = [];

  while (element = element.parentElement) {
    if (element.matches(selector)) {
      result.push(element);
    }
  }

  return result;
}

/***/ }),

/***/ "./src/common/validation/ValidationErrors.js":
/*!***************************************************!*\
  !*** ./src/common/validation/ValidationErrors.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "@babel/runtime/helpers/slicedToArray");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "@babel/runtime/helpers/toConsumableArray");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__);






/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */
var ValidationErrors =
/*#__PURE__*/
function () {
  /**
   * Field errors control manager
   * @constructor
   */
  function ValidationErrors() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ValidationErrors);

    this._fields = new Map();
  }
  /**
   * Convert JSON to ValidationErrors object
   *
   * @param   {{:string[]}}      jsonObject
   * @return  {ValidationErrors}
   * @static
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ValidationErrors, [{
    key: "add",

    /**
     * Add an error
     *
     * @param {string}                  field       Field name
     * @param {string|{string message}} error       Error text
     * @return {ValidationErrors}
     */
    value: function add(field, error) {
      error = this._formErrorValue(error);

      if (!this._fields.has(field)) {
        this._fields.set(field, [error]);

        return this;
      }

      var fieldErrors = this._fields.get(field);

      if (!fieldErrors.includes(error)) {
        fieldErrors.push(error);
      }

      return this;
    }
    /**
     * Field has error flag
     *
     * @param   {string}      field     Field name
     * @returns {boolean}
     */

  }, {
    key: "hasError",
    value: function hasError(field) {
      return this._fields.has(field);
    }
    /**
     * Get field errors
     *
     * @param   {string}      field     Field name
     * @returns {Array|null}  Errors array or null
     */

  }, {
    key: "getFieldErrors",
    value: function getFieldErrors(field) {
      return this._fields.get(field) || null;
    }
    /**
     * Get field errors message
     *
     * @param   {string}      field     Field name
     * @returns {Array|null}  Errors array or null
     */

  }, {
    key: "getFieldErrorMessages",
    value: function getFieldErrorMessages(field) {
      var fieldErrors = this._fields.get(field);

      if (fieldErrors) {
        return fieldErrors.map(function (error) {
          return error.message;
        });
      }

      return null;
    }
    /**
     * Get field names array, that contain errors
     *
     * @returns {string[]|null}
     */

  }, {
    key: "getFailedFields",
    value: function getFailedFields() {
      var fields = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(this._fields.keys());

      return fields.length ? fields : null;
    }
    /**
     * Errors absence check
     *
     * @returns {boolean} Errors presence
     */

  }, {
    key: "isEmpty",
    value: function isEmpty() {
      return this._fields.size === 0;
    }
    /**
     * Clear specific field errors
     *
     * @param   {string}  field  Field name
     * @returns {ValidationErrors}
     */

  }, {
    key: "clearField",
    value: function clearField(field) {
      this._fields["delete"](field);

      return this;
    }
    /**
     * Clear errors list
     *
     * @return {ValidationErrors}
     */

  }, {
    key: "clear",
    value: function clear() {
      this._fields = new Map();
      return this;
    }
    /**
     * Convert errors to JSON
     *
     * @return {{[string]: Array<string>}}
     */

  }, {
    key: "toJSON",
    value: function toJSON() {
      var json = {};
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = this._fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _step$value = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_step.value, 2),
              key = _step$value[0],
              value = _step$value[1];

          json[key] = value;
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator["return"] != null) {
            _iterator["return"]();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return json;
    }
    /**
     * Clone object
     *
     * @return {ValidationErrors}
     */

  }, {
    key: "clone",
    value: function clone() {
      return ValidationErrors.createFromJSON(this.toJSON());
    }
    /**
     * Merge object
     *
     * @return {ValidationErrors}
     */

  }, {
    key: "merge",
    value: function merge(validationErrors) {
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = validationErrors.getErrors()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var _errors;

          var _step2$value = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_step2.value, 2),
              field = _step2$value[0],
              newErrors = _step2$value[1];

          var errors = this._fields.get(field);

          if (!errors) {
            errors = [];

            this._fields.set(field, errors);
          }

          (_errors = errors).push.apply(_errors, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(newErrors));
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
            _iterator2["return"]();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }

      return this;
    }
    /**
     * Get errors iterator
     *
     * @return {[string, string[]][]}
     */

  }, {
    key: "getErrors",
    value: function getErrors() {
      return this._fields;
    }
  }, {
    key: "_formErrorValue",
    value: function _formErrorValue(error) {
      if (typeof error === 'string') {
        return {
          message: error
        };
      }

      if (!error.message) {
        throw new Error('Invalid error value. Error must be string or object with "message" property.');
      }

      return error;
    }
  }], [{
    key: "createFromJSON",
    value: function createFromJSON(jsonObject) {
      var validationErrors = new ValidationErrors();

      var _loop = function _loop() {
        var _Object$entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_Object$entries[_i], 2),
            key = _Object$entries$_i[0],
            value = _Object$entries$_i[1];

        value.forEach(function (errMessage) {
          return validationErrors.add(key, errMessage);
        });
      };

      for (var _i = 0, _Object$entries = Object.entries(jsonObject); _i < _Object$entries.length; _i++) {
        _loop();
      }

      return validationErrors;
    }
    /**
     * Create ValidationErrors object with one error
     *
     * @param {string}                  field
     * @param {string|{error: string}}  error
     * @return {ValidationErrors}
     */

  }, {
    key: "createWithError",
    value: function createWithError(field, error) {
      var validationErrors = new ValidationErrors();
      validationErrors.add(field, error);
      return validationErrors;
    }
  }]);

  return ValidationErrors;
}();

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default()(ValidationErrors, "merge", function () {
  var jsonErrors = [{}];

  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  for (var _i2 = 0, _args = args; _i2 < _args.length; _i2++) {
    var arg = _args[_i2];
    jsonErrors.push(arg.toJSON());
  } // TODO Need deep merge


  return ValidationErrors.createFromJSON(Object.assign.apply(Object, jsonErrors));
});

/* harmony default export */ __webpack_exports__["default"] = (ValidationErrors);

/***/ }),

/***/ "./src/common/validation/Validator.js":
/*!********************************************!*\
  !*** ./src/common/validation/Validator.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "@babel/runtime/helpers/slicedToArray");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _ValidationErrors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _ArgumentsError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ArgumentsError */ "./src/common/ArgumentsError.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils */ "./src/common/utils.js");






/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var Validator =
/*#__PURE__*/
function () {
  /**
   * Validation check model
   *
   * @constructor
   */
  function Validator() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, Validator);

    this._settings = {
      validators: {},
      groupValidators: [],
      asyncValidators: {},
      asyncGroupValidators: [],
      asyncDependenies: []
    };
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(Validator, [{
    key: "field",

    /**
     * Add field sync validators
     *
     * @param {string}      field       Field name
     * @param {...Function} validators  Field validators
     * @returns {Validator} validator
     */
    value: function field(_field) {
      if (!this._settings.validators[_field]) {
        this._settings.validators[_field] = [];
      }

      for (var _len = arguments.length, validators = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        validators[_key - 1] = arguments[_key];
      }

      this._settings.validators[_field] = this._settings.validators[_field].concat(validators);
      return this;
    }
    /**
     * Specify multiple sync validators for fields group
     *
     * @param {Array}      fields              Fields array
     * @param {Function}   validatorFunction   Validator function
     * @returns {Validator} validator
     */

  }, {
    key: "fields",
    value: function fields(_fields, validatorFunction) {
      this._settings.groupValidators.push({
        fields: _fields,
        fn: validatorFunction
      });

      return this;
    }
    /**
     * Point which fields server validation needs
     *
     * @param {Array}   fields   Fields array
     * @returns {Validator} validator
     */

  }, {
    key: "asyncDependence",
    value: function asyncDependence(fields) {
      this._settings.asyncDependenies.push(fields);

      return this;
    }
    /**
     * Add field async validators
     *
     * @param {string}     field               Field name
     * @param {Function}   validatorFunction   Validator function
     * @returns {Validator} validator
     */

  }, {
    key: "asyncField",
    value: function asyncField(field, validatorFunction) {
      if (!this._settings.asyncValidators[field]) {
        this._settings.asyncValidators[field] = [];
      }

      this._settings.asyncValidators[field].push(validatorFunction);

      return this;
    }
    /**
     * Specify multiple async validators for fields group
     *
     * @param {Array}      fields              Fields array
     * @param {Function}   validatorFunction   Validator function
     * @returns {Validator} validator
     */

  }, {
    key: "asyncFields",
    value: function asyncFields(fields, validatorFunction) {
      this._settings.asyncGroupValidators.push({
        fields: fields,
        fn: validatorFunction
      });

      return this;
    }
    /**
     * Get all dependent fields validation needs
     *
     * @param {Array}   fields    Fields array
     * @returns {Array} fields
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      var result = [];
      var length;
      var groups = Object(_utils__WEBPACK_IMPORTED_MODULE_7__["pluck"])(this._settings.groupValidators.concat(this._settings.asyncGroupValidators), 'fields').concat(this._settings.asyncDependenies);

      while (length !== result.length) {
        length = result.length;

        for (var i = 0; i < groups.length; i++) {
          if (!Object(_utils__WEBPACK_IMPORTED_MODULE_7__["isIntersection"])(groups[i], fields) && !Object(_utils__WEBPACK_IMPORTED_MODULE_7__["isIntersection"])(groups[i], result)) {
            continue;
          }

          for (var j = 0; j < groups[i].length; j++) {
            var field = groups[i][j];

            if (fields.indexOf(field) >= 0 || result.indexOf(field) >= 0) {
              continue;
            }

            result.push(field);
          }
        }
      }

      return result;
    }
    /**
     * Check client record validity
     *
     * @param {Object}  record   Record
     * @returns {ValidationErrors|null} Record validity
     */

  }, {
    key: "isValidRecord",
    value: function () {
      var _isValidRecord = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(record) {
        var fields, errors, awaitStack, promises, dependentFields, _i, _Object$entries, _Object$entries$_i, _field2, value, validators, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, validator, _error, asyncValidators, _iteratorNormalCompletion4, _didIteratorError4, _iteratorError4, _iterator4, _step4, asyncValidator, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, groupValidator, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, asyncGroupValidator, asyncErrors, error, field;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                fields = Object.keys(record);
                errors = new _ValidationErrors__WEBPACK_IMPORTED_MODULE_5__["default"]();
                awaitStack = [];
                promises = [];
                dependentFields = this.getValidationDependency(fields);

                if (!dependentFields.length) {
                  _context.next = 7;
                  break;
                }

                throw new _ArgumentsError__WEBPACK_IMPORTED_MODULE_6__["default"]('Not enough fields for validator: ' + dependentFields.join(', '));

              case 7:
                _i = 0, _Object$entries = Object.entries(record);

              case 8:
                if (!(_i < _Object$entries.length)) {
                  _context.next = 66;
                  break;
                }

                _Object$entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_Object$entries[_i], 2), _field2 = _Object$entries$_i[0], value = _Object$entries$_i[1];
                validators = this._settings.validators[_field2];

                if (!validators) {
                  _context.next = 31;
                  break;
                }

                _iteratorNormalCompletion3 = true;
                _didIteratorError3 = false;
                _iteratorError3 = undefined;
                _context.prev = 15;

                for (_iterator3 = validators[Symbol.iterator](); !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                  validator = _step3.value;
                  _error = validator(value);

                  if (_error) {
                    errors.add(_field2, _error);
                  }
                }

                _context.next = 23;
                break;

              case 19:
                _context.prev = 19;
                _context.t0 = _context["catch"](15);
                _didIteratorError3 = true;
                _iteratorError3 = _context.t0;

              case 23:
                _context.prev = 23;
                _context.prev = 24;

                if (!_iteratorNormalCompletion3 && _iterator3["return"] != null) {
                  _iterator3["return"]();
                }

              case 26:
                _context.prev = 26;

                if (!_didIteratorError3) {
                  _context.next = 29;
                  break;
                }

                throw _iteratorError3;

              case 29:
                return _context.finish(26);

              case 30:
                return _context.finish(23);

              case 31:
                asyncValidators = this._settings.asyncValidators[_field2];

                if (!asyncValidators) {
                  _context.next = 63;
                  break;
                }

                _iteratorNormalCompletion4 = true;
                _didIteratorError4 = false;
                _iteratorError4 = undefined;
                _context.prev = 36;
                _iterator4 = asyncValidators[Symbol.iterator]();

              case 38:
                if (_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done) {
                  _context.next = 49;
                  break;
                }

                asyncValidator = _step4.value;
                awaitStack.push(_field2);
                _context.t1 = promises;
                _context.next = 44;
                return asyncValidator(value);

              case 44:
                _context.t2 = _context.sent;

                _context.t1.push.call(_context.t1, _context.t2);

              case 46:
                _iteratorNormalCompletion4 = true;
                _context.next = 38;
                break;

              case 49:
                _context.next = 55;
                break;

              case 51:
                _context.prev = 51;
                _context.t3 = _context["catch"](36);
                _didIteratorError4 = true;
                _iteratorError4 = _context.t3;

              case 55:
                _context.prev = 55;
                _context.prev = 56;

                if (!_iteratorNormalCompletion4 && _iterator4["return"] != null) {
                  _iterator4["return"]();
                }

              case 58:
                _context.prev = 58;

                if (!_didIteratorError4) {
                  _context.next = 61;
                  break;
                }

                throw _iteratorError4;

              case 61:
                return _context.finish(58);

              case 62:
                return _context.finish(55);

              case 63:
                _i++;
                _context.next = 8;
                break;

              case 66:
                // Add sync and async group validators
                _iteratorNormalCompletion = true;
                _didIteratorError = false;
                _iteratorError = undefined;
                _context.prev = 69;

                for (_iterator = this._settings.groupValidators[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  groupValidator = _step.value;

                  if (Object(_utils__WEBPACK_IMPORTED_MODULE_7__["isIntersection"])(groupValidator.fields, fields)) {
                    groupValidator.fn(record, errors);
                  }
                }

                _context.next = 77;
                break;

              case 73:
                _context.prev = 73;
                _context.t4 = _context["catch"](69);
                _didIteratorError = true;
                _iteratorError = _context.t4;

              case 77:
                _context.prev = 77;
                _context.prev = 78;

                if (!_iteratorNormalCompletion && _iterator["return"] != null) {
                  _iterator["return"]();
                }

              case 80:
                _context.prev = 80;

                if (!_didIteratorError) {
                  _context.next = 83;
                  break;
                }

                throw _iteratorError;

              case 83:
                return _context.finish(80);

              case 84:
                return _context.finish(77);

              case 85:
                _iteratorNormalCompletion2 = true;
                _didIteratorError2 = false;
                _iteratorError2 = undefined;
                _context.prev = 88;
                _iterator2 = this._settings.asyncGroupValidators[Symbol.iterator]();

              case 90:
                if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {
                  _context.next = 102;
                  break;
                }

                asyncGroupValidator = _step2.value;

                if (!Object(_utils__WEBPACK_IMPORTED_MODULE_7__["isIntersection"])(asyncGroupValidator.fields, fields)) {
                  _context.next = 99;
                  break;
                }

                awaitStack.push(null);
                _context.t5 = promises;
                _context.next = 97;
                return asyncGroupValidator.fn(record, errors);

              case 97:
                _context.t6 = _context.sent;

                _context.t5.push.call(_context.t5, _context.t6);

              case 99:
                _iteratorNormalCompletion2 = true;
                _context.next = 90;
                break;

              case 102:
                _context.next = 108;
                break;

              case 104:
                _context.prev = 104;
                _context.t7 = _context["catch"](88);
                _didIteratorError2 = true;
                _iteratorError2 = _context.t7;

              case 108:
                _context.prev = 108;
                _context.prev = 109;

                if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
                  _iterator2["return"]();
                }

              case 111:
                _context.prev = 111;

                if (!_didIteratorError2) {
                  _context.next = 114;
                  break;
                }

                throw _iteratorError2;

              case 114:
                return _context.finish(111);

              case 115:
                return _context.finish(108);

              case 116:
                _context.next = 118;
                return Promise.all(promises);

              case 118:
                asyncErrors = _context.sent;

                while (asyncErrors.length) {
                  error = asyncErrors.pop();
                  field = awaitStack.pop();

                  if (error && field) {
                    errors.add(field, error);
                  }
                }

                return _context.abrupt("return", errors);

              case 121:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[15, 19, 23, 31], [24,, 26, 30], [36, 51, 55, 63], [56,, 58, 62], [69, 73, 77, 85], [78,, 80, 84], [88, 104, 108, 116], [109,, 111, 115]]);
      }));

      function isValidRecord(_x) {
        return _isValidRecord.apply(this, arguments);
      }

      return isValidRecord;
    }()
  }], [{
    key: "create",
    value: function create() {
      return new Validator();
    }
  }]);

  return Validator;
}();

/* harmony default export */ __webpack_exports__["default"] = (Validator);

/***/ }),

/***/ "./src/common/validation/rules/boolean.js":
/*!************************************************!*\
  !*** ./src/common/validation/rules/boolean.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, error, value) {
  error = error || 'Not boolean';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(value)) {
    if (notNull) {
      return error;
    }

    return;
  }

  if (typeof value !== 'boolean') {
    return error;
  }
}
/**
 * Create boolean validator
 *
 * @param {string} error Error message
 * @returns {Function} Validator
 */


var validator = function validator(error) {
  return baseValidator.bind(null, false, error);
};

validator.notNull = function (error) {
  return baseValidator.bind(null, true, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/validation/rules/date.js":
/*!*********************************************!*\
  !*** ./src/common/validation/rules/date.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "@babel/runtime/helpers/typeof");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");


/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, min, max, error, value) {
  error = error || 'Invalid date';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_1__["isDefined"])(value)) {
    if (notNull) {
      return error;
    }

    return;
  }

  var typeOfValue = _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(value);

  if (typeOfValue !== 'number' && typeOfValue !== 'string' && !(value instanceof Date)) {
    return error;
  }

  value = Object(_utils__WEBPACK_IMPORTED_MODULE_1__["toDate"])(value);

  if (isNaN(value)) {
    return error;
  }

  if (min && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["toDate"])(min) > value) {
    return error;
  }

  if (max && Object(_utils__WEBPACK_IMPORTED_MODULE_1__["toDate"])(max) < value) {
    return error;
  }
}
/**
 * Create date validator
 *
 * @param {Date}    [min]   Min date
 * @param {Date}    [max]   Max date
 * @param {string}  error   Error message
 * @returns {Function} Validator
 */


var validator = function validator(min, max, error) {
  return baseValidator.bind(null, false, min, max, error);
};

validator.notNull = function (min, max, error) {
  return baseValidator.bind(null, true, min, max, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/validation/rules/enum.js":
/*!*********************************************!*\
  !*** ./src/common/validation/rules/enum.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, variants, error, value) {
  error = error || 'Not in variants';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(value)) {
    if (notNull) {
      return error;
    }

    return;
  }

  if (variants.indexOf(value) < 0) {
    return error;
  }
}
/**
 * Create enum validator
 *
 * @param variants
 * @param {string} error Error message
 * @returns {Function}
 */


var validator = function validator(variants, error) {
  return baseValidator.bind(null, false, variants, error);
};

validator.notNull = function (variants, error) {
  return baseValidator.bind(null, true, variants, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/validation/rules/float.js":
/*!**********************************************!*\
  !*** ./src/common/validation/rules/float.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, min, max, error, value) {
  error = error || 'Invalid float';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(value)) {
    if (notNull) {
      return error;
    }

    return;
  }

  if (typeof value !== 'number' || isNaN(value) || !isFinite(value) || typeof min === 'number' && value < min || typeof max === 'number' && value > max) {
    return error;
  }
}
/**
 * Create float validator
 *
 * @param min
 * @param max
 * @param {string} error Error message
 * @returns {Function}
 */


var validator = function validator(min, max, error) {
  return baseValidator.bind(null, false, min, max, error);
};

validator.notNull = function (min, max, error) {
  return baseValidator.bind(null, true, min, max, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/validation/rules/notEmpty.js":
/*!*************************************************!*\
  !*** ./src/common/validation/rules/notEmpty.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Check if value is not empty string, array and object. Not null, undefined, 0
 *
 * @param {string} [error="Can not be empty"] Error message
 * @returns {Function}
 */

/* harmony default export */ __webpack_exports__["default"] = (function (error) {
  error = error || 'Can not be empty';
  return function (value) {
    if (Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(value) || typeof value === 'number' && (isNaN(value) || !isFinite(value))) {
      return error;
    }
  };
});

/***/ }),

/***/ "./src/common/validation/rules/notNull.js":
/*!************************************************!*\
  !*** ./src/common/validation/rules/notNull.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Create NULL validator
 *
 * @param {string} [error = "Can not be empty"] Error message
 * @returns {Function}
 */

/* harmony default export */ __webpack_exports__["default"] = (function (error) {
  error = error || 'Can not be empty';
  return function (value) {
    if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(value) || value === '' || typeof value === 'number' && (isNaN(value) || !isFinite(value))) {
      return error;
    }
  };
});

/***/ }),

/***/ "./src/common/validation/rules/number.js":
/*!***********************************************!*\
  !*** ./src/common/validation/rules/number.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, min, max, error, value) {
  error = error || 'Invalid number';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(value)) {
    if (notNull) {
      return error;
    }

    return;
  }

  if (typeof value !== 'number' || isNaN(value) || parseInt(value, 10).toString() !== value.toString() || typeof min === 'number' && value < min || typeof max === 'number' && value > max) {
    return error;
  }
}
/**
 * Create range Number validator
 *
 * @param min
 * @param max
 * @param {string} error Error message
 * @returns {Function}
 */


var validator = function validator(min, max, error) {
  return baseValidator.bind(null, false, min, max, error);
};

validator.notNull = function (min, max, error) {
  return baseValidator.bind(null, true, min, max, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/validation/rules/regExp.js":
/*!***********************************************!*\
  !*** ./src/common/validation/rules/regExp.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, regExp, error, value) {
  error = error || 'Invalid value';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(value) || value === '') {
    if (notNull) {
      return error;
    }

    return;
  }

  if (typeof value !== 'string' || !regExp.test(value)) {
    return error;
  }
}
/**
 * Create RegEx validator
 *
 * @param regExp
 * @param {string} error Error message
 * @returns {Function}
 */


var validator = function validator(regExp, error) {
  return baseValidator.bind(null, false, regExp, error);
};

validator.notNull = function (regExp, error) {
  return baseValidator.bind(null, true, regExp, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/validation/rules/set.js":
/*!********************************************!*\
  !*** ./src/common/validation/rules/set.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function baseValidator(notNull, variants, error, values) {
  error = error || 'Not in variants';

  if (!Object(_utils__WEBPACK_IMPORTED_MODULE_0__["isDefined"])(values) || !values.length) {
    if (notNull) {
      return error;
    }

    return;
  }

  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var value = _step.value;

      if (variants.indexOf(value) < 0) {
        return error;
      }
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator["return"] != null) {
        _iterator["return"]();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }
}
/**
 * Create set validator
 *
 * @param variants
 * @param {string} error Error message
 * @returns {Function}
 */


var validator = function validator(variants, error) {
  return baseValidator.bind(null, false, variants, error);
};

validator.notNull = function (variants, error) {
  return baseValidator.bind(null, true, variants, error);
};

/* harmony default export */ __webpack_exports__["default"] = (validator);

/***/ }),

/***/ "./src/common/variables.js":
/*!*********************************!*\
  !*** ./src/common/variables.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */
var variables = {};
/* harmony default export */ __webpack_exports__["default"] = ({
  get: function get(key) {
    return variables[key];
  },
  set: function set(key, value) {
    variables[key] = value;
  }
});

/***/ }),

/***/ "./src/editors/Checkbox.js":
/*!*********************************!*\
  !*** ./src/editors/Checkbox.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ "@babel/runtime/helpers/objectWithoutProperties");
/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



function Checkbox(props) {
  var indeterminate = props.indeterminate,
      otherProps = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1___default()(props, ["indeterminate"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, otherProps, {
    type: "checkbox",
    ref: function ref(input) {
      if (input) {
        input.indeterminate = indeterminate;
      }
    }
  }));
}

Checkbox.propTypes = {
  indeterminate: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (Checkbox);

/***/ }),

/***/ "./src/editors/DatePicker.js":
/*!***********************************!*\
  !*** ./src/editors/DatePicker.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_datepicker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-datepicker */ "react-datepicker");
/* harmony import */ var react_datepicker__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_datepicker__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ "moment");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */






var DatePickerEditor =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(DatePickerEditor, _React$Component);

  function DatePickerEditor() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, DatePickerEditor);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(DatePickerEditor).apply(this, arguments));
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(DatePickerEditor, [{
    key: "onChange",
    value: function onChange(date) {
      if (date) {
        date = date.format(this.props.format);
      }

      this.props.onChange(date);
    }
  }, {
    key: "render",
    value: function render() {
      var otherProps = Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["omit"])(this.props, ['textFormat', 'value', 'onChange', 'min', 'max']);
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_datepicker__WEBPACK_IMPORTED_MODULE_8___default.a, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, otherProps, {
        dateFormat: this.props.textFormat,
        selected: this.props.value && moment__WEBPACK_IMPORTED_MODULE_9___default()(this.props.value),
        onChange: this.onChange.bind(this),
        minDate: this.props.min && moment__WEBPACK_IMPORTED_MODULE_9___default()(this.props.min),
        maxDate: this.props.max && moment__WEBPACK_IMPORTED_MODULE_9___default()(this.props.max),
        todayButton: 'Today'
      }));
    }
  }]);

  return DatePickerEditor;
}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(DatePickerEditor, "propTypes", {
  format: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,
  textFormat: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string,
  min: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any,
  max: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any,
  value: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any,
  show: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool,
  onBlur: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired
});

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(DatePickerEditor, "defaultProps", {
  textFormat: 'YYYY-MM-DD'
});

/* harmony default export */ __webpack_exports__["default"] = (DatePickerEditor);

/***/ }),

/***/ "./src/editors/Number.js":
/*!*******************************!*\
  !*** ./src/editors/Number.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_validation_rules_float__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/validation/rules/float */ "./src/common/validation/rules/float.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */





var isInvalidFloat = Object(_common_validation_rules_float__WEBPACK_IMPORTED_MODULE_7__["default"])(null, null, true);

var NumberEditor =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(NumberEditor, _React$Component);

  function NumberEditor(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, NumberEditor);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(NumberEditor).call(this, props));
    _this.state = {
      value: props.value
    };
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(NumberEditor, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_8__["isEqual"])(this.state.value, nextProps.value)) {
        Object(react_dom__WEBPACK_IMPORTED_MODULE_9__["findDOMNode"])(this.input).value = this.state.value = nextProps.value;
      }
    }
  }, {
    key: "_onChangeHandler",
    value: function _onChangeHandler(e) {
      var target = e.target;
      var valueAsNumber = parseFloat(target.value); // Edge doesn't support "target.valueAsNumber"

      if (target.value === '' && target.validity.valid) {
        // Invalid number set empty string and valid=false to event
        this.state.value = null;
      } else if (isInvalidFloat(valueAsNumber)) {
        this.state.value = '';
      } else {
        this.state.value = valueAsNumber;
      }

      this.props.onChange(this.state.value);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        step: "any"
      }, Object(_common_utils__WEBPACK_IMPORTED_MODULE_8__["omit"])(this.props, 'value'), {
        type: "number",
        ref: function ref(input) {
          return _this2.input = input;
        },
        onChange: this._onChangeHandler.bind(this),
        defaultValue: this.props.value
      }));
    }
  }]);

  return NumberEditor;
}(react__WEBPACK_IMPORTED_MODULE_10___default.a.Component);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(NumberEditor, "propTypes", {
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired,
  value: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.number, // String should be allowed, because when we start typing negative number,
  // there is appearing a warning in console after '-' symbol
  prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.string])
});

/* harmony default export */ __webpack_exports__["default"] = (NumberEditor);

/***/ }),

/***/ "./src/editors/Select.js":
/*!*******************************!*\
  !*** ./src/editors/Select.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var SelectEditor =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(SelectEditor, _React$Component);

  function SelectEditor(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, SelectEditor);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(SelectEditor).call(this, props));
    _this.state = {
      options: props.options,
      loading: Boolean(props.model)
    };
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(SelectEditor, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      if (this.props.model) {
        this.props.model.read('').then(function (data) {
          data.unshift([null, '']);

          _this2.setState({
            options: data,
            loading: false
          });
        })["catch"](function (err) {
          console.error(err);
        });
      }
    }
  }, {
    key: "getOptions",
    value: function getOptions() {
      return this.props.model ? this.state.options : this.props.options;
    }
  }, {
    key: "handleChange",
    value: function handleChange(e) {
      var option = this.getOptions()[e.target.value];

      if (!(option instanceof Array)) {
        option = [option, option];
      }

      this.props.onChange(option[0]);

      if (this.props.onLabelChange) {
        this.props.onLabelChange(option[1]);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var options = this.getOptions();
      var valueIndex = Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["findIndex"])(options, function (option) {
        return Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["isEqual"])(option instanceof Array ? option[0] : option, _this3.props.value);
      });
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("select", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["omit"])(this.props, ['value', 'options']), {
        value: valueIndex,
        onChange: this.handleChange.bind(this),
        disabled: this.props.disabled || this.state.loading
      }), options.map(function (item, index) {
        var optionProps = item instanceof Array && item[2] instanceof Object ? item[2] : {};
        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("option", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
          key: index,
          value: index
        }, optionProps), item instanceof Array ? item[1] : item);
      }));
    }
  }]);

  return SelectEditor;
}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(SelectEditor, "propTypes", {
  options: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array,
  // shape: [[value, label, props], ...] or [label1, label2, ...]
  //                           `props` will be passed to each corresponding <option />
  model: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.shape({
    read: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func
  }),
  disabled: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool,
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,
  onLabelChange: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,
  value: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.any
});

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(SelectEditor, "defaultProps", {
  options: []
});

/* harmony default export */ __webpack_exports__["default"] = (SelectEditor);

/***/ }),

/***/ "./src/editors/SuggestBox.js":
/*!***********************************!*\
  !*** ./src/editors/SuggestBox.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "@babel/runtime/helpers/assertThisInitialized");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _common_toPromise__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/toPromise */ "./src/common/toPromise.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/* harmony import */ var _common_Portal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../common/Portal */ "./src/common/Portal.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../common/ThrottleError */ "./src/common/ThrottleError.js");











/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */







var popupId = '__suggestBoxPopUp';
var classes = {
  option: '__suggestBoxPopUp-option',
  optionFocused: '__suggestBoxPopUp-option-focused',
  optionSelectable: '__suggestBoxPopUp-option-selectable',
  optionTypes: {
    group: '__suggestBoxPopUp-option-group',
    header: '__suggestBoxPopUp-option-header',
    subitem: '__suggestBoxPopUp-option-subitem',
    empty: '__suggestBoxPopUp-option-empty'
  },
  searchBlock: '__suggestBox-search',
  selectBtn: '__suggestBox-select-btn',
  arrow: '__suggestBox-arrow',
  up: '__suggestBox-up'
};
var TAB_KEY = 9;
var ENTER_KEY = 13;
var ESCAPE_KEY = 27;
var ARROW_UP_KEY = 38;
var ARROW_DOWN_KEY = 40;
var MIN_POPUP_HEIGHT = 100;

var SuggestBoxEditor =
/*#__PURE__*/
function (_React$Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(SuggestBoxEditor, _React$Component);

  function SuggestBoxEditor(props) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, SuggestBoxEditor);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(SuggestBoxEditor).call(this, props));
    _this._loadData = Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["throttle"])(_this._loadData);
    _this.state = {
      isOpened: false,
      options: [],
      selectedOptionKey: null,
      lastValidLabel: '',
      label: '',
      popupStyles: {}
    };
    _this._onInputFocus = _this._onInputFocus.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._onInputKeyDown = _this._onInputKeyDown.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._onInputValueChange = _this._onInputValueChange.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._focusOption = _this._focusOption.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._onDocumentMouseDown = _this._onDocumentMouseDown.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._onDocumentMouseScroll = _this._onDocumentMouseScroll.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._toggleList = _this._toggleList.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    _this._openList = _this._openList.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(SuggestBoxEditor, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this._isMounted = true;

      if (this.props.defaultLabel) {
        this._setLabelTo(this.props.defaultLabel, true);
      } else if (this.props.hasOwnProperty('label')) {
        this._setLabelTo(this.props.label, true);
      } else {
        this._getLabelFromModel(this.props.model, this.props.value);
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._isMounted = false;
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps, nextState) {
      return this.state !== nextState || !Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["isEqual"])(this.props.value, nextProps.value) || this.props.disabled !== nextProps.disabled;
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["isEqual"])(this.props.value, nextProps.value)) {
        if (!this.props.hasOwnProperty('label')) {
          this._getLabelFromModel(nextProps.model, nextProps.value);
        }
      }

      if (this.props.label !== nextProps.label) {
        this._setLabelTo(nextProps.label, true);
      }
    }
  }, {
    key: "_getOptionLabel",
    value: function _getOptionLabel(option) {
      return Array.isArray(option.label) ? option.label[option.label.length - 1] : option.label;
    }
  }, {
    key: "_setLabelTo",
    value: function _setLabelTo(label, markAsValid) {
      if (label === null || label === undefined) {
        label = '';
      }

      this.setState({
        label: label,
        lastValidLabel: markAsValid ? label : this.state.lastValidLabel
      });
    }
  }, {
    key: "_getLabelFromModel",
    value: function _getLabelFromModel(model, id) {
      var _this2 = this;

      if (id === null || id === undefined) {
        return this._setLabelTo('', true);
      }

      model.getLabel(id).then(function (label) {
        if (!_this2._isMounted) {
          return;
        }

        _this2._setLabelTo(label, true);
      })["catch"](function (err) {
        if (err) {
          console.error(err);
          throw err;
        }
      });
    }
  }, {
    key: "_updateList",
    value: function () {
      var _updateList2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(searchPattern) {
        var options, content;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                _context.next = 3;
                return this._loadData(searchPattern);

              case 3:
                options = _context.sent;
                _context.next = 11;
                break;

              case 6:
                _context.prev = 6;
                _context.t0 = _context["catch"](0);

                if (_context.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_16__["default"]) {
                  _context.next = 10;
                  break;
                }

                throw _context.t0;

              case 10:
                return _context.abrupt("return");

              case 11:
                if (options.length && this.props.withEmptyOption) {
                  options.unshift({
                    id: null,
                    label: "\xA0" // Use this symbol for save line height

                  });
                }

                if (!this._isMounted) {
                  _context.next = 15;
                  break;
                }

                _context.next = 15;
                return this.setState({
                  options: options,
                  selectedOptionKey: null,
                  loading: false
                });

              case 15:
                content = document.querySelector("".concat(popupId, " .__suggestBoxPopUp-content"));

                if (content) {
                  content.style = {
                    bottom: 'auto',
                    position: 'static'
                  };
                }

                this._scrollListTo();

              case 18:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[0, 6]]);
      }));

      function _updateList(_x) {
        return _updateList2.apply(this, arguments);
      }

      return _updateList;
    }()
  }, {
    key: "_loadData",
    value: function _loadData(searchPattern) {
      return this.props.model.read(searchPattern || '');
    }
  }, {
    key: "_openList",
    value: function () {
      var _openList2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(searchPattern) {
        var _this3 = this;

        var focusFirstOption,
            popupStyles,
            key,
            selectedOptionKey,
            _args2 = arguments;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                focusFirstOption = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : false;

                if (!(this.props.disabled || this.state.isOpened)) {
                  _context2.next = 3;
                  break;
                }

                return _context2.abrupt("return");

              case 3:
                popupStyles = this._getComputedPopupStyles();

                if (popupStyles) {
                  _context2.next = 6;
                  break;
                }

                return _context2.abrupt("return");

              case 6:
                _context2.next = 8;
                return Object(_common_toPromise__WEBPACK_IMPORTED_MODULE_10__["default"])(this.setState.bind(this), true)({
                  isOpened: true,
                  loading: true,
                  popupStyles: popupStyles
                });

              case 8:
                Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).select();
                _context2.next = 11;
                return this._updateList(searchPattern);

              case 11:
                if (this.state.options.length) {
                  _context2.next = 13;
                  break;
                }

                return _context2.abrupt("return");

              case 13:
                if (!focusFirstOption) {
                  _context2.next = 18;
                  break;
                }

                key = this.state.options[0].type !== 'group' ? 0 : 1;
                _context2.next = 17;
                return this._focusOption(key, true);

              case 17:
                return _context2.abrupt("return");

              case 18:
                selectedOptionKey = Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["findIndex"])(this.state.options, function (option) {
                  return Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["isEqual"])(option.id, _this3.props.value);
                });

                if (selectedOptionKey !== -1) {
                  this._focusOptionAndScrollIntoView(Number(selectedOptionKey));
                }

              case 20:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function _openList(_x2) {
        return _openList2.apply(this, arguments);
      }

      return _openList;
    }()
  }, {
    key: "_onInputFocus",
    value: function () {
      var _onInputFocus2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(e) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return this._openList();

              case 2:
                if (this._isMounted) {
                  _context3.next = 4;
                  break;
                }

                return _context3.abrupt("return");

              case 4:
                Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).select();

                if (this.props.onFocus) {
                  this.props.onFocus(e);
                }

              case 6:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function _onInputFocus(_x3) {
        return _onInputFocus2.apply(this, arguments);
      }

      return _onInputFocus;
    }()
  }, {
    key: "_closeList",
    value: function _closeList(shouldBlur) {
      if (shouldBlur) {
        Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).blur();
      }

      if (!this.state.isOpened || !this._isMounted) {
        return;
      }

      this.setState({
        options: [],
        selectedOptionKey: null,
        isOpened: false
      });
    }
  }, {
    key: "_toggleList",
    value: function () {
      var _toggleList2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (!this.state.isOpened) {
                  _context4.next = 4;
                  break;
                }

                this._closeList();

                _context4.next = 6;
                break;

              case 4:
                _context4.next = 6;
                return this._openList();

              case 6:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function _toggleList() {
        return _toggleList2.apply(this, arguments);
      }

      return _toggleList;
    }()
  }, {
    key: "_selectOption",
    value: function _selectOption(option) {
      option = option || {
        id: null,
        label: '',
        metadata: {}
      };
      this.props.onChange(option.id, option);

      if (this.props.onLabelChange) {
        this.props.onLabelChange(option.label);
      }

      if (this.props.onMetadataChange) {
        this.props.onMetadataChange(option.metadata);
      }

      Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).select();
    }
  }, {
    key: "_focusOption",
    value: function () {
      var _focusOption2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee5(key, shouldSetLabel) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                if (shouldSetLabel === true) {
                  this._setLabelTo(this.state.options[key].label);
                }

                if (!this.state.isOpened) {
                  _context5.next = 5;
                  break;
                }

                this._focusOptionAndScrollIntoView(key);

                _context5.next = 8;
                break;

              case 5:
                _context5.next = 7;
                return this._openList(null);

              case 7:
                this._focusOptionAndScrollIntoView(key);

              case 8:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function _focusOption(_x4, _x5) {
        return _focusOption2.apply(this, arguments);
      }

      return _focusOption;
    }()
  }, {
    key: "_focusOptionAndScrollIntoView",
    value: function _focusOptionAndScrollIntoView(key) {
      this.state.selectedOptionKey = key;
      var focusedItems = document.querySelector(".".concat(classes.optionFocused));
      var currentItem = document.querySelector(".".concat(classes.option, "[data-key=\"").concat(key, "\"]"));

      if (focusedItems) {
        focusedItems.classList.remove(classes.optionFocused);
      }

      if (currentItem) {
        currentItem.classList.add(classes.optionFocused);
      }

      var domOption = document.querySelectorAll("#".concat(popupId, " li[data-key=\"").concat(key, "\"]"))[0];

      this._scrollListTo(domOption);
    }
  }, {
    key: "_focusNextOption",
    value: function _focusNextOption() {
      if (!this.state.options.length) {
        return;
      }

      if (this.state.selectedOptionKey === null) {
        this.state.selectedOptionKey = 0;
        return this._focusOption(this.state.selectedOptionKey, true);
      }

      var key;

      for (key = this.state.selectedOptionKey + 1; key < this.state.options.length; key++) {
        if (this.state.options[key].id) {
          return this._focusOption(key, true);
        }
      }

      for (key = 0; key < this.state.selectedOptionKey + 1; key++) {
        if (this.state.options[key].id) {
          return this._focusOption(key, true);
        }
      }
    }
  }, {
    key: "_focusPrevOption",
    value: function _focusPrevOption() {
      if (this.state.selectedOptionKey === null) {
        this.state.selectedOptionKey = 0;
        return this._focusOption(this.state.selectedOptionKey);
      }

      var key;

      for (key = this.state.selectedOptionKey - 1; key >= 0; key--) {
        if (this.state.options[key].id) {
          return this._focusOption(key, true);
        }
      }

      for (key = this.state.options.length - 1; key > this.state.selectedOptionKey - 1; key--) {
        if (this.state.options[key].id) {
          return this._focusOption(key, true);
        }
      }
    }
  }, {
    key: "_scrollListTo",
    value: function _scrollListTo(target) {
      var container = document.querySelector("#".concat(popupId, ":first-child"));

      if (!container) {
        return;
      }

      if (!target) {
        container.scrollTop = 0;
        return;
      }

      if (target.offsetTop - container.scrollTop >= container.clientHeight - target.clientHeight) {
        container.scrollTop = target.offsetTop - container.clientHeight + target.clientHeight;
      } else if (target.offsetTop - container.scrollTop < 0) {
        container.scrollTop = target.offsetTop;
      }
    }
  }, {
    key: "_isParentOf",
    value: function _isParentOf(child) {
      while (child) {
        child = child.parentNode;

        if (child === Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this)) {
          return true;
        }
      }

      return false;
    }
  }, {
    key: "_onDocumentMouseDown",
    value: function _onDocumentMouseDown(e, isOwner) {
      if (e.button !== 0) {
        return;
      }

      var target = e.target;

      if (isOwner) {
        if (!target.classList.contains(classes.option)) {
          target = target.parentNode;
        }

        if (target.classList.contains(classes.optionSelectable) && this.state.isOpened) {
          this._selectOption(this.state.options[target.getAttribute('data-key')]);

          this._closeList(true);
        }
      } else {
        // q where to test
        if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["parents"])(target, ".".concat(classes.searchBlock)).length) {
          if (!Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).value) {
            this._selectOption(null);
          } else {
            this._setLabelTo(this.state.lastValidLabel);
          }
        }

        if (!this._isParentOf(e.target)) {
          this._closeList(true);
        }
      }
    }
  }, {
    key: "_onDocumentMouseScroll",
    value: function _onDocumentMouseScroll(e, isOwner) {
      if (!isOwner && this.state.isOpened) {
        var popupStyles = this._getComputedPopupStyles();

        if (popupStyles) {
          this.setState({
            popupStyles: this._getComputedPopupStyles()
          });
        } else {
          this._setLabelTo(this.state.lastValidLabel);

          this._closeList(true);
        }
      }
    }
  }, {
    key: "_onInputKeyDown",
    value: function _onInputKeyDown(e) {
      if (this.props.disabled) {
        return;
      }

      switch (e.keyCode) {
        case ARROW_DOWN_KEY:
          e.preventDefault();

          if (!this.state.isOpened) {
            return this._openList('', true);
          }

          this._focusNextOption();

          break;

        case ARROW_UP_KEY:
          e.preventDefault();

          if (!this.state.isOpened) {
            return this._openList();
          }

          this._focusPrevOption();

          break;

        case ENTER_KEY:
          e.preventDefault();

          if (this.state.selectedOptionKey === null) {
            this._selectOption(null);
          } else {
            this._selectOption(this.state.options[this.state.selectedOptionKey]);
          }

          this._closeList();

          break;

        case TAB_KEY:
        case ESCAPE_KEY:
          if (e.keyCode === ESCAPE_KEY) {
            e.preventDefault();
          }

          if (!e.target.value || !this.props.value) {
            this._setLabelTo('');

            this._selectOption(null);
          } else {
            this._setLabelTo(this.state.lastValidLabel);
          }

          this._closeList();

          break;
      }
    }
  }, {
    key: "_onInputValueChange",
    value: function () {
      var _onInputValueChange2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee6(e) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                this._setLabelTo(e.target.value);

                if (!this.state.isOpened) {
                  _context6.next = 6;
                  break;
                }

                _context6.next = 4;
                return this._updateList(e.target.value);

              case 4:
                _context6.next = 8;
                break;

              case 6:
                _context6.next = 8;
                return this._openList(e.target.value);

              case 8:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function _onInputValueChange(_x6) {
        return _onInputValueChange2.apply(this, arguments);
      }

      return _onInputValueChange;
    }()
  }, {
    key: "_getComputedPopupStyles",
    value: function _getComputedPopupStyles() {
      var inputStyles = window.getComputedStyle(Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input));
      var popupStyle = {};
      var inputOffset = Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).getBoundingClientRect();
      var inputWidth = inputStyles.width;
      var inputHeight = parseInt(inputStyles.height);

      if (inputOffset.top + inputHeight <= 0 || inputOffset.top >= window.innerHeight) {
        return null;
      }

      var offsetTop = inputOffset.top + inputHeight;
      var offsetLeft = inputOffset.left;

      if (typeof window !== 'undefined') {
        var availableSpace = window.innerHeight - offsetTop;

        if (availableSpace < MIN_POPUP_HEIGHT) {
          popupStyle.maxHeight = inputOffset.top;
          popupStyle.bottom = -inputOffset.top;
        } else {
          popupStyle.maxHeight = availableSpace;
          popupStyle.top = offsetTop;
        }
      }

      popupStyle.minWidth = inputWidth;
      popupStyle.left = offsetLeft;
      return popupStyle;
    }
  }, {
    key: "focus",
    value: function focus() {
      Object(react_dom__WEBPACK_IMPORTED_MODULE_13__["findDOMNode"])(this.input).focus();
    }
  }, {
    key: "render",
    value: function render() {
      var _this4 = this;

      var arrowClasses = [classes.arrow];
      var options;
      var optionsPopup = null;

      if (this.state.isOpened) {
        arrowClasses.push(classes.up);

        if (this.state.loading) {
          options = react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("li", {
            className: [classes.option, classes.optionTypes.empty].join(' ')
          }, this.props.loadingElement);
        } else {
          if (!this.state.options.length) {
            options = react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("li", {
              className: [classes.option, classes.optionTypes.empty].join(' ')
            }, this.props.notFoundElement);
          } else {
            options = this.state.options.map(function (option, key) {
              var optionClassNames = [classes.option];

              if (key === _this4.state.selectedOptionKey) {
                optionClassNames.push(classes.optionFocused);
              }

              if (option.id !== undefined) {
                optionClassNames.push(classes.optionSelectable);
              }

              if (option.type) {
                optionClassNames.push(classes.optionTypes[option.type] || option.type);
              }

              return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("li", {
                key: key,
                "data-key": key,
                onMouseOver: _this4._focusOption.bind(_this4, key),
                className: optionClassNames.join(' ')
              }, Array.isArray(option.label) ? option.label.map(function (label, columnKey) {
                return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
                  key: columnKey
                }, label);
              }) : react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", null, option.label));
            });
          }
        }

        optionsPopup = react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_common_Portal__WEBPACK_IMPORTED_MODULE_12__["default"], {
          id: popupId,
          style: this.state.popupStyles,
          onDocumentMouseDown: this._onDocumentMouseDown,
          onDocumentMouseScroll: this._onDocumentMouseScroll,
          className: "__suggestBoxPopUp"
        }, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
          className: "__suggestBoxPopUp-content"
        }, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("ul", null, options)));
      }

      return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
        className: "__suggestBox"
      }, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
        className: classes.searchBlock
      }, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("input", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, Object(_common_utils__WEBPACK_IMPORTED_MODULE_11__["omit"])(this.props, ['model', 'value', 'onChange', 'onLabelChange', 'onFocus', 'select', 'notFoundElement', 'loadingElement', 'defaultLabel', 'onMetadataChange', 'withEmptyOption']), {
        ref: function ref(input) {
          return _this4.input = input;
        },
        type: "text",
        onClick: this._openList,
        onFocus: this._onInputFocus,
        onKeyDown: this._onInputKeyDown,
        onChange: this._onInputValueChange,
        value: this.state.label
      })), react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
        onClick: this._toggleList,
        className: classes.selectBtn
      }, react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", {
        className: arrowClasses.join(' ')
      }))), optionsPopup);
    }
  }]);

  return SuggestBoxEditor;
}(react__WEBPACK_IMPORTED_MODULE_14___default.a.Component);

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(SuggestBoxEditor, "propTypes", {
  disabled: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.bool,
  model: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.shape({
    read: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func,
    getLabel: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func
  }),
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func.isRequired,
  onLabelChange: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func,
  onMetadataChange: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func,
  value: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.any,
  defaultLabel: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.string,
  label: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.string,
  notFoundElement: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.element,
  loadingElement: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.element,
  onFocus: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.func,
  withEmptyOption: prop_types__WEBPACK_IMPORTED_MODULE_15___default.a.bool
});

_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(SuggestBoxEditor, "defaultProps", {
  disabled: false,
  notFoundElement: react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", null, "Nothing found"),
  loadingElement: react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div", null, "Loading..."),
  value: null,
  withEmptyOption: false
});

/* harmony default export */ __webpack_exports__["default"] = (SuggestBoxEditor);

/***/ }),

/***/ "./src/form/AbstractFormModel.js":
/*!***************************************!*\
  !*** ./src/form/AbstractFormModel.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/Events */ "./src/common/Events.js");






/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



var AbstractFormModel =
/*#__PURE__*/
function (_EventsModel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(AbstractFormModel, _EventsModel);

  /**
   * Abstract form model
   *
   * @constructor
   */
  function AbstractFormModel() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, AbstractFormModel);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(AbstractFormModel).call(this));
  }
  /**
   * Get data
   *
   * @param {Array} fields     Required fields
   * @returns {Object}  Promise
   * @abstract
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(AbstractFormModel, [{
    key: "getData",
    value: function getData()
    /*fields*/
    {
      return Promise.resolve({});
    }
    /**
     * Process form data
     *
     * @param   {Object}      changes     Form data
     * @returns {Object}  Promise
     * @abstract
     */

  }, {
    key: "submit",
    value: function submit()
    /*changes*/
    {
      return Promise.resolve();
    }
    /**
     * Record validity check
     *
     * @param {Object}      record  Record object
     * @returns {Object}  Promise
     * @abstract
     */

  }, {
    key: "isValidRecord",
    value: function isValidRecord()
    /*record*/
    {
      return Promise.resolve(new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__["default"]());
    }
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields  Fields list
     * @returns {Array}  Dependencies
     * @abstract
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency()
    /*fields*/
    {
      return [];
    }
  }]);

  return AbstractFormModel;
}(_common_Events__WEBPACK_IMPORTED_MODULE_6__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (AbstractFormModel);

/***/ }),

/***/ "./src/form/FormExpressApi.js":
/*!************************************!*\
  !*** ./src/form/FormExpressApi.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! express */ "express");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");





/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var FormExpressApi =
/*#__PURE__*/
function () {
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(FormExpressApi, null, [{
    key: "create",
    value: function create() {
      return new FormExpressApi();
    }
  }]);

  function FormExpressApi() {
    var _this = this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, FormExpressApi);

    this.middlewares = {
      getData: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(req, res, next) {
          var fields, model, data;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  fields = req.query.fields ? JSON.parse(req.query.fields) : null;
                  model = _this._getModel(req, res);
                  _context.prev = 2;
                  _context.next = 5;
                  return model.getData(fields);

                case 5:
                  data = _context.sent;

                  _this._result(null, data, req, res, next);

                  _context.next = 12;
                  break;

                case 9:
                  _context.prev = 9;
                  _context.t0 = _context["catch"](2);

                  _this._result(_context.t0, null, req, res, next);

                case 12:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, null, [[2, 9]]);
        }));

        return function (_x, _x2, _x3) {
          return _ref.apply(this, arguments);
        };
      }())],
      submit: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(req, res, next) {
          var model, data;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  model = _this._getModel(req, res);
                  _context2.prev = 1;
                  _context2.next = 4;
                  return model.submit(req.body);

                case 4:
                  data = _context2.sent;

                  _this._result(null, {
                    data: data,
                    error: null
                  }, req, res, next);

                  _context2.next = 14;
                  break;

                case 8:
                  _context2.prev = 8;
                  _context2.t0 = _context2["catch"](1);

                  if (!(_context2.t0 && !(_context2.t0 instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_4__["default"]))) {
                    _context2.next = 13;
                    break;
                  }

                  _this._result(_context2.t0, null, req, res, next);

                  return _context2.abrupt("return");

                case 13:
                  _this._result(null, {
                    data: null,
                    error: _context2.t0
                  }, req, res, next);

                case 14:
                case "end":
                  return _context2.stop();
              }
            }
          }, _callee2, null, [[1, 8]]);
        }));

        return function (_x4, _x5, _x6) {
          return _ref2.apply(this, arguments);
        };
      }())],
      validate: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(req, res, next) {
          var model, data;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  model = _this._getModel(req, res);
                  _context3.prev = 1;
                  _context3.next = 4;
                  return model.isValidRecord(req.body);

                case 4:
                  data = _context3.sent;

                  _this._result(null, data, req, res, next);

                  _context3.next = 11;
                  break;

                case 8:
                  _context3.prev = 8;
                  _context3.t0 = _context3["catch"](1);

                  _this._result(_context3.t0, null, req, res, next);

                case 11:
                case "end":
                  return _context3.stop();
              }
            }
          }, _callee3, null, [[1, 8]]);
        }));

        return function (_x7, _x8, _x9) {
          return _ref3.apply(this, arguments);
        };
      }())]
    };
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(FormExpressApi, [{
    key: "model",
    value: function model(_model) {
      if (typeof _model === 'function') {
        this._getModel = _model;
      } else {
        this._getModel = function () {
          return _model;
        };
      }

      return this;
    }
  }, {
    key: "getRouter",
    value: function getRouter() {
      return new express__WEBPACK_IMPORTED_MODULE_5___default.a.Router().get('/', this.middlewares.getData).post('/', this.middlewares.submit).post('/validation', this.middlewares.validate);
    }
  }, {
    key: "getData",
    value: function getData(middlewares) {
      return this._addMidelwares('getData', middlewares);
    }
  }, {
    key: "submit",
    value: function submit(middlewares) {
      return this._addMidelwares('submit', middlewares);
    }
  }, {
    key: "validate",
    value: function validate(middlewares) {
      return this._addMidelwares('validate', middlewares);
    }
  }, {
    key: "_addMidelwares",
    value: function _addMidelwares(method, middlewares) {
      if (!Array.isArray(middlewares)) {
        middlewares = [middlewares];
      }

      this.middlewares[method] = middlewares.concat(this.middlewares[method]);
      return this;
    } // Default implementation

  }, {
    key: "_getModel",
    value: function _getModel() {
      throw Error('Model is not defined.');
    }
  }, {
    key: "_result",
    value: function _result(err, data, req, res, next) {
      if (err) {
        next(err);
      } else {
        res.json(data);
      }
    }
  }]);

  return FormExpressApi;
}();

/* harmony default export */ __webpack_exports__["default"] = (FormExpressApi);

/***/ }),

/***/ "./src/form/FormModel.js":
/*!*******************************!*\
  !*** ./src/form/FormModel.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _AbstractFormModel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AbstractFormModel */ "./src/form/AbstractFormModel.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var FormModel =
/*#__PURE__*/
function (_AbstractFormModel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(FormModel, _AbstractFormModel);

  /**
   * Simple form model
   *
   * @param {Object}    defaultValues Default form field values
   * @param {Validator} validation    Validation
   * @constructor
   */
  function FormModel(defaultValues, validation) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, FormModel);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(FormModel).call(this));
    _this._validation = validation || new _common_validation_Validator__WEBPACK_IMPORTED_MODULE_7__["default"]();
    _this._data = defaultValues ? Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["clone"])(defaultValues) : {};
    return _this;
  }
  /**
   * Get data
   *
   * @param {Array}    fields     Required fields
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(FormModel, [{
    key: "getData",
    value: function () {
      var _getData = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(fields) {
        var record, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, field;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                record = {};

                if (!fields) {
                  _context.next = 23;
                  break;
                }

                _iteratorNormalCompletion = true;
                _didIteratorError = false;
                _iteratorError = undefined;
                _context.prev = 5;

                for (_iterator = fields[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  field = _step.value;
                  record[field] = this._data[field];
                }

                _context.next = 13;
                break;

              case 9:
                _context.prev = 9;
                _context.t0 = _context["catch"](5);
                _didIteratorError = true;
                _iteratorError = _context.t0;

              case 13:
                _context.prev = 13;
                _context.prev = 14;

                if (!_iteratorNormalCompletion && _iterator["return"] != null) {
                  _iterator["return"]();
                }

              case 16:
                _context.prev = 16;

                if (!_didIteratorError) {
                  _context.next = 19;
                  break;
                }

                throw _iteratorError;

              case 19:
                return _context.finish(16);

              case 20:
                return _context.finish(13);

              case 21:
                _context.next = 24;
                break;

              case 23:
                record = Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["clone"])(this._data);

              case 24:
                return _context.abrupt("return", record);

              case 25:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[5, 9, 13, 21], [14,, 16, 20]]);
      }));

      function getData(_x) {
        return _getData.apply(this, arguments);
      }

      return getData;
    }()
    /**
     * Process form data
     *
     * @param {Object}      changes     Form data
     */

  }, {
    key: "submit",
    value: function () {
      var _submit = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(changes) {
        var validErrors;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return this.isValidRecord(changes);

              case 2:
                validErrors = _context2.sent;

                if (validErrors.isEmpty()) {
                  _context2.next = 5;
                  break;
                }

                throw validErrors;

              case 5:
                Object.assign(this._data, changes);
                this.trigger('update', changes);
                return _context2.abrupt("return", changes);

              case 8:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function submit(_x2) {
        return _submit.apply(this, arguments);
      }

      return submit;
    }()
    /**
     * Validation check
     *
     * @param {Object}      record
     */

  }, {
    key: "isValidRecord",
    value: function () {
      var _isValidRecord = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(record) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return this._validation.isValidRecord(record);

              case 2:
                return _context3.abrupt("return", _context3.sent);

              case 3:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function isValidRecord(_x3) {
        return _isValidRecord.apply(this, arguments);
      }

      return isValidRecord;
    }()
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields   Fields list
     * @returns {Array}  Dependencies
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      return this._validation.getValidationDependency(fields);
    }
  }]);

  return FormModel;
}(_AbstractFormModel__WEBPACK_IMPORTED_MODULE_8__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (FormModel);

/***/ }),

/***/ "./src/form/FormService.js":
/*!*********************************!*\
  !*** ./src/form/FormService.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread */ "@babel/runtime/helpers/objectSpread");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "@babel/runtime/helpers/toConsumableArray");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/Events */ "./src/common/Events.js");
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../common/ThrottleError */ "./src/common/ThrottleError.js");








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */






var FormService =
/*#__PURE__*/
function () {
  function FormService() {
    var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_5___default()(this, FormService);

    this._data = null;
    this._changes = null;
    this._errors = new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"]();
    this._warnings = new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"]();
    this._warningsValidator = null;
    this._eventEmitter = new _common_Events__WEBPACK_IMPORTED_MODULE_7__["default"]();
    this._isNotInitialized = true;
    this.fields = fields;
    this._validateForm = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["throttle"])(this._validateForm.bind(this));
    this.validateForm = this.validateForm.bind(this);
    this._onModelChange = this._onModelChange.bind(this);
    this.clearChanges = this.clearChanges.bind(this);
    this.clearError = this.clearError.bind(this);
    this.clearValidation = this.clearValidation.bind(this);
    this.updateField = this.updateField.bind(this);
    this.validateField = this.validateField.bind(this);
    this._getData = this._getData.bind(this);
    this._getChanges = this._getChanges.bind(this);
  }
  /**
   * Initialize form
   *
   * @param {Object}            settings                                Configuration
   * @param {Array}             settings.fields                         Fields list, that are required to display
   * @param {FormModel}         settings.model                          Model of form
   * @param {Object}            [settings.data]                         Preset data
   * @param {Object}            [settings.changes                       Preset changes
   * @param {bool}              [settings.submitAll=false]              Send all form for validity check
   * @param {bool}              [settings.partialErrorChecking=false]   Activate partial gradual form validation
   * @param {bool}              [settings.showDependentFields=false]    Mark the fields which are involved in the group validation
   * @param {Validator}         [settings.warningsValidator]            Warnings validator for fields
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6___default()(FormService, [{
    key: "init",
    value: function () {
      var _init = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee(settings) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (settings.model) {
                  _context.next = 2;
                  break;
                }

                throw Error('You must specify the model');

              case 2:
                this._data = settings.data || null;
                this._changes = settings.changes || {};
                this._isSubmitting = false;
                this.showDependentFields = settings.showDependentFields || false;
                this._partialErrorChecking = settings.partialErrorChecking; // Current mode

                this._partialErrorCheckingDefault = settings.partialErrorChecking; // Default mode

                this.model = settings.model; // FormModel

                this.submitAll = settings.submitAll;
                this._warningsValidator = settings.warningsValidator || new _common_validation_Validator__WEBPACK_IMPORTED_MODULE_8__["default"]();
                this.validating = false;
                this._hiddenValidationFields = [];
                this.submitting = false;
                this._isNotInitialized = false;

                if (settings.hasOwnProperty('fields')) {
                  this.fields = settings.fields;
                }

                if (this._data) {
                  _context.next = 20;
                  break;
                }

                _context.next = 19;
                return settings.model.getData(this.fields);

              case 19:
                this._data = _context.sent;

              case 20:
                this.model.on('update', this._onModelChange);

                this._setState();

                if (settings.partialErrorChecking) {
                  _context.next = 25;
                  break;
                }

                _context.next = 25;
                return this.validateForm();

              case 25:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function init(_x) {
        return _init.apply(this, arguments);
      }

      return init;
    }()
  }, {
    key: "getAll",
    value: function getAll() {
      var isLoaded = this._isLoaded();

      if (!isLoaded) {
        var emptyData = {
          isLoaded: isLoaded,
          data: {},
          originalData: {},
          changes: {},
          errors: new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"](),
          warnings: new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"](),
          isSubmitting: false
        };
        emptyData.fields = this._getFields(emptyData.data, emptyData.changes, emptyData.errors, emptyData.warnings);
        return emptyData;
      }

      var data = this._getData();

      var changes = this._getChangesFields();

      var errors = this._getDisplayedErrors(this._errors);

      var warnings = this._getDisplayedErrors(this._warnings);

      return {
        isLoaded: isLoaded,
        data: data,
        originalData: this._data,
        changes: changes,
        errors: errors,
        warnings: warnings,
        // Note that we return errors and warnings both in bunch as a property and for each field separately
        // - it is redundantly, but handy :)
        fields: this._getFields(data, changes, errors, warnings),
        isSubmitting: this._isSubmitting
      };
    }
    /**
     * Update form value. Is used as the Editors onChange handler
     *
     * @param {string}  field  Parameter
     * @param {*}       value  Event or data
     */

  }, {
    key: "updateField",
    value: function () {
      var _updateField = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee2(field, value) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return this.set(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, field, Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["parseValueFromEvent"])(value)));

              case 2:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function updateField(_x2, _x3) {
        return _updateField.apply(this, arguments);
      }

      return updateField;
    }()
  }, {
    key: "addChangeListener",
    value: function addChangeListener(func) {
      this._eventEmitter.on('update', func);
    }
  }, {
    key: "removeChangeListener",
    value: function removeChangeListener(func) {
      this._eventEmitter.off('update', func);

      if (this._eventEmitter.listenerCount('update') === 0 && !this._isNotInitialized) {
        this.model.off('update', this._onModelChange);
      }
    }
  }, {
    key: "removeAllListeners",
    value: function removeAllListeners() {
      this._eventEmitter.removeAllListeners('update');

      this.model.off('update', this._onModelChange);
    }
    /**
     * @param {string|string[]} fields
     */

  }, {
    key: "clearValidation",
    value: function clearValidation(fields) {
      if (this._isNotInitialized) {
        return;
      } // We keep info about _hiddenValidationFields for cases when clearValidation was called while validateForm was
      // called and haven't finished, so then old validation result shouldn't show errors for _hiddenValidationFields
      // fields, but the next called validations will clear _hiddenValidationFields so the fields will get errors again.
      // Use case: a user changed field 'name', a validation started, the user focused field 'age' so we called
      // clearValidation('age'), the validation finished and returned errors for fields 'name' and 'age', but we
      // shouldn't show error for field 'age' because the user has just focused it. Then user blured field 'age', a new
      // validation stated and it should show errors for field 'age'.


      if (Array.isArray(fields)) {
        var _this$_hiddenValidati;

        (_this$_hiddenValidati = this._hiddenValidationFields).push.apply(_this$_hiddenValidati, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(fields));
      } else {
        this._hiddenValidationFields.push(fields);
      }

      this._setState();
    }
  }, {
    key: "clearError",
    value: function clearError(field) {
      console.warn('Deprecated: FormService method "clearError" renamed to "clearValidation"');
      this.clearValidation(field);
    }
  }, {
    key: "validateField",
    value: function () {
      var _validateField = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee3(field, value) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return this.set(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, field, Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["parseValueFromEvent"])(value)), true);

              case 2:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function validateField(_x4, _x5) {
        return _validateField.apply(this, arguments);
      }

      return validateField;
    }()
    /**
     * Set data in the form
     *
     * @param {Object}    data              Data
     * @param {bool}      [validate=false]  Validate form
     */

  }, {
    key: "set",
    value: function () {
      var _set = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee4(data, validate) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (this._isLoaded()) {
                  _context4.next = 2;
                  break;
                }

                return _context4.abrupt("return");

              case 2:
                this._changes = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["getRecordChanges"])(this.model, this._data, this._changes, data);

                this._setState();

                if (!validate) {
                  _context4.next = 14;
                  break;
                }

                _context4.prev = 5;
                _context4.next = 8;
                return this.validateForm();

              case 8:
                _context4.next = 14;
                break;

              case 10:
                _context4.prev = 10;
                _context4.t0 = _context4["catch"](5);

                if (_context4.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_11__["default"]) {
                  _context4.next = 14;
                  break;
                }

                throw _context4.t0;

              case 14:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this, [[5, 10]]);
      }));

      function set(_x6, _x7) {
        return _set.apply(this, arguments);
      }

      return set;
    }()
  }, {
    key: "submitData",
    value: function () {
      var _submitData = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee5(data) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                if (!this._isNotInitialized) {
                  _context5.next = 2;
                  break;
                }

                return _context5.abrupt("return");

              case 2:
                _context5.next = 4;
                return this.set(data);

              case 4:
                _context5.next = 6;
                return this.submit();

              case 6:
                return _context5.abrupt("return", _context5.sent);

              case 7:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function submitData(_x8) {
        return _submitData.apply(this, arguments);
      }

      return submitData;
    }()
    /**
     * Send form data to the model
     */

  }, {
    key: "submit",
    value: function () {
      var _submit = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee6() {
        var changes, countOfHiddenValidationFieldsToRemove, data, validationErrors, newChanges, actualChanges;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                if (!(this._isNotInitialized || this._isSubmitting)) {
                  _context6.next = 2;
                  break;
                }

                return _context6.abrupt("return");

              case 2:
                changes = this._getChanges();
                this._isSubmitting = true;
                this._partialErrorChecking = false;
                countOfHiddenValidationFieldsToRemove = this._hiddenValidationFields.length;

                this._setState(); // Send changes to model


                _context6.prev = 7;
                _context6.next = 10;
                return this.model.submit(changes);

              case 10:
                data = _context6.sent;
                _context6.next = 20;
                break;

              case 13:
                _context6.prev = 13;
                _context6.t0 = _context6["catch"](7);

                if (_context6.t0 instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"]) {
                  _context6.next = 19;
                  break;
                }

                this._isSubmitting = false;

                this._setState();

                throw _context6.t0;

              case 19:
                validationErrors = _context6.t0;

              case 20:
                this._isSubmitting = false;
                newChanges = this._getChanges();
                actualChanges = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["isEqual"])(changes, newChanges);

                if (actualChanges) {
                  if (validationErrors) {
                    this._errors = validationErrors;
                  } else {
                    this._errors = new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_9__["default"]();
                    this._changes = {};
                  }
                }

                this._hiddenValidationFields.splice(0, countOfHiddenValidationFieldsToRemove);

                this._setState();

                if (!validationErrors) {
                  _context6.next = 28;
                  break;
                }

                throw validationErrors;

              case 28:
                return _context6.abrupt("return", data);

              case 29:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this, [[7, 13]]);
      }));

      function submit() {
        return _submit.apply(this, arguments);
      }

      return submit;
    }()
  }, {
    key: "clearFieldChanges",
    value: function clearFieldChanges(field) {
      if (this._isNotInitialized) {
        return;
      }

      this._errors.clearField(field);

      this._warnings.clearField(field);

      delete this._changes[field];

      this._setState();
    }
  }, {
    key: "clearChanges",
    value: function clearChanges() {
      if (this._isNotInitialized) {
        return;
      }

      this._errors.clear();

      this._warnings.clear();

      this._changes = {};
      this._partialErrorChecking = this._partialErrorCheckingDefault;

      this._setState();
    }
  }, {
    key: "setPartialErrorChecking",
    value: function setPartialErrorChecking(value) {
      this._partialErrorChecking = value;

      this._setState();
    }
  }, {
    key: "getPartialErrorChecking",
    value: function getPartialErrorChecking() {
      return this._partialErrorChecking;
    }
  }, {
    key: "validateForm",
    value: function () {
      var _validateForm2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee7() {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _context7.prev = 0;
                _context7.next = 3;
                return this._validateForm();

              case 3:
                return _context7.abrupt("return", _context7.sent);

              case 6:
                _context7.prev = 6;
                _context7.t0 = _context7["catch"](0);

                if (_context7.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_11__["default"]) {
                  _context7.next = 10;
                  break;
                }

                throw _context7.t0;

              case 10:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, this, [[0, 6]]);
      }));

      function validateForm() {
        return _validateForm2.apply(this, arguments);
      }

      return validateForm;
    }()
  }, {
    key: "_validateForm",
    value: function () {
      var _validateForm3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee8() {
        var countOfHiddenValidationFieldsToRemove, displayedErrors, displayedWarning;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                if (!this._isNotInitialized) {
                  _context8.next = 2;
                  break;
                }

                return _context8.abrupt("return");

              case 2:
                // We should remove only those hiddenValidationFields that were present before validation started and keep those
                // that were added after validation started (so it is possible and ok that field 'name' may be present 2 times:
                // 1 for old validation call and 1 for the new).
                // Take into account that _validateForm is throttled, so next calls will be skipped or scheduled after current call
                // finishes. It means we don't need to care about parallel calls because they are impossible.
                countOfHiddenValidationFieldsToRemove = this._hiddenValidationFields.length;
                this.validating = true;
                _context8.prev = 4;
                _context8.next = 7;
                return Promise.all([this._runValidator(this.model, this._getChanges, '_errors'), this._runValidator(this._warningsValidator, this._getData, '_warnings')]);

              case 7:
                _context8.prev = 7;
                this.validating = false;

                this._hiddenValidationFields.splice(0, countOfHiddenValidationFieldsToRemove);

                this._setState();

                return _context8.finish(7);

              case 12:
                displayedErrors = this._getDisplayedErrors(this._errors);
                displayedWarning = this._getDisplayedErrors(this._warnings);
                return _context8.abrupt("return", {
                  errors: !displayedErrors.isEmpty() ? displayedErrors : null,
                  warnings: !displayedWarning.isEmpty() ? displayedWarning : null
                });

              case 15:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee8, this, [[4,, 7, 12]]);
      }));

      function _validateForm() {
        return _validateForm3.apply(this, arguments);
      }

      return _validateForm;
    }()
  }, {
    key: "_getFields",
    value: function _getFields(data, changes, errors, warnings) {
      var proxy = new Proxy({}, {
        get: function get(target, fieldName) {
          return {
            value: data[fieldName],
            isChanged: changes.hasOwnProperty(fieldName),
            errors: errors.getFieldErrorMessages(fieldName),
            warnings: warnings.getFieldErrorMessages(fieldName)
          };
        }
      }); // Explicit declaration of fields in an object

      if (this.fields) {
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
          for (var _iterator = this.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var field = _step.value;
            proxy[field] = proxy[field];
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator["return"] != null) {
              _iterator["return"]();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
      }

      return proxy;
    }
    /**
     * Check is data loaded
     *
     * @returns {boolean}
     */

  }, {
    key: "_isLoaded",
    value: function _isLoaded() {
      return this._data !== null;
    }
    /**
     * Get form changes
     *
     * @return {{}}
     */

  }, {
    key: "_getChangesFields",
    value: function _getChangesFields() {
      // TODO _getChanges
      var changes = {};

      for (var field in this._changes) {
        if (!this._isDependentField(field)) {
          changes[field] = this._changes[field];
        }
      }

      return changes;
    }
    /**
     * Filter errors depending on the partialErrorChecking mode and clearValidation method
     *
     * @param {ValidationErrors}  validationErrors
     * @returns {ValidationErrors} Form fields
     */

  }, {
    key: "_getDisplayedErrors",
    value: function _getDisplayedErrors(validationErrors) {
      var filteredErrors = validationErrors.clone();
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = validationErrors.getErrors().keys()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var field = _step2.value;
          var isFieldPristine = !this._changes.hasOwnProperty(field) || Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["isEqual"])(this._changes[field], this._data[field]);

          if (this._hiddenValidationFields.includes(field) || this._partialErrorChecking && isFieldPristine) {
            filteredErrors.clearField(field);
          }
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
            _iterator2["return"]();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }

      return filteredErrors;
    }
  }, {
    key: "_setState",
    value: function _setState() {
      this._eventEmitter.trigger('update', this.getAll());
    }
    /**
     * Model records changes handler
     *
     * @param {Object} changes  Changes
     * @private
     */

  }, {
    key: "_onModelChange",
    value: function _onModelChange(changes) {
      this._data = _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({}, this._data, changes);

      this._setState();
    }
  }, {
    key: "_getData",
    value: function _getData() {
      return Object.assign({}, this._data, this._changes);
    }
  }, {
    key: "_getChanges",
    value: function _getChanges() {
      // Send all data or just changed fields in addiction of form configuration
      if (this.submitAll) {
        return this._getData();
      }

      return this._changes;
    }
  }, {
    key: "_isDependentField",
    value: function _isDependentField(field) {
      return this._changes.hasOwnProperty(field) && Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["isEqual"])(this._changes[field], this._data[field]);
    }
  }, {
    key: "_runValidator",
    value: function () {
      var _runValidator2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark(function _callee9(validator, getData, output) {
        var data, validErrors;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                data = getData();

                if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["isEmpty"])(data)) {
                  _context9.next = 4;
                  break;
                }

                this[output].clear();
                return _context9.abrupt("return");

              case 4:
                _context9.prev = 4;
                _context9.next = 7;
                return validator.isValidRecord(data);

              case 7:
                validErrors = _context9.sent;
                _context9.next = 14;
                break;

              case 10:
                _context9.prev = 10;
                _context9.t0 = _context9["catch"](4);
                this[output].clear();
                throw _context9.t0;

              case 14:
                if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["isEqual"])(data, getData())) {
                  this[output] = validErrors;
                }

              case 15:
              case "end":
                return _context9.stop();
            }
          }
        }, _callee9, this, [[4, 10]]);
      }));

      function _runValidator(_x9, _x10, _x11) {
        return _runValidator2.apply(this, arguments);
      }

      return _runValidator;
    }()
  }]);

  return FormService;
}();

/* harmony default export */ __webpack_exports__["default"] = (FormService);

/***/ }),

/***/ "./src/form/FormXhrModel.js":
/*!**********************************!*\
  !*** ./src/form/FormXhrModel.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _common_defaultXhr__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/defaultXhr */ "./src/common/defaultXhr.js");
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/Events */ "./src/common/Events.js");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! url */ "url");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_11__);








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */






var FormXhrModel =
/*#__PURE__*/
function (_EventsModel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(FormXhrModel, _EventsModel);

  function FormXhrModel(settings) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, FormXhrModel);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(FormXhrModel).call(this));

    if (!settings.api) {
      throw Error('Initialization problem: \'api\' must be specified.');
    }

    _this._validator = settings.validator || new _common_validation_Validator__WEBPACK_IMPORTED_MODULE_8__["default"]();
    _this._xhr = settings.xhr || _common_defaultXhr__WEBPACK_IMPORTED_MODULE_9__["default"];
    _this._apiUrl = settings.api.replace(/([^/])\?/, '$1/?') // Add "/" before "?"
    .replace(/^[^?]*[^/]$/, '$&/'); // Add "/" to the end

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(FormXhrModel, [{
    key: "getData",
    value: function () {
      var _getData = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(fields) {
        var parsedUrl, response;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                parsedUrl = url__WEBPACK_IMPORTED_MODULE_11___default.a.parse(this._apiUrl, true);
                parsedUrl.query.fields = JSON.stringify(fields);
                delete parsedUrl.search;
                _context.next = 5;
                return this._xhr({
                  method: 'GET',
                  uri: url__WEBPACK_IMPORTED_MODULE_11___default.a.format(parsedUrl)
                });

              case 5:
                response = _context.sent;
                return _context.abrupt("return", JSON.parse(response));

              case 7:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function getData(_x) {
        return _getData.apply(this, arguments);
      }

      return getData;
    }()
  }, {
    key: "submit",
    value: function () {
      var _submit = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(changes) {
        var body;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return this._xhr({
                  method: 'POST',
                  headers: {
                    'Content-type': 'application/json'
                  },
                  uri: this._apiUrl,
                  body: JSON.stringify(changes)
                });

              case 2:
                body = _context2.sent;
                body = JSON.parse(body);

                if (!body.error) {
                  _context2.next = 6;
                  break;
                }

                throw _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_7__["default"].createFromJSON(body.error);

              case 6:
                this.trigger('update', body.data);
                return _context2.abrupt("return", body.data);

              case 8:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function submit(_x2) {
        return _submit.apply(this, arguments);
      }

      return submit;
    }()
    /**
     * Validation check
     *
     * @param {Object}      record
     */

  }, {
    key: "isValidRecord",
    value: function isValidRecord(record) {
      return this._validator.isValidRecord(record);
    }
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields   Fields list
     * @returns {Array}  Dependencies
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      return this._validator.getValidationDependency(fields);
    }
  }]);

  return FormXhrModel;
}(_common_Events__WEBPACK_IMPORTED_MODULE_10__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (FormXhrModel);

/***/ }),

/***/ "./src/form/adapters/GridToFormCreate.js":
/*!***********************************************!*\
  !*** ./src/form/adapters/GridToFormCreate.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/Events */ "./src/common/Events.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



var GridToFormCreate =
/*#__PURE__*/
function (_Events) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(GridToFormCreate, _Events);

  /**
   * Adapter allows to use Grid model as a model for new form record creation
   *
   * @param {AbstractGridModel}   model           Grid model
   * @param {Object}              [initialData]   Default field values
   * @constructor
   */
  function GridToFormCreate(model, initialData) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, GridToFormCreate);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(GridToFormCreate).call(this));
    _this._adapter = {
      model: model,
      initialData: initialData || {}
    };
    return _this;
  }
  /**
   * Get data
   *
   * @param {Array}     fields     Required fields
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(GridToFormCreate, [{
    key: "getData",
    value: function () {
      var _getData = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(fields) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!(fields && fields.length)) {
                  _context.next = 2;
                  break;
                }

                return _context.abrupt("return", Object(_common_utils__WEBPACK_IMPORTED_MODULE_8__["pick"])(this._adapter.initialData, fields));

              case 2:
                return _context.abrupt("return", this._adapter.initialData);

              case 3:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function getData(_x) {
        return _getData.apply(this, arguments);
      }

      return getData;
    }()
    /**
     * Create new record
     *
     * @param   {Object}      data      Record
     */

  }, {
    key: "submit",
    value: function () {
      var _submit = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(data) {
        var model;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                model = this._adapter.model;
                _context2.next = 3;
                return model.create(data);

              case 3:
                return _context2.abrupt("return", _context2.sent);

              case 4:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function submit(_x2) {
        return _submit.apply(this, arguments);
      }

      return submit;
    }()
    /**
     * Validation checking
     *
     * @param {Object}      record  Record object
     */

  }, {
    key: "isValidRecord",
    value: function () {
      var _isValidRecord = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(record) {
        var model;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                model = this._adapter.model;
                _context3.next = 3;
                return model.isValidRecord(record, null);

              case 3:
                return _context3.abrupt("return", _context3.sent);

              case 4:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function isValidRecord(_x3) {
        return _isValidRecord.apply(this, arguments);
      }

      return isValidRecord;
    }()
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields
     * @returns {Array}  Dependencies
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      return this._adapter.model.getValidationDependency(fields);
    }
  }]);

  return GridToFormCreate;
}(_common_Events__WEBPACK_IMPORTED_MODULE_7__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (GridToFormCreate);

/***/ }),

/***/ "./src/form/adapters/GridToFormUpdate.js":
/*!***********************************************!*\
  !*** ./src/form/adapters/GridToFormUpdate.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/Events */ "./src/common/Events.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");








/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var GridToFormUpdate =
/*#__PURE__*/
function (_Events) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(GridToFormUpdate, _Events);

  /**
   * Adapter that allows us to use Grid model record as a form model
   *
   * @param {AbstractGridModel} model   Grid model
   * @param {number|string}     id      Record ID
   * @constructor
   */
  function GridToFormUpdate(model, id) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, GridToFormUpdate);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(GridToFormUpdate).call(this));
    _this._adapter = {
      model: model,
      id: id
    };
    _this._onUpdateHandlers = [];
    return _this;
  }
  /**
   * Subscribe to inner model event
   *
   * @param {string}      event   Event ID
   * @param {Function}    cb      CallBack function
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(GridToFormUpdate, [{
    key: "on",
    value: function on(event, cb) {
      var ctx = this;

      if (event !== 'update') {
        _common_Events__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.on.call(this, event, cb);
        return;
      } // onChange filters out table events, that do not regard to our record


      function onChange(changes) {
        for (var i = 0; i < changes.length; i++) {
          if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["isEqual"])(changes[i][0], ctx._adapter.id)) {
            cb(changes[i][1]);
            return;
          }
        }
      }

      this._onUpdateHandlers.push({
        originalCallback: cb,
        wrappedCallback: onChange
      });

      this._adapter.model.on('update', onChange);
    }
    /**
     * Unsubscribe from inner model event
     *
     * @param {string}      event   Event ID
     * @param {Function}    cb      CallBack function
     */

  }, {
    key: "off",
    value: function off(event, cb) {
      var ctx = this;
      var newOnUpdateHandlers = [];

      if (event !== 'update') {
        _common_Events__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.off.call(this, event, cb);
        return;
      }

      this._onUpdateHandlers.forEach(function (handler) {
        if (handler.originalCallback === cb) {
          ctx._adapter.model.off('update', handler.wrappedCallback);
        } else {
          newOnUpdateHandlers.push(handler);
        }
      });

      this._onUpdateHandlers = newOnUpdateHandlers;
    }
  }, {
    key: "listenerCount",
    value: function listenerCount(event) {
      return this._adapter.model.listenerCount(event);
    }
    /**
     * Get data
     *
     * @param {Array}     fields     Required fields
     */

  }, {
    key: "getData",
    value: function () {
      var _getData = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(fields) {
        var model;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                model = this._adapter.model;
                _context.next = 3;
                return model.getRecord(this._adapter.id, fields);

              case 3:
                return _context.abrupt("return", _context.sent);

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function getData(_x) {
        return _getData.apply(this, arguments);
      }

      return getData;
    }()
    /**
     * Apply changes
     *
     * @param   {Object}      changes     Form data
     */

  }, {
    key: "submit",
    value: function () {
      var _submit = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(changes) {
        var record, model, result;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                record = Object(_common_utils__WEBPACK_IMPORTED_MODULE_9__["clone"])(changes);
                model = this._adapter.model;
                _context2.next = 4;
                return model.update([[this._adapter.id, record]]);

              case 4:
                result = _context2.sent;
                result = result[0][1];

                if (!(result instanceof Error || result instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_7__["default"])) {
                  _context2.next = 8;
                  break;
                }

                throw result;

              case 8:
                return _context2.abrupt("return", result);

              case 9:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function submit(_x2) {
        return _submit.apply(this, arguments);
      }

      return submit;
    }()
    /**
     * Record validity check
     *
     * @param {Object}      record  Record object
     */

  }, {
    key: "isValidRecord",
    value: function () {
      var _isValidRecord = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(record) {
        var model;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                model = this._adapter.model;
                _context3.next = 3;
                return model.isValidRecord(record, this._adapter.id);

              case 3:
                return _context3.abrupt("return", _context3.sent);

              case 4:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function isValidRecord(_x3) {
        return _isValidRecord.apply(this, arguments);
      }

      return isValidRecord;
    }()
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields  Fields list
     * @returns {Array}  Dependencies
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      return this._adapter.model.getValidationDependency(fields);
    }
  }]);

  return GridToFormUpdate;
}(_common_Events__WEBPACK_IMPORTED_MODULE_8__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (GridToFormUpdate);

/***/ }),

/***/ "./src/form/connectForm.js":
/*!*********************************!*\
  !*** ./src/form/connectForm.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "@babel/runtime/helpers/assertThisInitialized");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _FormService__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./FormService */ "./src/form/FormService.js");










/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



function connectForm() {
  var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  return function (Component) {
    return (
      /*#__PURE__*/
      function (_React$Component) {
        _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8___default()(ComponentWithFormService, _React$Component);

        function ComponentWithFormService() {
          var _this;

          _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, ComponentWithFormService);

          _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(ComponentWithFormService).call(this));
          _this.form = new _FormService__WEBPACK_IMPORTED_MODULE_10__["default"](fields);
          _this.state = _this.form.getAll();
          _this.onFormChange = _this.onFormChange.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7___default()(_this));
          return _this;
        }

        _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(ComponentWithFormService, [{
          key: "componentDidMount",
          value: function () {
            var _componentDidMount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
            /*#__PURE__*/
            _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {
              var state;
              return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
                while (1) {
                  switch (_context.prev = _context.next) {
                    case 0:
                      state = this.form.getAll();

                      if (state.isLoaded) {
                        this.setState(state);
                      }

                      this.form.addChangeListener(this.onFormChange);

                    case 3:
                    case "end":
                      return _context.stop();
                  }
                }
              }, _callee, this);
            }));

            function componentDidMount() {
              return _componentDidMount.apply(this, arguments);
            }

            return componentDidMount;
          }()
        }, {
          key: "componentWillUnmount",
          value: function componentWillUnmount() {
            this.form.removeChangeListener(this.onFormChange);
          }
        }, {
          key: "onFormChange",
          value: function onFormChange(newFormState) {
            this.setState(newFormState);
          }
        }, {
          key: "render",
          value: function render() {
            return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(Component, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, this.props, {
              formData: this.state,
              formService: this.form
            }));
          }
        }]);

        return ComponentWithFormService;
      }(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component)
    );
  };
}

/* harmony default export */ __webpack_exports__["default"] = (connectForm);

/***/ }),

/***/ "./src/form/mixin.js":
/*!***************************!*\
  !*** ./src/form/mixin.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/* harmony import */ var _common_toPromise__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/toPromise */ "./src/common/toPromise.js");
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_callbackify__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/callbackify */ "./src/common/callbackify.js");




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */





/**
 * Grid form mixin
 * @mixin
 */

var FormMixin = {
  getInitialState: function getInitialState() {
    this._validateForm = Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["throttle"])(this._validateForm);

    if (this._handleModelChange.name.indexOf('bound ') !== 0) {
      // Support React.createClass and mixin-decorators
      this._handleModelChange = this._handleModelChange.bind(this);
      this._getData = this._getData.bind(this);
      this._getChanges = this._getChanges.bind(this);
      this.validateForm = this.validateForm.bind(this);
    }

    return {
      _formMixin: null
    };
  },
  componentWillMount: function componentWillMount() {
    this._isUnmounted = false;
  },
  componentWillUnmount: function componentWillUnmount() {
    this._isUnmounted = true;

    if (!this._isNotInitialized()) {
      this.state._formMixin.model.off('update', this._handleModelChange);
    }
  },

  /**
   * Initialize form
   *
   * @param {Object}            settings                                Configuration
   * @param {Array}             settings.fields                         Fields list, that are required to display
   * @param {FormModel}         settings.model                          Model of form
   * @param {Object}            [settings.data]                         Preset data
   * @param {Object}            [settings.changes                       Preset changes
   * @param {bool}              [settings.submitAll=false]              Send all form for validity check
   * @param {bool}              [settings.partialErrorChecking=false]   Activate partial gradual form validation
   * @param {bool}              [settings.showDependentFields=false]    Mark the fields which are involved in the group validation
   * @param {bool}              [settings.autoSubmit]                   Automatic submit before updateField
   * @param {Function}          [settings.autoSubmitHandler]            Automatic submit handler
   * @param {Validator}         [settings.warningsValidator]            Warningss validator for fields
   * @param {Function}          [cb]                                    CallBack function
   */
  initForm: Object(_common_callbackify__WEBPACK_IMPORTED_MODULE_7__["default"])(
  /*#__PURE__*/
  function () {
    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(settings) {
      var data, err;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              this._initState(settings);

              if (this.state._formMixin.data) {
                _context.next = 19;
                break;
              }

              _context.prev = 2;
              _context.next = 5;
              return settings.model.getData(settings.fields);

            case 5:
              data = _context.sent;
              _context.next = 11;
              break;

            case 8:
              _context.prev = 8;
              _context.t0 = _context["catch"](2);
              err = _context.t0;

            case 11:
              if (!this._isUnmounted) {
                _context.next = 13;
                break;
              }

              return _context.abrupt("return");

            case 13:
              if (!err) {
                _context.next = 18;
                break;
              }

              this.state._formMixin.globalError = err;
              _context.next = 17;
              return Object(_common_toPromise__WEBPACK_IMPORTED_MODULE_4__["default"])(this.setState.bind(this), true)(this.state);

            case 17:
              throw err;

            case 18:
              this.state._formMixin.data = data;

            case 19:
              this.state._formMixin.model.on('update', this._handleModelChange);

              _context.next = 22;
              return Object(_common_toPromise__WEBPACK_IMPORTED_MODULE_4__["default"])(this.setState.bind(this), true)(this.state);

            case 22:
              if (settings.partialErrorChecking) {
                _context.next = 25;
                break;
              }

              _context.next = 25;
              return this.validateForm();

            case 25:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, this, [[2, 8]]);
    }));

    return function (_x) {
      return _ref.apply(this, arguments);
    };
  }(), true),

  /**
   * Check is data loaded
   *
   * @returns {boolean}
   */
  isLoaded: function isLoaded() {
    return this.state && this.state._formMixin && Boolean(this.state._formMixin.data || this.state._formMixin.globalError);
  },

  /**
   * Get form changes
   *
   * @return {{}}
   */
  getChanges: function getChanges() {
    var changes = {};

    for (var field in this.state._formMixin.changes) {
      if (!this._isDependentField(field)) {
        changes[field] = this.state._formMixin.changes[field];
      }
    }

    return changes;
  },

  /**
   * Check if form field (or entire form) is changed
   *
   * @param  {string}   field  Field name
   * @return {boolean}
   */
  hasChanges: function hasChanges(field) {
    if (this._isNotInitialized()) {
      return false;
    }

    var state = this.state._formMixin;

    if (field === undefined) {
      return !Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEmpty"])(state.changes);
    }

    if (!state.showDependentFields && this._isDependentField(field)) {
      return false;
    }

    return state.changes.hasOwnProperty(field);
  },

  /**
   * Check if form field has validity errors
   *
   * @param  {string|string[]}   field  Field name or array of names
   * @return {boolean}
   */
  hasError: function hasError(field) {
    if (this._isNotInitialized()) {
      return false;
    }

    var state = this.state._formMixin; // Check group of fields

    if (Array.isArray(field)) {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = field[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var entry = _step.value;

          if (this.hasError(entry)) {
            return true;
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator["return"] != null) {
            _iterator["return"]();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return false;
    } // If partial check is on and field is changed,
    // do not display an error


    if (state.partialErrorChecking) {
      if (!state.changes.hasOwnProperty(field) || Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(state.changes[field], state.data[field])) {
        return false;
      }
    }

    return this.state._formMixin.errors.hasError(field) || this.state._formMixin.warnings.hasError(field);
  },
  clearError: function clearError(field, cb) {
    if (this._isNotInitialized()) {
      return;
    }

    if (this.state._formMixin.validating) {
      this.state._formMixin.pendingClearErrors.push(field);
    }

    if (Array.isArray(field)) {
      field.forEach(function (oneField) {
        this.state._formMixin.errors.clearField(oneField);

        this.state._formMixin.warnings.clearField(oneField);
      }, this);
    } else {
      this.state._formMixin.errors.clearField(field);

      this.state._formMixin.warnings.clearField(field);
    }

    this.setState(this.state, typeof cb === 'function' ? cb : null);
  },

  /**
   * Get form data without changes
   *
   * @return {Object|null}
   */
  getOriginalData: function getOriginalData() {
    if (this._isNotInitialized()) {
      return {};
    }

    return this.state._formMixin.data || null;
  },

  /**
   * Get form data
   *
   * @return {Object|null}
   */
  getData: function getData() {
    if (this._isNotInitialized()) {
      return {};
    }

    return Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["cloneDeep"])(this._getData());
  },

  /**
   * Get form errors
   *
   * @returns {ValidationErrors} Form errors
   */
  getValidationErrors: function getValidationErrors() {
    if (this._isNotInitialized()) {
      return new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"]();
    }

    var field;
    var errors = _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"].merge(this.state._formMixin.errors, this.state._formMixin.warnings); // If gradual validation is on, we need
    // to remove unchanged records from errors object

    if (this.state._formMixin.partialErrorChecking) {
      errors = this.state._formMixin.errors.clone(); // Look through all form fields

      for (field in this.state._formMixin.data) {
        // If field is unchanged, remove errors, that regard to this field
        if (!this.state._formMixin.changes.hasOwnProperty(field) || Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(this.state._formMixin.changes[field], this.state._formMixin.data[field])) {
          errors.clearField(field);
        }
      }
    }

    return errors;
  },
  getFieldErrors: function getFieldErrors(field) {
    if (this._isNotInitialized()) {
      return false;
    } // If partial check is on and field is changed,
    // do not display an error


    if (this.state._formMixin.partialErrorChecking && !this.state._formMixin.changes.hasOwnProperty(field)) {
      return null;
    }

    var errors = this.state._formMixin.errors.getFieldErrorMessages(field) || [];
    var warnings = this.state._formMixin.warnings.getFieldErrorMessages(field) || [];
    return errors.concat(warnings);
  },

  /**
   * Get global error data, if it's present
   *
   * @returns {Error|null}
   */
  getGlobalError: function getGlobalError() {
    if (this._isNotInitialized()) {
      return null;
    }

    return this.state._formMixin.globalError;
  },

  /**
   * Update form value. Is used as the Editors onChange handler.
   * Causes component redraw.
   *
   * @param {string}           field   Parameter
   * @param {*}                value   Event or data
   */
  updateField: function updateField(field, value) {
    if (this._isNotInitialized()) {
      return;
    }

    this.set(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, field, Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["parseValueFromEvent"])(value)));
  },
  validateField: function validateField(field, value, cb) {
    this.set(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, field, Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["parseValueFromEvent"])(value)), true, cb);
  },
  validateForm: function validateForm(cb) {
    this._validateForm(function (err) {
      if (typeof cb === 'function') {
        return cb(err);
      } else if (err) {
        if (!(err instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"])) {
          console.error(err);
        }
      }
    });
  },

  /**
   * Set data in the form
   *
   * @param {Object}    data              Data
   * @param {boolean}      [validate=false]  Validate form
   * @param {Function}  [cb]              CallBack
   */
  set: function set(data, validate, cb) {
    var _this = this;

    if (!this.isLoaded()) {
      return;
    }

    if (typeof validate === 'function' && !cb) {
      cb = validate;
      validate = false;
    }

    var state = this.state._formMixin;
    state.changes = Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["getRecordChanges"])(state.model, state.data, state.changes, data);

    if (this.state._formMixin.autoSubmit) {
      this.submit(function (err, result) {
        _this.state._formMixin.autoSubmitHandler(err, result);

        if (typeof cb === 'function') {
          cb(err, result);
        }
      });
      return;
    }

    if (validate) {
      this.setState(this.state, function () {
        return _this.validateForm(cb);
      });
      return;
    }

    this.setState(this.state, typeof cb === 'function' ? cb : null);
  },
  submitData: function submitData(data, cb) {
    if (this._isNotInitialized()) {
      return;
    }

    this.set(data);
    this.submit(cb);
  },

  /**
   * Send form data to the model
   *
   * @param {Function}  [cb]  CallBack function
   */
  submit: Object(_common_callbackify__WEBPACK_IMPORTED_MODULE_7__["default"])(
  /*#__PURE__*/
  _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2() {
    var changes, data, err, newChanges, actualChanges, validationError;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            if (!this._isNotInitialized()) {
              _context2.next = 2;
              break;
            }

            return _context2.abrupt("return");

          case 2:
            if (!(!this.state._formMixin.autoSubmit && this.isSubmitting())) {
              _context2.next = 4;
              break;
            }

            return _context2.abrupt("return");

          case 4:
            this.state._formMixin.submitting = true;
            changes = this._getChanges();
            this.state._formMixin.globalError = null;
            this.state._formMixin.partialErrorChecking = false;
            this.setState(this.state); // Send changes to model

            _context2.prev = 9;
            _context2.next = 12;
            return this.state._formMixin.model.submit(changes);

          case 12:
            data = _context2.sent;
            _context2.next = 18;
            break;

          case 15:
            _context2.prev = 15;
            _context2.t0 = _context2["catch"](9);
            err = _context2.t0;

          case 18:
            if (!this._isUnmounted) {
              _context2.next = 20;
              break;
            }

            return _context2.abrupt("return");

          case 20:
            this.state._formMixin.submitting = false;
            newChanges = this._getChanges();
            actualChanges = Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(changes, newChanges);
            validationError = err instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"]; // Replacing empty error to null

            if (validationError && err.isEmpty()) {
              err = null;
            }

            if (err) {
              if (validationError) {
                if (actualChanges) {
                  this.state._formMixin.errors = err;
                }
              } else {
                this.state._formMixin.globalError = err;
              }
            } else if (actualChanges) {
              this.state._formMixin.errors = new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"]();
              this.state._formMixin.changes = {};
            } else {
              Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["forEach"])(changes, function (value, field) {
                if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(value, newChanges[field])) {
                  delete this.state._formMixin.changes[field];
                }
              }, this);
            }

            _context2.next = 28;
            return Object(_common_toPromise__WEBPACK_IMPORTED_MODULE_4__["default"])(this.setState.bind(this), true)(this.state);

          case 28:
            if (!err) {
              _context2.next = 30;
              break;
            }

            throw err;

          case 30:
            return _context2.abrupt("return", data);

          case 31:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, this, [[9, 15]]);
  }))),
  clearFieldChanges: function clearFieldChanges(field, cb) {
    if (this._isNotInitialized()) {
      return;
    }

    this.state._formMixin.errors.clearField(field);

    this.state._formMixin.warnings.clearField(field);

    delete this.state._formMixin.changes[field];
    this.setState(this.state, typeof cb === 'function' ? cb : null);
  },
  clearChanges: function clearChanges(cb) {
    if (this._isNotInitialized()) {
      return;
    }

    this.state._formMixin.errors.clear();

    this.state._formMixin.warnings.clear();

    this.state._formMixin.changes = {};
    this.state._formMixin.globalError = false;
    this.state._formMixin.partialErrorChecking = this.state._formMixin.partialErrorCheckingDefault;
    this.setState(this.state, typeof cb === 'function' ? cb : null);
  },
  setPartialErrorChecking: function setPartialErrorChecking(value, cb) {
    this.state._formMixin.partialErrorChecking = value;
    this.setState(this.state, typeof cb === 'function' ? cb : null);
  },
  isSubmitting: function isSubmitting() {
    if (this._isNotInitialized()) {
      return false;
    }

    return this.state._formMixin.submitting;
  },

  /**
   * Model records changes handler
   *
   * @param {Object} changes  Changes
   * @private
   */
  _handleModelChange: function _handleModelChange(changes) {
    Object.assign(this.state._formMixin.data, Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["cloneDeep"])(changes));

    if (!this._isUnmounted) {
      this.setState(this.state);
    }
  },
  _initState: function _initState(settings) {
    if (!settings.model) {
      throw Error('You must specify the model form in this.initForm()');
    }

    this.state._formMixin = {
      data: settings.data,
      changes: settings.changes || {},
      errors: new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"](),
      warnings: new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_6__["default"](),
      globalError: null,
      validating: false,
      pendingClearErrors: [],
      submitting: false,
      showDependentFields: settings.showDependentFields || false,
      warningsValidator: settings.warningsValidator || new _common_validation_Validator__WEBPACK_IMPORTED_MODULE_5__["default"](),
      partialErrorChecking: settings.partialErrorChecking,
      // Current mode
      partialErrorCheckingDefault: settings.partialErrorChecking,
      // Default mode
      model: settings.model,
      // FormModel
      fields: settings.fields,
      submitAll: settings.submitAll,
      autoSubmit: settings.autoSubmit,
      autoSubmitHandler: settings.autoSubmitHandler
    };
  },
  _isNotInitialized: function _isNotInitialized() {
    return !this.state || !this.state._formMixin;
  },
  _validateForm: function _validateForm(cb, stop) {
    if (this._isNotInitialized()) {
      return stop();
    }

    var completed = 0;
    var completeError;

    var onComplete = function (err) {
      var field;

      if (this._isUnmounted) {
        if (err) {
          console.error(err);
        }

        return;
      }

      if (err) {
        completeError = err;
      }

      if (++completed < 2) {
        // Wait two callbacks
        return;
      }

      this.state._formMixin.validating = false;

      while (field = this.state._formMixin.pendingClearErrors.pop()) {
        this.state._formMixin.warnings.clearField(field);

        this.state._formMixin.errors.clearField(field);
      }

      this.setState(this.state, function () {
        if (completeError) {
          cb(completeError);
          return;
        }

        var errorsWithPartialChecking = this.getValidationErrors();
        cb(errorsWithPartialChecking.isEmpty() ? null : errorsWithPartialChecking);
      });
    }.bind(this);

    this.state._formMixin.validating = true;

    this._runValidator(this.state._formMixin.model, this._getChanges, 'errors', onComplete);

    this._runValidator(this.state._formMixin.warningsValidator, this._getData, 'warnings', onComplete);
  },
  _runValidator: function _runValidator(validator, getData, output, cb) {
    var _this2 = this;

    var data = getData();
    validator.isValidRecord(data).then(function (validErrors) {
      if (!_this2._isUnmounted && Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(data, getData())) {
        _this2.state._formMixin[output] = validErrors;
      }

      cb();
    })["catch"](function (err) {
      if (!_this2._isUnmounted && Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(data, getData())) {
        _this2.state._formMixin[output].clear();
      }

      cb(err);
    });
  },
  _getData: function _getData() {
    if (!this.state._formMixin.data) {
      return null;
    }

    return Object.assign({}, this.state._formMixin.data, this.state._formMixin.changes);
  },
  _getChanges: function _getChanges() {
    // Send all data or just changed fields in addiction of form configuration
    if (this.state._formMixin.submitAll) {
      return this._getData();
    }

    return Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["clone"])(this.state._formMixin.changes);
  },
  _isDependentField: function _isDependentField(field) {
    var state = this.state._formMixin;
    return state.changes.hasOwnProperty(field) && Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["isEqual"])(state.changes[field], state.data[field]);
  }
};
/* harmony default export */ __webpack_exports__["default"] = (FormMixin);

/***/ }),

/***/ "./src/grid/Component.js":
/*!*******************************!*\
  !*** ./src/grid/Component.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "@babel/runtime/helpers/extends");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "@babel/runtime/helpers/toConsumableArray");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread */ "@babel/runtime/helpers/objectSpread");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "prop-types");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! create-react-class */ "create-react-class");
/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");
/* harmony import */ var _mixins_columns__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./mixins/columns */ "./src/grid/mixins/columns.js");
/* harmony import */ var _mixins_pagination__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mixins/pagination */ "./src/grid/mixins/pagination.js");
/* harmony import */ var _mixins_statuses__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./mixins/statuses */ "./src/grid/mixins/statuses.js");
/* harmony import */ var _mixins_sorting__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./mixins/sorting */ "./src/grid/mixins/sorting.js");
/* harmony import */ var _mixins_data__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./mixins/data */ "./src/grid/mixins/data.js");
/* harmony import */ var _mixins_editor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./mixins/editor */ "./src/grid/mixins/editor.js");
/* harmony import */ var _mixins_ui__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./mixins/ui */ "./src/grid/mixins/ui.js");
/* harmony import */ var _mixins_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./mixins/select */ "./src/grid/mixins/select.js");
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../common/ThrottleError */ "./src/common/ThrottleError.js");




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * React table component
 */













var RESET_MODEL = 1 << 0;
var RESET_VIEW_COLUMNS = 1 << 1;
var RESET_SORT = 1 << 2;
var RESET_VIEW_COUNT = 1 << 3;
var RESET_SELECTED_COLUMNS = 1 << 4;
var RESET_BLACK_LIST_MODE = 1 << 5;

var propTypes = function () {
  var sortElementProp = prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
    column: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,
    direction: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.any
  });
  var sortProp = prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.oneOfType([sortElementProp, prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf(sortElementProp)]);
  return {
    className: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,
    model: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
      read: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
      update: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
      isValidRecord: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
      getValidationDependency: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
      on: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
      off: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func
    }),
    cols: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object,
    viewColumns: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string), prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object]),
    selected: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.array,
    // sort: PropTypes.object,
    page: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
    defaultViewCount: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
    viewCount: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
    viewVariants: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number),
    onChangeViewCount: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onChange: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onError: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onPageLoad: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onInit: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onDestroy: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    autoSubmit: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
    height: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
    onSelectedChange: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onSorting: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    multipleSorting: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
    selectAllStatus: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.any,
    onToggleSelected: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    onToggleSelectAll: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
    defaultSort: function defaultSort(props, propName) {
      if (!props.defaultSort) {
        return;
      }

      for (var _len = arguments.length, rest = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
        rest[_key - 2] = arguments[_key];
      }

      var validProp = sortProp.apply(void 0, [props, propName].concat(rest));

      if (validProp) {
        return validProp;
      }

      if (props.hasOwnProperty('sort')) {
        return Error('You can not set "defaultSort" when the "sort" prop is specified');
      }
    },
    sort: function sort(props, propName) {
      if (!props.sort) {
        return;
      }

      for (var _len2 = arguments.length, rest = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
        rest[_key2 - 2] = arguments[_key2];
      }

      var validProp = sortProp.apply(void 0, [props, propName].concat(rest));

      if (validProp) {
        return validProp;
      }

      if (!props.onSorting) {
        return Error('You need to define the "onSorting" prop when "sort" is set');
      }
    },
    saveFullRecord: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
    partialErrorChecking: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
    warningsValidator: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
      isValidRecord: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
      getValidationDependency: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func
    })
  };
}();

var GridComponent = create_react_class__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_2___default()({
  displayName: "GridComponent"
}, _mixins_columns__WEBPACK_IMPORTED_MODULE_7__["default"], _mixins_pagination__WEBPACK_IMPORTED_MODULE_8__["default"], _mixins_statuses__WEBPACK_IMPORTED_MODULE_9__["default"], _mixins_sorting__WEBPACK_IMPORTED_MODULE_10__["default"], _mixins_data__WEBPACK_IMPORTED_MODULE_11__["default"], _mixins_editor__WEBPACK_IMPORTED_MODULE_12__["default"], _mixins_ui__WEBPACK_IMPORTED_MODULE_13__["default"], _mixins_select__WEBPACK_IMPORTED_MODULE_14__["default"], {
  getDefaultProps: function getDefaultProps() {
    return {
      page: 0,
      defaultViewCount: 0,
      partialErrorChecking: false,
      selected: []
    };
  },
  getInitialState: function getInitialState() {
    this._throttledUpdateTable = Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["throttle"])(this.updateTable);
    this._validateRow = Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["throttle"])(this._validateRow);

    if (this.props.onInit) {
      this.props.onInit();
    }

    return {
      page: this.props.page,
      viewCount: this.props.defaultViewCount,
      count: 0,
      statusMap: {
        "new": 1 << 0
      },
      statuses: {},
      sort: this._getDefaultSort(),
      data: null,
      changes: {},
      warnings: {},
      errors: {},
      totals: {},
      recordsInfo: {},
      mainIds: [],
      partialErrorChecking: this.props.partialErrorChecking,
      editor: {},
      colsWithEscapeErrors: {},
      selectBlackListMode: false,
      selected: _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(this.props.selected),
      showLoader: false
    };
  },
  componentDidMount: function componentDidMount() {
    this._isMounted = true;

    if (this.props.model) {
      this.props.model.on('create', this._onRecordsCreated);
      this.props.model.on('update', this._setData);
      this.props.model.on('delete', this.updateTable);
    }

    this.updateTable();
  },
  componentWillUnmount: function componentWillUnmount() {
    this._isMounted = false;

    if (this.props.model) {
      this.props.model.off('create', this._onRecordsCreated);
      this.props.model.off('update', this._setData);
      this.props.model.off('delete', this.updateTable);
    }

    if (this.props.onDestroy) {
      this.props.onDestroy();
    }
  },
  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {
    var oldProps = this.props;
    var reset = 0;

    if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["isEqual"])(this.props.model, nextProps.model)) {
      reset |= RESET_MODEL;
    }

    if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["isEqual"])(this.props.viewColumns, nextProps.viewColumns)) {
      reset |= RESET_VIEW_COLUMNS;
    }

    if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["isEqual"])(this.props.sort, nextProps.sort)) {
      reset |= RESET_SORT;
    }

    if (this.props.viewCount !== nextProps.viewCount) {
      reset |= RESET_VIEW_COUNT;
    }

    if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["isEqual"])(this.props.selected, nextProps.selected) || this.props.selectBlackListMode !== nextProps.selectBlackListMode) {
      reset |= RESET_SELECTED_COLUMNS;
    }

    if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["isEqual"])(this.props.blackListMode, nextProps.blackListMode)) {
      reset |= RESET_BLACK_LIST_MODE;
    }

    if (!reset) {
      return;
    }

    if (nextProps.selected) {
      this.state.selected = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(nextProps.selected);
    }

    this.setState({}, function () {
      if (reset & RESET_SORT || reset & RESET_MODEL || reset & RESET_VIEW_COUNT) {
        if (reset & RESET_MODEL) {
          this.state.data = null;

          if (oldProps.model) {
            oldProps.model.off('create', this._onRecordsCreated);
            oldProps.model.off('update', this._setData);
          }

          if (this.props.model) {
            this.props.model.on('create', this._onRecordsCreated);
            this.props.model.on('update', this._setData);
          }

          this._setPage(0);
        }

        this._throttledUpdateTable()["catch"](function (err) {
          if (!(err instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_15__["default"])) {
            console.error(err);
          }
        });
      } else if (reset & RESET_VIEW_COLUMNS || reset & RESET_SELECTED_COLUMNS || reset & RESET_BLACK_LIST_MODE) {
        this._renderBody();
      }
    });
  },
  renderScrollableGrid: function renderScrollableGrid(gridClassNames) {
    var _this = this;

    var header = this._formHeader();

    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: gridClassNames.join(' ')
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "wrapper-dgrid-header"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", {
      cellSpacing: "0",
      className: "dgrid-header"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("colgroup", null, header.colGroup), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("thead", null, header.cols.map(function (row, colKey) {
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
        key: colKey
      }, row.map(function (col, rowKey) {
        var header = _this._getHeaderCellHTML(col.hasOwnProperty('name') ? col.name : col.id);

        var props = {
          key: rowKey,
          className: col.className,
          onClick: col.sort ? _this._sortCol.bind(_this, col.field) : _this._handleHeaderCellClick.bind(_this, col),
          colSpan: col.cols,
          rowSpan: col.rows
        };
        return typeof header === 'string' ? react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
          dangerouslySetInnerHTML: {
            __html: header
          }
        })) : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", props, header);
      }));
    })))), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      style: {
        maxHeight: this.props.height,
        height: this.props.height
      },
      className: "dgrid-body-wrapper dgrid-scrollable"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "dgrid-body"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: this.state.showLoader ? 'dgrid-loader' : '',
      ref: function ref(loader) {
        return _this.loader = loader;
      }
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", {
      cellSpacing: "0",
      ref: function ref(body) {
        return _this.body = body;
      },
      onClick: this._handleBodyClick
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("colgroup", null, header.colGroup), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", {
      className: "dgrid-body-table",
      ref: function ref(tbody) {
        return _this.tBody = tbody;
      }
    })))), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "wrapper-totals"
    }, this._renderTotals(this.props.height)), this._renderPagination());
  },
  renderGrid: function renderGrid(gridClassNames) {
    var _this2 = this;

    var header = this._formHeader();

    gridClassNames = gridClassNames.concat('dgrid-not-scrollable');
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: gridClassNames.join(' ')
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: this.state.showLoader ? 'dgrid-loader' : '',
      ref: function ref(loader) {
        return _this2.loader = loader;
      }
    }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("table", {
      cellSpacing: "0",
      className: "dgrid-body-table",
      ref: function ref(body) {
        return _this2.body = body;
      },
      onClick: this._handleBodyClick
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("colgroup", null, header.colGroup), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("thead", null, header.cols.map(function (row, colKey) {
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tr", {
        key: colKey
      }, row.map(function (col, rowKey) {
        var header = _this2._getHeaderCellHTML(col.hasOwnProperty('name') ? col.name : col.id);

        var props = {
          key: rowKey,
          className: col.className,
          onClick: col.sort ? _this2._sortCol.bind(_this2, col.field) : _this2._handleHeaderCellClick.bind(_this2, col),
          colSpan: col.cols,
          rowSpan: col.rows
        };
        return typeof header === 'string' ? react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {
          dangerouslySetInnerHTML: {
            __html: header
          }
        })) : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("th", props, header);
      }));
    })), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("tbody", {
      className: "dgrid-body-table",
      ref: function ref(tbody) {
        return _this2.tBody = tbody;
      }
    }), this._renderTotals(this.props.height)), this._renderPagination());
  },
  render: function render() {
    var gridClassNames = ['data-grid'];

    if (this.props.className) {
      gridClassNames.push(this.props.className);
    }

    if (!this.props.height) {
      return this.renderGrid(gridClassNames);
    }

    return this.renderScrollableGrid(gridClassNames);
  }
}));
GridComponent.propTypes = propTypes;
/* harmony default export */ __webpack_exports__["default"] = (GridComponent);

/***/ }),

/***/ "./src/grid/export/exportGridData.js":
/*!*******************************************!*\
  !*** ./src/grid/export/exportGridData.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common_ArgumentsError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/ArgumentsError */ "./src/common/ArgumentsError.js");



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


function formatColumns(columns, viewColumns) {
  var formattedColumns = {};
  var columnId;
  var i;

  for (i = 0; i < viewColumns.length; i++) {
    columnId = viewColumns[i];
    formattedColumns[columnId] = "".concat(columns[columnId].parent ? columns[columnId].parent + ' ' : '').concat(columns[columnId].name);
  }

  return formattedColumns;
}

function formatRecord(record, columns, viewColumns) {
  var formattedRecord = {};
  var _iteratorNormalCompletion = true;
  var _didIteratorError = false;
  var _iteratorError = undefined;

  try {
    for (var _iterator = viewColumns[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
      var viewColumn = _step.value;
      var column = columns[viewColumn];
      formattedRecord[viewColumn] = column.render[column.render.length - 1](record);
    }
  } catch (err) {
    _didIteratorError = true;
    _iteratorError = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion && _iterator["return"] != null) {
        _iterator["return"]();
      }
    } finally {
      if (_didIteratorError) {
        throw _iteratorError;
      }
    }
  }

  return formattedRecord;
}

function formatData(records, totals, columns, viewColumns) {
  var formatted = {
    columns: formatColumns(columns, viewColumns),
    records: records.map(function (record) {
      return formatRecord(record[1], columns, viewColumns);
    })
  };

  if (totals) {
    formatted.totals = formatRecord(totals, columns, viewColumns);
  }

  return formatted;
}

function getFields(columns, viewColumns) {
  var fields = {};
  var _iteratorNormalCompletion2 = true;
  var _didIteratorError2 = false;
  var _iteratorError2 = undefined;

  try {
    for (var _iterator2 = viewColumns[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
      var columnId = _step2.value;

      for (var i = 0; i < columns[columnId].render.length - 1; i++) {
        fields[columns[columnId].render[i]] = true;
      }
    }
  } catch (err) {
    _didIteratorError2 = true;
    _iteratorError2 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
        _iterator2["return"]();
      }
    } finally {
      if (_didIteratorError2) {
        throw _iteratorError2;
      }
    }
  }

  return Object.keys(fields);
}
/**
 * @param {{}} columns
 * @param {string[]} viewColumns
 */


function assertValidViewColumns(columns, viewColumns) {
  if (!viewColumns || !viewColumns.length) {
    throw new _common_ArgumentsError__WEBPACK_IMPORTED_MODULE_2__["default"]('"viewColumns" can`t be empty');
  }

  var notExistColumns = [];
  var _iteratorNormalCompletion3 = true;
  var _didIteratorError3 = false;
  var _iteratorError3 = undefined;

  try {
    for (var _iterator3 = viewColumns[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
      var columnId = _step3.value;

      if (!columns[columnId]) {
        notExistColumns.push(columnId);
      }
    }
  } catch (err) {
    _didIteratorError3 = true;
    _iteratorError3 = err;
  } finally {
    try {
      if (!_iteratorNormalCompletion3 && _iterator3["return"] != null) {
        _iterator3["return"]();
      }
    } finally {
      if (_didIteratorError3) {
        throw _iteratorError3;
      }
    }
  }

  if (notExistColumns.length) {
    throw new _common_ArgumentsError__WEBPACK_IMPORTED_MODULE_2__["default"]("You trying to get not exist columns: ".concat(notExistColumns.join(', ')));
  }
}
/**
 * @param {{}}                    gridModel
 * @param {{}}                    columns
 * @param {string[]}              viewColumns
 * @param {Function}              exporter
 * @param {{}}                    settings
 * @param {[string, string][]}      settings.sort
 * @param {number}                  settings.limit
 * @param {number}                  settings.offset
 * @param {string[]}                settings.viewColumns
 */


function exportGridData(_x, _x2, _x3, _x4, _x5) {
  return _exportGridData.apply(this, arguments);
}

function _exportGridData() {
  _exportGridData = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(gridModel, columns, viewColumns, exporter, settings) {
    var result, data;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            assertValidViewColumns(columns, viewColumns);
            _context.next = 3;
            return gridModel.read({
              fields: getFields(columns, viewColumns),
              sort: settings.sort ? [[settings.sort.column, settings.sort.direction]] : null,
              limit: settings.limit,
              offset: settings.offset
            });

          case 3:
            result = _context.sent;
            data = formatData(result.records, result.totals, columns, viewColumns);
            _context.next = 7;
            return exporter(data);

          case 7:
            return _context.abrupt("return", _context.sent);

          case 8:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return _exportGridData.apply(this, arguments);
}

/* harmony default export */ __webpack_exports__["default"] = (exportGridData);

/***/ }),

/***/ "./src/grid/export/exporters/toCSV.js":
/*!********************************************!*\
  !*** ./src/grid/export/exporters/toCSV.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common_toPromise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/toPromise */ "./src/common/toPromise.js");
/* harmony import */ var csv_stringify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! csv-stringify */ "csv-stringify");
/* harmony import */ var csv_stringify__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(csv_stringify__WEBPACK_IMPORTED_MODULE_3__);



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



function toCSV(_x) {
  return _toCSV.apply(this, arguments);
}

function _toCSV() {
  _toCSV = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(data) {
    var csvData;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return Object(_common_toPromise__WEBPACK_IMPORTED_MODULE_2__["default"])(csv_stringify__WEBPACK_IMPORTED_MODULE_3___default.a, true)(data.records.concat([data.totals]), {
              header: true,
              columns: data.columns
            });

          case 2:
            csvData = _context.sent;
            return _context.abrupt("return", {
              mime: 'text/csv',
              data: csvData
            });

          case 4:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return _toCSV.apply(this, arguments);
}

/* harmony default export */ __webpack_exports__["default"] = (toCSV);

/***/ }),

/***/ "./src/grid/export/exporters/toJSON.js":
/*!*********************************************!*\
  !*** ./src/grid/export/exporters/toJSON.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */
function toJSON(_x) {
  return _toJSON.apply(this, arguments);
}

function _toJSON() {
  _toJSON = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(data) {
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            return _context.abrupt("return", {
              mime: 'application/json',
              data: {
                records: data.records,
                totals: data.totals
              }
            });

          case 1:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return _toJSON.apply(this, arguments);
}

/* harmony default export */ __webpack_exports__["default"] = (toJSON);

/***/ }),

/***/ "./src/grid/mixins/columns.js":
/*!************************************!*\
  !*** ./src/grid/mixins/columns.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "@babel/runtime/helpers/slicedToArray");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "@babel/runtime/helpers/toConsumableArray");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/* harmony import */ var react_dom_factories__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom-factories */ "react-dom-factories");
/* harmony import */ var react_dom_factories__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom_factories__WEBPACK_IMPORTED_MODULE_3__);



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


var GridColumnsMixin = {
  /**
   * Column visibility flag
   *
   * @param   {string}    id  Column ID
   * @returns {boolean}   Column visibility
   * @private
   */
  _isViewColumn: function _isViewColumn(id) {
    if (!this.props.viewColumns) {
      return true;
    }

    if (Array.isArray(this.props.viewColumns)) {
      return this.props.viewColumns.indexOf(id) > -1;
    }

    return this.props.viewColumns[id];
  },

  /**
   * Collect data for table header display
   *
   * @returns {Object} Formed data
   * @private
   */
  _formHeader: function _formHeader() {
    var rows = [[
      /* top */
    ], [
      /* bottom */
    ]];
    var colGroup = [];
    var lastParent = {
      name: ''
    };

    for (var columnId in this.props.cols) {
      // Skip column if it's invisible
      if (!this._isViewColumn(columnId)) {
        continue;
      }

      colGroup.push(react_dom_factories__WEBPACK_IMPORTED_MODULE_3___default.a.col({
        key: columnId,
        width: this.props.cols[columnId].width,
        className: this._getColumnClass(columnId)
      }));
      var classNames = [this._getColumnClass(columnId)];
      var addInfo = {
        id: columnId,
        name: this.props.cols[columnId].name,
        onClick: this.props.cols[columnId].onClick,
        onClickRefs: this.props.cols[columnId].onClickRefs,
        cols: 1,
        rows: 1
      };

      var sortParams = this._getSortParams(columnId);

      if (sortParams) {
        classNames.push("dgrid-".concat(sortParams.direction));
        addInfo.field = sortParams.column;
        addInfo.sort = sortParams.direction;
      }

      addInfo.className = classNames.join(' ');

      if (this.props.cols[columnId].parent) {
        if (this.props.cols[columnId].parent !== lastParent.name) {
          lastParent = rows[0][rows[0].push({
            name: this.props.cols[columnId].parent,
            cols: 1,
            rows: 1
          }) - 1];
        } else {
          lastParent.cols++;
        }

        rows[1].push(addInfo);
      } else {
        lastParent = {
          name: ''
        };
        addInfo.rows = 2;
        rows[0].push(addInfo);
      }
    }

    return {
      cols: rows,
      colGroup: colGroup
    };
  },

  /**
   * Get the names of the parameters that are required to display the grid
   *
   * @return {string[]}
   * @private
   */
  _getFieldsToRender: function _getFieldsToRender() {
    var i;
    var cols = this.props.cols;
    var columns = [];

    for (i in cols) {
      columns = Object(_common_utils__WEBPACK_IMPORTED_MODULE_2__["union"])(columns, cols[i].render.slice(0, cols[i].render.length - 1));
    }

    return columns;
  },

  /**
   * Does the parameters to display grid
   *
   * @param   {string}  field
   * @return  {boolean}
   * @private
   */
  _isFieldAffectsRender: function _isFieldAffectsRender(field) {
    var i;
    var cols = this.props.cols;

    for (i in cols) {
      if (cols[i].render.indexOf(field) >= 0) {
        return true;
      }
    }

    return false;
  },

  /**
   * Get dependent columns
   *
   * @param   {string}    field
   * @return  {string[]}
   * @private
   */
  _getDependentColumns: function _getDependentColumns(field) {
    var dependentColumns = [];
    var dependencyFields = [field].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(this.props.model.getValidationDependency([field])));

    for (var _i = 0, _Object$entries = Object.entries(this.props.cols); _i < _Object$entries.length; _i++) {
      var _Object$entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_Object$entries[_i], 2),
          columnName = _Object$entries$_i[0],
          render = _Object$entries$_i[1].render;

      if (render.some(function (renderField) {
        return dependencyFields.includes(renderField);
      })) {
        dependentColumns.push(columnName);
      }
    }

    return dependentColumns;
  },
  _getColumnClass: function _getColumnClass(id) {
    return this.props.cols[id].className;
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridColumnsMixin);

/***/ }),

/***/ "./src/grid/mixins/data.js":
/*!*********************************!*\
  !*** ./src/grid/mixins/data.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "@babel/runtime/helpers/slicedToArray");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/ThrottleError */ "./src/common/ThrottleError.js");




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



var GridDataMixin = {
  /**
   * Change table record
   * This method marks changed fields and validates them
   *
   * @param {*}         recordId    Record ID
   * @param {Object}    data        Changed data
   * @param {Function}  cb          CallBack function
   */
  set: function set(recordId, data, cb) {
    //TODO cb does't used
    var row = this._getRowID(recordId);

    this._setRowChanges(row, Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["cloneDeep"])(data), cb);

    if (this.props.autoSubmit || this.props.realtime) {
      if (this.props.realtime) {
        console.warn('Deprecated: Grid prop "realtime" renamed to "autoSubmit"');
      }

      this.save(this.props.onRealtimeSubmit);
    } else if (this.props.onChange) {
      this.props.onChange(this.state.changes, this.state.data);
    }
  },

  /**
   * Get record data
   *
   * @param recordId
   * @return {Object}
   */
  getRecord: function getRecord(recordId) {
    var row = this._getRowID(recordId);

    return Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["cloneDeep"])(this._getRecordWithChanges(row));
  },

  /**
   * Get record changes object
   *
   * @param   {*} recordId Record ID
   * @return  {Object}
   */
  getRecordChanges: function getRecordChanges(recordId) {
    var row = this._getRowID(recordId);

    return this._getRecordChanges(row);
  },

  /**
   * Get record warnings object
   *
   * @param   {*} recordId  Record ID
   * @return  {ValidationErrors}
   * @private
   */
  getRecordWarnings: function getRecordWarnings(recordId) {
    var row = this._getRowID(recordId);

    return this.state.warnings[row] || new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_3__["default"]();
  },

  /**
   * Get validation warnings
   *
   * @return {Array|null}
   */
  getWarnings: function getWarnings() {
    var result = [];

    for (var i in this.state.warnings) {
      result.push([this.state.recordsInfo[i].id, this.state.warnings[i]]);
    }

    return result.length ? result : null;
  },

  /**
   * Get record errors object
   *
   * @param   {*} recordId  Record ID
   * @return  {ValidationErrors}
   * @private
   */
  getRecordErrors: function getRecordErrors(recordId) {
    var row = this._getRowID(recordId);

    return this._getRecordErrors(row);
  },

  /**
   * Get validation errors
   *
   * @return {Array|null}
   */
  getErrors: function getErrors() {
    var result = [];

    for (var i in this.state.errors) {
      result.push([this.state.recordsInfo[i].id, this.state.errors[i]]);
    }

    return result.length ? result : null;
  },

  /**
   * Get table model
   *
   * @returns {AbstractGridModel}
   */
  getModel: function getModel() {
    return this.props.model;
  },

  /**
   * Save grid changes
   */
  save: function () {
    var _save = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {
      var _this = this,
          _context;

      var errors, changes, data, unhandledErrors, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _loop, _iterator, _step, _ret, errorHandler;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              errors = this.getErrors(); // Collect all valid changes

              changes = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["reduce"])(this.state.changes, function (result, rowChanges, row) {
                if (!errors || !errors[row]) {
                  if (_this.props.saveFullRecord) {
                    result[row] = _this._getRecordWithChanges(row);
                  } else {
                    result[row] = {};
                    Object.assign(result[row], rowChanges, Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["pick"])(_this.state.data[row], _this.props.model.getValidationDependency(Object.keys(result[row]))));
                  }
                }

                return result;
              }, {}); // Cancel new record display

              this.removeRecordStatusAll('new'); // Pass changes to table model processing

              _context2.next = 5;
              return this.props.model.update(this._dataObjectToArray(changes));

            case 5:
              data = _context2.sent;

              if (this._isMounted) {
                _context2.next = 8;
                break;
              }

              return _context2.abrupt("return");

            case 8:
              this.state.partialErrorChecking = false;
              unhandledErrors = [];
              _iteratorNormalCompletion = true;
              _didIteratorError = false;
              _iteratorError = undefined;
              _context2.prev = 13;

              _loop = function _loop() {
                var record = _step.value;

                var row = _this._getRowID(record[0]); // Skip records that are user changed while data processing


                if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["isEqual"])(_this.state.changes[row], changes[row])) {
                  return "continue";
                }

                if (record[1] instanceof Error) {
                  unhandledErrors.push(record[1]);
                  return "continue";
                } // Process validation errors


                if (record[1] instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_3__["default"]) {
                  _this.state.errors[row] = record[1];
                  return "continue";
                } // Cancel changed data status of the parameters, that are changed


                Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["forEach"])(changes[row], function (value, field) {
                  if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["isEqual"])(value, this.state.changes[row][field])) {
                    delete this.state.changes[row][field];
                  }
                }, _this); // Clear changed data row if it's empty

                if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["isEmpty"])(_this.state.changes[row])) {
                  delete _this.state.changes[row];

                  if (!_this._isMainRow(row)) {
                    _this._removeRecord(row);
                  }
                }
              };

              _iterator = data[Symbol.iterator]();

            case 16:
              if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
                _context2.next = 23;
                break;
              }

              _ret = _loop();

              if (!(_ret === "continue")) {
                _context2.next = 20;
                break;
              }

              return _context2.abrupt("continue", 20);

            case 20:
              _iteratorNormalCompletion = true;
              _context2.next = 16;
              break;

            case 23:
              _context2.next = 29;
              break;

            case 25:
              _context2.prev = 25;
              _context2.t0 = _context2["catch"](13);
              _didIteratorError = true;
              _iteratorError = _context2.t0;

            case 29:
              _context2.prev = 29;
              _context2.prev = 30;

              if (!_iteratorNormalCompletion && _iterator["return"] != null) {
                _iterator["return"]();
              }

            case 32:
              _context2.prev = 32;

              if (!_didIteratorError) {
                _context2.next = 35;
                break;
              }

              throw _iteratorError;

            case 35:
              return _context2.finish(32);

            case 36:
              return _context2.finish(29);

            case 37:
              this._renderBody();

              if (this.props.onChange) {
                this.props.onChange(this.state.changes, this.state.data);
              }

              errorHandler = this.props.onError || (_context = console).error.bind(_context);
              unhandledErrors.forEach(function (error) {
                return errorHandler(error);
              });
              return _context2.abrupt("return", data);

            case 42:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee, this, [[13, 25, 29, 37], [30,, 32, 36]]);
    }));

    function save() {
      return _save.apply(this, arguments);
    }

    return save;
  }(),

  /**
   * Clear record changes
   *
   * @param {*} recordId Record ID
   */
  clearRecordChanges: function clearRecordChanges(recordId) {
    var row = this._getRowID(recordId);

    delete this.state.changes[row];
    delete this.state.warnings[row];
    delete this.state.errors[row];

    this._updateRow(row);

    if (this.props.onChange) {
      this.props.onChange(this.state.changes, this.state.data);
    }
  },

  /**
   * Clear all table changes
   */
  clearAllChanges: function clearAllChanges() {
    var i;

    for (i in this.state.data) {
      if (!this._isMainRow(i)) {
        delete this.state.data[i];
        delete this.state.recordsInfo[i];
      }
    }

    this.state.changes = {};
    this.state.statuses = {};
    this.state.warnings = {};
    this.state.errors = {};
    this.state.partialErrorChecking = this.props.partialErrorChecking;

    this._renderBody();

    if (this.props.onChange) {
      this.props.onChange(this.state.changes, this.state.data);
    }
  },

  /**
   * Reset to initial table state
   */
  reset: function reset() {
    this._setPage(0);

    if (!this._isSortingPropsMode()) {
      this._resetSorting();
    }

    this.updateTable();
  },

  /**
   * Get record changes object
   *
   * @param   {string}        row     Row ID
   * @return  {Object}
   */
  _getRecordChanges: function _getRecordChanges(row) {
    if (this.state.changes.hasOwnProperty(row)) {
      return Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["cloneDeep"])(this.state.changes[row]);
    }

    return {};
  },

  /**
   * Set record data
   *
   * @param {*}       recordId  Record ID
   * @param {Object}  data      Data
   * @private
   */
  _setRecordData: function _setRecordData(recordId, data) {
    if (!this._isRecordLoaded(recordId)) {
      return;
    } // TODO done through _dataArrayToObject


    var row = this._getRowID(recordId); // Apply and redraw all record changes


    for (var field in data) {
      this.state.data[row][field] = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["cloneDeep"])(data[field]);

      this._renderBinds(row, field);
    }
  },

  /**
   * Table row has warning flag
   *
   * @param   {string}        row     Row ID
   * @param   {Array|string}  fields
   * @returns {boolean}
   * @private
   */
  _hasWarning: function _hasWarning(row, fields) {
    return this._checkFieldInValidation(row, fields, this.state.warnings);
  },

  /**
   * Table row has error flag
   *
   * @param   {string}        row     Row ID
   * @param   {Array|string}  fields
   * @returns {boolean}
   * @private
   */
  _hasError: function _hasError(row, fields) {
    return this._checkFieldInValidation(row, fields, this.state.errors);
  },

  /**
   * Table row has error in "validation" object
   *
   * @param   {string}        row
   * @param   {Array|string}  fields
   * @param   {Validation}    validation
   * @returns {boolean}
   * @private
   */
  _checkFieldInValidation: function _checkFieldInValidation(row, fields, validation) {
    var i;

    if (!validation[row]) {
      return false;
    }

    if (this.state.partialErrorChecking && !this.state.changes.hasOwnProperty(row)) {
      return false;
    }

    if (!Array.isArray(fields)) {
      fields = [fields];
    }

    for (i = 0; i < fields.length; i++) {
      if (validation[row].hasError(fields[i])) {
        return true;
      }
    }

    return false;
  },

  /**
   * Table row changed flag
   *
   * @param   {string}        row         Row ID
   * @param   {Array|string}  [fields]
   * @return  {boolean}
   * @private
   */
  _isChanged: function _isChanged(row, fields) {
    var i;

    if (!this.state.changes[row]) {
      return false;
    }

    if (fields) {
      if (!Array.isArray(fields)) {
        fields = [fields];
      }

      for (i = 0; i < fields.length; i++) {
        if (this.state.changes[row].hasOwnProperty(fields[i])) {
          return true;
        }
      }

      return false;
    }

    return true;
  },

  /**
   * Get table row errors object
   *
   * @param   {string} row  Row ID
   * @return  {ValidationErrors}
   * @private
   */
  _getRecordErrors: function _getRecordErrors(row) {
    return this.state.errors[row] || new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_3__["default"]();
  },

  /**
   * Pass changes to the table
   * This method marks changed fields
   *
   * @param {string}      row         Row ID
   * @param {Object}      data        Changed data
   * @private
   */
  _setRowChanges: function _setRowChanges(row, data) {
    var changes = this.state.changes;

    if (!changes[row]) {
      changes[row] = {};
    }

    changes[row] = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["getRecordChanges"])(this.props.model, this.state.data[row], changes[row], data);

    if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["isEmpty"])(changes[row])) {
      delete changes[row];
    }

    for (var _i = 0, _Object$keys = Object.keys(data); _i < _Object$keys.length; _i++) {
      var column = _Object$keys[_i];

      this._renderBinds(row, column);
    }

    if (this.props.onChange) {
      this.props.onChange(this.state.changes, this.state.data);
    }
  },

  /**
   * Get table record with changes
   *
   * @param {string} row Row ID
   * @returns {Object} Required table data record
   * @private
   */
  _getRecordWithChanges: function _getRecordWithChanges(row) {
    if (this.state.data[row]) {
      return Object.assign({}, this.state.data[row], this.state.changes[row]);
    }

    return null;
  },

  /**
   * Set table data
   *
   * @param {Array}  changes  Changes
   * @private
   */
  _setData: function () {
    var _setData2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(changes) {
      var _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, _step2$value, id, data;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context3) {
        while (1) {
          switch (_context3.prev = _context3.next) {
            case 0:
              // Apply all changes
              _iteratorNormalCompletion2 = true;
              _didIteratorError2 = false;
              _iteratorError2 = undefined;
              _context3.prev = 3;
              _iterator2 = changes[Symbol.iterator]();

            case 5:
              if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {
                _context3.next = 20;
                break;
              }

              _step2$value = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_step2.value, 2), id = _step2$value[0], data = _step2$value[1];

              // Firstly we update the state
              this._setRecordData(id, data); // Then we validate the updated data in state


              _context3.prev = 8;
              _context3.next = 11;
              return this._checkWarnings(id);

            case 11:
              _context3.next = 17;
              break;

            case 13:
              _context3.prev = 13;
              _context3.t0 = _context3["catch"](8);

              if (_context3.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_5__["default"]) {
                _context3.next = 17;
                break;
              }

              throw _context3.t0;

            case 17:
              _iteratorNormalCompletion2 = true;
              _context3.next = 5;
              break;

            case 20:
              _context3.next = 26;
              break;

            case 22:
              _context3.prev = 22;
              _context3.t1 = _context3["catch"](3);
              _didIteratorError2 = true;
              _iteratorError2 = _context3.t1;

            case 26:
              _context3.prev = 26;
              _context3.prev = 27;

              if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
                _iterator2["return"]();
              }

            case 29:
              _context3.prev = 29;

              if (!_didIteratorError2) {
                _context3.next = 32;
                break;
              }

              throw _iteratorError2;

            case 32:
              return _context3.finish(29);

            case 33:
              return _context3.finish(26);

            case 34:
            case "end":
              return _context3.stop();
          }
        }
      }, _callee2, this, [[3, 22, 26, 34], [8, 13], [27,, 29, 33]]);
    }));

    function _setData(_x) {
      return _setData2.apply(this, arguments);
    }

    return _setData;
  }(),

  /**
   * Get record field title that changes column Editor
   *
   * @param       {string}        id  Column ID
   * @returns     {Array|string}     Fields that change Editor
   * @private
   */
  _getBindParam: function _getBindParam(id) {
    return this.props.cols[id].editorField || id;
  },

  /**
   * This method converts data array to the object with keys presented as record ID hash
   *
   * @param   {Array}    arr     Data array
   * @returns {Object}    Object result
   * @private
   */
  _dataArrayToObject: function _dataArrayToObject(arr) {
    var i;
    var records = {};
    var info = {};
    var row;

    for (i = 0; i < arr.length; i++) {
      row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["toEncodedString"])(arr[i][0]);
      records[row] = arr[i][1];
      info[row] = {
        id: arr[i][0],
        index: i // Sort index

      };
    }

    return {
      records: records,
      info: info
    };
  },

  /**
   * This method converts data object to the array with keys presented as record ID hash
   *
   * @param   {Object}  obj     Data object
   * @returns {Array}   Array result
   * @private
   */
  _dataObjectToArray: function _dataObjectToArray(obj) {
    var i;
    var arr = [];

    for (i in obj) {
      arr.push([this.state.recordsInfo[i].id, Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["clone"])(obj[i])]);
    }

    return arr;
  },

  /**
   * Is main table row flag
   *
   * @param   {string}    row     Row ID
   * @return  {boolean}
   * @private
   */
  _isMainRow: function _isMainRow(row) {
    return this.state.mainIds.indexOf(row) >= 0;
  },
  _isRecordLoaded: function _isRecordLoaded(recordId) {
    // TODO Can be optimized
    var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["toEncodedString"])(recordId);
    return this.state.data.hasOwnProperty(row);
  },

  /**
   * Get table row ID having record ID
   *
   * @param   {*}       recordId    Record ID
   * @return  {string}  Row ID
   * @private
   */
  _getRowID: function _getRowID(recordId) {
    var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["toEncodedString"])(recordId);

    if (!this.state.data.hasOwnProperty(row)) {
      throw Error('Record with the ID is not contained in the table.');
    }

    return row;
  },

  /**
   * Load model data
   *
   * @param {Object}      settings    Request parameters
   * @private
   */
  _loadData: function () {
    var _loadData2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(settings) {
      var data;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context4) {
        while (1) {
          switch (_context4.prev = _context4.next) {
            case 0:
              _context4.prev = 0;
              _context4.next = 3;
              return this.props.model.read(settings);

            case 3:
              data = _context4.sent;
              _context4.next = 10;
              break;

            case 6:
              _context4.prev = 6;
              _context4.t0 = _context4["catch"](0);

              if (_context4.t0 && this.props.onError) {
                this.props.onError(_context4.t0);
              }

              throw _context4.t0;

            case 10:
              if (this.props.onPageLoad) {
                this.props.onPageLoad(data);
              }

              return _context4.abrupt("return", data);

            case 12:
            case "end":
              return _context4.stop();
          }
        }
      }, _callee3, this, [[0, 6]]);
    }));

    function _loadData(_x2) {
      return _loadData2.apply(this, arguments);
    }

    return _loadData;
  }(),

  /**
   * Find record IDs that need to be displayed additionally
   *
   * @return {Array} Additional IDs array
   * @private
   */
  _getAdditionalIds: function _getAdditionalIds() {
    var additionalIds = this._getRecordsWithStatus();

    var id;

    for (var row in this.state.changes) {
      id = this.state.recordsInfo[row].id;

      if (additionalIds.indexOf(id) < 0) {
        additionalIds.push(id);
      }
    }

    return additionalIds;
  },
  _removeRecord: function _removeRecord(rowId, cb) {
    var touchedChanges = this.state.changes[rowId];

    this._removeTR(rowId); // this.unselectRecord(recordId, true); // TODO Make unselectRecord by rowId method


    delete this.state.data[rowId];
    delete this.state.recordsInfo[rowId];
    delete this.state.changes[rowId];
    delete this.state.warnings[rowId];
    delete this.state.errors[rowId];
    delete this.state.editor[rowId];
    this.setState(this.state, cb ? cb.bind(this) : null);

    if (touchedChanges && this.props.onChange) {
      this.props.onChange(this.state.changes, this.state.data);
    }
  },
  _checkWarnings: function () {
    var _checkWarnings2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4(row) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context5) {
        while (1) {
          switch (_context5.prev = _context5.next) {
            case 0:
              if (this.props.warningsValidator) {
                _context5.next = 2;
                break;
              }

              return _context5.abrupt("return");

            case 2:
              return _context5.abrupt("return", this._checkValidatorErrors(row, this.props.warningsValidator, this._getRecordWithChanges, this.state.warnings));

            case 3:
            case "end":
              return _context5.stop();
          }
        }
      }, _callee4, this);
    }));

    function _checkWarnings(_x3) {
      return _checkWarnings2.apply(this, arguments);
    }

    return _checkWarnings;
  }(),
  _validateRow: function () {
    var _validateRow2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee5(row) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee5$(_context6) {
        while (1) {
          switch (_context6.prev = _context6.next) {
            case 0:
              _context6.next = 2;
              return this._checkValidatorErrors(row, this.props.model, this._getRecordChanges, this.state.errors);

            case 2:
              return _context6.abrupt("return", _context6.sent);

            case 3:
            case "end":
              return _context6.stop();
          }
        }
      }, _callee5, this);
    }));

    function _validateRow(_x4) {
      return _validateRow2.apply(this, arguments);
    }

    return _validateRow;
  }(),

  /**
   * Check errors in "validator" object
   *
   * @param {string}        row         Row ID
   * @param {Validator}     validator   Validator object
   * @param {Function}      getData     Data provider function
   * @param {{}}            result      Validation result object
   * @private
   */
  _checkValidatorErrors: function () {
    var _checkValidatorErrors2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee6(row, validator, getData, result) {
      var recordId, record, validErrors;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee6$(_context7) {
        while (1) {
          switch (_context7.prev = _context7.next) {
            case 0:
              recordId = this.state.recordsInfo[row].id;
              record = getData(row);
              _context7.next = 4;
              return validator.isValidRecord(record, recordId);

            case 4:
              validErrors = _context7.sent;

              if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["isEqual"])(record, getData(row))) {
                _context7.next = 9;
                break;
              }

              if (validErrors.isEmpty()) {
                delete result[row];
              } else {
                result[row] = validErrors;
              }

              _context7.next = 9;
              return this._updateRow(row);

            case 9:
            case "end":
              return _context7.stop();
          }
        }
      }, _callee6, this);
    }));

    function _checkValidatorErrors(_x5, _x6, _x7, _x8) {
      return _checkValidatorErrors2.apply(this, arguments);
    }

    return _checkValidatorErrors;
  }(),

  /**
   * Handler for "create" event of GridModel
   *
   * @param {*[]|*} recordIds
   * @return {void}
   * @private
   */
  _onRecordsCreated: function _onRecordsCreated(recordIds) {
    var _this2 = this;

    if (!Array.isArray(recordIds)) {
      Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["warn"])('Not array recordsIds in "create" event is deprecated');
      recordIds = [recordIds];
    }

    this.updateTable().then(Promise.all(recordIds.map(
    /*#__PURE__*/
    function () {
      var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee7(recordId) {
        var rowId;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee7$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                if (_this2._isRecordLoaded(recordId)) {
                  _context8.next = 2;
                  break;
                }

                return _context8.abrupt("return");

              case 2:
                rowId = _this2._getRowID(recordId);
                _context8.prev = 3;
                _context8.next = 6;
                return _this2._checkWarnings(rowId);

              case 6:
                _context8.next = 12;
                break;

              case 8:
                _context8.prev = 8;
                _context8.t0 = _context8["catch"](3);

                if (_context8.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_5__["default"]) {
                  _context8.next = 12;
                  break;
                }

                throw _context8.t0;

              case 12:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee7, null, [[3, 8]]);
      }));

      return function (_x9) {
        return _ref.apply(this, arguments);
      };
    }())));
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridDataMixin);

/***/ }),

/***/ "./src/grid/mixins/editor.js":
/*!***********************************!*\
  !*** ./src/grid/mixins/editor.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "@babel/runtime/helpers/defineProperty");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/ThrottleError */ "./src/common/ThrottleError.js");




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */
 // eslint-disable-line no-unused-vars




var findDOMNode = react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.findDOMNode;
var ENTER_KEY = 13;
var ESCAPE_KEY = 27;
var GridEditorMixin = {
  /**
   * Display Editor in a table cell
   *
   * @param {HTMLElement} element     Cell DOM element
   * @param {string}      row         Row ID
   * @param {string}      column      Column ID
   * @private
   */
  _renderEditor: function _renderEditor(element, row, column) {
    var _this = this;

    var binds = this._getBindParam(column);

    var record = this._getRecordWithChanges(row);

    var value = Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["at"])(record, binds);
    var focusDone = false;

    if (!Array.isArray(binds)) {
      value = value[0];
    } // Prevent recreate of the opened Editor


    if (this._isEditorVisible(row, column)) {
      return;
    }

    var editorContext = {
      updateField: function updateField(field, nextValue) {
        var data = {};
        data[field] = nextValue;

        _this._setRowChanges(row, data);
      }
    };
    var props = {
      onChange: function onChange(values) {
        _this._onChangeEditor(row, column, values, editorContext, element);
      },
      onFocus: function onFocus() {
        _this._onFocusEditor(row, column);
      },
      onBlur: function onBlur() {
        // Remove Editor
        if (focusDone) {
          _this._unmountEditor(element, row, column);

          _this._onBlurEditor(row);
        }
      },
      onKeyUp: function onKeyUp(e) {
        if (focusDone && [ENTER_KEY, ESCAPE_KEY].includes(e.keyCode)) {
          if (e.keyCode === ESCAPE_KEY) {
            _this._setRowChanges(row, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()({}, column, value));
          }

          _this._unmountEditor(element, row, column);

          _this._onBlurEditor(row);
        }
      },
      value: value
    };
    editorContext.props = props; // Display Editor

    var Component = this.props.cols[column].editor.call(editorContext, record, this);

    if (!Component) {
      return;
    }

    this.state.editor["".concat(row, "_").concat(column)] = react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.render(Component, element, function () {
      element.classList.add('dgrid-input-wrapper');

      if (typeof this.focus === 'function') {
        this.focus();
      } else {
        findDOMNode(this).focus();
      }

      focusDone = true;
    });
  },
  _unmountEditor: function _unmountEditor(element, row, column) {
    react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.unmountComponentAtNode(element);
    delete this.state.editor["".concat(row, "_").concat(column)];
    element.classList.remove('dgrid-input-wrapper');
    var selected = this.isSelected(this.state.recordsInfo[row].id);

    this._renderCell(row, column, selected);
  },
  _onChangeEditor: function _onChangeEditor(row, column, values, editorContext, element) {
    var binds = this._getBindParam(column);

    values = Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["cloneDeep"])(Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["parseValueFromEvent"])(values));

    var record = this._getRecordWithChanges(row);

    var context = Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["cloneDeep"])(editorContext);
    context.props.value = values;
    var Component = this.props.cols[column].editor.call(context, record, this);
    this.state.editor["".concat(row, "_").concat(column)] = react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.render(Component, element);

    if (!Array.isArray(binds)) {
      binds = [binds];
      values = [values];
    }

    this._setRowChanges(row, Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["zipObject"])(binds, values));
  },
  _onFocusEditor: function _onFocusEditor(row, column) {
    if (!this.state.errors[row]) {
      return;
    }

    var binds = this._getBindParam(column);

    if (!Array.isArray(binds)) {
      binds = [binds];
    }

    binds.forEach(function (field) {
      this.state.errors[row].clearField(field);
    }, this);

    if (this.state.errors[row].isEmpty()) {
      delete this.state.errors[row];
    }
  },
  _onBlurEditor: function () {
    var _onBlurEditor2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(row) {
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              _context.next = 3;
              return this._checkWarnings(row);

            case 3:
              _context.next = 9;
              break;

            case 5:
              _context.prev = 5;
              _context.t0 = _context["catch"](0);

              if (_context.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_6__["default"]) {
                _context.next = 9;
                break;
              }

              throw _context.t0;

            case 9:
              if (!(this.props.autoSubmit || this.props.realtime)) {
                _context.next = 14;
                break;
              }

              if (this.props.realtime) {
                console.warn('Deprecated: Grid prop "realtime" renamed to "autoSubmit"');
              }

              this.save(this.props.onRealtimeSubmit);
              _context.next = 23;
              break;

            case 14:
              _context.prev = 14;
              _context.next = 17;
              return this._validateRow(row);

            case 17:
              _context.next = 23;
              break;

            case 19:
              _context.prev = 19;
              _context.t1 = _context["catch"](14);

              if (_context.t1 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_6__["default"]) {
                _context.next = 23;
                break;
              }

              throw _context.t1;

            case 23:
              if (this.props.onChange) {
                this.props.onChange(this.state.changes, this.state.data);
              }

            case 24:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, this, [[0, 5], [14, 19]]);
    }));

    function _onBlurEditor(_x) {
      return _onBlurEditor2.apply(this, arguments);
    }

    return _onBlurEditor;
  }(),
  _isEditorVisible: function _isEditorVisible(row, column) {
    return Boolean(this.state.editor["".concat(row, "_").concat(column)]);
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridEditorMixin);

/***/ }),

/***/ "./src/grid/mixins/pagination.js":
/*!***************************************!*\
  !*** ./src/grid/mixins/pagination.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

var GridPaginationMixin = {
  /**
   * Change event handler of displayed rows count in a table
   *
   * @param {Event} event
   */
  handleChangeViewCount: function handleChangeViewCount(event) {
    var count = this.props.viewVariants[event.target.value];

    if (this._isViewCountPropsMode()) {
      this.props.onChangeViewCount(count);
      return;
    }

    this.setViewCount(count);
  },

  /**
   * Move to first page event handler
   *
   * @param {Event} event
   */
  handleFirstPage: function handleFirstPage(event) {
    event.preventDefault();
    this.setPage(0);
  },

  /**
   * Move to last page event handler
   *
   * @param {Event} event
   */
  handleLastPage: function handleLastPage(event) {
    event.preventDefault();
    this.setPage(this.getPagesCount() - 1);
  },

  /**
   * Move to previous page event handler
   *
   * @param {Event} event
   */
  handlePrevPage: function handlePrevPage(event) {
    event.preventDefault();
    this.setPage(this.state.page - 1);
  },

  /**
   * Move to next page event handler
   *
   * @param {Event} event
   */
  handleNextPage: function handleNextPage(event) {
    event.preventDefault();
    this.setPage(this.state.page + 1);
  },

  /**
   * Refresh table handler
   *
   */
  handleRefreshTable: function handleRefreshTable(event) {
    event.preventDefault();
    this.updateTable();
  },

  /**
   * Get current page index number
   *
   * @return {number}
   */
  getCurrentPage: function getCurrentPage() {
    return this.state.page;
  },
  getCountRecords: function getCountRecords() {
    return this.state.count;
  },

  /**
   * Move to other page
   *
   * @param {number}  page     Page index number
   */
  setPage: function setPage(page) {
    this._setPage(page);

    this.updateTable();
  },

  /**
   * Set displayed elements count
   *
   * @param {number} viewCount
   */
  setViewCount: function setViewCount(viewCount) {
    if (this._isViewCountPropsMode()) {
      throw Error('You can not use function "setViewCount" when set prop "viewCount"');
    }

    this.state.viewCount = viewCount;
    this.state.page = this._checkPage(this.state.page, viewCount, this.state.count);
    this.updateTable();
  },

  /**
   * Get pages count
   *
   * @return {number}
   */
  getPagesCount: function getPagesCount() {
    var viewCount = this.getViewCount();
    return viewCount ? Math.ceil(this.state.count / viewCount) : 1;
  },
  getViewCount: function getViewCount() {
    if (this._isViewCountPropsMode()) {
      return this.props.viewCount;
    }

    return this.state.viewCount;
  },
  _setPage: function _setPage(page) {
    this.state.page = this._checkPage(page, this.state.viewCount, this.state.count);
  },
  _checkPage: function _checkPage(page, view, count) {
    if (page * view >= count) {
      page = view ? Math.ceil(count / view) - 1 : 0;
    }

    return Math.max(0, page);
  },
  _isViewCountPropsMode: function _isViewCountPropsMode() {
    return this.props.hasOwnProperty('viewCount');
  },
  _renderPagination: function _renderPagination() {
    var viewCount = this.getViewCount();
    return Boolean(viewCount) && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "dgrid-footer"
    }, Boolean(this.props.viewVariants) && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      key: "0",
      className: "dgrid-pagination-page-size"
    }, " Page Size "), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      key: "1",
      className: "dgrid-pagination-view-variants"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
      className: "dgrid-pagination-view-variants-select",
      value: this.props.viewVariants.indexOf(viewCount),
      onChange: this.handleChangeViewCount
    }, this.props.viewVariants.map(function (option, key) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        key: key,
        value: key
      }, option);
    }, this)))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: "#",
      className: "btn-first-page",
      onClick: this.handleFirstPage
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: "#",
      className: "btn-prev-page",
      onClick: this.handlePrevPage
    }), Boolean(this.state.count) && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, this.state.page * viewCount + 1, ' - ', Math.min((this.state.page + 1) * viewCount, this.state.count), ' of ', this.state.count), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: "#",
      className: "btn-next-page",
      onClick: this.handleNextPage
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: "#",
      className: "btn-last-page",
      onClick: this.handleLastPage
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: "#",
      className: "btn-refresh-page",
      onClick: this.handleRefreshTable
    }));
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridPaginationMixin);

/***/ }),

/***/ "./src/grid/mixins/select.js":
/*!***********************************!*\
  !*** ./src/grid/mixins/select.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Grid mixin, responsible for rows Select
 */

var GridSelectMixin = {
  /**
   * Select only these records
   *
   * @param {Array}   selectedIds       Record IDs
   * @param {boolean} [blackListMode]   Is black list mode
   */
  setSelectedRecords: function setSelectedRecords(selectedIds, blackListMode) {
    this.state.selected = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["clone"])(selectedIds);

    if (typeof blackListMode === 'boolean') {
      this.state.selectBlackListMode = blackListMode;
    }

    this.forceUpdate();

    this._renderBody();

    this._emitChangeSelectedNum();
  },

  /**
   * Select a record
   *
   * @param {*}    recordId       Record ID
   * @param {boolean}             [ignoreBlackList=false]     Ignore BlackList mode
   */
  selectRecord: function selectRecord(recordId, ignoreBlackList) {
    var _this = this;

    var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["toEncodedString"])(recordId);

    if (this.state.selectBlackListMode && !ignoreBlackList) {
      return this.unselectRecord(recordId, true);
    }

    if (Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["indexOf"])(this.state.selected, recordId) < 0) {
      this.state.selected.push(recordId);

      if (this.state.selected.length === this.state.count) {
        if (this.state.selectBlackListMode) {
          this.unselectAll();
        } else {
          this.selectAll();
        }

        return;
      }
    }

    this._updateRow(row).then(function () {
      _this._emitChangeSelectedNum();
    });
  },

  /**
   * Unselect record
   *
   * @param {number|string}   recordId                    Record ID
   * @param {boolean}         [ignoreBlackList=false]     Ignore BlackList mode
   */
  unselectRecord: function unselectRecord(recordId, ignoreBlackList) {
    var _this2 = this;

    var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["toEncodedString"])(recordId);

    if (this.state.selectBlackListMode && !ignoreBlackList) {
      return this.selectRecord(recordId, true);
    }

    var pos = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["indexOf"])(this.state.selected, recordId);

    if (pos >= 0) {
      this.state.selected.splice(pos, 1);
    }

    this._updateRow(row).then(function () {
      _this2._emitChangeSelectedNum();
    });
  },

  /**
   * Is selected row flag in accordance with
   * current select mode (whitelist/blacklist).
   *
   * @param   {number|string}     recordId    Record ID
   * @returns {boolean}           Is selected row flag
   */
  isSelected: function isSelected(recordId) {
    var selected = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["indexOf"])(this.state.selected, recordId) >= 0;

    if (this.state.selectBlackListMode) {
      return !selected;
    }

    return selected;
  },

  /**
   * Switch "select"
   *
   * @param {*}   recordId  Record ID
   */
  toggleSelected: function toggleSelected(recordId) {
    if (this.props.onToggleSelected) {
      return this.props.onToggleSelected(recordId);
    }

    if (this.isSelected(recordId)) {
      this.unselectRecord(recordId);
    } else {
      this.selectRecord(recordId);
    }
  },

  /**
   * Switch records selection mode
   */
  toggleSelectAll: function toggleSelectAll() {
    if (this.props.onToggleSelectAll) {
      return this.props.onToggleSelectAll();
    }

    if (this.state.selectBlackListMode) {
      this.unselectAll();
    } else {
      this.selectAll();
    }
  },

  /**
   * Select all records
   * Switches records selection mode to "blacklist"
   */
  selectAll: function selectAll() {
    this.state.selectBlackListMode = true;
    this.state.selected = [];

    this._renderBody();

    this._emitChangeSelectedNum();
  },

  /**
   * Unselect all records status
   * Switches records selection mode to "whitelist"
   */
  unselectAll: function unselectAll() {
    this.state.selectBlackListMode = false;
    this.state.selected = [];

    this._renderBody();

    this._emitChangeSelectedNum();
  },

  /**
   * Get current records selection mode
   *
   * @returns {boolean} Records selection mode. true - Blacklist; false - Whitelist
   */
  isSelectBlackMode: function isSelectBlackMode() {
    return this.state.selectBlackListMode;
  },

  /**
   * Get all selected records
   *
   * @returns {Array}   Record IDs array
   */
  getAllSelected: function getAllSelected() {
    return Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["clone"])(this.state.selected);
  },
  getSelectAllStatus: function getSelectAllStatus() {
    return this.props.selectAllStatus;
  },

  /**
   * Trigger selected records count change handler
   *
   * @private
   */
  _emitChangeSelectedNum: function _emitChangeSelectedNum() {
    if (this.props.onSelectedChange) {
      var selectedCount = this.state.selected.length;

      if (this.state.selectBlackListMode) {
        selectedCount = this.getCountRecords() - selectedCount;
      }

      this.props.onSelectedChange(this.getAllSelected(), selectedCount);
    }
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridSelectMixin);

/***/ }),

/***/ "./src/grid/mixins/sorting.js":
/*!************************************!*\
  !*** ./src/grid/mixins/sorting.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

var GridSortingMixin = {
  /**
   * Sort by column
   *
   * @param {string} column
   * @param {string} direction
   */
  sort: function sort(column, direction) {
    if (this._isSortingPropsMode()) {
      throw Error('You can not use function "sort" when set prop "sort"');
    }

    var sort = {
      column: column,
      direction: direction
    };

    if (this.props.multipleSorting) {
      this.state.sort.push(sort);
    } else {
      this.state.sort = sort;
    }

    this.setPage(0);

    if (this.props.onSorting) {
      this.props.onSorting(this.state.sort, column, direction);
    }
  },

  /**
   * Get sort direction
   *
   * @return {object|object[]}
   */
  getSortDirection: function getSortDirection() {
    if (this._isSortingPropsMode()) {
      return this.props.sort;
    }

    return this.state.sort;
  },

  /**
   * Reset to default sort parameters
   */
  resetSorting: function resetSorting() {
    if (this._isSortingPropsMode()) {
      throw Error('You can not use function "resetSorting" when set prop "sort"');
    }

    this._resetSorting();

    this.forceUpdate();
  },

  /**
   * Reset to default sort parameters
   * @private
   */
  _resetSorting: function _resetSorting() {
    var sort = this._getDefaultSort();

    if (this._isSortingPropsMode()) {
      this.onSorting(sort);
      return;
    }

    this.state.sort = sort;
  },

  /**
   * Use column name for table sort
   *
   * @param {string} column  Column name
   * @private
   */
  _sortCol: function _sortCol(column) {
    var newOrder;
    var cycle = this.props.cols[column].sortCycle;
    var newSorts = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["clone"])(this.getSortDirection());
    var sortElement = {
      column: column
    };
    var currentSortIndex;
    var currentSort;

    if (this.props.multipleSorting) {
      // Find an element among the other sorts
      currentSortIndex = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["findIndex"])(newSorts, function (sort) {
        return sort.column === column;
      });

      if (currentSortIndex >= 0) {
        currentSort = newSorts[currentSortIndex]; // Determine the direction of sorting

        if (currentSortIndex < newSorts.length - 1) {
          newOrder = cycle[0];
        } else {
          // If the item is the last one, select the next direction of sorting
          newOrder = cycle[(cycle.indexOf(currentSort.direction) + 1) % cycle.length];
        }

        if (newOrder === 'default') {
          // Remove item from the sorts
          newSorts.splice(currentSortIndex, 1);
        } else if (currentSortIndex === newSorts.length - 1) {
          // Set new direction, if the last element
          currentSort.direction = newOrder;
        } else {
          // Move the item to the end, if it is already in sorts
          newSorts.splice(currentSortIndex, 1);
          sortElement.direction = newOrder;
          newSorts.push(sortElement);
        }
      } else {
        // Add new element
        sortElement.direction = newOrder = cycle[0];
        newSorts.push(sortElement);
      }
    } else {
      if (newSorts && newSorts.column === column) {
        // Select the next direction of sorting
        newOrder = cycle[(cycle.indexOf(newSorts.direction) + 1) % cycle.length];
      } else {
        newOrder = cycle[0];
      }

      if (newOrder === 'default') {
        newSorts = null;
      } else {
        sortElement.direction = newOrder;
        newSorts = sortElement;
      }
    }

    if (this.props.onSorting) {
      this.props.onSorting(newSorts, column, newOrder);
    }

    if (!this._isSortingPropsMode()) {
      this.state.sort = newSorts;
      this.setPage(0);
    }
  },

  /**
   * Get initial sort state
   *
   * @returns {Array} Initial sort state
   * @private
   */
  _getDefaultSort: function _getDefaultSort() {
    if (this.props.defaultSort) {
      return Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["cloneDeep"])(this.props.defaultSort);
    }

    return null;
  },

  /**
   * Get current mode and column sort parameter
   *
   * @param   column                                  Column ID
   * @returns {{field: {string}, sort: {string}}|{}}  Sort parameter and mode
   * @private
   */
  _getSortParams: function _getSortParams(column) {
    var params = {
      column: column
    };
    var sorts = this.getSortDirection();
    var sortIndex;

    if (!this.props.cols[column].sortCycle) {
      return null;
    }

    if (!sorts) {
      params.direction = 'default';
      return params;
    }

    if (this.props.multipleSorting) {
      sortIndex = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["findIndex"])(sorts, function (sort) {
        return sort.column === params.column;
      });

      if (sortIndex < 0 || sortIndex < sorts.length - 1) {
        params.direction = 'default';
      } else {
        params.direction = sorts[sortIndex].direction;
      }

      return params;
    }

    if (sorts.column === column) {
      params.direction = sorts.direction;
    } else {
      params.direction = 'default';
    }

    return params;
  },

  /**
   * Does sorting using props
   *
   * @return {boolean}
   * @private
   */
  _isSortingPropsMode: function _isSortingPropsMode() {
    return this.props.hasOwnProperty('sort');
  },

  /**
   * Convert sorting to array
   *
   * @return {Object[]|Object} sorts
   * @private
   */
  _sortingToArray: function _sortingToArray() {
    function toArray(sort) {
      return [sort.column, sort.direction];
    }

    var direction = this.getSortDirection();

    if (!direction) {
      return null;
    }

    if (this.props.multipleSorting) {
      if (!direction.length) {
        return null;
      }

      return direction.map(toArray);
    }

    return [toArray(direction)];
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridSortingMixin);

/***/ }),

/***/ "./src/grid/mixins/statuses.js":
/*!*************************************!*\
  !*** ./src/grid/mixins/statuses.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


/**
 * Grid mixin, responsible for row statuses processing
 */

var GridStatusesMixin = {
  /**
   * Add record status
   *
   * @param {*}    recordId    Record ID
   * @param {string}           status      Record status
   */
  addRecordStatus: function addRecordStatus(recordId, status) {
    var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["toEncodedString"])(recordId); // If list does not contain the record, mark its status as empty

    if (!this.state.statuses.hasOwnProperty(row)) {
      this.state.statuses[row] = {
        id: recordId,
        sum: 0
      };
    }

    this.state.statuses[row].sum |= this._getStatusBit(status);
    var elem = Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["findDOMNode"])(this.body).querySelector("tr[key=\"".concat(row, "\"]"));

    if (elem) {
      elem.classList.add(status);
    } else {
      this.updateTable();
    }
  },

  /**
   * Add status to records group
   *
   * @param {Array}      recordIds   Record IDs array
   * @param {string}     status      Status
   */
  addRecordStatusGroup: function addRecordStatusGroup(recordIds, status) {
    var bit = this._getStatusBit(status);

    var needTableUpdate;
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = recordIds[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var id = _step.value;
        var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["toEncodedString"])(id);

        if (!this.state.statuses.hasOwnProperty(row)) {
          this.state.statuses[row] = {
            id: id,
            sum: 0
          };
        }

        this.state.statuses[row].sum |= bit;

        if (this.state.data[row]) {
          this._updateRow(row);

          continue;
        }

        needTableUpdate = true;
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator["return"] != null) {
          _iterator["return"]();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    if (needTableUpdate) {
      this.updateTable();
    }
  },

  /**
   * Remove record status
   *
   * @param {*}       recordId    Record ID
   * @param {string}  status      Record status
   */
  removeRecordStatus: function removeRecordStatus(recordId, status) {
    var bit = this._getStatusBit(status);

    var rowId = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["toEncodedString"])(recordId); // Cancel method execution if record has no statuses

    if (!this.state.statuses[rowId]) {
      return;
    } // Remove status if record has it


    if (this.state.statuses[rowId].sum & bit) {
      this.state.statuses[rowId].sum ^= bit;

      if (!this.state.statuses[rowId].sum) {
        // Remove table record if it's extra
        if (!this._isMainRow(rowId)) {
          this._removeRecord(rowId);
        }

        delete this.state.statuses[rowId];
      }
    } // Remove element's class


    var elem = Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["findDOMNode"])(this.body).querySelector("tr[key=\"".concat(rowId, "\"]"));

    if (elem) {
      elem.classList.remove(status);
    }
  },

  /**
   * Check record status presence
   *
   * @param   {*}       recordId    Record ID
   * @param   {number}  status      Record status
   * @returns {boolean} Record has status flag
   */
  hasRecordStatus: function hasRecordStatus(recordId, status) {
    var row = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["toEncodedString"])(recordId);

    if (this.state.statuses[row]) {
      return (this.state.statuses[row].sum & this._getStatusBit(status)) > 0;
    }

    return false;
  },

  /**
   * Get all record IDs that have the status
   *
   * @param {number}  status  Status
   * @returns {Array} Record IDs array
   */
  getAllWithStatus: function getAllWithStatus(status) {
    var i;
    var records = [];

    var bit = this._getStatusBit(status);

    for (i in this.state.statuses) {
      if (this.state.statuses[i].sum & bit) {
        records.push(this.state.statuses[i].id);
      }
    }

    return records;
  },

  /**
   * Remove records status
   *
   * @param {string}      status  Status
   */
  removeRecordStatusAll: function removeRecordStatusAll(status) {
    var i;

    var bit = this._getStatusBit(status);

    for (i in this.state.statuses) {
      if (this.state.statuses[i].sum & bit) {
        this.state.statuses[i].sum ^= bit;
      }

      if (!this.state.statuses[i].sum) {
        if (!this._isMainRow(i) && !this._isChanged(i)) {
          this._removeRecord(i);
        }

        delete this.state.statuses[i];
      }
    }

    var elem = Object(react_dom__WEBPACK_IMPORTED_MODULE_1__["findDOMNode"])(this.body).querySelector(".dgrid-body tr.".concat(status));

    if (elem) {
      elem.classList.remove(status);
    }
  },

  /**
   * Get all status names that are applied to the row
   *
   * @param   {string}    row    Row ID
   * @return  {Array}  Status names array
   * @private
   */
  _getRowStatusNames: function _getRowStatusNames(row) {
    var names = [];
    var statuses = this.state.statuses[row] && this.state.statuses[row].sum;

    if (!statuses) {
      return [];
    }

    for (var i in this.state.statusMap) {
      if (statuses & this.state.statusMap[i]) {
        names.push(i);
      }
    }

    return names;
  },

  /**
   * Get status as a bit using its text name
   *
   * @param       {string}    statusName  Status name
   * @return      {number}    Bit
   * @private
   */
  _getStatusBit: function _getStatusBit(statusName) {
    var status;
    var offset;

    if (this.state.statusMap.hasOwnProperty(statusName)) {
      status = this.state.statusMap[statusName];
    } else {
      // TODO offset stored in the state, I remove the utils.size
      offset = Object(_common_utils__WEBPACK_IMPORTED_MODULE_0__["size"])(this.state.statusMap);

      if (offset > 30) {
        throw Error('Status quantity exceeds 30');
      }

      status = this.state.statusMap[statusName] = 1 << offset;
    }

    return status;
  },

  /**
   * Get record IDs that have a status
   *
   * @return {Array}
   * @private
   */
  _getRecordsWithStatus: function _getRecordsWithStatus() {
    var ids = [];
    var i;

    for (i in this.state.statuses) {
      ids.push(this.state.statuses[i].id);
    }

    return ids;
  }
};
/* harmony default export */ __webpack_exports__["default"] = (GridStatusesMixin);

/***/ }),

/***/ "./src/grid/mixins/ui.js":
/*!*******************************!*\
  !*** ./src/grid/mixins/ui.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "@babel/runtime/helpers/typeof");
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _common_toPromise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/toPromise */ "./src/common/toPromise.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _common_ThrottleError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/ThrottleError */ "./src/common/ThrottleError.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ "classnames");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */






var GridUIMixin = {
  /**
   * Table content click event handler
   *
   * @param {Event} event
   */
  _handleBodyClick: function _handleBodyClick(event) {
    var target = event.target;
    var refParent = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["parents"])(target, '[ref]')[0];
    var element;

    if (target.classList.contains('dgrid-cell')) {
      element = event.target;
    } else {
      element = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["parents"])(target, 'td.dgrid-cell')[0];
    }

    if (element && !(refParent && refParent.hasAttribute('disabled'))) {
      this._handleCellClick(event, element, (refParent || event.target).getAttribute('ref'));
    }
  },

  /**
   * Cell click handler
   *
   * @param {Event}           event       Event object
   * @param {HTMLElement}     element     Cell DOM element
   * @param {string}          ref         Click handler name in the table configuration
   */
  _handleCellClick: function _handleCellClick(event, element, ref) {
    var colId = element.getAttribute('key');
    var row = element.parentNode.getAttribute('key');
    var columnConfig = this.props.cols[colId];
    var recordId = this.state.recordsInfo[row].id;

    var record = this._getRecordWithChanges(row); // Trigger click handler on the table configuration


    if (ref) {
      columnConfig.onClickRefs[ref](event, recordId, record, this);
    } else if (columnConfig.onClick) {
      columnConfig.onClick(event, recordId, record, this);
    } // Open cell editor


    if (this.props.cols[colId].editor) {
      this._renderEditor(element, row, colId);
    }
  },
  // TODO Deprecated
  _handleHeaderCellClick: function _handleHeaderCellClick(col, event) {
    var target = event.target;
    var refParent = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["parents"])(target, '[ref]')[0];
    var ref = (refParent || target).getAttribute('ref');
    var handler;

    if (ref && col.onClickRefs) {
      handler = col.onClickRefs[ref];

      if (handler) {
        return handler(event, this);
      }
    }

    if (col.onClick) {
      col.onClick(event, this);
    }
  },

  /**
   * Fetch server data
   */
  updateTable: function () {
    var _updateTable = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {
      var viewCount, obj, page, data, extra, recordIds;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              this.setState({
                showLoader: true
              });

              if (this.props.model) {
                _context.next = 3;
                break;
              }

              return _context.abrupt("return");

            case 3:
              viewCount = this.getViewCount();
              _context.prev = 4;
              _context.next = 7;
              return this._loadData({
                limit: viewCount,
                offset: this.state.page * viewCount,
                sort: this._sortingToArray(),
                fields: this._getFieldsToRender(),
                extra: this._getAdditionalIds()
              });

            case 7:
              obj = _context.sent;
              _context.next = 15;
              break;

            case 10:
              _context.prev = 10;
              _context.t0 = _context["catch"](4);

              if (_context.t0 instanceof _common_ThrottleError__WEBPACK_IMPORTED_MODULE_7__["default"]) {
                _context.next = 14;
                break;
              }

              throw _context.t0;

            case 14:
              return _context.abrupt("return");

            case 15:
              if (this._isMounted) {
                _context.next = 17;
                break;
              }

              return _context.abrupt("return");

            case 17:
              if (!(this.getViewCount() && !obj.hasOwnProperty('count'))) {
                _context.next = 19;
                break;
              }

              throw new Error('Incorrect response from GridModel. "response.count" not defined');

            case 19:
              // If required page is not included in the range of existing pages,
              // request existing in a moment page
              page = this._checkPage(this.state.page, this.getViewCount(), obj.count);

              if (!(page !== this.state.page)) {
                _context.next = 24;
                break;
              }

              this.state.page = page;
              this.updateTable();
              return _context.abrupt("return");

            case 24:
              data = this._dataArrayToObject(obj.records);
              extra = this._dataArrayToObject(obj.extraRecords || []);
              recordIds = Object.keys(data.records).concat(Object.keys(extra.records));
              _context.next = 29;
              return Object(_common_toPromise__WEBPACK_IMPORTED_MODULE_3__["default"])(this.setState.bind(this), true)({
                data: Object.assign({}, data.records, extra.records),
                mainIds: Object.keys(data.records),
                count: obj.count,
                totals: obj.totals,
                recordsInfo: Object.assign({}, extra.info, data.info),
                errors: Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["pick"])(this.state.errors, recordIds),
                changes: Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["pick"])(this.state.changes, recordIds),
                statuses: Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["pick"])(this.state.statuses, recordIds)
              });

            case 29:
              this._renderBody();

              this.setState({
                showLoader: false
              });

            case 31:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, this, [[4, 10]]);
    }));

    function updateTable() {
      return _updateTable.apply(this, arguments);
    }

    return updateTable;
  }(),
  _getHeaderCellHTML: function _getHeaderCellHTML(columnName) {
    var cellHtml = typeof columnName === 'function' ? columnName(this) : columnName;

    if (cellHtml === undefined) {
      return '';
    }

    return cellHtml;
  },
  _escapeRecord: function _escapeRecord(columnId, record) {
    var field;
    var type;
    var i;
    var escapedRecord = {};
    var column = this.props.cols[columnId];
    var needEscaping = !column.hasOwnProperty('escape') || column.escape;
    var fields = column.render.slice(0, -1);

    for (i = 0; i < fields.length; i++) {
      field = fields[i];
      type = _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(record[field]);

      if (needEscaping) {
        if (type === 'string') {
          escapedRecord[field] = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["escape"])(record[field]);
          continue;
        }

        if (type === 'object' && record[field] && !this.state.colsWithEscapeErrors[columnId]) {
          this.state.colsWithEscapeErrors[columnId] = true;
          console.error("UIKernel.Grid warning: " + "You send record with fields of Object type in escaped column \"".concat(columnId, "\". ") + "To use Objects, set column config \"escape\" to false, " + "and escape \"".concat(columnId, "\" field in render function by yourself"));
        }
      }

      escapedRecord[field] = record[field];
    }

    return escapedRecord;
  },

  /**
   * Get table cell HTML
   *
   * @param   {number}   columnId       Column ID
   * @param   {Object}   record         Table record (initial record + changes)
   * @param   {boolean}  selected       "Selected" row status
   * @param   {Object}   initialRecord  Initial record
   * @returns {string}   Table cell HTML
   * @private
   */
  _getCellHTML: function _getCellHTML(columnId, record, selected, initialRecord) {
    var render = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["last"])(this.props.cols[columnId].render);
    var cellHtml = render(this._escapeRecord(columnId, record), selected, this._escapeRecord(columnId, initialRecord), this);
    return "".concat(Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["isDefined"])(cellHtml) ? cellHtml : '');
  },

  /**
   * Get table row HTML
   *
   * @param       {number}    rowId         Row ID
   * @param       {string}    className   <TR> class attribute
   * @returns     {string}    Table row HTML
   * @private
   */
  _getRowHTML: function _getRowHTML(rowId, className) {
    var colId;

    var record = this._getRecordWithChanges(rowId);

    var initialRecord = this.state.data[rowId] || null;
    var selected = this.isSelected(this.state.recordsInfo[rowId].id);
    var gridRowClass = classnames__WEBPACK_IMPORTED_MODULE_8___default()(className, this._getRowStatusNames(rowId).join(' '), {
      'dgrid__row_selected': selected
    });
    var html = "<tr key=\"".concat(rowId, "\" class=\"").concat(gridRowClass, "\">");

    for (var _i = 0, _Object$keys = Object.keys(this.props.cols); _i < _Object$keys.length; _i++) {
      colId = _Object$keys[_i];

      if (this._isViewColumn(colId)) {
        var gridCellClass = classnames__WEBPACK_IMPORTED_MODULE_8___default()(this._getColumnClass(colId), {
          'dgrid-cell': true,
          'dgrid-changed': this._isChanged(rowId, this._getBindParam(colId)),
          'dgrid-error': this._hasError(rowId, this._getBindParam(colId)),
          'dgrid-warning': this._hasWarning(rowId, this._getBindParam(colId))
        });
        html += "\n          <td key=\"".concat(colId, "\" class=\"").concat(gridCellClass, "\">\n            ").concat(this._getCellHTML(colId, record, selected, initialRecord), "\n          </td>");
      }
    }

    return "".concat(html, "</tr>");
  },

  /**
   * Redraw table content totally
   *
   * @private
   */
  _renderBody: function _renderBody() {
    if (!this.state.data) {
      return;
    }

    var i;
    var row;
    var htmlExtra = '';
    var htmlBody = '';
    var sorted = Object(_common_utils__WEBPACK_IMPORTED_MODULE_4__["pairs"])(this.state.recordsInfo).sort(function (a, b) {
      return a[1].index - b[1].index;
    });

    for (i = 0; i < sorted.length; i++) {
      row = sorted[i][0];

      if (this._isMainRow(row)) {
        htmlBody += this._getRowHTML(row);
      } else if (this._isChanged(row) || this._getRowStatusNames(row).length) {
        htmlExtra += this._getRowHTML(row, 'others');
      }
    }

    this.tBody.innerHTML = htmlExtra + htmlBody;
  },

  /**
   * Display model changes
   *
   * @param {string} row      Row ID
   * @param {string} param    Model parameter
   * @private
   */
  _renderBinds: function _renderBinds(row, param) {
    // If parameter does not affect on the redraw, do nothing
    if (!this._isFieldAffectsRender(param)) {
      return;
    }

    var selected = this.isSelected(this.state.recordsInfo[row].id); // Update column dependencies

    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = this._getDependentColumns(param)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var column = _step.value;

        if (this._isViewColumn(column) && !this._isEditorVisible(row, column)) {
          this._renderCell(row, column, selected);
        }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator["return"] != null) {
          _iterator["return"]();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
  },
  _removeTR: function _removeTR(rowId) {
    Object(react_dom__WEBPACK_IMPORTED_MODULE_5__["findDOMNode"])(this.body).removeRow(rowId);
  },
  _renderTotals: function _renderTotals(isScrollable) {
    var totalsDisplayed = false;
    var i;
    var className;
    var totalsRowHTML = '';

    var header = this._formHeader(); // If data for result line display exists, form it


    if (this.state.totals) {
      for (var _i2 = 0, _Object$keys2 = Object.keys(this.props.cols); _i2 < _Object$keys2.length; _i2++) {
        i = _Object$keys2[_i2];

        if (!this._isViewColumn(i)) {
          continue;
        }

        className = this.props.cols[i].className;

        if (className) {
          totalsRowHTML += "<td class=\"".concat(className, "\">");
        } else {
          totalsRowHTML += '<td>';
        }

        if (this.state.totals.hasOwnProperty(i)) {
          totalsRowHTML += this._getCellHTML(i, this.state.totals, false, this.state.totals);
          totalsDisplayed = true;
        }

        totalsRowHTML += '</td>';
      }
    }

    if (!totalsDisplayed) {
      return null;
    }

    if (isScrollable) {
      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("table", {
        cellSpacing: "0",
        className: "dgrid-totals"
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("colgroup", null, header.colGroup), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("tr", {
        dangerouslySetInnerHTML: {
          __html: totalsRowHTML
        }
      }));
    }

    return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("tfoot", {
      className: "dgrid-totals"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("tr", {
      dangerouslySetInnerHTML: {
        __html: totalsRowHTML
      }
    }));
  },
  _renderCell: function _renderCell(rowId, column, isSelected) {
    var _cell$classList;

    var cell = Object(react_dom__WEBPACK_IMPORTED_MODULE_5__["findDOMNode"])(this.body).querySelector("tr[key=\"".concat(rowId, "\"] td[key=").concat(column, "]"));
    var initialRecord = this.state.data[rowId] || null;

    var cellHTML = this._getCellHTML(column, this._getRecordWithChanges(rowId), isSelected, initialRecord);

    try {
      cell.innerHTML = cellHTML;
    } catch (e) {// Sometimes it is possible a situation when rerendering of the cell is called in the middle of performing of an
      // event in that cell which may cause an error like "DOMException: The node to be removed is no longer a child
      // of this node", so just ignore it
    }

    cell.classList.remove('dgrid-changed', 'dgrid-error', 'dgrid-warning');
    var cellClassList = [];

    if (this._isChanged(rowId, this._getBindParam(column))) {
      cellClassList.push('dgrid-changed');
    }

    if (this._hasError(rowId, this._getBindParam(column))) {
      cellClassList.push('dgrid-error');
    }

    if (this._hasWarning(rowId, this._getBindParam(column))) {
      cellClassList.push('dgrid-warning');
    }

    (_cell$classList = cell.classList).add.apply(_cell$classList, cellClassList);
  },
  _updateRow: function () {
    var _updateRow2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
    /*#__PURE__*/
    _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(row) {
      var selected, viewColumns, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, viewColumn;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              if (this.state.data) {
                _context2.next = 2;
                break;
              }

              return _context2.abrupt("return");

            case 2:
              if (!this.state.data[row]) {
                _context2.next = 26;
                break;
              }

              selected = this.isSelected(this.state.recordsInfo[row].id);
              viewColumns = Object.keys(this.props.cols).filter(this._isViewColumn);
              _iteratorNormalCompletion2 = true;
              _didIteratorError2 = false;
              _iteratorError2 = undefined;
              _context2.prev = 8;

              for (_iterator2 = viewColumns[Symbol.iterator](); !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                viewColumn = _step2.value;

                if (!this._isEditorVisible(row, viewColumn)) {
                  this._renderCell(row, viewColumn, selected);
                }
              }

              _context2.next = 16;
              break;

            case 12:
              _context2.prev = 12;
              _context2.t0 = _context2["catch"](8);
              _didIteratorError2 = true;
              _iteratorError2 = _context2.t0;

            case 16:
              _context2.prev = 16;
              _context2.prev = 17;

              if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
                _iterator2["return"]();
              }

            case 19:
              _context2.prev = 19;

              if (!_didIteratorError2) {
                _context2.next = 22;
                break;
              }

              throw _iteratorError2;

            case 22:
              return _context2.finish(19);

            case 23:
              return _context2.finish(16);

            case 24:
              _context2.next = 28;
              break;

            case 26:
              _context2.next = 28;
              return this.updateTable();

            case 28:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2, this, [[8, 12, 16, 24], [17,, 19, 23]]);
    }));

    function _updateRow(_x) {
      return _updateRow2.apply(this, arguments);
    }

    return _updateRow;
  }()
};
/* harmony default export */ __webpack_exports__["default"] = (GridUIMixin);

/***/ }),

/***/ "./src/grid/models/AbstractGridModel.js":
/*!**********************************************!*\
  !*** ./src/grid/models/AbstractGridModel.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_Events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/Events */ "./src/common/Events.js");






/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


/**
 * Grid model abstraction
 *
 * @constructor
 * @extends EventsModel
 */

var AbstractGridModel =
/*#__PURE__*/
function (_EventsModel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(AbstractGridModel, _EventsModel);

  function AbstractGridModel() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, AbstractGridModel);

    return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(AbstractGridModel).call(this));
  }
  /**
   * Add a record
   *
   * @param {Object}      record  Record object
   * @abstract
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(AbstractGridModel, [{
    key: "create",
    value: function create()
    /*record*/
    {
      return Promise.resolve();
    }
    /**
     * Get records list
     *
     * @param {Object}      settings                Request
     * @param {Array}       settings.fields         Fields
     * @param {number}      [settings.limit]        Limit
     * @param {number}      [settings.offset]       Offset
     * @param {Object}      [settings.filters]      Filter values object
     * @param {Array}       [settings.sort]         Sort parameters
     * @param {Array}       [settings.extra]        Record IDs, we need to get for sure
     * @abstract
     */

  }, {
    key: "read",
    value: function read()
    /*settings*/
    {
      return Promise.resolve({
        records: [],
        // Primary records
        ids: [],
        // Extra records
        extraRecords: 0 // In all records count

      });
    }
    /**
     * Get the particular record
     *
     * @param {*}         id      Record ID
     * @param {Array}     fields  Required fields
     * @abstract
     */

  }, {
    key: "getRecord",
    value: function getRecord()
    /*id, fields*/
    {
      return Promise.resolve();
    }
    /**
     * Apply record changes
     *
     * @param {Array}       changes     Changes array
     * @abstract
     */

  }, {
    key: "update",
    value: function update()
    /*changes*/
    {
      return Promise.resolve([]);
    }
    /**
     * Validation check
     *
     * @param {Object}      record
     * @param {*|null}      recordId
     * @abstract
     */

  }, {
    key: "isValidRecord",
    value: function isValidRecord()
    /*record, recordId*/
    {
      return Promise.resolve(new _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__["default"]());
    }
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields   Fields list
     * @returns {Array}  Dependencies
     * @abstract
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency() {
      return [];
    }
  }]);

  return AbstractGridModel;
}(_common_Events__WEBPACK_IMPORTED_MODULE_6__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (AbstractGridModel);

/***/ }),

/***/ "./src/grid/models/GridCollectionModel.js":
/*!************************************************!*\
  !*** ./src/grid/models/GridCollectionModel.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "@babel/runtime/helpers/slicedToArray");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _AbstractGridModel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./AbstractGridModel */ "./src/grid/models/AbstractGridModel.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");









/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */




var GridCollectionModel =
/*#__PURE__*/
function (_AbstractGridModel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(GridCollectionModel, _AbstractGridModel);

  /**
   * Specifies a grid model that will work with array data passed to it as a parameter.
   *
   * @param {Object}    [options]
   * @param {Object[]}  [options.data]              Data array
   * @param {Function}  [options.filtersHandler]
   * @param {Validator} [options.validator]
   * @param {string[]}  [options.requiredFields]
   * @param {bool}      [options.validateOnCreate]
   * @constructor
   */
  function GridCollectionModel(options) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, GridCollectionModel);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(GridCollectionModel).call(this));
    options = options || {};
    _this.data = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["cloneDeep"])(options.data) || [];
    _this._id = 1;
    _this._filtersHandler = options.filtersHandler;

    if (options.validation) {
      Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["warn"])('Property "validation" is deprecated, use "validator" instead');
    }

    _this._validator = options.validator || options.validation || new _common_validation_Validator__WEBPACK_IMPORTED_MODULE_8__["default"]();
    _this._requiredFields = options.requiredFields || [];
    _this._validateOnCreate = options.hasOwnProperty('validateOnCreate') ? options.validateOnCreate : true; // TODO Deprecated. Will be deleted in v0.17.0

    if (!_this._validateOnCreate) {
      console.warn('Deprecated option "validateOnCreate".');
    }

    return _this;
  }
  /**
   * Set data array in model
   *
   * @param {Object[]} data
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(GridCollectionModel, [{
    key: "setData",
    value: function setData(data) {
      var currentData = this.data.reduce(function (result, _ref) {
        var _ref2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_ref, 2),
            recordId = _ref2[0],
            record = _ref2[1];

        result[JSON.stringify(recordId)] = record;
        return result;
      }, {});
      var createdRecordsIds = [];
      var updatedRecords = [];
      var recordIds = [];
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _step$value = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_step.value, 2),
              recordId = _step$value[0],
              record = _step$value[1];

          var id = JSON.stringify(recordId);
          recordIds.push(id);

          if (!currentData[id]) {
            createdRecordsIds.push(recordId);
            continue;
          }

          if (!Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["isEqual"])(record, currentData[id])) {
            updatedRecords.push(record);
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator["return"] != null) {
            _iterator["return"]();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      var deletedRecordsIds = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["without"])(Object.keys(currentData), recordIds).map(JSON.parse);
      this.data = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["cloneDeep"])(data);

      if (createdRecordsIds.length) {
        this.trigger('create', [createdRecordsIds]);
      }

      if (deletedRecordsIds.length) {
        this.trigger('delete', deletedRecordsIds);
      }

      if (updatedRecords.length) {
        this.trigger('update', updatedRecords);
      }
    }
    /**
     * Remove field by record id from data
     *
     * @param   {Number}  recordId   record id for remove
     * @returns {Number}  recordId   return id of deleted record
     */

  }, {
    key: "delete",
    value: function () {
      var _delete2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(recordId) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                this.data = this.data.filter(function (record) {
                  return record[0] !== recordId;
                });
                this.trigger('delete', recordId);
                return _context.abrupt("return", recordId);

              case 3:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function _delete(_x) {
        return _delete2.apply(this, arguments);
      }

      return _delete;
    }()
    /**
     * Add a record to local collection
     *
     * @param {Object}      record  Record object
     */

  }, {
    key: "create",
    value: function () {
      var _create2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(record) {
        var i, field, validationErrors, id, clonedRecord;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                id = this._getID();
                clonedRecord = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["clone"])(record); // Create record with definite id

                if (Array.isArray(clonedRecord) && clonedRecord.length === 2) {
                  id = clonedRecord[0];
                  clonedRecord = clonedRecord[1];
                }

                for (i in this._requiredFields) {
                  field = this._requiredFields[i];

                  if (!clonedRecord.hasOwnProperty(field)) {
                    clonedRecord[field] = null;
                  }
                }

                if (!this._validateOnCreate) {
                  _context2.next = 13;
                  break;
                }

                _context2.next = 7;
                return this.isValidRecord(clonedRecord);

              case 7:
                validationErrors = _context2.sent;

                if (validationErrors.isEmpty()) {
                  _context2.next = 10;
                  break;
                }

                throw validationErrors;

              case 10:
                return _context2.abrupt("return", this._create(clonedRecord, id));

              case 13:
                return _context2.abrupt("return", this._create(clonedRecord, id));

              case 14:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function create(_x2) {
        return _create2.apply(this, arguments);
      }

      return create;
    }()
    /**
     * Get records list
     *
     * @param {Object}      settings                Request
     * @param {string[]}    settings.fields         Fields
     * @param {number}      [settings.limit]        Limit
     * @param {number}      [settings.offset=0]     Offset
     * @param {Object}      [settings.filters]      Filter values object
     * @param {Array}       [settings.sort]         Sort parameters
     * @param {Array}       [settings.ids]          Record IDs, we need to get for sure
     */

  }, {
    key: "read",
    value: function read(settings) {
      var data = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["cloneDeep"])(this.data);
      var result = {}; // Get extra records

      if (settings.extra && settings.extra.length > 0) {
        result.extraRecords = data.filter(function (record) {
          return settings.extra.indexOf(record[0]) >= 0;
        });
      } // Delete unnecessary fields


      if (settings.fields) {
        Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["forEach"])(result.extraRecords, function (record) {
          Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["forEach"])(record[1], function (value, key) {
            if (settings.fields.indexOf(key) === -1) {
              delete record[1][key];
            }
          });
        });
      } // Sorting


      if (settings.sort && settings.sort.length > 0) {
        var sortField = settings.sort[0][0];
        var sortMode = settings.sort[0][1];
        data = data.sort(function (prev, next) {
          if (prev[1][sortField] < next[1][sortField]) {
            return sortMode === 'asc' ? -1 : 1;
          } else if (prev[1][sortField] > next[1][sortField]) {
            return sortMode === 'asc' ? 1 : -1;
          } else {
            return 0;
          }
        });
      } // Apply filters


      if (this._filtersHandler && settings.filters) {
        data = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["cloneDeep"])(this._filtersHandler(data, settings.filters));
      }

      result.count = data.length; // Offset and limit

      if (settings.offset || settings.limit) {
        var start = settings.offset || 0;
        var end = settings.offset + settings.limit || data.length;
        data = data.slice(start, end);
      } // Delete unnecessary fields


      if (settings.fields) {
        Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["forEach"])(data, function (record) {
          Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["forEach"])(record[1], function (value, key) {
            if (settings.fields.indexOf(key) === -1) {
              delete record[1][key];
            }
          });
        });
      }

      result.records = data;
      return Promise.resolve(result);
    }
    /**
     * Get the particular record
     *
     * @param {number|string}   id      Record ID
     * @param {Array}           fields  Required fields
     */

  }, {
    key: "getRecord",
    value: function getRecord(id, fields) {
      var record = Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["cloneDeep"])(this._getRecordByID(id));

      if (!record) {
        return Promise.reject(new Error('Record not found.'));
      }

      var returnRecord = record[1]; // Deleting unused fields

      if (fields) {
        Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["forEach"])(returnRecord, function (value, key) {
          if (fields.indexOf(key) === -1) {
            delete returnRecord[key];
          }
        });
      }

      return Promise.resolve(returnRecord);
    }
    /**
     * Apply record changes
     *
     * @param {Array}       changes     Changes array
     * @abstract
     */

  }, {
    key: "update",
    value: function () {
      var _update = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(changes) {
        var _this2 = this;

        var appliedChanges, result, _i, _appliedChanges, _appliedChanges$_i, recordId, _changes;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (changes.length) {
                  _context4.next = 2;
                  break;
                }

                return _context4.abrupt("return", []);

              case 2:
                appliedChanges = [];
                _context4.next = 5;
                return Promise.all(changes.map(
                /*#__PURE__*/
                function () {
                  var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
                  /*#__PURE__*/
                  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(_ref3) {
                    var _ref5, recordId, changes, validErrors;

                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
                      while (1) {
                        switch (_context3.prev = _context3.next) {
                          case 0:
                            _ref5 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_ref3, 2), recordId = _ref5[0], changes = _ref5[1];
                            _context3.next = 3;
                            return _this2.isValidRecord(changes);

                          case 3:
                            validErrors = _context3.sent;

                            if (validErrors.isEmpty()) {
                              _context3.next = 6;
                              break;
                            }

                            return _context3.abrupt("return", [recordId, validErrors]);

                          case 6:
                            appliedChanges.push([recordId, changes]);
                            return _context3.abrupt("return", [recordId, changes]);

                          case 8:
                          case "end":
                            return _context3.stop();
                        }
                      }
                    }, _callee3);
                  }));

                  return function (_x4) {
                    return _ref4.apply(this, arguments);
                  };
                }()));

              case 5:
                result = _context4.sent;

                if (appliedChanges.length) {
                  // Apply changes
                  for (_i = 0, _appliedChanges = appliedChanges; _i < _appliedChanges.length; _i++) {
                    _appliedChanges$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_appliedChanges[_i], 2), recordId = _appliedChanges$_i[0], _changes = _appliedChanges$_i[1];
                    Object.assign(this._getRecordByID(recordId)[1], _changes);
                  }

                  this.trigger('update', appliedChanges);
                }

                return _context4.abrupt("return", result);

              case 8:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function update(_x3) {
        return _update.apply(this, arguments);
      }

      return update;
    }()
    /**
     * Validation check
     *
     * @param {Object}      record
     */

  }, {
    key: "isValidRecord",
    value: function isValidRecord(record) {
      return this._validator.isValidRecord(record);
    }
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {Array}  fields   Fields list
     * @returns {Array}  Dependencies
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      return this._validator.getValidationDependency(fields);
    }
  }, {
    key: "_getID",
    value: function _getID() {
      while (this._getRecordByID(this._id)) {
        this._id++;
      }

      return this._id++;
    }
  }, {
    key: "_getRecordByID",
    value: function _getRecordByID(id) {
      return Object(_common_utils__WEBPACK_IMPORTED_MODULE_10__["find"])(this.data, function (record) {
        return record[0] === id;
      });
    }
  }, {
    key: "_create",
    value: function _create(record, id) {
      this.data.push([id, record]);
      this.trigger('create', [id]);
      return id;
    }
  }]);

  return GridCollectionModel;
}(_AbstractGridModel__WEBPACK_IMPORTED_MODULE_9__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (GridCollectionModel);

/***/ }),

/***/ "./src/grid/models/GridExpressApi.js":
/*!*******************************************!*\
  !*** ./src/grid/models/GridExpressApi.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! express */ "express");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");





/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



/**
 * Form Express API for Grid model interaction
 *
 * @return {GridExpressApi}
 * @constructor
 */

var GridExpressApi =
/*#__PURE__*/
function () {
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(GridExpressApi, null, [{
    key: "create",
    value: function create() {
      return new GridExpressApi();
    }
  }]);

  function GridExpressApi() {
    var _this = this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, GridExpressApi);

    this.middlewares = {
      readGet: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(req, res, next) {
          var settings;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  settings = {};

                  if (req.query.limit) {
                    settings.limit = parseInt(req.query.limit);
                  }

                  if (req.query.offset) {
                    settings.offset = parseInt(req.query.offset);
                  }

                  if (req.query.sort) {
                    settings.sort = JSON.parse(req.query.sort);
                  }

                  if (req.query.fields) {
                    settings.fields = JSON.parse(req.query.fields);
                  }

                  if (req.query.extra) {
                    settings.extra = JSON.parse(req.query.extra);
                  }

                  if (req.query.filters) {
                    settings.filters = JSON.parse(req.query.filters);
                  }

                  _context.next = 9;
                  return _this._commonReadMiddleware(req, res, next, settings);

                case 9:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee);
        }));

        return function (_x, _x2, _x3) {
          return _ref.apply(this, arguments);
        };
      }())],
      readPost: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(req, res, next) {
          var settings;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  settings = {};

                  if (req.body.limit) {
                    settings.limit = parseInt(req.body.limit);
                  }

                  if (req.body.offset) {
                    settings.offset = parseInt(req.body.offset);
                  }

                  if (req.body.sort) {
                    settings.sort = req.body.sort;
                  }

                  if (req.body.fields) {
                    settings.fields = req.body.fields;
                  }

                  if (req.body.extra) {
                    settings.extra = req.body.extra;
                  }

                  if (req.body.filters) {
                    settings.filters = req.body.filters;
                  }

                  _context2.next = 9;
                  return _this._commonReadMiddleware(req, res, next, settings);

                case 9:
                case "end":
                  return _context2.stop();
              }
            }
          }, _callee2);
        }));

        return function (_x4, _x5, _x6) {
          return _ref2.apply(this, arguments);
        };
      }())],
      validate: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(req, res, next) {
          var model, result, errors;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  model = _this._getModel(req, res);
                  result = _this._result('validate');
                  _context3.prev = 2;
                  _context3.next = 5;
                  return model.isValidRecord(req.body.record, req.body.id);

                case 5:
                  errors = _context3.sent;
                  result(null, errors, req, res, next);
                  _context3.next = 12;
                  break;

                case 9:
                  _context3.prev = 9;
                  _context3.t0 = _context3["catch"](2);
                  result(_context3.t0, null, req, res, next);

                case 12:
                case "end":
                  return _context3.stop();
              }
            }
          }, _callee3, null, [[2, 9]]);
        }));

        return function (_x7, _x8, _x9) {
          return _ref3.apply(this, arguments);
        };
      }())],
      getRecord: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(req, res, next) {
          var cols, recordId, model, result, response;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {
            while (1) {
              switch (_context4.prev = _context4.next) {
                case 0:
                  cols = req.query.cols ? JSON.parse(req.query.cols) : null;
                  recordId = req.params.recordId ? JSON.parse(req.params.recordId) : null;
                  model = _this._getModel(req, res);
                  result = _this._result('getRecord');
                  _context4.prev = 4;
                  _context4.next = 7;
                  return model.getRecord(recordId, cols);

                case 7:
                  response = _context4.sent;
                  result(null, response, req, res, next);
                  _context4.next = 14;
                  break;

                case 11:
                  _context4.prev = 11;
                  _context4.t0 = _context4["catch"](4);
                  result(_context4.t0, null, req, res, next);

                case 14:
                case "end":
                  return _context4.stop();
              }
            }
          }, _callee4, null, [[4, 11]]);
        }));

        return function (_x10, _x11, _x12) {
          return _ref4.apply(this, arguments);
        };
      }())],
      update: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(req, res, next) {
          var model, result, data;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {
            while (1) {
              switch (_context5.prev = _context5.next) {
                case 0:
                  model = _this._getModel(req, res);
                  result = _this._result('update');
                  _context5.prev = 2;
                  _context5.next = 5;
                  return model.update(req.body);

                case 5:
                  data = _context5.sent;
                  result(null, data, req, res, next);
                  _context5.next = 12;
                  break;

                case 9:
                  _context5.prev = 9;
                  _context5.t0 = _context5["catch"](2);
                  result(_context5.t0, null, req, res, next);

                case 12:
                case "end":
                  return _context5.stop();
              }
            }
          }, _callee5, null, [[2, 9]]);
        }));

        return function (_x13, _x14, _x15) {
          return _ref5.apply(this, arguments);
        };
      }())],
      create: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_6__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref6 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee6(req, res, next) {
          var model, result, data;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee6$(_context6) {
            while (1) {
              switch (_context6.prev = _context6.next) {
                case 0:
                  model = _this._getModel(req, res);
                  result = _this._result('create');
                  _context6.prev = 2;
                  _context6.next = 5;
                  return model.create(req.body);

                case 5:
                  data = _context6.sent;
                  result(null, data, req, res, next);
                  _context6.next = 12;
                  break;

                case 9:
                  _context6.prev = 9;
                  _context6.t0 = _context6["catch"](2);
                  result(_context6.t0, null, req, res, next);

                case 12:
                case "end":
                  return _context6.stop();
              }
            }
          }, _callee6, null, [[2, 9]]);
        }));

        return function (_x16, _x17, _x18) {
          return _ref6.apply(this, arguments);
        };
      }())]
    };
  }
  /**
   * Specify Grid model
   *
   * @param   {Function|AbstractGridModel}  model   Grid model
   * @return  {GridExpressApi}
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(GridExpressApi, [{
    key: "model",
    value: function model(_model) {
      if (typeof _model === 'function') {
        this._getModel = _model;
      } else {
        this._getModel = function () {
          return _model;
        };
      }

      return this;
    }
  }, {
    key: "getRouter",
    value: function getRouter() {
      var _this2 = this;

      return new express__WEBPACK_IMPORTED_MODULE_4___default.a.Router().get('/', this.middlewares.readGet).post('/read', this.middlewares.readPost).post('/validation', this.middlewares.validate).get('/:recordId', this.middlewares.getRecord).put('/', this.middlewares.update).post('/', this.middlewares.create).use(function (err, req, res, next) {
        _this2._result()(err, null, req, res, next);
      });
    }
  }, {
    key: "read",
    value: function read(middlewares) {
      this._addMidelwares('readGet', middlewares);

      this._addMidelwares('readPost', middlewares);

      return this;
    }
  }, {
    key: "validate",
    value: function validate(middlewares) {
      return this._addMidelwares('validate', middlewares);
    }
  }, {
    key: "getRecord",
    value: function getRecord(middlewares) {
      return this._addMidelwares('getRecord', middlewares);
    }
  }, {
    key: "update",
    value: function update(middlewares) {
      return this._addMidelwares('update', middlewares);
    }
  }, {
    key: "create",
    value: function create(middlewares) {
      return this._addMidelwares('create', middlewares);
    }
  }, {
    key: "_addMidelwares",
    value: function _addMidelwares(method, middlewares) {
      if (!Array.isArray(middlewares)) {
        middlewares = [middlewares];
      }

      this.middlewares[method] = middlewares.concat(this.middlewares[method]);
      return this;
    } // Default implementation

  }, {
    key: "_getModel",
    value: function _getModel() {
      throw new Error('Model is not defined.');
    }
  }, {
    key: "_result",
    value: function _result(method) {
      if (method === 'update') {
        return function (err, data, req, res, next) {
          if (err) {
            return send(err, null, req, res, next);
          }

          data = data.reduce(function (result, record) {
            if (!record) {
              return result;
            }

            if (record[1] instanceof Error) {
              result.errors.push(record);
            } else if (record[1] instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__["default"]) {
              result.validation.push(record);
            } else {
              result.changes.push(record);
            }

            return result;
          }, {
            changes: [],
            errors: [],
            validation: []
          });
          send(null, data, req, res, next);
        };
      }

      if (method === 'create') {
        return function (err, data, req, res, next) {
          if (err) {
            if (!(err instanceof _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_5__["default"])) {
              return send(err, null, req, res, next);
            }

            return send(null, {
              data: null,
              error: err
            }, req, res, next);
          }

          return send(null, {
            data: data,
            error: null
          }, req, res, next);
        };
      }

      return send;

      function send(err, data, req, res, next) {
        if (err) {
          next(err);
        } else {
          res.json(data);
        }
      }
    }
  }, {
    key: "_commonReadMiddleware",
    value: function () {
      var _commonReadMiddleware2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee7(req, res, next, settings) {
        var model, result, response;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                model = this._getModel(req, res);
                result = this._result('read');
                _context7.prev = 2;
                _context7.next = 5;
                return model.read(settings);

              case 5:
                response = _context7.sent;
                result(null, response, req, res, next);
                _context7.next = 12;
                break;

              case 9:
                _context7.prev = 9;
                _context7.t0 = _context7["catch"](2);
                result(_context7.t0, null, req, res, next);

              case 12:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, this, [[2, 9]]);
      }));

      function _commonReadMiddleware(_x19, _x20, _x21, _x22) {
        return _commonReadMiddleware2.apply(this, arguments);
      }

      return _commonReadMiddleware;
    }()
  }]);

  return GridExpressApi;
}();

/* harmony default export */ __webpack_exports__["default"] = (GridExpressApi);

/***/ }),

/***/ "./src/grid/models/GridXhrModel.js":
/*!*****************************************!*\
  !*** ./src/grid/models/GridXhrModel.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ "@babel/runtime/helpers/toConsumableArray");
/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "@babel/runtime/helpers/possibleConstructorReturn");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "@babel/runtime/helpers/getPrototypeOf");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "@babel/runtime/helpers/inherits");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/validation/ValidationErrors */ "./src/common/validation/ValidationErrors.js");
/* harmony import */ var _common_validation_Validator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/validation/Validator */ "./src/common/validation/Validator.js");
/* harmony import */ var _common_defaultXhr__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/defaultXhr */ "./src/common/defaultXhr.js");
/* harmony import */ var _AbstractGridModel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AbstractGridModel */ "./src/grid/models/AbstractGridModel.js");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! url */ "url");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_12__);









/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */





var MAX_URI_LENGTH = 2048;
/**
 * Grid model, that works with API via XHR
 *
 * @param {Object}    settings                          Model settings
 * @param {string}    settings.api                      API address
 * @param {Validator} [settings.validator]              General validator
 * @param {Function}  [settings.xhr]                    XHR interface
 * @param {boolean}   [settings.validateOnClient=false] Don't send validation request to server
 * @constructor
 */

var GridXhrModel =
/*#__PURE__*/
function (_AbstractGridModel) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_7___default()(GridXhrModel, _AbstractGridModel);

  function GridXhrModel(settings) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this, GridXhrModel);

    _this = _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(GridXhrModel).call(this));

    if (!settings.api) {
      throw new Error('Initialization problem: \'api\' must be specified.');
    }

    _this._validator = settings.validator || new _common_validation_Validator__WEBPACK_IMPORTED_MODULE_9__["default"]();
    _this._xhr = settings.xhr || _common_defaultXhr__WEBPACK_IMPORTED_MODULE_10__["default"];
    _this._validateOnClient = settings.validateOnClient || false;
    _this._apiUrl = settings.api.replace(/([^/])\?/, '$1/?') // Add "/" before "?"
    .replace(/^[^?]*[^/]$/, '$&/'); // Add "/" to the end

    return _this;
  }
  /**
   * Add a record
   *
   * @param {Object}      record  Record object
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(GridXhrModel, [{
    key: "create",
    value: function () {
      var _create = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(record) {
        var body;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return this._xhr({
                  method: 'POST',
                  headers: {
                    'Content-type': 'application/json'
                  },
                  uri: this._apiUrl,
                  body: JSON.stringify(record)
                });

              case 2:
                body = _context.sent;
                body = JSON.parse(body);

                if (!body.error) {
                  _context.next = 6;
                  break;
                }

                throw _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_8__["default"].createFromJSON(body.error);

              case 6:
                this.trigger('create', [body.data]);
                return _context.abrupt("return", body.data);

              case 8:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function create(_x) {
        return _create.apply(this, arguments);
      }

      return create;
    }()
    /**
     * Get records list
     *
     * @param {Object}      settings                Request
     * @param {Array}       settings.fields         Fields
     * @param {number}      [settings.limit]        Limit
     * @param {number}      [settings.offset=0]     Offset
     * @param {Object}      [settings.filters]      Filter values object
     * @param {Array}       [settings.sort]         Sort parameters
     * @param {Array}       [settings.extra]        Record IDs, we need to get for sure
     */

  }, {
    key: "read",
    value: function () {
      var _read = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(settings) {
        var queryUrl, response;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                queryUrl = this._getQueryUrl(settings);

                if (!(url__WEBPACK_IMPORTED_MODULE_12___default.a.format(queryUrl).length > MAX_URI_LENGTH)) {
                  _context2.next = 5;
                  break;
                }

                _context2.next = 4;
                return this._readPostRequest(settings);

              case 4:
                return _context2.abrupt("return", _context2.sent);

              case 5:
                _context2.next = 7;
                return this._xhr({
                  method: 'GET',
                  uri: url__WEBPACK_IMPORTED_MODULE_12___default.a.format(queryUrl)
                });

              case 7:
                response = _context2.sent;
                return _context2.abrupt("return", JSON.parse(response));

              case 9:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function read(_x2) {
        return _read.apply(this, arguments);
      }

      return read;
    }()
    /**
     * Get the particular record
     *
     * @param {number|string}   id      Record ID
     * @param {Array}           fields  Required fields
     */

  }, {
    key: "getRecord",
    value: function () {
      var _getRecord = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(id, fields) {
        var parsedUrl, body;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                parsedUrl = url__WEBPACK_IMPORTED_MODULE_12___default.a.parse(this._apiUrl, true);
                parsedUrl.query.cols = JSON.stringify(fields); // TODO rename cols to fields

                parsedUrl.pathname = url__WEBPACK_IMPORTED_MODULE_12___default.a.resolve(parsedUrl.pathname, JSON.stringify(id));
                delete parsedUrl.search;
                _context3.next = 6;
                return this._xhr({
                  method: 'GET',
                  uri: url__WEBPACK_IMPORTED_MODULE_12___default.a.format(parsedUrl)
                });

              case 6:
                body = _context3.sent;
                return _context3.abrupt("return", JSON.parse(body));

              case 8:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function getRecord(_x3, _x4) {
        return _getRecord.apply(this, arguments);
      }

      return getRecord;
    }()
    /**
     * Apply record changes
     *
     * @param {Array}       changes     Changes array
     * @abstract
     */

  }, {
    key: "update",
    value: function () {
      var _update = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee4(changes) {
        var body, res, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, error, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, _error;

        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return this._xhr({
                  method: 'PUT',
                  headers: {
                    'Content-type': 'application/json'
                  },
                  uri: this._apiUrl,
                  body: JSON.stringify(changes)
                });

              case 2:
                body = _context4.sent;
                body = JSON.parse(body);
                res = [];

                if (body.changes && body.changes.length) {
                  this.trigger('update', body.changes);
                  res.push.apply(res, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(body.changes));
                }

                if (!(body.validation && body.validation.length)) {
                  _context4.next = 26;
                  break;
                }

                _iteratorNormalCompletion = true;
                _didIteratorError = false;
                _iteratorError = undefined;
                _context4.prev = 10;

                for (_iterator = body.validation[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                  error = _step.value;

                  if (error && error[1]) {
                    error[1] = _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_8__["default"].createFromJSON(error[1]);
                    res.push(error);
                  }
                }

                _context4.next = 18;
                break;

              case 14:
                _context4.prev = 14;
                _context4.t0 = _context4["catch"](10);
                _didIteratorError = true;
                _iteratorError = _context4.t0;

              case 18:
                _context4.prev = 18;
                _context4.prev = 19;

                if (!_iteratorNormalCompletion && _iterator["return"] != null) {
                  _iterator["return"]();
                }

              case 21:
                _context4.prev = 21;

                if (!_didIteratorError) {
                  _context4.next = 24;
                  break;
                }

                throw _iteratorError;

              case 24:
                return _context4.finish(21);

              case 25:
                return _context4.finish(18);

              case 26:
                if (!(body.errors && body.errors.length)) {
                  _context4.next = 46;
                  break;
                }

                _iteratorNormalCompletion2 = true;
                _didIteratorError2 = false;
                _iteratorError2 = undefined;
                _context4.prev = 30;

                for (_iterator2 = body.errors[Symbol.iterator](); !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                  _error = _step2.value;

                  if (_error && _error[1]) {
                    _error[1] = Object.assign(new Error(), _error[1]); // Note, that Object spread operator won't work here

                    res.push(_error);
                  }
                }

                _context4.next = 38;
                break;

              case 34:
                _context4.prev = 34;
                _context4.t1 = _context4["catch"](30);
                _didIteratorError2 = true;
                _iteratorError2 = _context4.t1;

              case 38:
                _context4.prev = 38;
                _context4.prev = 39;

                if (!_iteratorNormalCompletion2 && _iterator2["return"] != null) {
                  _iterator2["return"]();
                }

              case 41:
                _context4.prev = 41;

                if (!_didIteratorError2) {
                  _context4.next = 44;
                  break;
                }

                throw _iteratorError2;

              case 44:
                return _context4.finish(41);

              case 45:
                return _context4.finish(38);

              case 46:
                return _context4.abrupt("return", res);

              case 47:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this, [[10, 14, 18, 26], [19,, 21, 25], [30, 34, 38, 46], [39,, 41, 45]]);
      }));

      function update(_x5) {
        return _update.apply(this, arguments);
      }

      return update;
    }()
    /**
     * Validation check
     *
     * @param {{[string]: *}} record
     * @param {Promise<*>}    recordId
     */

  }, {
    key: "isValidRecord",
    value: function () {
      var _isValidRecord = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee5(record, recordId) {
        var parsedUrl, response, validationErrors;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                if (!this._validateOnClient) {
                  _context5.next = 4;
                  break;
                }

                _context5.next = 3;
                return this._validator.isValidRecord(record);

              case 3:
                return _context5.abrupt("return", _context5.sent);

              case 4:
                parsedUrl = url__WEBPACK_IMPORTED_MODULE_12___default.a.parse(this._apiUrl, true);
                parsedUrl.pathname = url__WEBPACK_IMPORTED_MODULE_12___default.a.resolve(parsedUrl.pathname, 'validation');
                _context5.prev = 6;
                _context5.next = 9;
                return this._xhr({
                  method: 'POST',
                  uri: url__WEBPACK_IMPORTED_MODULE_12___default.a.format(parsedUrl),
                  body: {
                    record: record,
                    id: recordId
                  },
                  json: true
                });

              case 9:
                response = _context5.sent;
                _context5.next = 21;
                break;

              case 12:
                _context5.prev = 12;
                _context5.t0 = _context5["catch"](6);

                if (!(_context5.t0.statusCode === 413)) {
                  _context5.next = 20;
                  break;
                }

                _context5.next = 17;
                return this._validator.isValidRecord(record);

              case 17:
                validationErrors = _context5.sent;

                if (validationErrors.isEmpty()) {
                  _context5.next = 20;
                  break;
                }

                return _context5.abrupt("return", validationErrors);

              case 20:
                throw _context5.t0;

              case 21:
                return _context5.abrupt("return", _common_validation_ValidationErrors__WEBPACK_IMPORTED_MODULE_8__["default"].createFromJSON(response));

              case 22:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this, [[6, 12]]);
      }));

      function isValidRecord(_x6, _x7) {
        return _isValidRecord.apply(this, arguments);
      }

      return isValidRecord;
    }()
    /**
     * Get all dependent fields, that are required for validation
     *
     * @param   {string[]}  fields   Fields list
     * @returns {string[]}  Dependencies
     */

  }, {
    key: "getValidationDependency",
    value: function getValidationDependency(fields) {
      return this._validator.getValidationDependency(fields);
    }
  }, {
    key: "_getQueryUrl",
    value: function _getQueryUrl(settings) {
      var parsedUrl = url__WEBPACK_IMPORTED_MODULE_12___default.a.parse(this._apiUrl, true);
      parsedUrl.query.fields = JSON.stringify(settings.fields);
      parsedUrl.query.offset = settings.offset || 0;

      if (settings.limit) {
        parsedUrl.query.limit = settings.limit;
      }

      if (settings.filters) {
        parsedUrl.query.filters = JSON.stringify(settings.filters);
      }

      if (settings.sort) {
        parsedUrl.query.sort = JSON.stringify(settings.sort);
      }

      if (settings.extra) {
        parsedUrl.query.extra = JSON.stringify(settings.extra);
      }

      delete parsedUrl.search;
      return parsedUrl;
    }
  }, {
    key: "_readPostRequest",
    value: function () {
      var _readPostRequest2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee6(settings) {
        var requestBody, parsedUrl;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                requestBody = {};
                requestBody.fields = settings.fields;
                requestBody.offset = settings.offset || 0;

                if (settings.limit) {
                  requestBody.limit = settings.limit;
                }

                if (settings.filters) {
                  requestBody.filters = settings.filters;
                }

                if (settings.sort) {
                  requestBody.sort = settings.sort;
                }

                if (settings.extra) {
                  requestBody.extra = settings.extra;
                }

                parsedUrl = url__WEBPACK_IMPORTED_MODULE_12___default.a.parse(this._apiUrl, true);
                parsedUrl.pathname = url__WEBPACK_IMPORTED_MODULE_12___default.a.resolve(parsedUrl.pathname, 'read');
                _context6.next = 11;
                return this._xhr({
                  method: 'POST',
                  json: true,
                  uri: url__WEBPACK_IMPORTED_MODULE_12___default.a.format(parsedUrl),
                  body: requestBody
                });

              case 11:
                return _context6.abrupt("return", _context6.sent);

              case 12:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function _readPostRequest(_x8) {
        return _readPostRequest2.apply(this, arguments);
      }

      return _readPostRequest;
    }()
  }]);

  return GridXhrModel;
}(_AbstractGridModel__WEBPACK_IMPORTED_MODULE_11__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (GridXhrModel);

/***/ }),

/***/ "./src/grid/models/applyGridFilters.js":
/*!*********************************************!*\
  !*** ./src/grid/models/applyGridFilters.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread */ "@babel/runtime/helpers/objectSpread");
/* harmony import */ var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/utils */ "./src/common/utils.js");




/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Defines filter values while reading Grid model data
 *
 * @param {AbstractGridModel} model       Grid model
 * @param {Object}            filters     Filter values
 */

function applyGridFilters(model, filters) {
  return Object(_common_utils__WEBPACK_IMPORTED_MODULE_3__["decorate"])(model, {
    read: function () {
      var _read = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(options) {
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                options.filters = _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default()({}, filters, options.filters);
                _context.next = 3;
                return model.read(options);

              case 3:
                return _context.abrupt("return", _context.sent);

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      function read(_x) {
        return _read.apply(this, arguments);
      }

      return read;
    }()
  });
}

/* harmony default export */ __webpack_exports__["default"] = (applyGridFilters);

/***/ }),

/***/ "./src/list/AbstractListModel.js":
/*!***************************************!*\
  !*** ./src/list/AbstractListModel.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);



/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Abstract List model
 */
var AbstractListModel =
/*#__PURE__*/
function () {
  function AbstractListModel() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, AbstractListModel);
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(AbstractListModel, [{
    key: "read",

    /**
     * Get data
     *
     * @param {string}    search  Search query
     * @abstract
     */
    value: function read()
    /*search*/
    {
      return Promise.resolve([]);
    }
    /**
     * Get option name using ID
     *
     * @param {*}         id  Option ID
     * @abstract
     */

  }, {
    key: "getLabel",
    value: function getLabel()
    /*id*/
    {
      return Promise.resolve('');
    }
  }]);

  return AbstractListModel;
}();

/* harmony default export */ __webpack_exports__["default"] = (AbstractListModel);

/***/ }),

/***/ "./src/list/ListExpressApi.js":
/*!************************************!*\
  !*** ./src/list/ListExpressApi.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! express */ "express");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/utils */ "./src/common/utils.js");





/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */


/**
 * Form Express API for List model interaction
 *
 * @return {ListExpressApi}
 * @constructor
 */

var ListExpressApi =
/*#__PURE__*/
function () {
  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ListExpressApi, null, [{
    key: "create",
    value: function create() {
      return new ListExpressApi();
    }
  }]);

  function ListExpressApi() {
    var _this = this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ListExpressApi);

    this.middlewares = {
      read: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(req, res, next) {
          var model, response;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
            while (1) {
              switch (_context.prev = _context.next) {
                case 0:
                  model = _this._getModel(req, res);
                  _context.prev = 1;
                  _context.next = 4;
                  return model.read(req.query.v);

                case 4:
                  response = _context.sent;

                  _this._result(null, response, req, res, next);

                  _context.next = 11;
                  break;

                case 8:
                  _context.prev = 8;
                  _context.t0 = _context["catch"](1);

                  _this._result(_context.t0, null, req, res, next);

                case 11:
                case "end":
                  return _context.stop();
              }
            }
          }, _callee, null, [[1, 8]]);
        }));

        return function (_x, _x2, _x3) {
          return _ref.apply(this, arguments);
        };
      }())],
      getLabel: [Object(_common_utils__WEBPACK_IMPORTED_MODULE_5__["asyncHandler"])(
      /*#__PURE__*/
      function () {
        var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
        /*#__PURE__*/
        _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(req, res, next) {
          var id, model, response;
          return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  id = JSON.parse(req.params.id);
                  model = _this._getModel(req, res);
                  _context2.prev = 2;
                  _context2.next = 5;
                  return model.getLabel(id);

                case 5:
                  response = _context2.sent;

                  _this._result(null, response, req, res, next);

                  _context2.next = 12;
                  break;

                case 9:
                  _context2.prev = 9;
                  _context2.t0 = _context2["catch"](2);

                  _this._result(_context2.t0, null, req, res, next);

                case 12:
                case "end":
                  return _context2.stop();
              }
            }
          }, _callee2, null, [[2, 9]]);
        }));

        return function (_x4, _x5, _x6) {
          return _ref2.apply(this, arguments);
        };
      }())]
    };
  }
  /**
   * Specify List model
   *
   * @param   {Function|AbstractListModel}  model  List model
   * @return {ListExpressApi}
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ListExpressApi, [{
    key: "model",
    value: function model(_model) {
      if (typeof _model === 'function') {
        this._getModel = _model;
      } else {
        this._getModel = function () {
          return _model;
        };
      }

      return this;
    }
  }, {
    key: "getRouter",
    value: function getRouter() {
      return new express__WEBPACK_IMPORTED_MODULE_4___default.a.Router().get('/', this.middlewares.read).get('/label/:id', this.middlewares.getLabel);
    }
  }, {
    key: "read",
    value: function read(middlewares) {
      if (!Array.isArray(middlewares)) {
        middlewares = [middlewares];
      }

      this.middlewares.read = middlewares.concat(this.middlewares.read);
      return this;
    }
  }, {
    key: "getLabel",
    value: function getLabel(middlewares) {
      if (!Array.isArray(middlewares)) {
        middlewares = [middlewares];
      }

      this.middlewares.getLabel = middlewares.concat(this.middlewares.getLabel);
      return this;
    } // Default implementation

  }, {
    key: "_getModel",
    value: function _getModel() {
      throw Error('Model is not defined.');
    }
  }, {
    key: "_result",
    value: function _result(err, data, req, res, next) {
      if (err) {
        next(err);
      } else {
        if (typeof data === 'number') {
          data = data.toString();
        }

        res.json(data);
      }
    }
  }]);

  return ListExpressApi;
}();

/* harmony default export */ __webpack_exports__["default"] = (ListExpressApi);

/***/ }),

/***/ "./src/list/ListXhrModel.js":
/*!**********************************!*\
  !*** ./src/list/ListXhrModel.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "@babel/runtime/regenerator");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "@babel/runtime/helpers/asyncToGenerator");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "@babel/runtime/helpers/classCallCheck");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "@babel/runtime/helpers/createClass");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _common_defaultXhr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/defaultXhr */ "./src/common/defaultXhr.js");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! url */ "url");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_5__);





/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ListXMLHttpRequestModel =
/*#__PURE__*/
function () {
  /**
   * Simple list client model which works via XMLHttpRequest
   *
   * @param {string}    apiURL  API address for list model interaction
   * @param {Function}  [xhr]   XHR wrapper
   * @constructor
   */
  function ListXMLHttpRequestModel(apiURL, xhr) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this, ListXMLHttpRequestModel);

    this._apiURL = apiURL;
    this._xhr = xhr || _common_defaultXhr__WEBPACK_IMPORTED_MODULE_4__["default"];
    this._apiUrl = apiURL.replace(/([^/])\?/, '$1/?') // Add "/" before "?"
    .replace(/^[^?]*[^/]$/, '$&/'); // Add "/" to the end
  }
  /**
   * Get model data
   *
   * @param {string}    search  List search query
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ListXMLHttpRequestModel, [{
    key: "read",
    value: function () {
      var _read = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(search) {
        var parsedUrl, body;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                parsedUrl = url__WEBPACK_IMPORTED_MODULE_5___default.a.parse(this._apiUrl, true);
                delete parsedUrl.search;

                if (search) {
                  parsedUrl.query.v = search;
                }

                _context.next = 5;
                return this._xhr({
                  method: 'GET',
                  headers: {
                    'Content-type': 'application/json'
                  },
                  uri: url__WEBPACK_IMPORTED_MODULE_5___default.a.format(parsedUrl)
                });

              case 5:
                body = _context.sent;
                return _context.abrupt("return", JSON.parse(body));

              case 7:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function read(_x) {
        return _read.apply(this, arguments);
      }

      return read;
    }()
    /**
     * Get option name using ID
     *
     * @param {*}         id  Option ID
     */

  }, {
    key: "getLabel",
    value: function () {
      var _getLabel = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
      /*#__PURE__*/
      _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2(id) {
        var parsedUrl, body;
        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                parsedUrl = url__WEBPACK_IMPORTED_MODULE_5___default.a.parse(this._apiUrl, true);
                parsedUrl.pathname = url__WEBPACK_IMPORTED_MODULE_5___default.a.resolve(parsedUrl.pathname, "label/".concat(JSON.stringify(id)));
                _context2.next = 4;
                return this._xhr({
                  method: 'GET',
                  headers: {
                    'Content-type': 'application/json'
                  },
                  uri: url__WEBPACK_IMPORTED_MODULE_5___default.a.format(parsedUrl)
                });

              case 4:
                body = _context2.sent;
                body = JSON.parse(body);
                return _context2.abrupt("return", body);

              case 7:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function getLabel(_x2) {
        return _getLabel.apply(this, arguments);
      }

      return getLabel;
    }()
  }]);

  return ListXMLHttpRequestModel;
}();

/* harmony default export */ __webpack_exports__["default"] = (ListXMLHttpRequestModel);

/***/ }),

/***/ "./src/node.js":
/*!*********************!*\
  !*** ./src/node.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./browser */ "./src/browser.js");
/* harmony import */ var _grid_models_GridExpressApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./grid/models/GridExpressApi */ "./src/grid/models/GridExpressApi.js");
/* harmony import */ var _list_ListExpressApi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./list/ListExpressApi */ "./src/list/ListExpressApi.js");
/* harmony import */ var _form_FormExpressApi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./form/FormExpressApi */ "./src/form/FormExpressApi.js");
/* harmony import */ var _grid_export_exporters_toCSV__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./grid/export/exporters/toCSV */ "./src/grid/export/exporters/toCSV.js");
/*
 * Copyright (с) 2015-present, SoftIndex LLC.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */





_browser__WEBPACK_IMPORTED_MODULE_0__["default"].gridExpressApi = _grid_models_GridExpressApi__WEBPACK_IMPORTED_MODULE_1__["default"].create;
_browser__WEBPACK_IMPORTED_MODULE_0__["default"].listExpressApi = _list_ListExpressApi__WEBPACK_IMPORTED_MODULE_2__["default"].create;
_browser__WEBPACK_IMPORTED_MODULE_0__["default"].formExpressApi = _form_FormExpressApi__WEBPACK_IMPORTED_MODULE_3__["default"].create;
_browser__WEBPACK_IMPORTED_MODULE_0__["default"].toCSV = _grid_export_exporters_toCSV__WEBPACK_IMPORTED_MODULE_4__["default"];
/* harmony default export */ __webpack_exports__["default"] = (_browser__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "@babel/polyfill/browser":
/*!******************************************!*\
  !*** external "@babel/polyfill/browser" ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/polyfill/browser");

/***/ }),

/***/ "@babel/runtime/helpers/assertThisInitialized":
/*!***************************************************************!*\
  !*** external "@babel/runtime/helpers/assertThisInitialized" ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/assertThisInitialized");

/***/ }),

/***/ "@babel/runtime/helpers/asyncToGenerator":
/*!**********************************************************!*\
  !*** external "@babel/runtime/helpers/asyncToGenerator" ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/asyncToGenerator");

/***/ }),

/***/ "@babel/runtime/helpers/classCallCheck":
/*!********************************************************!*\
  !*** external "@babel/runtime/helpers/classCallCheck" ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/classCallCheck");

/***/ }),

/***/ "@babel/runtime/helpers/createClass":
/*!*****************************************************!*\
  !*** external "@babel/runtime/helpers/createClass" ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/createClass");

/***/ }),

/***/ "@babel/runtime/helpers/defineProperty":
/*!********************************************************!*\
  !*** external "@babel/runtime/helpers/defineProperty" ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/defineProperty");

/***/ }),

/***/ "@babel/runtime/helpers/extends":
/*!*************************************************!*\
  !*** external "@babel/runtime/helpers/extends" ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/extends");

/***/ }),

/***/ "@babel/runtime/helpers/getPrototypeOf":
/*!********************************************************!*\
  !*** external "@babel/runtime/helpers/getPrototypeOf" ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/getPrototypeOf");

/***/ }),

/***/ "@babel/runtime/helpers/inherits":
/*!**************************************************!*\
  !*** external "@babel/runtime/helpers/inherits" ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/inherits");

/***/ }),

/***/ "@babel/runtime/helpers/objectSpread":
/*!******************************************************!*\
  !*** external "@babel/runtime/helpers/objectSpread" ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/objectSpread");

/***/ }),

/***/ "@babel/runtime/helpers/objectWithoutProperties":
/*!*****************************************************************!*\
  !*** external "@babel/runtime/helpers/objectWithoutProperties" ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/objectWithoutProperties");

/***/ }),

/***/ "@babel/runtime/helpers/possibleConstructorReturn":
/*!*******************************************************************!*\
  !*** external "@babel/runtime/helpers/possibleConstructorReturn" ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/possibleConstructorReturn");

/***/ }),

/***/ "@babel/runtime/helpers/slicedToArray":
/*!*******************************************************!*\
  !*** external "@babel/runtime/helpers/slicedToArray" ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/slicedToArray");

/***/ }),

/***/ "@babel/runtime/helpers/toConsumableArray":
/*!***********************************************************!*\
  !*** external "@babel/runtime/helpers/toConsumableArray" ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/toConsumableArray");

/***/ }),

/***/ "@babel/runtime/helpers/typeof":
/*!************************************************!*\
  !*** external "@babel/runtime/helpers/typeof" ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/helpers/typeof");

/***/ }),

/***/ "@babel/runtime/regenerator":
/*!*********************************************!*\
  !*** external "@babel/runtime/regenerator" ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@babel/runtime/regenerator");

/***/ }),

/***/ "classnames":
/*!*****************************!*\
  !*** external "classnames" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("classnames");

/***/ }),

/***/ "create-react-class":
/*!*************************************!*\
  !*** external "create-react-class" ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("create-react-class");

/***/ }),

/***/ "csv-stringify":
/*!********************************!*\
  !*** external "csv-stringify" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("csv-stringify");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("express");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("moment");

/***/ }),

/***/ "prop-types":
/*!*****************************!*\
  !*** external "prop-types" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("prop-types");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react");

/***/ }),

/***/ "react-datepicker":
/*!***********************************!*\
  !*** external "react-datepicker" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react-datepicker");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react-dom");

/***/ }),

/***/ "react-dom-factories":
/*!**************************************!*\
  !*** external "react-dom-factories" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("react-dom-factories");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("url");

/***/ }),

/***/ "xhr":
/*!**********************!*\
  !*** external "xhr" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("xhr");

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9VSUtlcm5lbC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9jb21tb24vQXJndW1lbnRzRXJyb3IuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvY29tbW9uL0V2ZW50cy5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9jb21tb24vUG9ydGFsLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi9UaHJvdHRsZUVycm9yLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi9jYWxsYmFja2lmeS5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9jb21tb24vZGVmYXVsdFhoci5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9jb21tb24vc2V0SW1tZWRpYXRlLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi90b1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvY29tbW9uL3V0aWxzLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRpb25FcnJvcnMuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdG9yLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL2Jvb2xlYW4uanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvY29tbW9uL3ZhbGlkYXRpb24vcnVsZXMvZGF0ZS5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9jb21tb24vdmFsaWRhdGlvbi9ydWxlcy9lbnVtLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL2Zsb2F0LmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL25vdEVtcHR5LmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL25vdE51bGwuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvY29tbW9uL3ZhbGlkYXRpb24vcnVsZXMvbnVtYmVyLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL3JlZ0V4cC5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9jb21tb24vdmFsaWRhdGlvbi9ydWxlcy9zZXQuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvY29tbW9uL3ZhcmlhYmxlcy5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9lZGl0b3JzL0NoZWNrYm94LmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2VkaXRvcnMvRGF0ZVBpY2tlci5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9lZGl0b3JzL051bWJlci5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9lZGl0b3JzL1NlbGVjdC5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9lZGl0b3JzL1N1Z2dlc3RCb3guanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZm9ybS9BYnN0cmFjdEZvcm1Nb2RlbC5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9mb3JtL0Zvcm1FeHByZXNzQXBpLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2Zvcm0vRm9ybU1vZGVsLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2Zvcm0vRm9ybVNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZm9ybS9Gb3JtWGhyTW9kZWwuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZm9ybS9hZGFwdGVycy9HcmlkVG9Gb3JtQ3JlYXRlLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2Zvcm0vYWRhcHRlcnMvR3JpZFRvRm9ybVVwZGF0ZS5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9mb3JtL2Nvbm5lY3RGb3JtLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2Zvcm0vbWl4aW4uanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZ3JpZC9Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZ3JpZC9leHBvcnQvZXhwb3J0R3JpZERhdGEuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZ3JpZC9leHBvcnQvZXhwb3J0ZXJzL3RvQ1NWLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvZXhwb3J0L2V4cG9ydGVycy90b0pTT04uanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZ3JpZC9taXhpbnMvY29sdW1ucy5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9ncmlkL21peGlucy9kYXRhLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbWl4aW5zL2VkaXRvci5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9ncmlkL21peGlucy9wYWdpbmF0aW9uLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbWl4aW5zL3NlbGVjdC5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9ncmlkL21peGlucy9zb3J0aW5nLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbWl4aW5zL3N0YXR1c2VzLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbWl4aW5zL3VpLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbW9kZWxzL0Fic3RyYWN0R3JpZE1vZGVsLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbW9kZWxzL0dyaWRDb2xsZWN0aW9uTW9kZWwuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZ3JpZC9tb2RlbHMvR3JpZEV4cHJlc3NBcGkuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvZ3JpZC9tb2RlbHMvR3JpZFhock1vZGVsLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2dyaWQvbW9kZWxzL2FwcGx5R3JpZEZpbHRlcnMuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvLi9zcmMvbGlzdC9BYnN0cmFjdExpc3RNb2RlbC5qcyIsIndlYnBhY2s6Ly9VSUtlcm5lbC8uL3NyYy9saXN0L0xpc3RFeHByZXNzQXBpLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL2xpc3QvTGlzdFhock1vZGVsLmpzIiwid2VicGFjazovL1VJS2VybmVsLy4vc3JjL25vZGUuanMiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcG9seWZpbGwvYnJvd3NlclwiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvclwiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzc1wiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eVwiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZFwiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXlcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXlcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJAYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvclwiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwiY2xhc3NuYW1lc1wiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwiY3JlYXRlLXJlYWN0LWNsYXNzXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJjc3Ytc3RyaW5naWZ5XCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJleHByZXNzXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJtb21lbnRcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcInByb3AtdHlwZXNcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcInJlYWN0XCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJyZWFjdC1kYXRlcGlja2VyXCIiLCJ3ZWJwYWNrOi8vVUlLZXJuZWwvZXh0ZXJuYWwgXCJyZWFjdC1kb21cIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcInJlYWN0LWRvbS1mYWN0b3JpZXNcIiIsIndlYnBhY2s6Ly9VSUtlcm5lbC9leHRlcm5hbCBcInVybFwiIiwid2VicGFjazovL1VJS2VybmVsL2V4dGVybmFsIFwieGhyXCIiXSwibmFtZXMiOlsiZ2xvYmFsIiwiX2JhYmVsUG9seWZpbGwiLCJyZXF1aXJlIiwiVUlLZXJuZWwiLCJhcHBseUdyaWRGaWx0ZXJzIiwiR3JpZCIsIkdyaWRDb21wb25lbnQiLCJGb3JtIiwiRm9ybVNlcnZpY2UiLCJjb25uZWN0Rm9ybSIsImNyZWF0ZVZhbGlkYXRvciIsIlZhbGlkYXRvciIsImNyZWF0ZSIsImV4cG9ydEdyaWREYXRhIiwidG9KU09OIiwiVmFsaWRhdGlvbkVycm9ycyIsIk1vZGVscyIsIlhociIsIkdyaWRYaHJNb2RlbCIsIkNvbGxlY3Rpb24iLCJHcmlkQ29sbGVjdGlvbk1vZGVsIiwiRXZlbnRzIiwiRm9ybU1vZGVsIiwiRm9ybVhociIsIkZvcm1YaHJNb2RlbCIsIkxpc3QiLCJMaXN0WGhyTW9kZWwiLCJBYnN0cmFjdE1vZGVscyIsIkFic3RyYWN0Rm9ybU1vZGVsIiwiQWJzdHJhY3RHcmlkTW9kZWwiLCJBYnN0cmFjdExpc3RNb2RlbCIsIkFkYXB0ZXJzIiwiVG9Gb3JtVXBkYXRlIiwiVG9Gb3JtQ3JlYXRlIiwiRWRpdG9ycyIsIlNlbGVjdCIsIlN1Z2dlc3RCb3giLCJEYXRlUGlja2VyIiwiQ2hlY2tib3giLCJOdW1iZXIiLCJBcmd1bWVudHNFcnJvciIsIlRocm90dGxlRXJyb3IiLCJWYWxpZGF0b3JzIiwiYm9vbGVhblZhbGlkYXRpb25SdWxlIiwiZGF0ZSIsImRhdGVWYWxpZGF0aW9uUnVsZSIsImVudW1WYWxpZGF0aW9uUnVsZSIsInNldCIsInNldFZhbGlkYXRpb25SdWxlIiwiZmxvYXRWYWxpZGF0aW9uUnVsZSIsInJlZ0V4cCIsInJlZ0V4cFZhbGlkYXRpb25SdWxlIiwibm90TnVsbCIsIm5vdE51bGxWYWxpZGF0aW9uUnVsZSIsIm51bWJlciIsIm51bWJlclZhbGlkYXRpb25SdWxlIiwibm90RW1wdHkiLCJub3RFbXB0eVZhbGlkYXRpb25SdWxlIiwiTWl4aW5zIiwiRm9ybU1peGluIiwiX2dldCIsInZhcmlhYmxlcyIsImdldCIsIl9zZXQiLCJtZXNzYWdlIiwiRXJyb3IiLCJjYWxsIiwibmFtZSIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJzdGFjayIsImdldFN0YWNrIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY29uc3RydWN0b3IiLCJFdmVudHNNb2RlbCIsIl9zdWJzY3JpYmVycyIsImV2ZW50IiwiY2IiLCJwdXNoIiwid2l0aG91dCIsImxlbmd0aCIsInBhcmFtcyIsInN1YnNjcmliZXIiLCJwb3J0YWxDbGFzcyIsIlBvcnRhbCIsInByb3BzIiwiX29uRG9jdW1lbnRNb3VzZURvd24iLCJiaW5kIiwiX29uRG9jdW1lbnRNb3VzZVNjcm9sbCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInBvcnRhbCIsImNyZWF0ZUVsZW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGFzc05hbWUiLCJyZW5kZXJQb3J0YWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUmVhY3RET00iLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwicmVtb3ZlQ2hpbGQiLCJ0YXJnZXQiLCJjb250YWlucyIsImUiLCJvbkRvY3VtZW50TW91c2VEb3duIiwiX2lzRG9jdW1lbnRFdmVudE93bmVyIiwib25Eb2N1bWVudE1vdXNlU2Nyb2xsIiwicmVuZGVyIiwib21pdCIsImNoaWxkcmVuIiwiUmVhY3QiLCJDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJub2RlIiwiZnVuYyIsImNyZWF0ZVdpdGhQYXJlbnRTdGFjayIsImVyciIsImZ1bmN0aW9uc05hbWVzIiwiaGlkZVdhcm5pbmciLCJmdW5jTmFtZSIsImFyZ3MiLCJsYXN0QXJndW1lbnRJbmRleCIsIl9faWdub3JlVUlLZXJuZWxXYXJuaW5nIiwiaW5jbHVkZXMiLCJ3YXJuIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3VsdCIsImFwcGx5IiwidGhlbiIsImRhdGEiLCJkZWZhdWx0WGhyIiwic2V0dGluZ3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInhociIsInJlc3BvbnNlIiwicGFyc2VkQm9keSIsInBhcnNlIiwid2luZG93Iiwic2V0SW1tZWRpYXRlIiwiaGVhZCIsInRhaWwiLCJJRCIsIk1hdGgiLCJyYW5kb20iLCJvbk1lc3NhZ2UiLCJuZXh0IiwiYXR0YWNoRXZlbnQiLCJwb3N0TWVzc2FnZSIsInNldFRpbWVvdXQiLCJ0b1Byb21pc2UiLCJwcm9taXNlV2FybiIsInRleHQiLCJtYWluQXJndW1lbnRzIiwicHJvbWlzZSIsImNhbGxiYWNrUHJvbWlzZSIsInRvUHJvbWlzZUNhbGxiYWNrIiwiYmFzZUNsb25lIiwib2JqIiwiaXNEZWVwIiwiY2xvbmVkIiwiZXM2dHlwZXMiLCJEYXRlIiwiRnVuY3Rpb24iLCJSZWdFeHAiLCJBcnJheSIsImlzQXJyYXkiLCJlbCIsInRvU3RyaW5nIiwiZW50cmllcyIsImZpZWxkIiwidmFsdWUiLCJpc0ludGVyc2VjdGlvbiIsImEiLCJiIiwiYyIsImluZGV4T2YiLCJzaXplIiwia2V5cyIsImFyciIsIml0ZW0iLCJpIiwiaXNFcXVhbCIsInRocm90dGxlIiwid29ya2VkIiwibmV4dEFyZ3VtZW50cyIsIm5leHRSZXNvbHZlIiwibmV4dFJlamVjdCIsImFyZ3VtZW50cyIsInRocm90dGxlQ2FsbGJhY2siLCJ0aHJvdHRsZVByb21pc2UiLCJydW4iLCJjdHgiLCJhcmd1bWVudHNBcnJheSIsInNsaWNlIiwiY2JXcmFwcGVyIiwibmV4dFdvcmtlciIsImNvbmNhdCIsInBhcmVudFN0YWNrIiwicGFyc2VWYWx1ZUZyb21FdmVudCIsInRhZ05hbWUiLCJ0eXBlIiwiY2hlY2tlZCIsIkRlY29yYXRvciIsImRlY29yIiwiYXNzaWduIiwiZGVjb3JhdGUiLCJ1bmRlZmluZWQiLCJ2YWx1ZU9mIiwicCIsImV2ZXJ5IiwiY2xvbmUiLCJjbG9uZURlZXAiLCJpc0VtcHR5IiwidHJpbSIsImlzRGVmaW5lZCIsImZvckVhY2giLCJwbHVjayIsIm1hcCIsImZpbmQiLCJmaW5kSW5kZXgiLCJwcmVkaWNhdGUiLCJlc2NhcGUiLCJzdHJpbmciLCJyZVVuZXNjYXBlZCIsImVzY2FwZXMiLCJ0ZXN0IiwicmVwbGFjZSIsImNociIsInppcE9iamVjdCIsInZhbHVlcyIsInBpY2siLCJkZWZhdWx0VmFsdWUiLCJyZWR1Y2UiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIm1hcEtleXMiLCJvYmplY3QiLCJpdGVyYXRlZSIsInVuaW9uIiwiZWxlbWVudHMiLCJhcmciLCJhdCIsInBhaXJzIiwidG9EYXRlIiwic2V0VGltZSIsImdldFRpbWUiLCJnZXRUaW1lem9uZU9mZnNldCIsImxhc3QiLCJnZXRSZWNvcmRDaGFuZ2VzIiwibW9kZWwiLCJjaGFuZ2VzIiwibmV3Q2hhbmdlcyIsImdldFZhbGlkYXRpb25EZXBlbmRlbmN5IiwiZGVlcCIsInN0YWNrVHJhY2VMaW1pdERlZmF1bHQiLCJzdGFja1RyYWNlTGltaXQiLCJzcGxpdCIsImpvaW4iLCJjb25zb2xlIiwidG9FbmNvZGVkU3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYXN5bmNIYW5kbGVyIiwicm91dGVyIiwicmVxIiwicmVzIiwicGFyZW50cyIsImVsZW1lbnQiLCJzZWxlY3RvciIsInBhcmVudEVsZW1lbnQiLCJtYXRjaGVzIiwiX2ZpZWxkcyIsIk1hcCIsImVycm9yIiwiX2Zvcm1FcnJvclZhbHVlIiwiaGFzIiwiZmllbGRFcnJvcnMiLCJmaWVsZHMiLCJqc29uIiwiY3JlYXRlRnJvbUpTT04iLCJ2YWxpZGF0aW9uRXJyb3JzIiwiZ2V0RXJyb3JzIiwibmV3RXJyb3JzIiwiZXJyb3JzIiwianNvbk9iamVjdCIsImVyck1lc3NhZ2UiLCJhZGQiLCJqc29uRXJyb3JzIiwiX3NldHRpbmdzIiwidmFsaWRhdG9ycyIsImdyb3VwVmFsaWRhdG9ycyIsImFzeW5jVmFsaWRhdG9ycyIsImFzeW5jR3JvdXBWYWxpZGF0b3JzIiwiYXN5bmNEZXBlbmRlbmllcyIsInZhbGlkYXRvckZ1bmN0aW9uIiwiZm4iLCJncm91cHMiLCJqIiwicmVjb3JkIiwiYXdhaXRTdGFjayIsInByb21pc2VzIiwiZGVwZW5kZW50RmllbGRzIiwidmFsaWRhdG9yIiwiYXN5bmNWYWxpZGF0b3IiLCJncm91cFZhbGlkYXRvciIsImFzeW5jR3JvdXBWYWxpZGF0b3IiLCJhbGwiLCJhc3luY0Vycm9ycyIsInBvcCIsImJhc2VWYWxpZGF0b3IiLCJtaW4iLCJtYXgiLCJ0eXBlT2ZWYWx1ZSIsImlzTmFOIiwidmFyaWFudHMiLCJpc0Zpbml0ZSIsInBhcnNlSW50IiwiaW5kZXRlcm1pbmF0ZSIsIm90aGVyUHJvcHMiLCJpbnB1dCIsImJvb2wiLCJEYXRlUGlja2VyRWRpdG9yIiwiZm9ybWF0Iiwib25DaGFuZ2UiLCJ0ZXh0Rm9ybWF0IiwibW9tZW50IiwiYW55Iiwic2hvdyIsIm9uQmx1ciIsImlzUmVxdWlyZWQiLCJpc0ludmFsaWRGbG9hdCIsImZsb2F0VmFsaWRhdG9yIiwiTnVtYmVyRWRpdG9yIiwic3RhdGUiLCJuZXh0UHJvcHMiLCJmaW5kRE9NTm9kZSIsInZhbHVlQXNOdW1iZXIiLCJwYXJzZUZsb2F0IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9vbkNoYW5nZUhhbmRsZXIiLCJvbmVPZlR5cGUiLCJTZWxlY3RFZGl0b3IiLCJvcHRpb25zIiwibG9hZGluZyIsIkJvb2xlYW4iLCJyZWFkIiwidW5zaGlmdCIsInNldFN0YXRlIiwib3B0aW9uIiwiZ2V0T3B0aW9ucyIsIm9uTGFiZWxDaGFuZ2UiLCJ2YWx1ZUluZGV4IiwiaGFuZGxlQ2hhbmdlIiwiZGlzYWJsZWQiLCJpbmRleCIsIm9wdGlvblByb3BzIiwiYXJyYXkiLCJzaGFwZSIsInBvcHVwSWQiLCJjbGFzc2VzIiwib3B0aW9uRm9jdXNlZCIsIm9wdGlvblNlbGVjdGFibGUiLCJvcHRpb25UeXBlcyIsImdyb3VwIiwiaGVhZGVyIiwic3ViaXRlbSIsImVtcHR5Iiwic2VhcmNoQmxvY2siLCJzZWxlY3RCdG4iLCJhcnJvdyIsInVwIiwiVEFCX0tFWSIsIkVOVEVSX0tFWSIsIkVTQ0FQRV9LRVkiLCJBUlJPV19VUF9LRVkiLCJBUlJPV19ET1dOX0tFWSIsIk1JTl9QT1BVUF9IRUlHSFQiLCJTdWdnZXN0Qm94RWRpdG9yIiwiX2xvYWREYXRhIiwiaXNPcGVuZWQiLCJzZWxlY3RlZE9wdGlvbktleSIsImxhc3RWYWxpZExhYmVsIiwibGFiZWwiLCJwb3B1cFN0eWxlcyIsIl9vbklucHV0Rm9jdXMiLCJfb25JbnB1dEtleURvd24iLCJfb25JbnB1dFZhbHVlQ2hhbmdlIiwiX2ZvY3VzT3B0aW9uIiwiX3RvZ2dsZUxpc3QiLCJfb3Blbkxpc3QiLCJfaXNNb3VudGVkIiwiZGVmYXVsdExhYmVsIiwiX3NldExhYmVsVG8iLCJfZ2V0TGFiZWxGcm9tTW9kZWwiLCJuZXh0U3RhdGUiLCJtYXJrQXNWYWxpZCIsImlkIiwiZ2V0TGFiZWwiLCJzZWFyY2hQYXR0ZXJuIiwid2l0aEVtcHR5T3B0aW9uIiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImJvdHRvbSIsInBvc2l0aW9uIiwiX3Njcm9sbExpc3RUbyIsImZvY3VzRmlyc3RPcHRpb24iLCJfZ2V0Q29tcHV0ZWRQb3B1cFN0eWxlcyIsInNlbGVjdCIsIl91cGRhdGVMaXN0IiwiX2ZvY3VzT3B0aW9uQW5kU2Nyb2xsSW50b1ZpZXciLCJvbkZvY3VzIiwic2hvdWxkQmx1ciIsImJsdXIiLCJfY2xvc2VMaXN0IiwibWV0YWRhdGEiLCJvbk1ldGFkYXRhQ2hhbmdlIiwic2hvdWxkU2V0TGFiZWwiLCJmb2N1c2VkSXRlbXMiLCJjdXJyZW50SXRlbSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImRvbU9wdGlvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb250YWluZXIiLCJzY3JvbGxUb3AiLCJvZmZzZXRUb3AiLCJjbGllbnRIZWlnaHQiLCJjaGlsZCIsInBhcmVudE5vZGUiLCJpc093bmVyIiwiYnV0dG9uIiwiX3NlbGVjdE9wdGlvbiIsImdldEF0dHJpYnV0ZSIsIl9pc1BhcmVudE9mIiwia2V5Q29kZSIsInByZXZlbnREZWZhdWx0IiwiX2ZvY3VzTmV4dE9wdGlvbiIsIl9mb2N1c1ByZXZPcHRpb24iLCJpbnB1dFN0eWxlcyIsImdldENvbXB1dGVkU3R5bGUiLCJwb3B1cFN0eWxlIiwiaW5wdXRPZmZzZXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJpbnB1dFdpZHRoIiwid2lkdGgiLCJpbnB1dEhlaWdodCIsImhlaWdodCIsInRvcCIsImlubmVySGVpZ2h0Iiwib2Zmc2V0TGVmdCIsImxlZnQiLCJhdmFpbGFibGVTcGFjZSIsIm1heEhlaWdodCIsIm1pbldpZHRoIiwiZm9jdXMiLCJhcnJvd0NsYXNzZXMiLCJvcHRpb25zUG9wdXAiLCJsb2FkaW5nRWxlbWVudCIsIm5vdEZvdW5kRWxlbWVudCIsIm9wdGlvbkNsYXNzTmFtZXMiLCJjb2x1bW5LZXkiLCJGb3JtRXhwcmVzc0FwaSIsIm1pZGRsZXdhcmVzIiwiZ2V0RGF0YSIsInF1ZXJ5IiwiX2dldE1vZGVsIiwiX3Jlc3VsdCIsInN1Ym1pdCIsInZhbGlkYXRlIiwiaXNWYWxpZFJlY29yZCIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiX2FkZE1pZGVsd2FyZXMiLCJtZXRob2QiLCJkZWZhdWx0VmFsdWVzIiwidmFsaWRhdGlvbiIsIl92YWxpZGF0aW9uIiwiX2RhdGEiLCJ2YWxpZEVycm9ycyIsInRyaWdnZXIiLCJfY2hhbmdlcyIsIl9lcnJvcnMiLCJfd2FybmluZ3MiLCJfd2FybmluZ3NWYWxpZGF0b3IiLCJfZXZlbnRFbWl0dGVyIiwiRXZlbnRFbWl0dGVyIiwiX2lzTm90SW5pdGlhbGl6ZWQiLCJfdmFsaWRhdGVGb3JtIiwidmFsaWRhdGVGb3JtIiwiX29uTW9kZWxDaGFuZ2UiLCJjbGVhckNoYW5nZXMiLCJjbGVhckVycm9yIiwiY2xlYXJWYWxpZGF0aW9uIiwidXBkYXRlRmllbGQiLCJ2YWxpZGF0ZUZpZWxkIiwiX2dldERhdGEiLCJfZ2V0Q2hhbmdlcyIsIl9pc1N1Ym1pdHRpbmciLCJzaG93RGVwZW5kZW50RmllbGRzIiwiX3BhcnRpYWxFcnJvckNoZWNraW5nIiwicGFydGlhbEVycm9yQ2hlY2tpbmciLCJfcGFydGlhbEVycm9yQ2hlY2tpbmdEZWZhdWx0Iiwic3VibWl0QWxsIiwid2FybmluZ3NWYWxpZGF0b3IiLCJ2YWxpZGF0aW5nIiwiX2hpZGRlblZhbGlkYXRpb25GaWVsZHMiLCJzdWJtaXR0aW5nIiwib24iLCJfc2V0U3RhdGUiLCJpc0xvYWRlZCIsIl9pc0xvYWRlZCIsImVtcHR5RGF0YSIsIm9yaWdpbmFsRGF0YSIsIndhcm5pbmdzIiwiaXNTdWJtaXR0aW5nIiwiX2dldEZpZWxkcyIsIl9nZXRDaGFuZ2VzRmllbGRzIiwiX2dldERpc3BsYXllZEVycm9ycyIsIm9mZiIsImxpc3RlbmVyQ291bnQiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJjb3VudE9mSGlkZGVuVmFsaWRhdGlvbkZpZWxkc1RvUmVtb3ZlIiwiYWN0dWFsQ2hhbmdlcyIsInNwbGljZSIsImNsZWFyRmllbGQiLCJjbGVhciIsIl9ydW5WYWxpZGF0b3IiLCJkaXNwbGF5ZWRFcnJvcnMiLCJkaXNwbGF5ZWRXYXJuaW5nIiwicHJveHkiLCJQcm94eSIsImZpZWxkTmFtZSIsImlzQ2hhbmdlZCIsImdldEZpZWxkRXJyb3JNZXNzYWdlcyIsIl9pc0RlcGVuZGVudEZpZWxkIiwiZmlsdGVyZWRFcnJvcnMiLCJpc0ZpZWxkUHJpc3RpbmUiLCJnZXRBbGwiLCJvdXRwdXQiLCJhcGkiLCJfdmFsaWRhdG9yIiwiX3hociIsIl9hcGlVcmwiLCJwYXJzZWRVcmwiLCJ1cmwiLCJzZWFyY2giLCJ1cmkiLCJoZWFkZXJzIiwiR3JpZFRvRm9ybUNyZWF0ZSIsImluaXRpYWxEYXRhIiwiX2FkYXB0ZXIiLCJHcmlkVG9Gb3JtVXBkYXRlIiwiX29uVXBkYXRlSGFuZGxlcnMiLCJvcmlnaW5hbENhbGxiYWNrIiwid3JhcHBlZENhbGxiYWNrIiwibmV3T25VcGRhdGVIYW5kbGVycyIsImhhbmRsZXIiLCJnZXRSZWNvcmQiLCJ1cGRhdGUiLCJmb3JtIiwib25Gb3JtQ2hhbmdlIiwiYWRkQ2hhbmdlTGlzdGVuZXIiLCJyZW1vdmVDaGFuZ2VMaXN0ZW5lciIsIm5ld0Zvcm1TdGF0ZSIsImdldEluaXRpYWxTdGF0ZSIsIl9oYW5kbGVNb2RlbENoYW5nZSIsIl9mb3JtTWl4aW4iLCJjb21wb25lbnRXaWxsTW91bnQiLCJfaXNVbm1vdW50ZWQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImluaXRGb3JtIiwiY2FsbGJhY2tpZnkiLCJfaW5pdFN0YXRlIiwiZ2xvYmFsRXJyb3IiLCJnZXRDaGFuZ2VzIiwiaGFzQ2hhbmdlcyIsImhhc0Vycm9yIiwiZW50cnkiLCJwZW5kaW5nQ2xlYXJFcnJvcnMiLCJvbmVGaWVsZCIsImdldE9yaWdpbmFsRGF0YSIsImdldFZhbGlkYXRpb25FcnJvcnMiLCJtZXJnZSIsImdldEZpZWxkRXJyb3JzIiwiZ2V0R2xvYmFsRXJyb3IiLCJhdXRvU3VibWl0IiwiYXV0b1N1Ym1pdEhhbmRsZXIiLCJzdWJtaXREYXRhIiwidmFsaWRhdGlvbkVycm9yIiwiY2xlYXJGaWVsZENoYW5nZXMiLCJwYXJ0aWFsRXJyb3JDaGVja2luZ0RlZmF1bHQiLCJzZXRQYXJ0aWFsRXJyb3JDaGVja2luZyIsInN0b3AiLCJjb21wbGV0ZWQiLCJjb21wbGV0ZUVycm9yIiwib25Db21wbGV0ZSIsImVycm9yc1dpdGhQYXJ0aWFsQ2hlY2tpbmciLCJSRVNFVF9NT0RFTCIsIlJFU0VUX1ZJRVdfQ09MVU1OUyIsIlJFU0VUX1NPUlQiLCJSRVNFVF9WSUVXX0NPVU5UIiwiUkVTRVRfU0VMRUNURURfQ09MVU1OUyIsIlJFU0VUX0JMQUNLX0xJU1RfTU9ERSIsInNvcnRFbGVtZW50UHJvcCIsImNvbHVtbiIsImRpcmVjdGlvbiIsInNvcnRQcm9wIiwiYXJyYXlPZiIsImNvbHMiLCJ2aWV3Q29sdW1ucyIsInNlbGVjdGVkIiwicGFnZSIsImRlZmF1bHRWaWV3Q291bnQiLCJ2aWV3Q291bnQiLCJ2aWV3VmFyaWFudHMiLCJvbkNoYW5nZVZpZXdDb3VudCIsIm9uRXJyb3IiLCJvblBhZ2VMb2FkIiwib25Jbml0Iiwib25EZXN0cm95Iiwib25TZWxlY3RlZENoYW5nZSIsIm9uU29ydGluZyIsIm11bHRpcGxlU29ydGluZyIsInNlbGVjdEFsbFN0YXR1cyIsIm9uVG9nZ2xlU2VsZWN0ZWQiLCJvblRvZ2dsZVNlbGVjdEFsbCIsImRlZmF1bHRTb3J0IiwicHJvcE5hbWUiLCJyZXN0IiwidmFsaWRQcm9wIiwic29ydCIsInNhdmVGdWxsUmVjb3JkIiwiY3JlYXRlUmVhY3RDbGFzcyIsIkdyaWRDb2x1bW5zTWl4aW4iLCJncmlkTWl4aW5QYWdpbmF0aW9uIiwiZ3JpZE1peGluU3RhdHVzZXMiLCJncmlkTWl4aW5Tb3J0aW5nIiwiZ3JpZE1peGluRGF0YSIsImdyaWRNaXhpbkVkaXRvciIsImdyaWRNaXhpblVJIiwiZ3JpZE1peGluU2VsZWN0IiwiZ2V0RGVmYXVsdFByb3BzIiwiX3Rocm90dGxlZFVwZGF0ZVRhYmxlIiwidXBkYXRlVGFibGUiLCJfdmFsaWRhdGVSb3ciLCJjb3VudCIsInN0YXR1c01hcCIsInN0YXR1c2VzIiwiX2dldERlZmF1bHRTb3J0IiwidG90YWxzIiwicmVjb3Jkc0luZm8iLCJtYWluSWRzIiwiZWRpdG9yIiwiY29sc1dpdGhFc2NhcGVFcnJvcnMiLCJzZWxlY3RCbGFja0xpc3RNb2RlIiwic2hvd0xvYWRlciIsImNvbXBvbmVudERpZE1vdW50IiwiX29uUmVjb3Jkc0NyZWF0ZWQiLCJfc2V0RGF0YSIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJvbGRQcm9wcyIsInJlc2V0IiwiYmxhY2tMaXN0TW9kZSIsIl9zZXRQYWdlIiwiX3JlbmRlckJvZHkiLCJyZW5kZXJTY3JvbGxhYmxlR3JpZCIsImdyaWRDbGFzc05hbWVzIiwiX2Zvcm1IZWFkZXIiLCJjb2xHcm91cCIsInJvdyIsImNvbEtleSIsImNvbCIsInJvd0tleSIsIl9nZXRIZWFkZXJDZWxsSFRNTCIsIm9uQ2xpY2siLCJfc29ydENvbCIsIl9oYW5kbGVIZWFkZXJDZWxsQ2xpY2siLCJjb2xTcGFuIiwicm93U3BhbiIsInJvd3MiLCJfX2h0bWwiLCJsb2FkZXIiLCJfaGFuZGxlQm9keUNsaWNrIiwidGJvZHkiLCJ0Qm9keSIsIl9yZW5kZXJUb3RhbHMiLCJfcmVuZGVyUGFnaW5hdGlvbiIsInJlbmRlckdyaWQiLCJmb3JtYXRDb2x1bW5zIiwiY29sdW1ucyIsImZvcm1hdHRlZENvbHVtbnMiLCJjb2x1bW5JZCIsInBhcmVudCIsImZvcm1hdFJlY29yZCIsImZvcm1hdHRlZFJlY29yZCIsInZpZXdDb2x1bW4iLCJmb3JtYXREYXRhIiwicmVjb3JkcyIsImZvcm1hdHRlZCIsImdldEZpZWxkcyIsImFzc2VydFZhbGlkVmlld0NvbHVtbnMiLCJub3RFeGlzdENvbHVtbnMiLCJncmlkTW9kZWwiLCJleHBvcnRlciIsImxpbWl0Iiwib2Zmc2V0IiwidG9DU1YiLCJjc3YiLCJjc3ZEYXRhIiwibWltZSIsIl9pc1ZpZXdDb2x1bW4iLCJsYXN0UGFyZW50IiwiRE9NIiwiX2dldENvbHVtbkNsYXNzIiwiY2xhc3NOYW1lcyIsImFkZEluZm8iLCJvbkNsaWNrUmVmcyIsInNvcnRQYXJhbXMiLCJfZ2V0U29ydFBhcmFtcyIsIl9nZXRGaWVsZHNUb1JlbmRlciIsIl9pc0ZpZWxkQWZmZWN0c1JlbmRlciIsIl9nZXREZXBlbmRlbnRDb2x1bW5zIiwiZGVwZW5kZW50Q29sdW1ucyIsImRlcGVuZGVuY3lGaWVsZHMiLCJjb2x1bW5OYW1lIiwic29tZSIsInJlbmRlckZpZWxkIiwiR3JpZERhdGFNaXhpbiIsInJlY29yZElkIiwiX2dldFJvd0lEIiwiX3NldFJvd0NoYW5nZXMiLCJyZWFsdGltZSIsInNhdmUiLCJvblJlYWx0aW1lU3VibWl0IiwiX2dldFJlY29yZFdpdGhDaGFuZ2VzIiwiX2dldFJlY29yZENoYW5nZXMiLCJnZXRSZWNvcmRXYXJuaW5ncyIsImdldFdhcm5pbmdzIiwiZ2V0UmVjb3JkRXJyb3JzIiwiX2dldFJlY29yZEVycm9ycyIsImdldE1vZGVsIiwicm93Q2hhbmdlcyIsInJlbW92ZVJlY29yZFN0YXR1c0FsbCIsIl9kYXRhT2JqZWN0VG9BcnJheSIsInVuaGFuZGxlZEVycm9ycyIsIl9pc01haW5Sb3ciLCJfcmVtb3ZlUmVjb3JkIiwiZXJyb3JIYW5kbGVyIiwiY2xlYXJSZWNvcmRDaGFuZ2VzIiwiX3VwZGF0ZVJvdyIsImNsZWFyQWxsQ2hhbmdlcyIsIl9pc1NvcnRpbmdQcm9wc01vZGUiLCJfcmVzZXRTb3J0aW5nIiwiX3NldFJlY29yZERhdGEiLCJfaXNSZWNvcmRMb2FkZWQiLCJfcmVuZGVyQmluZHMiLCJfaGFzV2FybmluZyIsIl9jaGVja0ZpZWxkSW5WYWxpZGF0aW9uIiwiX2hhc0Vycm9yIiwiX2lzQ2hhbmdlZCIsIl9jaGVja1dhcm5pbmdzIiwiX2dldEJpbmRQYXJhbSIsImVkaXRvckZpZWxkIiwiX2RhdGFBcnJheVRvT2JqZWN0IiwiaW5mbyIsIl9nZXRBZGRpdGlvbmFsSWRzIiwiYWRkaXRpb25hbElkcyIsIl9nZXRSZWNvcmRzV2l0aFN0YXR1cyIsInJvd0lkIiwidG91Y2hlZENoYW5nZXMiLCJfcmVtb3ZlVFIiLCJfY2hlY2tWYWxpZGF0b3JFcnJvcnMiLCJyZWNvcmRJZHMiLCJHcmlkRWRpdG9yTWl4aW4iLCJfcmVuZGVyRWRpdG9yIiwiYmluZHMiLCJmb2N1c0RvbmUiLCJfaXNFZGl0b3JWaXNpYmxlIiwiZWRpdG9yQ29udGV4dCIsIm5leHRWYWx1ZSIsIl9vbkNoYW5nZUVkaXRvciIsIl9vbkZvY3VzRWRpdG9yIiwiX3VubW91bnRFZGl0b3IiLCJfb25CbHVyRWRpdG9yIiwib25LZXlVcCIsImlzU2VsZWN0ZWQiLCJfcmVuZGVyQ2VsbCIsImNvbnRleHQiLCJHcmlkUGFnaW5hdGlvbk1peGluIiwiaGFuZGxlQ2hhbmdlVmlld0NvdW50IiwiX2lzVmlld0NvdW50UHJvcHNNb2RlIiwic2V0Vmlld0NvdW50IiwiaGFuZGxlRmlyc3RQYWdlIiwic2V0UGFnZSIsImhhbmRsZUxhc3RQYWdlIiwiZ2V0UGFnZXNDb3VudCIsImhhbmRsZVByZXZQYWdlIiwiaGFuZGxlTmV4dFBhZ2UiLCJoYW5kbGVSZWZyZXNoVGFibGUiLCJnZXRDdXJyZW50UGFnZSIsImdldENvdW50UmVjb3JkcyIsIl9jaGVja1BhZ2UiLCJnZXRWaWV3Q291bnQiLCJjZWlsIiwidmlldyIsIkdyaWRTZWxlY3RNaXhpbiIsInNldFNlbGVjdGVkUmVjb3JkcyIsInNlbGVjdGVkSWRzIiwiZm9yY2VVcGRhdGUiLCJfZW1pdENoYW5nZVNlbGVjdGVkTnVtIiwic2VsZWN0UmVjb3JkIiwiaWdub3JlQmxhY2tMaXN0IiwidW5zZWxlY3RSZWNvcmQiLCJ1bnNlbGVjdEFsbCIsInNlbGVjdEFsbCIsInBvcyIsInRvZ2dsZVNlbGVjdGVkIiwidG9nZ2xlU2VsZWN0QWxsIiwiaXNTZWxlY3RCbGFja01vZGUiLCJnZXRBbGxTZWxlY3RlZCIsImdldFNlbGVjdEFsbFN0YXR1cyIsInNlbGVjdGVkQ291bnQiLCJHcmlkU29ydGluZ01peGluIiwiZ2V0U29ydERpcmVjdGlvbiIsInJlc2V0U29ydGluZyIsIm5ld09yZGVyIiwiY3ljbGUiLCJzb3J0Q3ljbGUiLCJuZXdTb3J0cyIsInNvcnRFbGVtZW50IiwiY3VycmVudFNvcnRJbmRleCIsImN1cnJlbnRTb3J0Iiwic29ydHMiLCJzb3J0SW5kZXgiLCJfc29ydGluZ1RvQXJyYXkiLCJ0b0FycmF5IiwiR3JpZFN0YXR1c2VzTWl4aW4iLCJhZGRSZWNvcmRTdGF0dXMiLCJzdW0iLCJfZ2V0U3RhdHVzQml0IiwiZWxlbSIsImFkZFJlY29yZFN0YXR1c0dyb3VwIiwiYml0IiwibmVlZFRhYmxlVXBkYXRlIiwicmVtb3ZlUmVjb3JkU3RhdHVzIiwiaGFzUmVjb3JkU3RhdHVzIiwiZ2V0QWxsV2l0aFN0YXR1cyIsIl9nZXRSb3dTdGF0dXNOYW1lcyIsIm5hbWVzIiwic3RhdHVzTmFtZSIsImlkcyIsIkdyaWRVSU1peGluIiwicmVmUGFyZW50IiwiaGFzQXR0cmlidXRlIiwiX2hhbmRsZUNlbGxDbGljayIsInJlZiIsImNvbElkIiwiY29sdW1uQ29uZmlnIiwiZXh0cmEiLCJleHRyYVJlY29yZHMiLCJjZWxsSHRtbCIsIl9lc2NhcGVSZWNvcmQiLCJlc2NhcGVkUmVjb3JkIiwibmVlZEVzY2FwaW5nIiwiX2dldENlbGxIVE1MIiwiaW5pdGlhbFJlY29yZCIsIl9nZXRSb3dIVE1MIiwiZ3JpZFJvd0NsYXNzIiwiaHRtbCIsImdyaWRDZWxsQ2xhc3MiLCJodG1sRXh0cmEiLCJodG1sQm9keSIsInNvcnRlZCIsImlubmVySFRNTCIsInBhcmFtIiwicmVtb3ZlUm93IiwiaXNTY3JvbGxhYmxlIiwidG90YWxzRGlzcGxheWVkIiwidG90YWxzUm93SFRNTCIsImNlbGwiLCJjZWxsSFRNTCIsImNlbGxDbGFzc0xpc3QiLCJmaWx0ZXIiLCJfaWQiLCJfZmlsdGVyc0hhbmRsZXIiLCJmaWx0ZXJzSGFuZGxlciIsIl9yZXF1aXJlZEZpZWxkcyIsInJlcXVpcmVkRmllbGRzIiwiX3ZhbGlkYXRlT25DcmVhdGUiLCJ2YWxpZGF0ZU9uQ3JlYXRlIiwiY3VycmVudERhdGEiLCJjcmVhdGVkUmVjb3Jkc0lkcyIsInVwZGF0ZWRSZWNvcmRzIiwiZGVsZXRlZFJlY29yZHNJZHMiLCJfZ2V0SUQiLCJjbG9uZWRSZWNvcmQiLCJfY3JlYXRlIiwic29ydEZpZWxkIiwic29ydE1vZGUiLCJwcmV2IiwiZmlsdGVycyIsInN0YXJ0IiwiZW5kIiwiX2dldFJlY29yZEJ5SUQiLCJyZXR1cm5SZWNvcmQiLCJhcHBsaWVkQ2hhbmdlcyIsIkdyaWRFeHByZXNzQXBpIiwicmVhZEdldCIsIl9jb21tb25SZWFkTWlkZGxld2FyZSIsInJlYWRQb3N0IiwicHV0IiwidXNlIiwic2VuZCIsIk1BWF9VUklfTEVOR1RIIiwiX3ZhbGlkYXRlT25DbGllbnQiLCJ2YWxpZGF0ZU9uQ2xpZW50IiwicXVlcnlVcmwiLCJfZ2V0UXVlcnlVcmwiLCJfcmVhZFBvc3RSZXF1ZXN0IiwicGF0aG5hbWUiLCJyZXF1ZXN0Qm9keSIsIkxpc3RFeHByZXNzQXBpIiwidiIsIkxpc3RYTUxIdHRwUmVxdWVzdE1vZGVsIiwiYXBpVVJMIiwiX2FwaVVSTCIsImJyb3dzZXJNb2R1bGUiLCJncmlkRXhwcmVzc0FwaSIsImxpc3RFeHByZXNzQXBpIiwiZm9ybUV4cHJlc3NBcGkiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxPO0FDVkE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrREFBMEMsZ0NBQWdDO0FBQzFFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0VBQXdELGtCQUFrQjtBQUMxRTtBQUNBLHlEQUFpRCxjQUFjO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBeUMsaUNBQWlDO0FBQzFFLHdIQUFnSCxtQkFBbUIsRUFBRTtBQUNySTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBc0QsK0RBQStEOztBQUVySDtBQUNBOzs7QUFHQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDbEZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtB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QUEsa0U7Ozs7Ozs7Ozs7O0FDQUEsNEQ7Ozs7Ozs7Ozs7O0FDQUEsZ0U7Ozs7Ozs7Ozs7O0FDQUEsMkU7Ozs7Ozs7Ozs7O0FDQUEsNkU7Ozs7Ozs7Ozs7O0FDQUEsaUU7Ozs7Ozs7Ozs7O0FDQUEscUU7Ozs7Ozs7Ozs7O0FDQUEsMEQ7Ozs7Ozs7Ozs7O0FDQUEsdUQ7Ozs7Ozs7Ozs7O0FDQUEsdUM7Ozs7Ozs7Ozs7O0FDQUEsK0M7Ozs7Ozs7Ozs7O0FDQUEsMEM7Ozs7Ozs7Ozs7O0FDQUEsb0M7Ozs7Ozs7Ozs7O0FDQUEsbUM7Ozs7Ozs7Ozs7O0FDQUEsdUM7Ozs7Ozs7Ozs7O0FDQUEsa0M7Ozs7Ozs7Ozs7O0FDQUEsNkM7Ozs7Ozs7Ozs7O0FDQUEsc0M7Ozs7Ozs7Ozs7O0FDQUEsZ0Q7Ozs7Ozs7Ozs7O0FDQUEsZ0M7Ozs7Ozs7Ozs7O0FDQUEsZ0MiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJVSUtlcm5lbFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJVSUtlcm5lbFwiXSA9IGZhY3RvcnkoKTtcbn0pKGdsb2JhbCwgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvbm9kZS5qc1wiKTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCAnLi9jb21tb24vc2V0SW1tZWRpYXRlJztcbmltcG9ydCB2YXJpYWJsZXMgZnJvbSAnLi9jb21tb24vdmFyaWFibGVzJztcbmltcG9ydCBhcHBseUdyaWRGaWx0ZXJzIGZyb20gJy4vZ3JpZC9tb2RlbHMvYXBwbHlHcmlkRmlsdGVycyc7XG5pbXBvcnQgR3JpZENvbXBvbmVudCBmcm9tICcuL2dyaWQvQ29tcG9uZW50JztcbmltcG9ydCBGb3JtU2VydmljZSBmcm9tICcuL2Zvcm0vRm9ybVNlcnZpY2UnO1xuaW1wb3J0IGNvbm5lY3RGb3JtIGZyb20gJy4vZm9ybS9jb25uZWN0Rm9ybSc7XG5pbXBvcnQgVmFsaWRhdG9yIGZyb20gJy4vY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdG9yJztcbmltcG9ydCBleHBvcnRHcmlkRGF0YSBmcm9tICcuL2dyaWQvZXhwb3J0L2V4cG9ydEdyaWREYXRhJztcbmltcG9ydCB0b0pTT04gZnJvbSAnLi9ncmlkL2V4cG9ydC9leHBvcnRlcnMvdG9KU09OJztcbmltcG9ydCBWYWxpZGF0aW9uRXJyb3JzIGZyb20gJy4vY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdGlvbkVycm9ycyc7XG5pbXBvcnQgR3JpZFhock1vZGVsIGZyb20gJy4vZ3JpZC9tb2RlbHMvR3JpZFhock1vZGVsJztcbmltcG9ydCBHcmlkQ29sbGVjdGlvbk1vZGVsIGZyb20gJy4vZ3JpZC9tb2RlbHMvR3JpZENvbGxlY3Rpb25Nb2RlbCc7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4vY29tbW9uL0V2ZW50cyc7XG5pbXBvcnQgRm9ybU1vZGVsIGZyb20gJy4vZm9ybS9Gb3JtTW9kZWwnO1xuaW1wb3J0IEZvcm1YaHJNb2RlbCBmcm9tICcuL2Zvcm0vRm9ybVhock1vZGVsJztcbmltcG9ydCBMaXN0WGhyTW9kZWwgZnJvbSAnLi9saXN0L0xpc3RYaHJNb2RlbCc7XG5pbXBvcnQgQWJzdHJhY3RGb3JtTW9kZWwgZnJvbSAnLi9mb3JtL0Fic3RyYWN0Rm9ybU1vZGVsJztcbmltcG9ydCBBYnN0cmFjdEdyaWRNb2RlbCBmcm9tICcuL2dyaWQvbW9kZWxzL0Fic3RyYWN0R3JpZE1vZGVsJztcbmltcG9ydCBBYnN0cmFjdExpc3RNb2RlbCBmcm9tICcuL2xpc3QvQWJzdHJhY3RMaXN0TW9kZWwnO1xuaW1wb3J0IFRvRm9ybVVwZGF0ZSBmcm9tICcuL2Zvcm0vYWRhcHRlcnMvR3JpZFRvRm9ybVVwZGF0ZSc7XG5pbXBvcnQgVG9Gb3JtQ3JlYXRlIGZyb20gJy4vZm9ybS9hZGFwdGVycy9HcmlkVG9Gb3JtQ3JlYXRlJztcbmltcG9ydCBTZWxlY3QgZnJvbSAnLi9lZGl0b3JzL1NlbGVjdCc7XG5pbXBvcnQgU3VnZ2VzdEJveCBmcm9tICcuL2VkaXRvcnMvU3VnZ2VzdEJveCc7XG5pbXBvcnQgRGF0ZVBpY2tlciBmcm9tICcuL2VkaXRvcnMvRGF0ZVBpY2tlcic7XG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnLi9lZGl0b3JzL0NoZWNrYm94JztcbmltcG9ydCBOdW1iZXIgZnJvbSAnLi9lZGl0b3JzL051bWJlcic7XG5pbXBvcnQgQXJndW1lbnRzRXJyb3IgZnJvbSAnLi9jb21tb24vQXJndW1lbnRzRXJyb3InO1xuaW1wb3J0IFRocm90dGxlRXJyb3IgZnJvbSAnLi9jb21tb24vVGhyb3R0bGVFcnJvcic7XG5pbXBvcnQgYm9vbGVhblZhbGlkYXRpb25SdWxlIGZyb20gJy4vY29tbW9uL3ZhbGlkYXRpb24vcnVsZXMvYm9vbGVhbic7XG5pbXBvcnQgZGF0ZVZhbGlkYXRpb25SdWxlIGZyb20gJy4vY29tbW9uL3ZhbGlkYXRpb24vcnVsZXMvZGF0ZSc7XG5pbXBvcnQgZW51bVZhbGlkYXRpb25SdWxlIGZyb20gJy4vY29tbW9uL3ZhbGlkYXRpb24vcnVsZXMvZW51bSc7XG5pbXBvcnQgc2V0VmFsaWRhdGlvblJ1bGUgZnJvbSAnLi9jb21tb24vdmFsaWRhdGlvbi9ydWxlcy9zZXQnO1xuaW1wb3J0IGZsb2F0VmFsaWRhdGlvblJ1bGUgZnJvbSAnLi9jb21tb24vdmFsaWRhdGlvbi9ydWxlcy9mbG9hdCc7XG5pbXBvcnQgcmVnRXhwVmFsaWRhdGlvblJ1bGUgZnJvbSAnLi9jb21tb24vdmFsaWRhdGlvbi9ydWxlcy9yZWdFeHAnO1xuaW1wb3J0IG5vdE51bGxWYWxpZGF0aW9uUnVsZSBmcm9tICcuL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL25vdE51bGwnO1xuaW1wb3J0IG51bWJlclZhbGlkYXRpb25SdWxlIGZyb20gJy4vY29tbW9uL3ZhbGlkYXRpb24vcnVsZXMvbnVtYmVyJztcbmltcG9ydCBub3RFbXB0eVZhbGlkYXRpb25SdWxlIGZyb20gJy4vY29tbW9uL3ZhbGlkYXRpb24vcnVsZXMvbm90RW1wdHknO1xuaW1wb3J0IEZvcm1NaXhpbiBmcm9tICcuL2Zvcm0vbWl4aW4nO1xuXG5pZiAoIWdsb2JhbC5fYmFiZWxQb2x5ZmlsbCkge1xuICByZXF1aXJlKCdAYmFiZWwvcG9seWZpbGwvYnJvd3NlcicpO1xufVxuXG5jb25zdCBVSUtlcm5lbCA9IHtcbiAgYXBwbHlHcmlkRmlsdGVycyxcbiAgR3JpZDogR3JpZENvbXBvbmVudCxcbiAgRm9ybTogRm9ybVNlcnZpY2UsXG4gIGNvbm5lY3RGb3JtLFxuICBjcmVhdGVWYWxpZGF0b3I6IFZhbGlkYXRvci5jcmVhdGUsXG4gIGV4cG9ydEdyaWREYXRhLFxuICB0b0pTT04sXG4gIFZhbGlkYXRpb25FcnJvcnMsXG4gIE1vZGVsczoge1xuICAgIEdyaWQ6IHtcbiAgICAgIFhocjogR3JpZFhock1vZGVsLFxuICAgICAgQ29sbGVjdGlvbjogR3JpZENvbGxlY3Rpb25Nb2RlbFxuICAgIH0sXG4gICAgRXZlbnRzLFxuICAgIEZvcm06IEZvcm1Nb2RlbCxcbiAgICBGb3JtWGhyOiBGb3JtWGhyTW9kZWwsXG4gICAgTGlzdDoge1xuICAgICAgWGhyOiBMaXN0WGhyTW9kZWxcbiAgICB9XG4gIH0sXG4gIEFic3RyYWN0TW9kZWxzOiB7XG4gICAgRm9ybTogQWJzdHJhY3RGb3JtTW9kZWwsXG4gICAgR3JpZDogQWJzdHJhY3RHcmlkTW9kZWwsXG4gICAgTGlzdDogQWJzdHJhY3RMaXN0TW9kZWxcbiAgfSxcbiAgQWRhcHRlcnM6IHtcbiAgICBHcmlkOiB7XG4gICAgICBUb0Zvcm1VcGRhdGUsXG4gICAgICBUb0Zvcm1DcmVhdGVcbiAgICB9XG4gIH0sXG4gIEVkaXRvcnM6IHtcbiAgICBTZWxlY3QsXG4gICAgU3VnZ2VzdEJveCxcbiAgICBEYXRlUGlja2VyLFxuICAgIENoZWNrYm94LFxuICAgIE51bWJlclxuICB9LFxuICBBcmd1bWVudHNFcnJvcixcbiAgVGhyb3R0bGVFcnJvcixcbiAgVmFsaWRhdG9yczoge1xuICAgIGJvb2xlYW46IGJvb2xlYW5WYWxpZGF0aW9uUnVsZSxcbiAgICBkYXRlOiBkYXRlVmFsaWRhdGlvblJ1bGUsXG4gICAgZW51bTogZW51bVZhbGlkYXRpb25SdWxlLFxuICAgIHNldDogc2V0VmFsaWRhdGlvblJ1bGUsXG4gICAgZmxvYXQ6IGZsb2F0VmFsaWRhdGlvblJ1bGUsXG4gICAgcmVnRXhwOiByZWdFeHBWYWxpZGF0aW9uUnVsZSxcbiAgICBub3ROdWxsOiBub3ROdWxsVmFsaWRhdGlvblJ1bGUsXG4gICAgbnVtYmVyOiBudW1iZXJWYWxpZGF0aW9uUnVsZSxcbiAgICBub3RFbXB0eTogbm90RW1wdHlWYWxpZGF0aW9uUnVsZVxuICB9LFxuICBNaXhpbnM6IHtcbiAgICBGb3JtOiBGb3JtTWl4aW5cbiAgfSxcbiAgX2dldDogdmFyaWFibGVzLmdldCxcbiAgX3NldDogdmFyaWFibGVzLnNldFxufTtcblxuZXhwb3J0IGRlZmF1bHQgVUlLZXJuZWw7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge2dldFN0YWNrfSBmcm9tICcuL3V0aWxzJztcblxuZnVuY3Rpb24gQXJndW1lbnRzRXJyb3IobWVzc2FnZSkge1xuICBFcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UpO1xuXG4gIHRoaXMubmFtZSA9ICdBcmd1bWVudHNFcnJvcic7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuc3RhdHVzID0gdGhpcy5zdGF0dXNDb2RlID0gNDIyO1xuICB0aGlzLnN0YWNrID0gZ2V0U3RhY2soKTtcbn1cblxuQXJndW1lbnRzRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuQXJndW1lbnRzRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQXJndW1lbnRzRXJyb3I7XG5cbmV4cG9ydCBkZWZhdWx0IEFyZ3VtZW50c0Vycm9yO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHt3aXRob3V0fSBmcm9tICcuL3V0aWxzJztcblxuLyoqXG4gKiBFdmVudHMgY29udHJvbCBtb2RlbFxuICovXG5jbGFzcyBFdmVudHNNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0ge307XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIGlubmVyIG1vZGVsIGV2ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgIGV2ZW50ICAgRXZlbnQgSURcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gICAgY2IgICAgICBDYWxsQmFjayBmdW5jdGlvblxuICAgKi9cbiAgb24oZXZlbnQsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9zdWJzY3JpYmVyc1tldmVudF0gIT09ICdvYmplY3QnKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVyc1tldmVudF0gPSBbXTtcbiAgICB9XG4gICAgdGhpcy5fc3Vic2NyaWJlcnNbZXZlbnRdLnB1c2goY2IpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGZyb20gaW5uZXIgbW9kZWwgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9ICAgICAgZXZlbnQgICBFdmVudCBJRFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgICBjYiAgICAgIENhbGxCYWNrIGZ1bmN0aW9uXG4gICAqL1xuICBvZmYoZXZlbnQsIGNiKSB7XG4gICAgaWYgKHRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XSkge1xuICAgICAgdGhpcy5fc3Vic2NyaWJlcnNbZXZlbnRdID0gd2l0aG91dCh0aGlzLl9zdWJzY3JpYmVyc1tldmVudF0sIGNiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVHJpZ2dlciBpbm5lciBtb2RlbCBldmVudFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gIGV2ZW50ICAgRXZlbnQgSURcbiAgICogQHBhcmFtIHsuLi4qfSAgICBwYXJhbXNcbiAgICovXG4gIHRyaWdnZXIoZXZlbnQsIC4uLnBhcmFtcykge1xuICAgIGlmICghdGhpcy5fc3Vic2NyaWJlcnNbZXZlbnRdIHx8ICF0aGlzLl9zdWJzY3JpYmVyc1tldmVudF0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoY29uc3Qgc3Vic2NyaWJlciBvZiB0aGlzLl9zdWJzY3JpYmVyc1tldmVudF0pIHtcbiAgICAgIHN1YnNjcmliZXIoLi4ucGFyYW1zKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gdGhlIGV2ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBuYW1lXG4gICAqL1xuICBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XSA/IHRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XS5sZW5ndGggOiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBuYW1lXG4gICAqL1xuICByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgICB0aGlzLl9zdWJzY3JpYmVyc1tldmVudF0gPSBbXTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFdmVudHNNb2RlbDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQge29taXR9IGZyb20gJy4vdXRpbHMnO1xuXG5jb25zdCBwb3J0YWxDbGFzcyA9ICdfX3BvcnRhbCc7XG5cbmNsYXNzIFBvcnRhbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuX29uRG9jdW1lbnRNb3VzZURvd24gPSB0aGlzLl9vbkRvY3VtZW50TW91c2VEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Eb2N1bWVudE1vdXNlU2Nyb2xsID0gdGhpcy5fb25Eb2N1bWVudE1vdXNlU2Nyb2xsLmJpbmQodGhpcyk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbkRvY3VtZW50TW91c2VEb3duLCBmYWxzZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fb25Eb2N1bWVudE1vdXNlU2Nyb2xsLCB0cnVlKTtcblxuICAgIGNvbnN0IHBvcnRhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocG9ydGFsKTtcbiAgICBwb3J0YWwuY2xhc3NOYW1lID0gcG9ydGFsQ2xhc3M7XG4gICAgdGhpcy5wb3J0YWwgPSBwb3J0YWw7XG4gICAgdGhpcy5yZW5kZXJQb3J0YWwoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uRG9jdW1lbnRNb3VzZURvd24sIGZhbHNlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vbkRvY3VtZW50TW91c2VTY3JvbGwsIHRydWUpO1xuXG4gICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLnBvcnRhbCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLnBvcnRhbCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5yZW5kZXJQb3J0YWwoKTtcbiAgfVxuXG4gIF9pc0RvY3VtZW50RXZlbnRPd25lcih0YXJnZXQpIHtcbiAgICByZXR1cm4gKHRhcmdldCA9PT0gdGhpcy5wb3J0YWwgfHwgdGhpcy5wb3J0YWwuY29udGFpbnModGFyZ2V0KSk7XG4gIH1cblxuICBfb25Eb2N1bWVudE1vdXNlRG93bihlKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25Eb2N1bWVudE1vdXNlRG93bikge1xuICAgICAgdGhpcy5wcm9wcy5vbkRvY3VtZW50TW91c2VEb3duKGUsIHRoaXMuX2lzRG9jdW1lbnRFdmVudE93bmVyKGUudGFyZ2V0KSk7XG4gICAgfVxuICB9XG5cbiAgX29uRG9jdW1lbnRNb3VzZVNjcm9sbChlKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25Eb2N1bWVudE1vdXNlU2Nyb2xsKSB7XG4gICAgICB0aGlzLnByb3BzLm9uRG9jdW1lbnRNb3VzZVNjcm9sbChlLCB0aGlzLl9pc0RvY3VtZW50RXZlbnRPd25lcihlLnRhcmdldCkpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclBvcnRhbCgpIHtcbiAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICA8ZGl2XG4gICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsIFsnb25Eb2N1bWVudE1vdXNlRG93bicsICdvbkRvY3VtZW50TW91c2VTY3JvbGwnXSl9XG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+LFxuICAgICAgdGhpcy5wb3J0YWxcbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cblBvcnRhbC5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgb25Eb2N1bWVudE1vdXNlRG93bjogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRG9jdW1lbnRNb3VzZVNjcm9sbDogUHJvcFR5cGVzLmZ1bmMsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQb3J0YWw7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge2dldFN0YWNrfSBmcm9tICcuL3V0aWxzJztcblxuZnVuY3Rpb24gVGhyb3R0bGVFcnJvcigpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcblxuICB0aGlzLm5hbWUgPSAnVGhyb3R0bGVFcnJvcic7XG4gIHRoaXMubWVzc2FnZSA9ICdUb28gbWFueSBmdW5jdGlvbiBjYWxsJztcbiAgdGhpcy5zdGFjayA9IGdldFN0YWNrKCk7XG59XG5cblRocm90dGxlRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuVGhyb3R0bGVFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUaHJvdHRsZUVycm9yO1xuXG5UaHJvdHRsZUVycm9yLmNyZWF0ZVdpdGhQYXJlbnRTdGFjayA9IGZ1bmN0aW9uIChzdGFjaykge1xuICBjb25zdCBlcnIgPSBuZXcgVGhyb3R0bGVFcnJvcigpO1xuICBlcnIuc3RhY2sgKz0gJ1xcbicgKyBzdGFjaztcbiAgcmV0dXJuIGVycjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRocm90dGxlRXJyb3I7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge3dhcm59IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5cbmNvbnN0IGZ1bmN0aW9uc05hbWVzID0gW107XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZnVuYywgaGlkZVdhcm5pbmcgPSBmYWxzZSkge1xuICBjb25zdCBmdW5jTmFtZSA9IGZ1bmMubmFtZTtcblxuICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBsYXN0QXJndW1lbnRJbmRleCA9IGFyZ3MubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBjYiA9IGFyZ3NbbGFzdEFyZ3VtZW50SW5kZXhdO1xuXG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJyAmJiAhY2IuX19pZ25vcmVVSUtlcm5lbFdhcm5pbmcpIHtcbiAgICAgIGlmICghZnVuY3Rpb25zTmFtZXMuaW5jbHVkZXMoZnVuY05hbWUpICYmICFoaWRlV2FybmluZykge1xuICAgICAgICB3YXJuKGBZb3UgYXJlIHVzaW5nIGNhbGxiYWNrIGluOiAnJHtmdW5jTmFtZX0nLiBVc2UgcHJvbWlzZSBpbnN0ZWFkLlxcbiR7SlNPTi5zdHJpbmdpZnkoYXJncyl9YCk7XG4gICAgICAgIGZ1bmN0aW9uc05hbWVzLnB1c2goZnVuY05hbWUpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudGhlbikge1xuICAgICAgICByZXN1bHRcbiAgICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgIGNiKG51bGwsIGRhdGEpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBjYihlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH07XG59XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgdmFyaWFibGVzIGZyb20gJy4vdmFyaWFibGVzJztcbmltcG9ydCB4aHIgZnJvbSAneGhyJztcblxuZnVuY3Rpb24gZGVmYXVsdFhocihzZXR0aW5ncykge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHhocihzZXR0aW5ncywgKGVyciwgcmVzcG9uc2UsIGJvZHkpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICAgICAgcmVzb2x2ZShib2R5KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWVycikge1xuICAgICAgICBlcnIgPSBuZXcgRXJyb3IoKTtcbiAgICAgICAgZXJyLnN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXNDb2RlO1xuICAgICAgICBlcnIubWVzc2FnZSA9ICdTdGF0dXMgQ29kZTogJyArIGVyci5zdGF0dXNDb2RlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYm9keSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBKU09OLnBhcnNlKGJvZHkpO1xuICAgICAgICAgIGVyci5tZXNzYWdlID0gcGFyc2VkQm9keS5tZXNzYWdlIHx8IGJvZHk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBlcnIubWVzc2FnZSA9IGJvZHk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVqZWN0KGVycik7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5pZiAoIXZhcmlhYmxlcy5nZXQoJ3hocicpKSB7XG4gIHZhcmlhYmxlcy5zZXQoJ3hocicsIGRlZmF1bHRYaHIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCAoc2V0dGluZ3MpID0+IHZhcmlhYmxlcy5nZXQoJ3hocicpKHNldHRpbmdzKTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LnNldEltbWVkaWF0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICB3aW5kb3cuc2V0SW1tZWRpYXRlID0gKCgoKSA9PiB7XG4gICAgbGV0IGhlYWQgPSB7fTtcbiAgICBsZXQgdGFpbCA9IGhlYWQ7XG4gICAgY29uc3QgSUQgPSBNYXRoLnJhbmRvbSgpO1xuXG4gICAgZnVuY3Rpb24gb25NZXNzYWdlKGUpIHtcbiAgICAgIGlmIChlLmRhdGEgIT09IElEKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICBjb25zdCBmdW5jID0gaGVhZC5mdW5jO1xuICAgICAgZGVsZXRlIGhlYWQuZnVuYztcbiAgICAgIGZ1bmMoKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5hdHRhY2hFdmVudCgnb25tZXNzYWdlJywgb25NZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvdy5wb3N0TWVzc2FnZSA/IGZ1bmMgPT4ge1xuICAgICAgdGFpbCA9IHRhaWwubmV4dCA9IHtmdW5jOiBmdW5jfTtcbiAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZShJRCwgJyonKTtcbiAgICB9IDogZnVuYyA9PiB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmMsIDApO1xuICAgIH07XG4gIH0pKCkpO1xufVxuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHt3YXJufSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xuXG5jb25zdCBmdW5jdGlvbnNOYW1lcyA9IFtdO1xuXG5mdW5jdGlvbiB0b1Byb21pc2UoZnVuYywgaGlkZVdhcm5pbmcpIHtcbiAgY29uc3QgZnVuY05hbWUgPSBmdW5jLm5hbWU7XG5cbiAgZnVuY3Rpb24gcHJvbWlzZVdhcm4odGV4dCkge1xuICAgIGlmICghaGlkZVdhcm5pbmcpIHtcbiAgICAgIGlmICghZnVuY3Rpb25zTmFtZXMuaW5jbHVkZXMoZnVuY05hbWUpKSB7XG4gICAgICAgIHdhcm4odGV4dCk7XG4gICAgICAgIGZ1bmN0aW9uc05hbWVzLnB1c2goZnVuY05hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoLi4ubWFpbkFyZ3VtZW50cykge1xuICAgIGxldCBwcm9taXNlO1xuICAgIGNvbnN0IGNhbGxiYWNrUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGZ1bmN0aW9uIHRvUHJvbWlzZUNhbGxiYWNrKGVyciwgZGF0YSkge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICB9XG4gICAgICB0b1Byb21pc2VDYWxsYmFjay5fX2lnbm9yZVVJS2VybmVsV2FybmluZyA9IHRydWU7XG4gICAgICBtYWluQXJndW1lbnRzLnB1c2godG9Qcm9taXNlQ2FsbGJhY2spO1xuICAgICAgcHJvbWlzZSA9IGZ1bmMoLi4ubWFpbkFyZ3VtZW50cyk7XG4gICAgfSk7XG5cbiAgICBpZiAocHJvbWlzZSkge1xuICAgICAgaWYgKHByb21pc2UudGhlbiAmJiBwcm9taXNlLmNhdGNoKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfVxuICAgICAgcHJvbWlzZVdhcm4oXG4gICAgICAgIGBUaGUgcmV0dXJuIHZhbHVlIGlzIG5vdCBhIFByb21pc2UgaW4gJyR7ZnVuY05hbWV9Jy5cXG5gICtcbiAgICAgICAgYEFyZ3VtZW50czogJHtKU09OLnN0cmluZ2lmeShtYWluQXJndW1lbnRzKX1cXG5gICtcbiAgICAgICAgYFJldHVybnM6ICR7SlNPTi5zdHJpbmdpZnkocHJvbWlzZSl9YFxuICAgICAgKTtcbiAgICAgIHJldHVybiBjYWxsYmFja1Byb21pc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2VXYXJuKFxuICAgICAgICBgWW91IGFyZSB1c2luZyBjYWxsYmFjayBpbjogJyR7ZnVuY05hbWV9Jy4gVXNlIHByb21pc2UgaW5zdGVhZC5cXG5gICtcbiAgICAgICAgYEFyZ3VtZW50czogJHtKU09OLnN0cmluZ2lmeShtYWluQXJndW1lbnRzKX1gXG4gICAgICApO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrUHJvbWlzZTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRvUHJvbWlzZTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBUaHJvdHRsZUVycm9yIGZyb20gJy4vVGhyb3R0bGVFcnJvcic7XG5cbmZ1bmN0aW9uIGJhc2VDbG9uZShvYmosIGlzRGVlcCkge1xuICBsZXQgY2xvbmVkO1xuICBjb25zdCBlczZ0eXBlcyA9IFsnW29iamVjdCBTZXRdJywgJ1tvYmplY3QgV2Vha1NldF0nLCAnW29iamVjdCBNYXBdJywgJ1tvYmplY3QgV2Vha01hcF0nXTtcblxuICBpZiAoIShvYmogaW5zdGFuY2VvZiBPYmplY3QpIHx8IG9iaiBpbnN0YW5jZW9mIERhdGUgfHwgb2JqIGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgb2JqIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICBjbG9uZWQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGVsIG9mIG9iaikge1xuICAgICAgY2xvbmVkLnB1c2goaXNEZWVwID8gYmFzZUNsb25lKGVsLCB0cnVlKSA6IGVsKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZXM2dHlwZXMuaW5jbHVkZXMob2JqLnRvU3RyaW5nKCkpKSB7XG4gICAgY2xvbmVkID0gbmV3IG9iai5jb25zdHJ1Y3RvcihvYmopO1xuICB9IGVsc2Uge1xuICAgIGNsb25lZCA9IHt9O1xuICAgIGZvciAoY29uc3QgW2ZpZWxkLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob2JqKSkge1xuICAgICAgY2xvbmVkW2ZpZWxkXSA9IGlzRGVlcCA/IGJhc2VDbG9uZSh2YWx1ZSwgdHJ1ZSkgOiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNsb25lZDtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gYXJyYXlzIGludGVyc2VjdGlvbiBleGlzdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJzZWN0aW9uKGEsIGIpIHtcbiAgbGV0IGM7XG4gIGlmIChhLmxlbmd0aCA+IGIubGVuZ3RoKSB7XG4gICAgYyA9IGE7XG4gICAgYSA9IGI7XG4gICAgYiA9IGM7XG4gIH1cbiAgZm9yIChjb25zdCBlbCBvZiBhKSB7XG4gICAgaWYgKGluZGV4T2YoYiwgZWwpID4gLTEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogRGVmaW5lIG9iamVjdCBzaXplXG4gKlxuICogQHBhcmFtICAge09iamVjdH0gICAgb2JqICAgICBPYmplY3RcbiAqIEByZXR1cm4gIHtudW1iZXJ9ICAgIE9iamVjdCBzaXplXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaXplKG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGg7XG59XG5cbi8qKlxuICogRWxlbWVudCBwb3NpdGlvbiAoaXNFcXVhbCBjaGVja2luZylcbiAqXG4gKiBAcGFyYW0gICB7QXJyYXl9ICAgYXJyICAgQXJyYXlcbiAqIEBwYXJhbSAgIHsqfSAgICAgICBpdGVtICBFbGVtZW50IGl0ZW1cbiAqIEByZXR1cm4gIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmRleE9mKGFyciwgaXRlbSkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpc0VxdWFsKGFycltpXSwgaXRlbSkpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZShmdW5jKSB7XG4gIGxldCB3b3JrZWQgPSBmYWxzZTtcbiAgbGV0IG5leHRBcmd1bWVudHM7XG4gIGxldCBuZXh0UmVzb2x2ZTtcbiAgbGV0IG5leHRSZWplY3Q7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB0aHJvdHRsZUNhbGxiYWNrKGZ1bmMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aHJvdHRsZVByb21pc2UoZnVuYykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gaXQgaXMgc3RpbGwgdXNlZCBpbiBGb3JtTWl4aW4uX3ZhbGlkYXRlRm9ybSBzbyB3ZSBjYW4ndCByZW1vdmUgaXQgeWV0XG4gIGZ1bmN0aW9uIHRocm90dGxlQ2FsbGJhY2soZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbiBydW4oKSB7XG4gICAgICBjb25zdCBjdHggPSB0aGlzOyAvLyBGdW5jdGlvbiBjb250ZXh0XG4gICAgICBjb25zdCBjYiA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCBhcmd1bWVudHNBcnJheSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICAgICAgaWYgKHdvcmtlZCkge1xuICAgICAgICAvLyBTZXQgYXMgdGhlIG5leHQgY2FsbFxuICAgICAgICBuZXh0QXJndW1lbnRzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHdvcmtlZCA9IHRydWU7XG5cbiAgICAgIGNvbnN0IGNiV3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFuZXh0V29ya2VyKCkgJiYgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY2IuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBhcmd1bWVudHNBcnJheVthcmd1bWVudHNBcnJheS5sZW5ndGggLSAxXSA9IGNiV3JhcHBlcjtcbiAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHNBcnJheS5jb25jYXQobmV4dFdvcmtlcikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHNBcnJheS5jb25jYXQoY2JXcmFwcGVyLCBuZXh0V29ya2VyKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG5leHRXb3JrZXIoKSB7XG4gICAgICAgIHdvcmtlZCA9IGZhbHNlO1xuICAgICAgICBpZiAobmV4dEFyZ3VtZW50cykge1xuICAgICAgICAgIGNvbnN0IGFyZ3MgPSBuZXh0QXJndW1lbnRzO1xuICAgICAgICAgIG5leHRBcmd1bWVudHMgPSBudWxsO1xuICAgICAgICAgIHJ1bi5hcHBseShjdHgsIGFyZ3MpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdGhyb3R0bGVQcm9taXNlKGZ1bmMpIHtcbiAgICAvKipcbiAgICAgKiBAdGhyb3dzIHtUaHJvdHRsZUVycm9yfSBUb28gbWFueSBmdW5jdGlvbiBjYWxsXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJ1biguLi5hcmdzKSB7XG4gICAgICBjb25zdCBwYXJlbnRTdGFjayA9IGdldFN0YWNrKDIpO1xuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBpZiAod29ya2VkKSB7XG4gICAgICAgICAgaWYgKG5leHRBcmd1bWVudHMpIHtcbiAgICAgICAgICAgIG5leHRSZWplY3QoVGhyb3R0bGVFcnJvci5jcmVhdGVXaXRoUGFyZW50U3RhY2socGFyZW50U3RhY2spKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV4dEFyZ3VtZW50cyA9IGFyZ3M7XG4gICAgICAgICAgbmV4dFJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgIG5leHRSZWplY3QgPSByZWplY3Q7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgd29ya2VkID0gdHJ1ZTtcblxuICAgICAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIHdvcmtlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG5leHRBcmd1bWVudHMpIHtcbiAgICAgICAgICAgICAgbmV4dFJlc29sdmUocnVuLmFwcGx5KHRoaXMsIG5leHRBcmd1bWVudHMpKTtcbiAgICAgICAgICAgICAgbmV4dEFyZ3VtZW50cyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgcmVqZWN0KFRocm90dGxlRXJyb3IuY3JlYXRlV2l0aFBhcmVudFN0YWNrKHBhcmVudFN0YWNrKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgd29ya2VkID0gZmFsc2U7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVmFsdWVGcm9tRXZlbnQoZXZlbnQpIHtcbiAgaWYgKFxuICAgIGV2ZW50ICYmIHR5cGVvZiBldmVudCA9PT0gJ29iamVjdCcgJiZcbiAgICBldmVudC50YXJnZXQgJiYgWydJTlBVVCcsICdURVhUQVJFQScsICdTRUxFQ1QnXS5pbmRleE9mKGV2ZW50LnRhcmdldC50YWdOYW1lKSA+PSAwXG4gICkge1xuICAgIHN3aXRjaCAoZXZlbnQudGFyZ2V0LnR5cGUpIHtcbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICByZXR1cm4gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgfVxuICAgIHJldHVybiBldmVudC50YXJnZXQudmFsdWU7XG4gIH1cbiAgcmV0dXJuIGV2ZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRGVjb3JhdG9yKG9iaiwgZGVjb3IpIHtcbiAgT2JqZWN0LmFzc2lnbih0aGlzLCBkZWNvcik7XG5cbiAgZm9yIChjb25zdCBpIGluIG9iaikge1xuICAgIGlmICh0eXBlb2Ygb2JqW2ldID09PSAnZnVuY3Rpb24nICYmICFkZWNvcltpXSkge1xuICAgICAgdGhpc1tpXSA9IG9ialtpXS5iaW5kKG9iaik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvcmF0ZShvYmosIGRlY29yKSB7XG4gIERlY29yYXRvci5wcm90b3R5cGUgPSBvYmo7XG4gIHJldHVybiBuZXcgRGVjb3JhdG9yKG9iaiwgZGVjb3IpO1xufVxuXG4vKipcbiAqIENoZWNraW5nIGF0IGVxdWFscyBwYXJhbXNcbiAqXG4gKiBAcGFyYW0gYVxuICogQHBhcmFtIGJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbChhLCBiKSB7XG4gIGlmIChcbiAgICBhID09PSBudWxsIHx8XG4gICAgYiA9PT0gbnVsbCB8fFxuICAgIGEgPT09IHVuZGVmaW5lZCB8fFxuICAgIGIgPT09IHVuZGVmaW5lZCB8fFxuICAgIHR5cGVvZiBhID09PSAnZnVuY3Rpb24nIHx8XG4gICAgdHlwZW9mIGIgPT09ICdmdW5jdGlvbicgfHxcbiAgICBhIGluc3RhbmNlb2YgUmVnRXhwIHx8XG4gICAgYiBpbnN0YW5jZW9mIFJlZ0V4cFxuICApIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxuICBpZiAoYSA9PT0gYiB8fCBhLnZhbHVlT2YoKSA9PT0gYi52YWx1ZU9mKCkgfHwgYSAhPT0gYSAmJiBiICE9PSBiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkgJiYgKCFBcnJheS5pc0FycmF5KGIpIHx8IGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgfHwgISh0eXBlb2YgYSA9PT0gJ29iamVjdCcpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgcCA9IE9iamVjdC5rZXlzKGEpO1xuICByZXR1cm4gT2JqZWN0LmtleXMoYikuZXZlcnkoaSA9PiBwLmluZGV4T2YoaSkgPj0gMCkgJiYgcC5ldmVyeShpID0+IGlzRXF1YWwoYVtpXSwgYltpXSkpO1xufVxuXG4vKipcbiAqIENsb25lIG9iamVjdFxuICpcbiAqIEBwYXJhbSBvYmpcbiAqIEByZXR1cm5zIHsqfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUob2JqKSB7XG4gIHJldHVybiBiYXNlQ2xvbmUob2JqLCBmYWxzZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZURlZXAob2JqKSB7XG4gIHJldHVybiBiYXNlQ2xvbmUob2JqLCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDA7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA9PT0gMDtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZS50cmltKCkubGVuZ3RoID09PSAwO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2gob2JqLCBmdW5jLCBjdHgpIHtcbiAgZm9yIChjb25zdCBpIGluIG9iaikge1xuICAgIGZ1bmMuY2FsbChjdHgsIG9ialtpXSwgaSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsdWNrKGFyciwgZmllbGQpIHtcbiAgcmV0dXJuIGFyci5tYXAoaXRlbSA9PiBpdGVtW2ZpZWxkXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kKGFyciwgZnVuYykge1xuICBmb3IgKGNvbnN0IGkgaW4gYXJyKSB7XG4gICAgaWYgKGZ1bmMoYXJyW2ldLCBpKSkge1xuICAgICAgcmV0dXJuIGFycltpXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXgob2JqLCBmdW5jKSB7XG4gIGZvciAoY29uc3QgaSBpbiBvYmopIHtcbiAgICBpZiAoZnVuYyhvYmpbaV0sIGkpKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb21pdChvYmosIHByZWRpY2F0ZSkge1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgZm9yIChjb25zdCBbZmllbGQsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvYmopKSB7XG4gICAgaWYgKFxuICAgICAgKHR5cGVvZiBwcmVkaWNhdGUgPT09ICdzdHJpbmcnICYmIHByZWRpY2F0ZSAhPT0gZmllbGQpIHx8XG4gICAgICAoQXJyYXkuaXNBcnJheShwcmVkaWNhdGUpICYmICFwcmVkaWNhdGUuaW5jbHVkZXMoZmllbGQpKSB8fFxuICAgICAgKHR5cGVvZiBwcmVkaWNhdGUgPT09ICdmdW5jdGlvbicgJiYgIXByZWRpY2F0ZSh2YWx1ZSwgZmllbGQpKVxuICAgICkge1xuICAgICAgcmVzdWx0W2ZpZWxkXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICBjb25zdCByZVVuZXNjYXBlZCA9IC9bJjw+XCInYF0vZztcbiAgY29uc3QgZXNjYXBlcyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgJ1xcJyc6ICcmIzM5OycsXG4gICAgJ2AnOiAnJiM5NjsnXG4gIH07XG4gIHN0cmluZyA9IGAke3N0cmluZyA9PT0gbnVsbCA/ICcnIDogc3RyaW5nLnRvU3RyaW5nKCl9YDtcbiAgaWYgKHN0cmluZyAmJiByZVVuZXNjYXBlZC50ZXN0KHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVVbmVzY2FwZWQsIGNociA9PiBlc2NhcGVzW2Nocl0pO1xuICB9XG4gIHJldHVybiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB6aXBPYmplY3Qoa2V5cywgdmFsdWVzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHRba2V5c1tpXV0gPSB2YWx1ZXNbaV07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBpY2sob2JqLCBrZXlzLCBkZWZhdWx0VmFsdWUpIHtcbiAgcmV0dXJuIGtleXMucmVkdWNlKChyZXN1bHQsIGtleSkgPT4ge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgcmVzdWx0W2tleV0gPSBvYmpba2V5XTtcbiAgICB9IGVsc2UgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXN1bHRba2V5XSA9IGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwS2V5cyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuXG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9iamVjdCkpIHtcbiAgICByZXN1bHRbaXRlcmF0ZWUodmFsdWUsIGtleSldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlKG9iaiwgZnVuYywgdmFsdWUpIHtcbiAgZm9yIChjb25zdCBpIGluIG9iaikge1xuICAgIHZhbHVlID0gZnVuYyh2YWx1ZSwgb2JqW2ldLCBpKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmlvbiguLi5hcmdzKSB7XG4gIGNvbnN0IGVsZW1lbnRzID0ge307XG4gIGZvciAoY29uc3QgYXJnIG9mIGFyZ3MpIHtcbiAgICBmb3IgKGNvbnN0IGVsIG9mIGFyZykge1xuICAgICAgZWxlbWVudHNbZWxdID0gZWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBPYmplY3QudmFsdWVzKGVsZW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGF0KG9iaiwga2V5cykge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGtleXMpKSB7XG4gICAgcmV0dXJuIFtvYmpba2V5c11dO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICByZXN1bHQucHVzaChvYmpba2V5XSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhaXJzKG9iaikge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChjb25zdCBpIGluIG9iaikge1xuICAgIHJlc3VsdC5wdXNoKFtpLCBvYmpbaV1dKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9EYXRlKHZhbHVlKSB7XG4gIGxldCBkYXRlO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAoZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAgKiAxMDAwKSk7IC8vIENvbnZlcnQgVVRDIHRvIGxvY2FsIHRpbWVcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxuXG4gIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRob3V0KGFyciwgZWwpIHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWwpID8gaW5kZXhPZihlbCwgYXJyW2ldKSA+IC0xIDogaXNFcXVhbChhcnJbaV0sIGVsKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKGFycltpXSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxhc3QoYXJyKSB7XG4gIHJldHVybiBhcnJbYXJyLmxlbmd0aCAtIDFdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVjb3JkQ2hhbmdlcyhtb2RlbCwgZGF0YSwgY2hhbmdlcywgbmV3Q2hhbmdlcykge1xuICBjb25zdCByZXN1bHQgPSBPYmplY3QuYXNzaWduKHt9LCBjaGFuZ2VzLCBuZXdDaGFuZ2VzKTtcblxuICBmb3IgKGNvbnN0IGkgaW4gcmVzdWx0KSB7XG4gICAgaWYgKGlzRXF1YWwoZGF0YVtpXSwgcmVzdWx0W2ldKSkge1xuICAgICAgZGVsZXRlIHJlc3VsdFtpXTtcbiAgICB9XG4gIH1cblxuICBPYmplY3QuYXNzaWduKHJlc3VsdCwgcGljayhcbiAgICBkYXRhLFxuICAgIG1vZGVsLmdldFZhbGlkYXRpb25EZXBlbmRlbmN5KE9iamVjdC5rZXlzKHJlc3VsdCkpXG4gICkpO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFjayhkZWVwID0gMCkge1xuICAvLyBXZSBhZGQgaGVyZSB0cnkuLmNhdGNoIGJlY2F1c2UgaW4gSUUgRXJyb3Iuc3RhY2sgaXMgYXZhaWxhYmxlIG9ubHlcbiAgLy8gZm9yIHRocm93biBlcnJvcnM6IGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL3J1LXJ1L2xpYnJhcnkvd2luZG93cy9hcHBzL2hoNjk5ODUwLmFzcHhcblxuICBsZXQgc3RhY2sgPSAnJztcbiAgY29uc3Qgc3RhY2tUcmFjZUxpbWl0RGVmYXVsdCA9IEVycm9yLnN0YWNrVHJhY2VMaW1pdDtcbiAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gZGVlcCArIDEyO1xuICB0cnkge1xuICAgIHRocm93IG5ldyBFcnJvcigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUuc3RhY2spIHsgLy8gRXJyb3Iuc3RhY2sgaXMgdW5hdmFpbGFibGUgaW4gb2xkIGJyb3dzZXJzXG4gICAgICBzdGFjayA9IGUuc3RhY2tcbiAgICAgICAgLnNwbGl0KCdcXG4nKVxuICAgICAgICAuc2xpY2UoMiArIGRlZXApIC8vIEhlcmUgd2UgZGVsZXRlIHJvd3MgJ0Vycm9yJyBhbmQgJ2F0IGdldFN0YWNrKHV0aWxzLmpzOjQyNyknXG4gICAgICAgIC5qb2luKCdcXG4nKTtcbiAgICB9XG4gIH1cblxuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBzdGFja1RyYWNlTGltaXREZWZhdWx0O1xuICByZXR1cm4gc3RhY2s7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3YXJuKG1lc3NhZ2UpIHtcbiAgY29uc29sZS53YXJuKG1lc3NhZ2UsICdcXG4nLCBnZXRTdGFjaygxKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0VuY29kZWRTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCgodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogSlNPTi5zdHJpbmdpZnkodmFsdWUpKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3luY0hhbmRsZXIocm91dGVyKSB7XG4gIHJldHVybiAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCBwcm9taXNlID0gcm91dGVyKHJlcSwgcmVzLCBuZXh0KTtcbiAgICBpZiAocHJvbWlzZSAmJiBwcm9taXNlLnRoZW4pIHtcbiAgICAgIHJldHVybiBwcm9taXNlLmNhdGNoKG5leHQpO1xuICAgIH1cbiAgICBuZXh0KG5ldyBFcnJvcignYXN5bmNIYW5kbGVyIGV4cGVjdGVkIHRvIHRha2UgYXN5bmMgZnVuY3Rpb24uJykpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyZW50cyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50KSkge1xuICAgIGlmIChlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSB7XG4gICAgICByZXN1bHQucHVzaChlbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmNsYXNzIFZhbGlkYXRpb25FcnJvcnMge1xuICAvKipcbiAgICogRmllbGQgZXJyb3JzIGNvbnRyb2wgbWFuYWdlclxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2ZpZWxkcyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IEpTT04gdG8gVmFsaWRhdGlvbkVycm9ycyBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtICAge3s6c3RyaW5nW119fSAgICAgIGpzb25PYmplY3RcbiAgICogQHJldHVybiAge1ZhbGlkYXRpb25FcnJvcnN9XG4gICAqIEBzdGF0aWNcbiAgICovXG4gIHN0YXRpYyBjcmVhdGVGcm9tSlNPTihqc29uT2JqZWN0KSB7XG4gICAgY29uc3QgdmFsaWRhdGlvbkVycm9ycyA9IG5ldyBWYWxpZGF0aW9uRXJyb3JzKCk7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoanNvbk9iamVjdCkpIHtcbiAgICAgIHZhbHVlLmZvckVhY2goZXJyTWVzc2FnZSA9PiB2YWxpZGF0aW9uRXJyb3JzLmFkZChrZXksIGVyck1lc3NhZ2UpKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkYXRpb25FcnJvcnM7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIFZhbGlkYXRpb25FcnJvcnMgb2JqZWN0IHdpdGggb25lIGVycm9yXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgICAgICAgICAgIGZpZWxkXG4gICAqIEBwYXJhbSB7c3RyaW5nfHtlcnJvcjogc3RyaW5nfX0gIGVycm9yXG4gICAqIEByZXR1cm4ge1ZhbGlkYXRpb25FcnJvcnN9XG4gICAqL1xuICBzdGF0aWMgY3JlYXRlV2l0aEVycm9yKGZpZWxkLCBlcnJvcikge1xuICAgIGNvbnN0IHZhbGlkYXRpb25FcnJvcnMgPSBuZXcgVmFsaWRhdGlvbkVycm9ycygpO1xuICAgIHZhbGlkYXRpb25FcnJvcnMuYWRkKGZpZWxkLCBlcnJvcik7XG4gICAgcmV0dXJuIHZhbGlkYXRpb25FcnJvcnM7XG4gIH1cblxuICBzdGF0aWMgbWVyZ2UgPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgIGNvbnN0IGpzb25FcnJvcnMgPSBbe31dO1xuXG4gICAgZm9yIChjb25zdCBhcmcgb2YgYXJncykge1xuICAgICAganNvbkVycm9ycy5wdXNoKGFyZy50b0pTT04oKSk7XG4gICAgfVxuXG4gICAgLy8gVE9ETyBOZWVkIGRlZXAgbWVyZ2VcbiAgICByZXR1cm4gVmFsaWRhdGlvbkVycm9ycy5jcmVhdGVGcm9tSlNPTihPYmplY3QuYXNzaWduKC4uLmpzb25FcnJvcnMpKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkIGFuIGVycm9yXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgICAgICAgICAgIGZpZWxkICAgICAgIEZpZWxkIG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd8e3N0cmluZyBtZXNzYWdlfX0gZXJyb3IgICAgICAgRXJyb3IgdGV4dFxuICAgKiBAcmV0dXJuIHtWYWxpZGF0aW9uRXJyb3JzfVxuICAgKi9cbiAgYWRkKGZpZWxkLCBlcnJvcikge1xuICAgIGVycm9yID0gdGhpcy5fZm9ybUVycm9yVmFsdWUoZXJyb3IpO1xuICAgIGlmICghdGhpcy5fZmllbGRzLmhhcyhmaWVsZCkpIHtcbiAgICAgIHRoaXMuX2ZpZWxkcy5zZXQoZmllbGQsIFtlcnJvcl0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNvbnN0IGZpZWxkRXJyb3JzID0gdGhpcy5fZmllbGRzLmdldChmaWVsZCk7XG4gICAgaWYgKCFmaWVsZEVycm9ycy5pbmNsdWRlcyhlcnJvcikpIHtcbiAgICAgIGZpZWxkRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBGaWVsZCBoYXMgZXJyb3IgZmxhZ1xuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSAgICAgIGZpZWxkICAgICBGaWVsZCBuYW1lXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaGFzRXJyb3IoZmllbGQpIHtcbiAgICByZXR1cm4gdGhpcy5fZmllbGRzLmhhcyhmaWVsZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGZpZWxkIGVycm9yc1xuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSAgICAgIGZpZWxkICAgICBGaWVsZCBuYW1lXG4gICAqIEByZXR1cm5zIHtBcnJheXxudWxsfSAgRXJyb3JzIGFycmF5IG9yIG51bGxcbiAgICovXG4gIGdldEZpZWxkRXJyb3JzKGZpZWxkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpZWxkcy5nZXQoZmllbGQpIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGZpZWxkIGVycm9ycyBtZXNzYWdlXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICAgICAgZmllbGQgICAgIEZpZWxkIG5hbWVcbiAgICogQHJldHVybnMge0FycmF5fG51bGx9ICBFcnJvcnMgYXJyYXkgb3IgbnVsbFxuICAgKi9cbiAgZ2V0RmllbGRFcnJvck1lc3NhZ2VzKGZpZWxkKSB7XG4gICAgY29uc3QgZmllbGRFcnJvcnMgPSB0aGlzLl9maWVsZHMuZ2V0KGZpZWxkKTtcbiAgICBpZiAoZmllbGRFcnJvcnMpIHtcbiAgICAgIHJldHVybiBmaWVsZEVycm9ycy5tYXAoZXJyb3IgPT4gZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBmaWVsZCBuYW1lcyBhcnJheSwgdGhhdCBjb250YWluIGVycm9yc1xuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nW118bnVsbH1cbiAgICovXG4gIGdldEZhaWxlZEZpZWxkcygpIHtcbiAgICBjb25zdCBmaWVsZHMgPSBbLi4udGhpcy5fZmllbGRzLmtleXMoKV07XG4gICAgcmV0dXJuIGZpZWxkcy5sZW5ndGggPyBmaWVsZHMgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEVycm9ycyBhYnNlbmNlIGNoZWNrXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBFcnJvcnMgcHJlc2VuY2VcbiAgICovXG4gIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpZWxkcy5zaXplID09PSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIHNwZWNpZmljIGZpZWxkIGVycm9yc1xuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSAgZmllbGQgIEZpZWxkIG5hbWVcbiAgICogQHJldHVybnMge1ZhbGlkYXRpb25FcnJvcnN9XG4gICAqL1xuICBjbGVhckZpZWxkKGZpZWxkKSB7XG4gICAgdGhpcy5fZmllbGRzLmRlbGV0ZShmaWVsZCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgZXJyb3JzIGxpc3RcbiAgICpcbiAgICogQHJldHVybiB7VmFsaWRhdGlvbkVycm9yc31cbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX2ZpZWxkcyA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGVycm9ycyB0byBKU09OXG4gICAqXG4gICAqIEByZXR1cm4ge3tbc3RyaW5nXTogQXJyYXk8c3RyaW5nPn19XG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgY29uc3QganNvbiA9IHt9O1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMuX2ZpZWxkcykge1xuICAgICAganNvbltrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lIG9iamVjdFxuICAgKlxuICAgKiBAcmV0dXJuIHtWYWxpZGF0aW9uRXJyb3JzfVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIFZhbGlkYXRpb25FcnJvcnMuY3JlYXRlRnJvbUpTT04odGhpcy50b0pTT04oKSk7XG4gIH1cblxuICAvKipcbiAgICogTWVyZ2Ugb2JqZWN0XG4gICAqXG4gICAqIEByZXR1cm4ge1ZhbGlkYXRpb25FcnJvcnN9XG4gICAqL1xuICBtZXJnZSh2YWxpZGF0aW9uRXJyb3JzKSB7XG4gICAgZm9yIChjb25zdCBbZmllbGQsIG5ld0Vycm9yc10gb2YgdmFsaWRhdGlvbkVycm9ycy5nZXRFcnJvcnMoKSkge1xuICAgICAgbGV0IGVycm9ycyA9IHRoaXMuX2ZpZWxkcy5nZXQoZmllbGQpO1xuICAgICAgaWYgKCFlcnJvcnMpIHtcbiAgICAgICAgZXJyb3JzID0gW107XG4gICAgICAgIHRoaXMuX2ZpZWxkcy5zZXQoZmllbGQsIGVycm9ycyk7XG4gICAgICB9XG4gICAgICBlcnJvcnMucHVzaCguLi5uZXdFcnJvcnMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBlcnJvcnMgaXRlcmF0b3JcbiAgICpcbiAgICogQHJldHVybiB7W3N0cmluZywgc3RyaW5nW11dW119XG4gICAqL1xuICBnZXRFcnJvcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpZWxkcztcbiAgfVxuXG4gIF9mb3JtRXJyb3JWYWx1ZShlcnJvcikge1xuICAgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlOiBlcnJvclxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCFlcnJvci5tZXNzYWdlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZXJyb3IgdmFsdWUuIEVycm9yIG11c3QgYmUgc3RyaW5nIG9yIG9iamVjdCB3aXRoIFwibWVzc2FnZVwiIHByb3BlcnR5LicpO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmFsaWRhdGlvbkVycm9ycztcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBWYWxpZGF0aW9uRXJyb3JzIGZyb20gJy4vVmFsaWRhdGlvbkVycm9ycyc7XG5pbXBvcnQgQXJndW1lbnRzRXJyb3IgZnJvbSAnLi4vQXJndW1lbnRzRXJyb3InO1xuaW1wb3J0IHtwbHVjaywgaXNJbnRlcnNlY3Rpb259IGZyb20gJy4uL3V0aWxzJztcblxuY2xhc3MgVmFsaWRhdG9yIHtcbiAgLyoqXG4gICAqIFZhbGlkYXRpb24gY2hlY2sgbW9kZWxcbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHtcbiAgICAgIHZhbGlkYXRvcnM6IHt9LFxuICAgICAgZ3JvdXBWYWxpZGF0b3JzOiBbXSxcbiAgICAgIGFzeW5jVmFsaWRhdG9yczoge30sXG4gICAgICBhc3luY0dyb3VwVmFsaWRhdG9yczogW10sXG4gICAgICBhc3luY0RlcGVuZGVuaWVzOiBbXVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlKCkge1xuICAgIHJldHVybiBuZXcgVmFsaWRhdG9yKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGZpZWxkIHN5bmMgdmFsaWRhdG9yc1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gICAgICBmaWVsZCAgICAgICBGaWVsZCBuYW1lXG4gICAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IHZhbGlkYXRvcnMgIEZpZWxkIHZhbGlkYXRvcnNcbiAgICogQHJldHVybnMge1ZhbGlkYXRvcn0gdmFsaWRhdG9yXG4gICAqL1xuICBmaWVsZChmaWVsZCwgLi4udmFsaWRhdG9ycykge1xuICAgIGlmICghdGhpcy5fc2V0dGluZ3MudmFsaWRhdG9yc1tmaWVsZF0pIHtcbiAgICAgIHRoaXMuX3NldHRpbmdzLnZhbGlkYXRvcnNbZmllbGRdID0gW107XG4gICAgfVxuICAgIHRoaXMuX3NldHRpbmdzLnZhbGlkYXRvcnNbZmllbGRdID0gdGhpcy5fc2V0dGluZ3MudmFsaWRhdG9yc1tmaWVsZF0uY29uY2F0KHZhbGlkYXRvcnMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwZWNpZnkgbXVsdGlwbGUgc3luYyB2YWxpZGF0b3JzIGZvciBmaWVsZHMgZ3JvdXBcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gICAgICBmaWVsZHMgICAgICAgICAgICAgIEZpZWxkcyBhcnJheVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgIHZhbGlkYXRvckZ1bmN0aW9uICAgVmFsaWRhdG9yIGZ1bmN0aW9uXG4gICAqIEByZXR1cm5zIHtWYWxpZGF0b3J9IHZhbGlkYXRvclxuICAgKi9cbiAgZmllbGRzKGZpZWxkcywgdmFsaWRhdG9yRnVuY3Rpb24pIHtcbiAgICB0aGlzLl9zZXR0aW5ncy5ncm91cFZhbGlkYXRvcnMucHVzaCh7XG4gICAgICBmaWVsZHM6IGZpZWxkcyxcbiAgICAgIGZuOiB2YWxpZGF0b3JGdW5jdGlvblxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvaW50IHdoaWNoIGZpZWxkcyBzZXJ2ZXIgdmFsaWRhdGlvbiBuZWVkc1xuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSAgIGZpZWxkcyAgIEZpZWxkcyBhcnJheVxuICAgKiBAcmV0dXJucyB7VmFsaWRhdG9yfSB2YWxpZGF0b3JcbiAgICovXG4gIGFzeW5jRGVwZW5kZW5jZShmaWVsZHMpIHtcbiAgICB0aGlzLl9zZXR0aW5ncy5hc3luY0RlcGVuZGVuaWVzLnB1c2goZmllbGRzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgZmllbGQgYXN5bmMgdmFsaWRhdG9yc1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gICAgIGZpZWxkICAgICAgICAgICAgICAgRmllbGQgbmFtZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgIHZhbGlkYXRvckZ1bmN0aW9uICAgVmFsaWRhdG9yIGZ1bmN0aW9uXG4gICAqIEByZXR1cm5zIHtWYWxpZGF0b3J9IHZhbGlkYXRvclxuICAgKi9cbiAgYXN5bmNGaWVsZChmaWVsZCwgdmFsaWRhdG9yRnVuY3Rpb24pIHtcbiAgICBpZiAoIXRoaXMuX3NldHRpbmdzLmFzeW5jVmFsaWRhdG9yc1tmaWVsZF0pIHtcbiAgICAgIHRoaXMuX3NldHRpbmdzLmFzeW5jVmFsaWRhdG9yc1tmaWVsZF0gPSBbXTtcbiAgICB9XG4gICAgdGhpcy5fc2V0dGluZ3MuYXN5bmNWYWxpZGF0b3JzW2ZpZWxkXS5wdXNoKHZhbGlkYXRvckZ1bmN0aW9uKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGVjaWZ5IG11bHRpcGxlIGFzeW5jIHZhbGlkYXRvcnMgZm9yIGZpZWxkcyBncm91cFxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgIGZpZWxkcyAgICAgICAgICAgICAgRmllbGRzIGFycmF5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICAgdmFsaWRhdG9yRnVuY3Rpb24gICBWYWxpZGF0b3IgZnVuY3Rpb25cbiAgICogQHJldHVybnMge1ZhbGlkYXRvcn0gdmFsaWRhdG9yXG4gICAqL1xuICBhc3luY0ZpZWxkcyhmaWVsZHMsIHZhbGlkYXRvckZ1bmN0aW9uKSB7XG4gICAgdGhpcy5fc2V0dGluZ3MuYXN5bmNHcm91cFZhbGlkYXRvcnMucHVzaCh7XG4gICAgICBmaWVsZHM6IGZpZWxkcyxcbiAgICAgIGZuOiB2YWxpZGF0b3JGdW5jdGlvblxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgZGVwZW5kZW50IGZpZWxkcyB2YWxpZGF0aW9uIG5lZWRzXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgZmllbGRzICAgIEZpZWxkcyBhcnJheVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGZpZWxkc1xuICAgKi9cbiAgZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koZmllbGRzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IGxlbmd0aDtcbiAgICBjb25zdCBncm91cHMgPSBwbHVjayhcbiAgICAgIHRoaXMuX3NldHRpbmdzLmdyb3VwVmFsaWRhdG9ycy5jb25jYXQodGhpcy5fc2V0dGluZ3MuYXN5bmNHcm91cFZhbGlkYXRvcnMpLFxuICAgICAgJ2ZpZWxkcydcbiAgICApLmNvbmNhdCh0aGlzLl9zZXR0aW5ncy5hc3luY0RlcGVuZGVuaWVzKTtcblxuICAgIHdoaWxlIChsZW5ndGggIT09IHJlc3VsdC5sZW5ndGgpIHtcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaXNJbnRlcnNlY3Rpb24oZ3JvdXBzW2ldLCBmaWVsZHMpICYmICFpc0ludGVyc2VjdGlvbihncm91cHNbaV0sIHJlc3VsdCkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdyb3Vwc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNvbnN0IGZpZWxkID0gZ3JvdXBzW2ldW2pdO1xuICAgICAgICAgIGlmIChmaWVsZHMuaW5kZXhPZihmaWVsZCkgPj0gMCB8fCByZXN1bHQuaW5kZXhPZihmaWVsZCkgPj0gMCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKGZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGNsaWVudCByZWNvcmQgdmFsaWRpdHlcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICByZWNvcmQgICBSZWNvcmRcbiAgICogQHJldHVybnMge1ZhbGlkYXRpb25FcnJvcnN8bnVsbH0gUmVjb3JkIHZhbGlkaXR5XG4gICAqL1xuICBhc3luYyBpc1ZhbGlkUmVjb3JkKHJlY29yZCkge1xuICAgIGNvbnN0IGZpZWxkcyA9IE9iamVjdC5rZXlzKHJlY29yZCk7XG4gICAgY29uc3QgZXJyb3JzID0gbmV3IFZhbGlkYXRpb25FcnJvcnMoKTtcbiAgICBjb25zdCBhd2FpdFN0YWNrID0gW107XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcblxuICAgIGNvbnN0IGRlcGVuZGVudEZpZWxkcyA9IHRoaXMuZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koZmllbGRzKTtcbiAgICBpZiAoZGVwZW5kZW50RmllbGRzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50c0Vycm9yKCdOb3QgZW5vdWdoIGZpZWxkcyBmb3IgdmFsaWRhdG9yOiAnICsgZGVwZW5kZW50RmllbGRzLmpvaW4oJywgJykpO1xuICAgIH1cblxuICAgIC8vIEFkZCBzeW5jIGFuZCBhc3luYyB2YWxpZGF0b3JzXG4gICAgZm9yIChjb25zdCBbZmllbGQsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyZWNvcmQpKSB7XG4gICAgICBjb25zdCB2YWxpZGF0b3JzID0gdGhpcy5fc2V0dGluZ3MudmFsaWRhdG9yc1tmaWVsZF07XG4gICAgICBpZiAodmFsaWRhdG9ycykge1xuICAgICAgICBmb3IgKGNvbnN0IHZhbGlkYXRvciBvZiB2YWxpZGF0b3JzKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSB2YWxpZGF0b3IodmFsdWUpO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgZXJyb3JzLmFkZChmaWVsZCwgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBhc3luY1ZhbGlkYXRvcnMgPSB0aGlzLl9zZXR0aW5ncy5hc3luY1ZhbGlkYXRvcnNbZmllbGRdO1xuICAgICAgaWYgKGFzeW5jVmFsaWRhdG9ycykge1xuICAgICAgICBmb3IgKGNvbnN0IGFzeW5jVmFsaWRhdG9yIG9mIGFzeW5jVmFsaWRhdG9ycykge1xuICAgICAgICAgIGF3YWl0U3RhY2sucHVzaChmaWVsZCk7XG4gICAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICAgIGF3YWl0IGFzeW5jVmFsaWRhdG9yKHZhbHVlKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgc3luYyBhbmQgYXN5bmMgZ3JvdXAgdmFsaWRhdG9yc1xuICAgIGZvciAoY29uc3QgZ3JvdXBWYWxpZGF0b3Igb2YgdGhpcy5fc2V0dGluZ3MuZ3JvdXBWYWxpZGF0b3JzKSB7XG4gICAgICBpZiAoaXNJbnRlcnNlY3Rpb24oZ3JvdXBWYWxpZGF0b3IuZmllbGRzLCBmaWVsZHMpKSB7XG4gICAgICAgIGdyb3VwVmFsaWRhdG9yLmZuKHJlY29yZCwgZXJyb3JzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGFzeW5jR3JvdXBWYWxpZGF0b3Igb2YgdGhpcy5fc2V0dGluZ3MuYXN5bmNHcm91cFZhbGlkYXRvcnMpIHtcbiAgICAgIGlmIChpc0ludGVyc2VjdGlvbihhc3luY0dyb3VwVmFsaWRhdG9yLmZpZWxkcywgZmllbGRzKSkge1xuICAgICAgICBhd2FpdFN0YWNrLnB1c2gobnVsbCk7XG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgYXdhaXQgYXN5bmNHcm91cFZhbGlkYXRvci5mbihyZWNvcmQsIGVycm9ycylcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhc3luY0Vycm9ycyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICB3aGlsZSAoYXN5bmNFcnJvcnMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGFzeW5jRXJyb3JzLnBvcCgpO1xuICAgICAgY29uc3QgZmllbGQgPSBhd2FpdFN0YWNrLnBvcCgpO1xuXG4gICAgICBpZiAoZXJyb3IgJiYgZmllbGQpIHtcbiAgICAgICAgZXJyb3JzLmFkZChmaWVsZCwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlcnJvcnM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmFsaWRhdG9yO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZnVuY3Rpb24gYmFzZVZhbGlkYXRvcihub3ROdWxsLCBlcnJvciwgdmFsdWUpIHtcbiAgZXJyb3IgPSBlcnJvciB8fCAnTm90IGJvb2xlYW4nO1xuICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICBpZiAobm90TnVsbCkge1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYm9vbGVhbiB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXJyb3IgRXJyb3IgbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufSBWYWxpZGF0b3JcbiAqL1xuY29uc3QgdmFsaWRhdG9yID0gZXJyb3IgPT4gYmFzZVZhbGlkYXRvci5iaW5kKG51bGwsIGZhbHNlLCBlcnJvcik7XG52YWxpZGF0b3Iubm90TnVsbCA9IGVycm9yID0+IGJhc2VWYWxpZGF0b3IuYmluZChudWxsLCB0cnVlLCBlcnJvcik7XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRvcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7aXNEZWZpbmVkLCB0b0RhdGV9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZnVuY3Rpb24gYmFzZVZhbGlkYXRvcihub3ROdWxsLCBtaW4sIG1heCwgZXJyb3IsIHZhbHVlKSB7XG4gIGVycm9yID0gZXJyb3IgfHwgJ0ludmFsaWQgZGF0ZSc7XG5cbiAgaWYgKCFpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgaWYgKG5vdE51bGwpIHtcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdHlwZU9mVmFsdWUgPSB0eXBlb2YgdmFsdWU7XG4gIGlmICh0eXBlT2ZWYWx1ZSAhPT0gJ251bWJlcicgJiYgdHlwZU9mVmFsdWUgIT09ICdzdHJpbmcnICYmICEodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIHZhbHVlID0gdG9EYXRlKHZhbHVlKTtcbiAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIGlmIChtaW4gJiYgdG9EYXRlKG1pbikgPiB2YWx1ZSkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICBpZiAobWF4ICYmIHRvRGF0ZShtYXgpIDwgdmFsdWUpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgZGF0ZSB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0ge0RhdGV9ICAgIFttaW5dICAgTWluIGRhdGVcbiAqIEBwYXJhbSB7RGF0ZX0gICAgW21heF0gICBNYXggZGF0ZVxuICogQHBhcmFtIHtzdHJpbmd9ICBlcnJvciAgIEVycm9yIG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gVmFsaWRhdG9yXG4gKi9cbmNvbnN0IHZhbGlkYXRvciA9IChtaW4sIG1heCwgZXJyb3IpID0+IGJhc2VWYWxpZGF0b3IuYmluZChudWxsLCBmYWxzZSwgbWluLCBtYXgsIGVycm9yKTtcbnZhbGlkYXRvci5ub3ROdWxsID0gKG1pbiwgbWF4LCBlcnJvcikgPT4gYmFzZVZhbGlkYXRvci5iaW5kKG51bGwsIHRydWUsIG1pbiwgbWF4LCBlcnJvcik7XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRvcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7aXNEZWZpbmVkfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbmZ1bmN0aW9uIGJhc2VWYWxpZGF0b3Iobm90TnVsbCwgdmFyaWFudHMsIGVycm9yLCB2YWx1ZSkge1xuICBlcnJvciA9IGVycm9yIHx8ICdOb3QgaW4gdmFyaWFudHMnO1xuICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICBpZiAobm90TnVsbCkge1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodmFyaWFudHMuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGVudW0gdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIHZhcmlhbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gZXJyb3IgRXJyb3IgbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5jb25zdCB2YWxpZGF0b3IgPSAodmFyaWFudHMsIGVycm9yKSA9PiBiYXNlVmFsaWRhdG9yLmJpbmQobnVsbCwgZmFsc2UsIHZhcmlhbnRzLCBlcnJvcik7XG52YWxpZGF0b3Iubm90TnVsbCA9ICh2YXJpYW50cywgZXJyb3IpID0+IGJhc2VWYWxpZGF0b3IuYmluZChudWxsLCB0cnVlLCB2YXJpYW50cywgZXJyb3IpO1xuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0b3I7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge2lzRGVmaW5lZH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuXG5mdW5jdGlvbiBiYXNlVmFsaWRhdG9yKG5vdE51bGwsIG1pbiwgbWF4LCBlcnJvciwgdmFsdWUpIHtcbiAgZXJyb3IgPSBlcnJvciB8fCAnSW52YWxpZCBmbG9hdCc7XG4gIGlmICghaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgIGlmIChub3ROdWxsKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChcbiAgICB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInIHx8XG4gICAgaXNOYU4odmFsdWUpIHx8XG4gICAgIWlzRmluaXRlKHZhbHVlKSB8fFxuICAgIHR5cGVvZiBtaW4gPT09ICdudW1iZXInICYmIHZhbHVlIDwgbWluIHx8XG4gICAgdHlwZW9mIG1heCA9PT0gJ251bWJlcicgJiYgdmFsdWUgPiBtYXhcbiAgKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGZsb2F0IHZhbGlkYXRvclxuICpcbiAqIEBwYXJhbSBtaW5cbiAqIEBwYXJhbSBtYXhcbiAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvciBFcnJvciBtZXNzYWdlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmNvbnN0IHZhbGlkYXRvciA9IChtaW4sIG1heCwgZXJyb3IpID0+IGJhc2VWYWxpZGF0b3IuYmluZChudWxsLCBmYWxzZSwgbWluLCBtYXgsIGVycm9yKTtcbnZhbGlkYXRvci5ub3ROdWxsID0gKG1pbiwgbWF4LCBlcnJvcikgPT4gYmFzZVZhbGlkYXRvci5iaW5kKG51bGwsIHRydWUsIG1pbiwgbWF4LCBlcnJvcik7XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRvcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7aXNFbXB0eX0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuXG4vKipcbiAqIENoZWNrIGlmIHZhbHVlIGlzIG5vdCBlbXB0eSBzdHJpbmcsIGFycmF5IGFuZCBvYmplY3QuIE5vdCBudWxsLCB1bmRlZmluZWQsIDBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW2Vycm9yPVwiQ2FuIG5vdCBiZSBlbXB0eVwiXSBFcnJvciBtZXNzYWdlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChlcnJvcikge1xuICBlcnJvciA9IGVycm9yIHx8ICdDYW4gbm90IGJlIGVtcHR5JztcbiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmIChcbiAgICAgIGlzRW1wdHkodmFsdWUpIHx8XG4gICAgICAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiAoXG4gICAgICAgIGlzTmFOKHZhbHVlKSB8fFxuICAgICAgICAhaXNGaW5pdGUodmFsdWUpXG4gICAgICApKVxuICAgICkge1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbiAgfTtcbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7aXNEZWZpbmVkfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbi8qKlxuICogQ3JlYXRlIE5VTEwgdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFtlcnJvciA9IFwiQ2FuIG5vdCBiZSBlbXB0eVwiXSBFcnJvciBtZXNzYWdlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGVycm9yID0+IHtcbiAgZXJyb3IgPSBlcnJvciB8fCAnQ2FuIG5vdCBiZSBlbXB0eSc7XG4gIHJldHVybiB2YWx1ZSA9PiB7XG4gICAgaWYgKFxuICAgICAgIWlzRGVmaW5lZCh2YWx1ZSkgfHxcbiAgICAgIHZhbHVlID09PSAnJyB8fFxuICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgKFxuICAgICAgICBpc05hTih2YWx1ZSkgfHxcbiAgICAgICAgIWlzRmluaXRlKHZhbHVlKVxuICAgICAgKSlcbiAgICApIHtcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG4gIH07XG59O1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZnVuY3Rpb24gYmFzZVZhbGlkYXRvcihub3ROdWxsLCBtaW4sIG1heCwgZXJyb3IsIHZhbHVlKSB7XG4gIGVycm9yID0gZXJyb3IgfHwgJ0ludmFsaWQgbnVtYmVyJztcbiAgaWYgKCFpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgaWYgKG5vdE51bGwpIHtcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKFxuICAgIHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicgfHxcbiAgICBpc05hTih2YWx1ZSkgfHxcbiAgICBwYXJzZUludCh2YWx1ZSwgMTApLnRvU3RyaW5nKCkgIT09IHZhbHVlLnRvU3RyaW5nKCkgfHxcbiAgICB0eXBlb2YgbWluID09PSAnbnVtYmVyJyAmJiB2YWx1ZSA8IG1pbiB8fFxuICAgIHR5cGVvZiBtYXggPT09ICdudW1iZXInICYmIHZhbHVlID4gbWF4XG4gICkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSByYW5nZSBOdW1iZXIgdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIG1pblxuICogQHBhcmFtIG1heFxuICogQHBhcmFtIHtzdHJpbmd9IGVycm9yIEVycm9yIG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuY29uc3QgdmFsaWRhdG9yID0gKG1pbiwgbWF4LCBlcnJvcikgPT4gYmFzZVZhbGlkYXRvci5iaW5kKG51bGwsIGZhbHNlLCBtaW4sIG1heCwgZXJyb3IpO1xudmFsaWRhdG9yLm5vdE51bGwgPSAobWluLCBtYXgsIGVycm9yKSA9PiBiYXNlVmFsaWRhdG9yLmJpbmQobnVsbCwgdHJ1ZSwgbWluLCBtYXgsIGVycm9yKTtcblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdG9yO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZnVuY3Rpb24gYmFzZVZhbGlkYXRvcihub3ROdWxsLCByZWdFeHAsIGVycm9yLCB2YWx1ZSkge1xuICBlcnJvciA9IGVycm9yIHx8ICdJbnZhbGlkIHZhbHVlJztcbiAgaWYgKCFpc0RlZmluZWQodmFsdWUpIHx8IHZhbHVlID09PSAnJykge1xuICAgIGlmIChub3ROdWxsKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8ICFyZWdFeHAudGVzdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgUmVnRXggdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIHJlZ0V4cFxuICogQHBhcmFtIHtzdHJpbmd9IGVycm9yIEVycm9yIG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuY29uc3QgdmFsaWRhdG9yID0gKHJlZ0V4cCwgZXJyb3IpID0+IGJhc2VWYWxpZGF0b3IuYmluZChudWxsLCBmYWxzZSwgcmVnRXhwLCBlcnJvcik7XG52YWxpZGF0b3Iubm90TnVsbCA9IChyZWdFeHAsIGVycm9yKSA9PiBiYXNlVmFsaWRhdG9yLmJpbmQobnVsbCwgdHJ1ZSwgcmVnRXhwLCBlcnJvcik7XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRvcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7aXNEZWZpbmVkfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbmZ1bmN0aW9uIGJhc2VWYWxpZGF0b3Iobm90TnVsbCwgdmFyaWFudHMsIGVycm9yLCB2YWx1ZXMpIHtcbiAgZXJyb3IgPSBlcnJvciB8fCAnTm90IGluIHZhcmlhbnRzJztcbiAgaWYgKCFpc0RlZmluZWQodmFsdWVzKSB8fCAhdmFsdWVzLmxlbmd0aCkge1xuICAgIGlmIChub3ROdWxsKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgaWYgKHZhcmlhbnRzLmluZGV4T2YodmFsdWUpIDwgMCkge1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBzZXQgdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIHZhcmlhbnRzXG4gKiBAcGFyYW0ge3N0cmluZ30gZXJyb3IgRXJyb3IgbWVzc2FnZVxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5jb25zdCB2YWxpZGF0b3IgPSAodmFyaWFudHMsIGVycm9yKSA9PiBiYXNlVmFsaWRhdG9yLmJpbmQobnVsbCwgZmFsc2UsIHZhcmlhbnRzLCBlcnJvcik7XG52YWxpZGF0b3Iubm90TnVsbCA9ICh2YXJpYW50cywgZXJyb3IpID0+IGJhc2VWYWxpZGF0b3IuYmluZChudWxsLCB0cnVlLCB2YXJpYW50cywgZXJyb3IpO1xuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0b3I7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5jb25zdCB2YXJpYWJsZXMgPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXQ6IGtleSA9PiB2YXJpYWJsZXNba2V5XSxcbiAgc2V0OiAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIHZhcmlhYmxlc1trZXldID0gdmFsdWU7XG4gIH1cbn07XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuZnVuY3Rpb24gQ2hlY2tib3gocHJvcHMpIHtcbiAgY29uc3Qge2luZGV0ZXJtaW5hdGUsIC4uLm90aGVyUHJvcHN9ID0gcHJvcHM7XG4gIHJldHVybiAoXG4gICAgPGlucHV0XG4gICAgICB7Li4ub3RoZXJQcm9wc31cbiAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICByZWY9e2lucHV0ID0+IHtcbiAgICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgICAgaW5wdXQuaW5kZXRlcm1pbmF0ZSA9IGluZGV0ZXJtaW5hdGU7XG4gICAgICAgIH1cbiAgICAgIH19XG4gICAgLz5cbiAgKTtcbn1cblxuQ2hlY2tib3gucHJvcFR5cGVzID0ge1xuICBpbmRldGVybWluYXRlOiBQcm9wVHlwZXMuYm9vbFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hlY2tib3g7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERhdGVQaWNrZXIgZnJvbSAncmVhY3QtZGF0ZXBpY2tlcic7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHtvbWl0fSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xuXG5jbGFzcyBEYXRlUGlja2VyRWRpdG9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBmb3JtYXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdGV4dEZvcm1hdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBtaW46IFByb3BUeXBlcy5hbnksXG4gICAgbWF4OiBQcm9wVHlwZXMuYW55LFxuICAgIHZhbHVlOiBQcm9wVHlwZXMuYW55LFxuICAgIHNob3c6IFByb3BUeXBlcy5ib29sLFxuICAgIG9uQmx1cjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbiAgfTtcblxuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIHRleHRGb3JtYXQ6ICdZWVlZLU1NLUREJ1xuICB9O1xuXG4gIG9uQ2hhbmdlKGRhdGUpIHtcbiAgICBpZiAoZGF0ZSkge1xuICAgICAgZGF0ZSA9IGRhdGUuZm9ybWF0KHRoaXMucHJvcHMuZm9ybWF0KTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShkYXRlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBvdGhlclByb3BzID0gb21pdCh0aGlzLnByb3BzLCBbJ3RleHRGb3JtYXQnLCAndmFsdWUnLCAnb25DaGFuZ2UnLCAnbWluJywgJ21heCddKTtcbiAgICByZXR1cm4gKFxuICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgey4uLm90aGVyUHJvcHN9XG4gICAgICAgIGRhdGVGb3JtYXQ9e3RoaXMucHJvcHMudGV4dEZvcm1hdH1cbiAgICAgICAgc2VsZWN0ZWQ9e3RoaXMucHJvcHMudmFsdWUgJiYgbW9tZW50KHRoaXMucHJvcHMudmFsdWUpfVxuICAgICAgICBvbkNoYW5nZT17Ojp0aGlzLm9uQ2hhbmdlfVxuICAgICAgICBtaW5EYXRlPXt0aGlzLnByb3BzLm1pbiAmJiBtb21lbnQodGhpcy5wcm9wcy5taW4pfVxuICAgICAgICBtYXhEYXRlPXt0aGlzLnByb3BzLm1heCAmJiBtb21lbnQodGhpcy5wcm9wcy5tYXgpfVxuICAgICAgICB0b2RheUJ1dHRvbj17J1RvZGF5J31cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRlUGlja2VyRWRpdG9yO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGZsb2F0VmFsaWRhdG9yIGZyb20gJy4uL2NvbW1vbi92YWxpZGF0aW9uL3J1bGVzL2Zsb2F0JztcbmltcG9ydCB7aXNFcXVhbCwgb21pdH0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcbmltcG9ydCB7ZmluZERPTU5vZGV9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuY29uc3QgaXNJbnZhbGlkRmxvYXQgPSBmbG9hdFZhbGlkYXRvcihudWxsLCBudWxsLCB0cnVlKTtcblxuY2xhc3MgTnVtYmVyRWRpdG9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgLy8gU3RyaW5nIHNob3VsZCBiZSBhbGxvd2VkLCBiZWNhdXNlIHdoZW4gd2Ugc3RhcnQgdHlwaW5nIG5lZ2F0aXZlIG51bWJlcixcbiAgICAgIC8vIHRoZXJlIGlzIGFwcGVhcmluZyBhIHdhcm5pbmcgaW4gY29uc29sZSBhZnRlciAnLScgc3ltYm9sXG4gICAgICBQcm9wVHlwZXMuc3RyaW5nXG4gICAgXSlcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdmFsdWU6IHByb3BzLnZhbHVlXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKCFpc0VxdWFsKHRoaXMuc3RhdGUudmFsdWUsIG5leHRQcm9wcy52YWx1ZSkpIHtcbiAgICAgIGZpbmRET01Ob2RlKHRoaXMuaW5wdXQpLnZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZSA9IG5leHRQcm9wcy52YWx1ZTtcbiAgICB9XG4gIH1cblxuICBfb25DaGFuZ2VIYW5kbGVyKGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICBjb25zdCB2YWx1ZUFzTnVtYmVyID0gcGFyc2VGbG9hdCh0YXJnZXQudmFsdWUpOyAvLyBFZGdlIGRvZXNuJ3Qgc3VwcG9ydCBcInRhcmdldC52YWx1ZUFzTnVtYmVyXCJcbiAgICBpZiAodGFyZ2V0LnZhbHVlID09PSAnJyAmJiB0YXJnZXQudmFsaWRpdHkudmFsaWQpIHsgLy8gSW52YWxpZCBudW1iZXIgc2V0IGVtcHR5IHN0cmluZyBhbmQgdmFsaWQ9ZmFsc2UgdG8gZXZlbnRcbiAgICAgIHRoaXMuc3RhdGUudmFsdWUgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoaXNJbnZhbGlkRmxvYXQodmFsdWVBc051bWJlcikpIHtcbiAgICAgIHRoaXMuc3RhdGUudmFsdWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZS52YWx1ZSA9IHZhbHVlQXNOdW1iZXI7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnN0YXRlLnZhbHVlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGlucHV0XG4gICAgICAgIHN0ZXA9XCJhbnlcIlxuICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCAndmFsdWUnKX1cbiAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgIHJlZj17KGlucHV0KSA9PiB0aGlzLmlucHV0ID0gaW5wdXR9XG4gICAgICAgIG9uQ2hhbmdlPXs6OnRoaXMuX29uQ2hhbmdlSGFuZGxlcn1cbiAgICAgICAgZGVmYXVsdFZhbHVlPXt0aGlzLnByb3BzLnZhbHVlfVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE51bWJlckVkaXRvcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHtmaW5kSW5kZXgsIGlzRXF1YWwsIG9taXR9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5cbmNsYXNzIFNlbGVjdEVkaXRvciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgb3B0aW9uczogUHJvcFR5cGVzLmFycmF5LCAvLyBzaGFwZTogW1t2YWx1ZSwgbGFiZWwsIHByb3BzXSwgLi4uXSBvciBbbGFiZWwxLCBsYWJlbDIsIC4uLl1cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgIGBwcm9wc2Agd2lsbCBiZSBwYXNzZWQgdG8gZWFjaCBjb3JyZXNwb25kaW5nIDxvcHRpb24gLz5cbiAgICBtb2RlbDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIHJlYWQ6IFByb3BUeXBlcy5mdW5jXG4gICAgfSksXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uTGFiZWxDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIHZhbHVlOiBQcm9wVHlwZXMuYW55XG4gIH07XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBvcHRpb25zOiBbXVxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBvcHRpb25zOiBwcm9wcy5vcHRpb25zLFxuICAgICAgbG9hZGluZzogQm9vbGVhbihwcm9wcy5tb2RlbClcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZWwpIHtcbiAgICAgIHRoaXMucHJvcHMubW9kZWwucmVhZCgnJylcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgZGF0YS51bnNoaWZ0KFtudWxsLCAnJ10pO1xuXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBvcHRpb25zOiBkYXRhLFxuICAgICAgICAgICAgbG9hZGluZzogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLm1vZGVsID8gdGhpcy5zdGF0ZS5vcHRpb25zIDogdGhpcy5wcm9wcy5vcHRpb25zO1xuICB9XG5cbiAgaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICBsZXQgb3B0aW9uID0gdGhpcy5nZXRPcHRpb25zKClbZS50YXJnZXQudmFsdWVdO1xuICAgIGlmICghKG9wdGlvbiBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgb3B0aW9uID0gW29wdGlvbiwgb3B0aW9uXTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShvcHRpb25bMF0pO1xuICAgIGlmICh0aGlzLnByb3BzLm9uTGFiZWxDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25MYWJlbENoYW5nZShvcHRpb25bMV0pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCk7XG4gICAgY29uc3QgdmFsdWVJbmRleCA9IGZpbmRJbmRleChvcHRpb25zLCBvcHRpb24gPT4ge1xuICAgICAgcmV0dXJuIGlzRXF1YWwob3B0aW9uIGluc3RhbmNlb2YgQXJyYXkgPyBvcHRpb25bMF0gOiBvcHRpb24sIHRoaXMucHJvcHMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxzZWxlY3RcbiAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcywgWyd2YWx1ZScsICdvcHRpb25zJ10pfVxuICAgICAgICB2YWx1ZT17dmFsdWVJbmRleH1cbiAgICAgICAgb25DaGFuZ2U9e3RoaXM6OnRoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZCB8fCB0aGlzLnN0YXRlLmxvYWRpbmd9XG4gICAgICA+XG4gICAgICAgIHtvcHRpb25zLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBvcHRpb25Qcm9wcyA9ICgoaXRlbSBpbnN0YW5jZW9mIEFycmF5KSAmJiAoaXRlbVsyXSBpbnN0YW5jZW9mIE9iamVjdCkpID8gaXRlbVsyXSA6IHt9O1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17aW5kZXh9IHZhbHVlPXtpbmRleH0gey4uLm9wdGlvblByb3BzfT5cbiAgICAgICAgICAgICAge2l0ZW0gaW5zdGFuY2VvZiBBcnJheSA/IGl0ZW1bMV0gOiBpdGVtfVxuICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L3NlbGVjdD5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlbGVjdEVkaXRvcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB0b1Byb21pc2UgZnJvbSAnLi4vY29tbW9uL3RvUHJvbWlzZSc7XG5pbXBvcnQge3Rocm90dGxlLCBpc0VxdWFsLCBmaW5kSW5kZXgsIHBhcmVudHMsIG9taXR9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5pbXBvcnQgUG9ydGFsIGZyb20gJy4uL2NvbW1vbi9Qb3J0YWwnO1xuaW1wb3J0IHtmaW5kRE9NTm9kZX0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFRocm90dGxlRXJyb3IgZnJvbSAnLi4vY29tbW9uL1Rocm90dGxlRXJyb3InO1xuXG5jb25zdCBwb3B1cElkID0gJ19fc3VnZ2VzdEJveFBvcFVwJztcbmNvbnN0IGNsYXNzZXMgPSB7XG4gIG9wdGlvbjogJ19fc3VnZ2VzdEJveFBvcFVwLW9wdGlvbicsXG4gIG9wdGlvbkZvY3VzZWQ6ICdfX3N1Z2dlc3RCb3hQb3BVcC1vcHRpb24tZm9jdXNlZCcsXG4gIG9wdGlvblNlbGVjdGFibGU6ICdfX3N1Z2dlc3RCb3hQb3BVcC1vcHRpb24tc2VsZWN0YWJsZScsXG4gIG9wdGlvblR5cGVzOiB7XG4gICAgZ3JvdXA6ICdfX3N1Z2dlc3RCb3hQb3BVcC1vcHRpb24tZ3JvdXAnLFxuICAgIGhlYWRlcjogJ19fc3VnZ2VzdEJveFBvcFVwLW9wdGlvbi1oZWFkZXInLFxuICAgIHN1Yml0ZW06ICdfX3N1Z2dlc3RCb3hQb3BVcC1vcHRpb24tc3ViaXRlbScsXG4gICAgZW1wdHk6ICdfX3N1Z2dlc3RCb3hQb3BVcC1vcHRpb24tZW1wdHknXG4gIH0sXG4gIHNlYXJjaEJsb2NrOiAnX19zdWdnZXN0Qm94LXNlYXJjaCcsXG4gIHNlbGVjdEJ0bjogJ19fc3VnZ2VzdEJveC1zZWxlY3QtYnRuJyxcbiAgYXJyb3c6ICdfX3N1Z2dlc3RCb3gtYXJyb3cnLFxuICB1cDogJ19fc3VnZ2VzdEJveC11cCdcbn07XG5jb25zdCBUQUJfS0VZID0gOTtcbmNvbnN0IEVOVEVSX0tFWSA9IDEzO1xuY29uc3QgRVNDQVBFX0tFWSA9IDI3O1xuY29uc3QgQVJST1dfVVBfS0VZID0gMzg7XG5jb25zdCBBUlJPV19ET1dOX0tFWSA9IDQwO1xuY29uc3QgTUlOX1BPUFVQX0hFSUdIVCA9IDEwMDtcblxuY2xhc3MgU3VnZ2VzdEJveEVkaXRvciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIG1vZGVsOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgcmVhZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBnZXRMYWJlbDogUHJvcFR5cGVzLmZ1bmNcbiAgICB9KSxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvbkxhYmVsQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbk1ldGFkYXRhQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB2YWx1ZTogUHJvcFR5cGVzLmFueSxcbiAgICBkZWZhdWx0TGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbm90Rm91bmRFbGVtZW50OiBQcm9wVHlwZXMuZWxlbWVudCxcbiAgICBsb2FkaW5nRWxlbWVudDogUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgb25Gb2N1czogUHJvcFR5cGVzLmZ1bmMsXG4gICAgd2l0aEVtcHR5T3B0aW9uOiBQcm9wVHlwZXMuYm9vbFxuICB9O1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIG5vdEZvdW5kRWxlbWVudDogPGRpdj5Ob3RoaW5nIGZvdW5kPC9kaXY+LFxuICAgIGxvYWRpbmdFbGVtZW50OiA8ZGl2PkxvYWRpbmcuLi48L2Rpdj4sXG4gICAgdmFsdWU6IG51bGwsXG4gICAgd2l0aEVtcHR5T3B0aW9uOiBmYWxzZVxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuX2xvYWREYXRhID0gdGhyb3R0bGUodGhpcy5fbG9hZERhdGEpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc09wZW5lZDogZmFsc2UsXG4gICAgICBvcHRpb25zOiBbXSxcbiAgICAgIHNlbGVjdGVkT3B0aW9uS2V5OiBudWxsLFxuICAgICAgbGFzdFZhbGlkTGFiZWw6ICcnLFxuICAgICAgbGFiZWw6ICcnLFxuICAgICAgcG9wdXBTdHlsZXM6IHt9XG4gICAgfTtcbiAgICB0aGlzLl9vbklucHV0Rm9jdXMgPSB0aGlzLl9vbklucHV0Rm9jdXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vbklucHV0S2V5RG93biA9IHRoaXMuX29uSW5wdXRLZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25JbnB1dFZhbHVlQ2hhbmdlID0gdGhpcy5fb25JbnB1dFZhbHVlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZm9jdXNPcHRpb24gPSB0aGlzLl9mb2N1c09wdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uRG9jdW1lbnRNb3VzZURvd24gPSB0aGlzLl9vbkRvY3VtZW50TW91c2VEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Eb2N1bWVudE1vdXNlU2Nyb2xsID0gdGhpcy5fb25Eb2N1bWVudE1vdXNlU2Nyb2xsLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fdG9nZ2xlTGlzdCA9IHRoaXMuX3RvZ2dsZUxpc3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vcGVuTGlzdCA9IHRoaXMuX29wZW5MaXN0LmJpbmQodGhpcyk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLl9pc01vdW50ZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLnByb3BzLmRlZmF1bHRMYWJlbCkge1xuICAgICAgdGhpcy5fc2V0TGFiZWxUbyh0aGlzLnByb3BzLmRlZmF1bHRMYWJlbCwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmhhc093blByb3BlcnR5KCdsYWJlbCcpKSB7XG4gICAgICB0aGlzLl9zZXRMYWJlbFRvKHRoaXMucHJvcHMubGFiZWwsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9nZXRMYWJlbEZyb21Nb2RlbCh0aGlzLnByb3BzLm1vZGVsLCB0aGlzLnByb3BzLnZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLl9pc01vdW50ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlICE9PSBuZXh0U3RhdGVcbiAgICAgIHx8ICFpc0VxdWFsKHRoaXMucHJvcHMudmFsdWUsIG5leHRQcm9wcy52YWx1ZSlcbiAgICAgIHx8IHRoaXMucHJvcHMuZGlzYWJsZWQgIT09IG5leHRQcm9wcy5kaXNhYmxlZDtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKCFpc0VxdWFsKHRoaXMucHJvcHMudmFsdWUsIG5leHRQcm9wcy52YWx1ZSkpIHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgnbGFiZWwnKSkge1xuICAgICAgICB0aGlzLl9nZXRMYWJlbEZyb21Nb2RlbChuZXh0UHJvcHMubW9kZWwsIG5leHRQcm9wcy52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmxhYmVsICE9PSBuZXh0UHJvcHMubGFiZWwpIHtcbiAgICAgIHRoaXMuX3NldExhYmVsVG8obmV4dFByb3BzLmxhYmVsLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0T3B0aW9uTGFiZWwob3B0aW9uKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob3B0aW9uLmxhYmVsKSA/IG9wdGlvbi5sYWJlbFtvcHRpb24ubGFiZWwubGVuZ3RoIC0gMV0gOiBvcHRpb24ubGFiZWw7XG4gIH1cblxuICBfc2V0TGFiZWxUbyhsYWJlbCwgbWFya0FzVmFsaWQpIHtcbiAgICBpZiAobGFiZWwgPT09IG51bGwgfHwgbGFiZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbGFiZWwgPSAnJztcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBsYWJlbDogbGFiZWwsXG4gICAgICBsYXN0VmFsaWRMYWJlbDogbWFya0FzVmFsaWQgPyBsYWJlbCA6IHRoaXMuc3RhdGUubGFzdFZhbGlkTGFiZWxcbiAgICB9KTtcbiAgfVxuXG4gIF9nZXRMYWJlbEZyb21Nb2RlbChtb2RlbCwgaWQpIHtcbiAgICBpZiAoaWQgPT09IG51bGwgfHwgaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NldExhYmVsVG8oJycsIHRydWUpO1xuICAgIH1cblxuICAgIG1vZGVsLmdldExhYmVsKGlkKVxuICAgICAgLnRoZW4oKGxhYmVsKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5faXNNb3VudGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldExhYmVsVG8obGFiZWwsIHRydWUpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICBhc3luYyBfdXBkYXRlTGlzdChzZWFyY2hQYXR0ZXJuKSB7XG4gICAgbGV0IG9wdGlvbnM7XG4gICAgdHJ5IHtcbiAgICAgIG9wdGlvbnMgPSBhd2FpdCB0aGlzLl9sb2FkRGF0YShzZWFyY2hQYXR0ZXJuKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoIShlIGluc3RhbmNlb2YgVGhyb3R0bGVFcnJvcikpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5sZW5ndGggJiYgdGhpcy5wcm9wcy53aXRoRW1wdHlPcHRpb24pIHtcbiAgICAgIG9wdGlvbnMudW5zaGlmdCh7XG4gICAgICAgIGlkOiBudWxsLFxuICAgICAgICBsYWJlbDogJ1xcdTAwQTAnIC8vIFVzZSB0aGlzIHN5bWJvbCBmb3Igc2F2ZSBsaW5lIGhlaWdodFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2lzTW91bnRlZCkge1xuICAgICAgYXdhaXQgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHNlbGVjdGVkT3B0aW9uS2V5OiBudWxsLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7cG9wdXBJZH0gLl9fc3VnZ2VzdEJveFBvcFVwLWNvbnRlbnRgKTtcbiAgICBpZiAoY29udGVudCkge1xuICAgICAgY29udGVudC5zdHlsZSA9IHtcbiAgICAgICAgYm90dG9tOiAnYXV0bycsXG4gICAgICAgIHBvc2l0aW9uOiAnc3RhdGljJ1xuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5fc2Nyb2xsTGlzdFRvKCk7XG4gIH1cblxuICBfbG9hZERhdGEoc2VhcmNoUGF0dGVybikge1xuICAgIHJldHVybiB0aGlzLnByb3BzLm1vZGVsLnJlYWQoc2VhcmNoUGF0dGVybiB8fCAnJyk7XG4gIH1cblxuICBhc3luYyBfb3Blbkxpc3Qoc2VhcmNoUGF0dGVybiwgZm9jdXNGaXJzdE9wdGlvbiA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgfHwgdGhpcy5zdGF0ZS5pc09wZW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBvcHVwU3R5bGVzID0gdGhpcy5fZ2V0Q29tcHV0ZWRQb3B1cFN0eWxlcygpO1xuICAgIGlmICghcG9wdXBTdHlsZXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdCB0b1Byb21pc2UoOjp0aGlzLnNldFN0YXRlLCB0cnVlKSh7XG4gICAgICBpc09wZW5lZDogdHJ1ZSxcbiAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICBwb3B1cFN0eWxlc1xuICAgIH0pO1xuICAgIGZpbmRET01Ob2RlKHRoaXMuaW5wdXQpLnNlbGVjdCgpO1xuXG4gICAgYXdhaXQgdGhpcy5fdXBkYXRlTGlzdChzZWFyY2hQYXR0ZXJuKTsgLy8gVE9ETyBIYW5kbGUgZXJyb3JzXG5cbiAgICBpZiAoIXRoaXMuc3RhdGUub3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZm9jdXNGaXJzdE9wdGlvbikge1xuICAgICAgY29uc3Qga2V5ID0gdGhpcy5zdGF0ZS5vcHRpb25zWzBdLnR5cGUgIT09ICdncm91cCcgPyAwIDogMTtcbiAgICAgIGF3YWl0IHRoaXMuX2ZvY3VzT3B0aW9uKGtleSwgdHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2VsZWN0ZWRPcHRpb25LZXkgPSBmaW5kSW5kZXgodGhpcy5zdGF0ZS5vcHRpb25zLCAob3B0aW9uKSA9PiB7XG4gICAgICByZXR1cm4gaXNFcXVhbChvcHRpb24uaWQsIHRoaXMucHJvcHMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgaWYgKHNlbGVjdGVkT3B0aW9uS2V5ICE9PSAtMSkge1xuICAgICAgdGhpcy5fZm9jdXNPcHRpb25BbmRTY3JvbGxJbnRvVmlldyhOdW1iZXIoc2VsZWN0ZWRPcHRpb25LZXkpKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBfb25JbnB1dEZvY3VzKGUpIHtcbiAgICBhd2FpdCB0aGlzLl9vcGVuTGlzdCgpO1xuICAgIGlmICghdGhpcy5faXNNb3VudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZmluZERPTU5vZGUodGhpcy5pbnB1dCkuc2VsZWN0KCk7XG4gICAgaWYgKHRoaXMucHJvcHMub25Gb2N1cykge1xuICAgICAgdGhpcy5wcm9wcy5vbkZvY3VzKGUpO1xuICAgIH1cbiAgfVxuXG4gIF9jbG9zZUxpc3Qoc2hvdWxkQmx1cikge1xuICAgIGlmIChzaG91bGRCbHVyKSB7XG4gICAgICBmaW5kRE9NTm9kZSh0aGlzLmlucHV0KS5ibHVyKCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5zdGF0ZS5pc09wZW5lZCB8fCAhdGhpcy5faXNNb3VudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3B0aW9uczogW10sXG4gICAgICBzZWxlY3RlZE9wdGlvbktleTogbnVsbCxcbiAgICAgIGlzT3BlbmVkOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgX3RvZ2dsZUxpc3QoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNPcGVuZWQpIHtcbiAgICAgIHRoaXMuX2Nsb3NlTGlzdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLl9vcGVuTGlzdCgpO1xuICAgIH1cbiAgfVxuXG4gIF9zZWxlY3RPcHRpb24ob3B0aW9uKSB7XG4gICAgb3B0aW9uID0gb3B0aW9uIHx8IHtcbiAgICAgIGlkOiBudWxsLFxuICAgICAgbGFiZWw6ICcnLFxuICAgICAgbWV0YWRhdGE6IHt9XG4gICAgfTtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKG9wdGlvbi5pZCwgb3B0aW9uKTtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkxhYmVsQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uTGFiZWxDaGFuZ2Uob3B0aW9uLmxhYmVsKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25NZXRhZGF0YUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbk1ldGFkYXRhQ2hhbmdlKG9wdGlvbi5tZXRhZGF0YSk7XG4gICAgfVxuICAgIGZpbmRET01Ob2RlKHRoaXMuaW5wdXQpLnNlbGVjdCgpO1xuICB9XG5cbiAgYXN5bmMgX2ZvY3VzT3B0aW9uKGtleSwgc2hvdWxkU2V0TGFiZWwpIHtcbiAgICBpZiAoc2hvdWxkU2V0TGFiZWwgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuX3NldExhYmVsVG8odGhpcy5zdGF0ZS5vcHRpb25zW2tleV0ubGFiZWwpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5pc09wZW5lZCkge1xuICAgICAgdGhpcy5fZm9jdXNPcHRpb25BbmRTY3JvbGxJbnRvVmlldyhrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLl9vcGVuTGlzdChudWxsKTtcbiAgICAgIHRoaXMuX2ZvY3VzT3B0aW9uQW5kU2Nyb2xsSW50b1ZpZXcoa2V5KTtcbiAgICB9XG4gIH1cblxuICBfZm9jdXNPcHRpb25BbmRTY3JvbGxJbnRvVmlldyhrZXkpIHtcbiAgICB0aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9uS2V5ID0ga2V5O1xuICAgIGNvbnN0IGZvY3VzZWRJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NsYXNzZXMub3B0aW9uRm9jdXNlZH1gKTtcbiAgICBjb25zdCBjdXJyZW50SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NsYXNzZXMub3B0aW9ufVtkYXRhLWtleT1cIiR7a2V5fVwiXWApO1xuICAgIGlmIChmb2N1c2VkSXRlbXMpIHtcbiAgICAgIGZvY3VzZWRJdGVtcy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMub3B0aW9uRm9jdXNlZCk7XG4gICAgfVxuICAgIGlmIChjdXJyZW50SXRlbSkge1xuICAgICAgY3VycmVudEl0ZW0uY2xhc3NMaXN0LmFkZChjbGFzc2VzLm9wdGlvbkZvY3VzZWQpO1xuICAgIH1cbiAgICBjb25zdCBkb21PcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAjJHtwb3B1cElkfSBsaVtkYXRhLWtleT1cIiR7a2V5fVwiXWApWzBdO1xuICAgIHRoaXMuX3Njcm9sbExpc3RUbyhkb21PcHRpb24pO1xuICB9XG5cbiAgX2ZvY3VzTmV4dE9wdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUub3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbktleSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbktleSA9IDA7XG4gICAgICByZXR1cm4gdGhpcy5fZm9jdXNPcHRpb24odGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbktleSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgbGV0IGtleTtcbiAgICBmb3IgKGtleSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkgKyAxOyBrZXkgPCB0aGlzLnN0YXRlLm9wdGlvbnMubGVuZ3RoOyBrZXkrKykge1xuICAgICAgaWYgKHRoaXMuc3RhdGUub3B0aW9uc1trZXldLmlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb2N1c09wdGlvbihrZXksIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGtleSA9IDA7IGtleSA8IHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkgKyAxOyBrZXkrKykge1xuICAgICAgaWYgKHRoaXMuc3RhdGUub3B0aW9uc1trZXldLmlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb2N1c09wdGlvbihrZXksIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9mb2N1c1ByZXZPcHRpb24oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkgPSAwO1xuICAgICAgcmV0dXJuIHRoaXMuX2ZvY3VzT3B0aW9uKHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkpO1xuICAgIH1cblxuICAgIGxldCBrZXk7XG4gICAgZm9yIChrZXkgPSB0aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9uS2V5IC0gMTsga2V5ID49IDA7IGtleS0tKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5vcHRpb25zW2tleV0uaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvY3VzT3B0aW9uKGtleSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoa2V5ID0gdGhpcy5zdGF0ZS5vcHRpb25zLmxlbmd0aCAtIDE7IGtleSA+IHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkgLSAxOyBrZXktLSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUub3B0aW9uc1trZXldLmlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb2N1c09wdGlvbihrZXksIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9zY3JvbGxMaXN0VG8odGFyZ2V0KSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7cG9wdXBJZH06Zmlyc3QtY2hpbGRgKTtcbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICBjb250YWluZXIuc2Nyb2xsVG9wID0gMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0Lm9mZnNldFRvcCAtIGNvbnRhaW5lci5zY3JvbGxUb3AgPj0gY29udGFpbmVyLmNsaWVudEhlaWdodCAtIHRhcmdldC5jbGllbnRIZWlnaHQpIHtcbiAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSB0YXJnZXQub2Zmc2V0VG9wIC0gY29udGFpbmVyLmNsaWVudEhlaWdodCArIHRhcmdldC5jbGllbnRIZWlnaHQ7XG4gICAgfSBlbHNlIGlmICh0YXJnZXQub2Zmc2V0VG9wIC0gY29udGFpbmVyLnNjcm9sbFRvcCA8IDApIHtcbiAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSB0YXJnZXQub2Zmc2V0VG9wO1xuICAgIH1cbiAgfVxuXG4gIF9pc1BhcmVudE9mKGNoaWxkKSB7XG4gICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICBjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGU7XG4gICAgICBpZiAoY2hpbGQgPT09IGZpbmRET01Ob2RlKHRoaXMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBfb25Eb2N1bWVudE1vdXNlRG93bihlLCBpc093bmVyKSB7XG4gICAgaWYgKGUuYnV0dG9uICE9PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICBpZiAoaXNPd25lcikge1xuICAgICAgaWYgKCF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzZXMub3B0aW9uKSkge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzZXMub3B0aW9uU2VsZWN0YWJsZSkgJiYgdGhpcy5zdGF0ZS5pc09wZW5lZCkge1xuICAgICAgICB0aGlzLl9zZWxlY3RPcHRpb24odGhpcy5zdGF0ZS5vcHRpb25zW3RhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5JyldKTtcbiAgICAgICAgdGhpcy5fY2xvc2VMaXN0KHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBxIHdoZXJlIHRvIHRlc3RcbiAgICAgIGlmICghcGFyZW50cyh0YXJnZXQsIGAuJHtjbGFzc2VzLnNlYXJjaEJsb2NrfWApLmxlbmd0aCkge1xuICAgICAgICBpZiAoIWZpbmRET01Ob2RlKHRoaXMuaW5wdXQpLnZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5fc2VsZWN0T3B0aW9uKG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3NldExhYmVsVG8odGhpcy5zdGF0ZS5sYXN0VmFsaWRMYWJlbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5faXNQYXJlbnRPZihlLnRhcmdldCkpIHtcbiAgICAgICAgdGhpcy5fY2xvc2VMaXN0KHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9vbkRvY3VtZW50TW91c2VTY3JvbGwoZSwgaXNPd25lcikge1xuICAgIGlmICghaXNPd25lciAmJiB0aGlzLnN0YXRlLmlzT3BlbmVkKSB7XG4gICAgICBjb25zdCBwb3B1cFN0eWxlcyA9IHRoaXMuX2dldENvbXB1dGVkUG9wdXBTdHlsZXMoKTtcbiAgICAgIGlmIChwb3B1cFN0eWxlcykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBwb3B1cFN0eWxlczogdGhpcy5fZ2V0Q29tcHV0ZWRQb3B1cFN0eWxlcygpXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2V0TGFiZWxUbyh0aGlzLnN0YXRlLmxhc3RWYWxpZExhYmVsKTtcbiAgICAgICAgdGhpcy5fY2xvc2VMaXN0KHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9vbklucHV0S2V5RG93bihlKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICBjYXNlIEFSUk9XX0RPV05fS0VZOlxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzT3BlbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuTGlzdCgnJywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9mb2N1c05leHRPcHRpb24oKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVJST1dfVVBfS0VZOlxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzT3BlbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuTGlzdCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fZm9jdXNQcmV2T3B0aW9uKCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEVOVEVSX0tFWTpcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRPcHRpb25LZXkgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0T3B0aW9uKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0T3B0aW9uKHRoaXMuc3RhdGUub3B0aW9uc1t0aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9uS2V5XSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9jbG9zZUxpc3QoKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgVEFCX0tFWTpcbiAgICBjYXNlIEVTQ0FQRV9LRVk6XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSBFU0NBUEVfS0VZKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIGlmICghZS50YXJnZXQudmFsdWUgfHwgIXRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2V0TGFiZWxUbygnJyk7XG4gICAgICAgIHRoaXMuX3NlbGVjdE9wdGlvbihudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3NldExhYmVsVG8odGhpcy5zdGF0ZS5sYXN0VmFsaWRMYWJlbCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9jbG9zZUxpc3QoKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9vbklucHV0VmFsdWVDaGFuZ2UoZSkge1xuICAgIHRoaXMuX3NldExhYmVsVG8oZS50YXJnZXQudmFsdWUpO1xuICAgIGlmICh0aGlzLnN0YXRlLmlzT3BlbmVkKSB7XG4gICAgICBhd2FpdCB0aGlzLl91cGRhdGVMaXN0KGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgdGhpcy5fb3Blbkxpc3QoZS50YXJnZXQudmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRDb21wdXRlZFBvcHVwU3R5bGVzKCkge1xuICAgIGNvbnN0IGlucHV0U3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZmluZERPTU5vZGUodGhpcy5pbnB1dCkpO1xuICAgIGNvbnN0IHBvcHVwU3R5bGUgPSB7fTtcblxuICAgIGNvbnN0IGlucHV0T2Zmc2V0ID0gZmluZERPTU5vZGUodGhpcy5pbnB1dCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgaW5wdXRXaWR0aCA9IGlucHV0U3R5bGVzLndpZHRoO1xuICAgIGNvbnN0IGlucHV0SGVpZ2h0ID0gcGFyc2VJbnQoaW5wdXRTdHlsZXMuaGVpZ2h0KTtcblxuICAgIGlmIChpbnB1dE9mZnNldC50b3AgKyBpbnB1dEhlaWdodCA8PSAwIHx8IGlucHV0T2Zmc2V0LnRvcCA+PSB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IG9mZnNldFRvcCA9IGlucHV0T2Zmc2V0LnRvcCArIGlucHV0SGVpZ2h0O1xuICAgIGNvbnN0IG9mZnNldExlZnQgPSBpbnB1dE9mZnNldC5sZWZ0O1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCBhdmFpbGFibGVTcGFjZSA9IHdpbmRvdy5pbm5lckhlaWdodCAtIG9mZnNldFRvcDtcbiAgICAgIGlmIChhdmFpbGFibGVTcGFjZSA8IE1JTl9QT1BVUF9IRUlHSFQpIHtcbiAgICAgICAgcG9wdXBTdHlsZS5tYXhIZWlnaHQgPSBpbnB1dE9mZnNldC50b3A7XG4gICAgICAgIHBvcHVwU3R5bGUuYm90dG9tID0gLWlucHV0T2Zmc2V0LnRvcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvcHVwU3R5bGUubWF4SGVpZ2h0ID0gYXZhaWxhYmxlU3BhY2U7XG4gICAgICAgIHBvcHVwU3R5bGUudG9wID0gb2Zmc2V0VG9wO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBvcHVwU3R5bGUubWluV2lkdGggPSBpbnB1dFdpZHRoO1xuICAgIHBvcHVwU3R5bGUubGVmdCA9IG9mZnNldExlZnQ7XG5cbiAgICByZXR1cm4gcG9wdXBTdHlsZTtcbiAgfVxuXG4gIGZvY3VzKCkge1xuICAgIGZpbmRET01Ob2RlKHRoaXMuaW5wdXQpLmZvY3VzKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgYXJyb3dDbGFzc2VzID0gW2NsYXNzZXMuYXJyb3ddO1xuICAgIGxldCBvcHRpb25zO1xuICAgIGxldCBvcHRpb25zUG9wdXAgPSBudWxsO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNPcGVuZWQpIHtcbiAgICAgIGFycm93Q2xhc3Nlcy5wdXNoKGNsYXNzZXMudXApO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5sb2FkaW5nKSB7XG4gICAgICAgIG9wdGlvbnMgPSAoXG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT17W2NsYXNzZXMub3B0aW9uLCBjbGFzc2VzLm9wdGlvblR5cGVzLmVtcHR5XS5qb2luKCcgJyl9PlxuICAgICAgICAgICAge3RoaXMucHJvcHMubG9hZGluZ0VsZW1lbnR9XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5vcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgIG9wdGlvbnMgPSAoXG4gICAgICAgICAgICA8bGkgY2xhc3NOYW1lPXtbY2xhc3Nlcy5vcHRpb24sIGNsYXNzZXMub3B0aW9uVHlwZXMuZW1wdHldLmpvaW4oJyAnKX0+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLm5vdEZvdW5kRWxlbWVudH1cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5zdGF0ZS5vcHRpb25zLm1hcCgob3B0aW9uLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkNsYXNzTmFtZXMgPSBbY2xhc3Nlcy5vcHRpb25dO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5zdGF0ZS5zZWxlY3RlZE9wdGlvbktleSkge1xuICAgICAgICAgICAgICBvcHRpb25DbGFzc05hbWVzLnB1c2goY2xhc3Nlcy5vcHRpb25Gb2N1c2VkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbi5pZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIG9wdGlvbkNsYXNzTmFtZXMucHVzaChjbGFzc2VzLm9wdGlvblNlbGVjdGFibGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgICAgb3B0aW9uQ2xhc3NOYW1lcy5wdXNoKGNsYXNzZXMub3B0aW9uVHlwZXNbb3B0aW9uLnR5cGVdIHx8IG9wdGlvbi50eXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgICAgICAgZGF0YS1rZXk9e2tleX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlT3Zlcj17dGhpcy5fZm9jdXNPcHRpb24uYmluZCh0aGlzLCBrZXkpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17b3B0aW9uQ2xhc3NOYW1lcy5qb2luKCcgJyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KG9wdGlvbi5sYWJlbCkgPyBvcHRpb24ubGFiZWwubWFwKChsYWJlbCwgY29sdW1uS2V5KSA9PiA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17Y29sdW1uS2V5fT57bGFiZWx9PC9kaXY+KSA6IDxkaXY+e29wdGlvbi5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnNQb3B1cCA9IChcbiAgICAgICAgPFBvcnRhbFxuICAgICAgICAgIGlkPXtwb3B1cElkfVxuICAgICAgICAgIHN0eWxlPXt0aGlzLnN0YXRlLnBvcHVwU3R5bGVzfVxuICAgICAgICAgIG9uRG9jdW1lbnRNb3VzZURvd249e3RoaXMuX29uRG9jdW1lbnRNb3VzZURvd259XG4gICAgICAgICAgb25Eb2N1bWVudE1vdXNlU2Nyb2xsPXt0aGlzLl9vbkRvY3VtZW50TW91c2VTY3JvbGx9XG4gICAgICAgICAgY2xhc3NOYW1lPSdfX3N1Z2dlc3RCb3hQb3BVcCdcbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiX19zdWdnZXN0Qm94UG9wVXAtY29udGVudFwiPlxuICAgICAgICAgICAgPHVsPntvcHRpb25zfTwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUG9ydGFsPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J19fc3VnZ2VzdEJveCc+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnNlYXJjaEJsb2NrfT5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgIFsnbW9kZWwnLCAndmFsdWUnLCAnb25DaGFuZ2UnLCAnb25MYWJlbENoYW5nZScsICdvbkZvY3VzJyxcbiAgICAgICAgICAgICAgICAnc2VsZWN0JywgJ25vdEZvdW5kRWxlbWVudCcsICdsb2FkaW5nRWxlbWVudCcsICdkZWZhdWx0TGFiZWwnLCAnb25NZXRhZGF0YUNoYW5nZScsICd3aXRoRW1wdHlPcHRpb24nXSl9XG4gICAgICAgICAgICByZWY9eyhpbnB1dCkgPT4gdGhpcy5pbnB1dCA9IGlucHV0fVxuICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuX29wZW5MaXN0fVxuICAgICAgICAgICAgb25Gb2N1cz17dGhpcy5fb25JbnB1dEZvY3VzfVxuICAgICAgICAgICAgb25LZXlEb3duPXt0aGlzLl9vbklucHV0S2V5RG93bn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLl9vbklucHV0VmFsdWVDaGFuZ2V9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5sYWJlbH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXYgb25DbGljaz17dGhpcy5fdG9nZ2xlTGlzdH0gY2xhc3NOYW1lPXtjbGFzc2VzLnNlbGVjdEJ0bn0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YXJyb3dDbGFzc2VzLmpvaW4oJyAnKX0vPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge29wdGlvbnNQb3B1cH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3VnZ2VzdEJveEVkaXRvcjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBWYWxpZGF0aW9uRXJyb3JzIGZyb20gJy4uL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRpb25FcnJvcnMnO1xuaW1wb3J0IEV2ZW50c01vZGVsIGZyb20gJy4uL2NvbW1vbi9FdmVudHMnO1xuXG5jbGFzcyBBYnN0cmFjdEZvcm1Nb2RlbCBleHRlbmRzIEV2ZW50c01vZGVsIHtcbiAgLyoqXG4gICAqIEFic3RyYWN0IGZvcm0gbW9kZWxcbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGZpZWxkcyAgICAgUmVxdWlyZWQgZmllbGRzXG4gICAqIEByZXR1cm5zIHtPYmplY3R9ICBQcm9taXNlXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgZ2V0RGF0YSgvKmZpZWxkcyovKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7fSk7XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyBmb3JtIGRhdGFcbiAgICpcbiAgICogQHBhcmFtICAge09iamVjdH0gICAgICBjaGFuZ2VzICAgICBGb3JtIGRhdGFcbiAgICogQHJldHVybnMge09iamVjdH0gIFByb21pc2VcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBzdWJtaXQoLypjaGFuZ2VzKi8pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVjb3JkIHZhbGlkaXR5IGNoZWNrXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHJlY29yZCAgUmVjb3JkIG9iamVjdFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgUHJvbWlzZVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGlzVmFsaWRSZWNvcmQoLypyZWNvcmQqLykge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IFZhbGlkYXRpb25FcnJvcnMoKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBkZXBlbmRlbnQgZmllbGRzLCB0aGF0IGFyZSByZXF1aXJlZCBmb3IgdmFsaWRhdGlvblxuICAgKlxuICAgKiBAcGFyYW0gICB7QXJyYXl9ICBmaWVsZHMgIEZpZWxkcyBsaXN0XG4gICAqIEByZXR1cm5zIHtBcnJheX0gIERlcGVuZGVuY2llc1xuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGdldFZhbGlkYXRpb25EZXBlbmRlbmN5KC8qZmllbGRzKi8pIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWJzdHJhY3RGb3JtTW9kZWw7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgVmFsaWRhdGlvbkVycm9ycyBmcm9tICcuLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0aW9uRXJyb3JzJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHthc3luY0hhbmRsZXJ9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5cbmNsYXNzIEZvcm1FeHByZXNzQXBpIHtcbiAgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gbmV3IEZvcm1FeHByZXNzQXBpKCk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1pZGRsZXdhcmVzID0ge1xuICAgICAgZ2V0RGF0YTogW2FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgY29uc3QgZmllbGRzID0gcmVxLnF1ZXJ5LmZpZWxkcyA/IEpTT04ucGFyc2UocmVxLnF1ZXJ5LmZpZWxkcykgOiBudWxsO1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKHJlcSwgcmVzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgbW9kZWwuZ2V0RGF0YShmaWVsZHMpO1xuICAgICAgICAgIHRoaXMuX3Jlc3VsdChudWxsLCBkYXRhLCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHRoaXMuX3Jlc3VsdChlcnIsIG51bGwsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSldLFxuICAgICAgc3VibWl0OiBbYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKHJlcSwgcmVzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgbW9kZWwuc3VibWl0KHJlcS5ib2R5KTtcbiAgICAgICAgICB0aGlzLl9yZXN1bHQobnVsbCwge2RhdGE6IGRhdGEsIGVycm9yOiBudWxsfSwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyICYmICEoZXJyIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9ycykpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdChlcnIsIG51bGwsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fcmVzdWx0KG51bGwsIHtkYXRhOiBudWxsLCBlcnJvcjogZXJyfSwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9XG4gICAgICB9KV0sXG4gICAgICB2YWxpZGF0ZTogW2FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChyZXEsIHJlcyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG1vZGVsLmlzVmFsaWRSZWNvcmQocmVxLmJvZHkpO1xuICAgICAgICAgIHRoaXMuX3Jlc3VsdChudWxsLCBkYXRhLCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHRoaXMuX3Jlc3VsdChlcnIsIG51bGwsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSldXG4gICAgfTtcbiAgfVxuXG4gIG1vZGVsKG1vZGVsKSB7XG4gICAgaWYgKHR5cGVvZiBtb2RlbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fZ2V0TW9kZWwgPSBtb2RlbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZ2V0TW9kZWwgPSAoKSA9PiBtb2RlbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXRSb3V0ZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBleHByZXNzLlJvdXRlcigpXG4gICAgICAuZ2V0KCcvJywgdGhpcy5taWRkbGV3YXJlcy5nZXREYXRhKVxuICAgICAgLnBvc3QoJy8nLCB0aGlzLm1pZGRsZXdhcmVzLnN1Ym1pdClcbiAgICAgIC5wb3N0KCcvdmFsaWRhdGlvbicsIHRoaXMubWlkZGxld2FyZXMudmFsaWRhdGUpO1xuICB9XG5cbiAgZ2V0RGF0YShtaWRkbGV3YXJlcykge1xuICAgIHJldHVybiB0aGlzLl9hZGRNaWRlbHdhcmVzKCdnZXREYXRhJywgbWlkZGxld2FyZXMpO1xuICB9XG4gIHN1Ym1pdChtaWRkbGV3YXJlcykge1xuICAgIHJldHVybiB0aGlzLl9hZGRNaWRlbHdhcmVzKCdzdWJtaXQnLCBtaWRkbGV3YXJlcyk7XG4gIH1cbiAgdmFsaWRhdGUobWlkZGxld2FyZXMpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkTWlkZWx3YXJlcygndmFsaWRhdGUnLCBtaWRkbGV3YXJlcyk7XG4gIH1cblxuICBfYWRkTWlkZWx3YXJlcyhtZXRob2QsIG1pZGRsZXdhcmVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG1pZGRsZXdhcmVzKSkge1xuICAgICAgbWlkZGxld2FyZXMgPSBbbWlkZGxld2FyZXNdO1xuICAgIH1cbiAgICB0aGlzLm1pZGRsZXdhcmVzW21ldGhvZF0gPSBtaWRkbGV3YXJlcy5jb25jYXQodGhpcy5taWRkbGV3YXJlc1ttZXRob2RdKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb25cbiAgX2dldE1vZGVsKCkge1xuICAgIHRocm93IEVycm9yKCdNb2RlbCBpcyBub3QgZGVmaW5lZC4nKTtcbiAgfVxuXG4gIF9yZXN1bHQoZXJyLCBkYXRhLCByZXEsIHJlcywgbmV4dCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG5leHQoZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLmpzb24oZGF0YSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1FeHByZXNzQXBpO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IFZhbGlkYXRvciBmcm9tICcuLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0b3InO1xuaW1wb3J0IEFic3RyYWN0Rm9ybU1vZGVsIGZyb20gJy4vQWJzdHJhY3RGb3JtTW9kZWwnO1xuaW1wb3J0IHtjbG9uZX0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcblxuY2xhc3MgRm9ybU1vZGVsIGV4dGVuZHMgQWJzdHJhY3RGb3JtTW9kZWwge1xuICAvKipcbiAgICogU2ltcGxlIGZvcm0gbW9kZWxcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgIGRlZmF1bHRWYWx1ZXMgRGVmYXVsdCBmb3JtIGZpZWxkIHZhbHVlc1xuICAgKiBAcGFyYW0ge1ZhbGlkYXRvcn0gdmFsaWRhdGlvbiAgICBWYWxpZGF0aW9uXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoZGVmYXVsdFZhbHVlcywgdmFsaWRhdGlvbikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fdmFsaWRhdGlvbiA9IHZhbGlkYXRpb24gfHwgbmV3IFZhbGlkYXRvcigpO1xuICAgIHRoaXMuX2RhdGEgPSBkZWZhdWx0VmFsdWVzID8gY2xvbmUoZGVmYXVsdFZhbHVlcykgOiB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSAgICBmaWVsZHMgICAgIFJlcXVpcmVkIGZpZWxkc1xuICAgKi9cbiAgYXN5bmMgZ2V0RGF0YShmaWVsZHMpIHtcbiAgICBsZXQgcmVjb3JkID0ge307XG5cbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkcykge1xuICAgICAgICByZWNvcmRbZmllbGRdID0gdGhpcy5fZGF0YVtmaWVsZF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlY29yZCA9IGNsb25lKHRoaXMuX2RhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiByZWNvcmQ7XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyBmb3JtIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgY2hhbmdlcyAgICAgRm9ybSBkYXRhXG4gICAqL1xuICBhc3luYyBzdWJtaXQoY2hhbmdlcykge1xuICAgIGNvbnN0IHZhbGlkRXJyb3JzID0gYXdhaXQgdGhpcy5pc1ZhbGlkUmVjb3JkKGNoYW5nZXMpO1xuICAgIGlmICghdmFsaWRFcnJvcnMuaXNFbXB0eSgpKSB7XG4gICAgICB0aHJvdyB2YWxpZEVycm9ycztcbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLl9kYXRhLCBjaGFuZ2VzKTtcbiAgICB0aGlzLnRyaWdnZXIoJ3VwZGF0ZScsIGNoYW5nZXMpO1xuICAgIHJldHVybiBjaGFuZ2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRpb24gY2hlY2tcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgcmVjb3JkXG4gICAqL1xuICBhc3luYyBpc1ZhbGlkUmVjb3JkKHJlY29yZCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl92YWxpZGF0aW9uLmlzVmFsaWRSZWNvcmQocmVjb3JkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGRlcGVuZGVudCBmaWVsZHMsIHRoYXQgYXJlIHJlcXVpcmVkIGZvciB2YWxpZGF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSAgIHtBcnJheX0gIGZpZWxkcyAgIEZpZWxkcyBsaXN0XG4gICAqIEByZXR1cm5zIHtBcnJheX0gIERlcGVuZGVuY2llc1xuICAgKi9cbiAgZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koZmllbGRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRpb24uZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koZmllbGRzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtTW9kZWw7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJy4uL2NvbW1vbi9FdmVudHMnO1xuaW1wb3J0IFZhbGlkYXRvciBmcm9tICcuLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0b3InO1xuaW1wb3J0IFZhbGlkYXRpb25FcnJvcnMgZnJvbSAnLi4vY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdGlvbkVycm9ycyc7XG5pbXBvcnQge3Rocm90dGxlLCBwYXJzZVZhbHVlRnJvbUV2ZW50LCBnZXRSZWNvcmRDaGFuZ2VzLCBpc0VxdWFsLCBpc0VtcHR5fSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xuaW1wb3J0IFRocm90dGxlRXJyb3IgZnJvbSAnLi4vY29tbW9uL1Rocm90dGxlRXJyb3InO1xuXG5jbGFzcyBGb3JtU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKGZpZWxkcyA9IG51bGwpIHtcbiAgICB0aGlzLl9kYXRhID0gbnVsbDtcbiAgICB0aGlzLl9jaGFuZ2VzID0gbnVsbDtcbiAgICB0aGlzLl9lcnJvcnMgPSBuZXcgVmFsaWRhdGlvbkVycm9ycygpO1xuICAgIHRoaXMuX3dhcm5pbmdzID0gbmV3IFZhbGlkYXRpb25FcnJvcnMoKTtcbiAgICB0aGlzLl93YXJuaW5nc1ZhbGlkYXRvciA9IG51bGw7XG4gICAgdGhpcy5fZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHRoaXMuZmllbGRzID0gZmllbGRzO1xuICAgIHRoaXMuX3ZhbGlkYXRlRm9ybSA9IHRocm90dGxlKHRoaXMuX3ZhbGlkYXRlRm9ybS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnZhbGlkYXRlRm9ybSA9IHRoaXMudmFsaWRhdGVGb3JtLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb2RlbENoYW5nZSA9IHRoaXMuX29uTW9kZWxDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNsZWFyQ2hhbmdlcyA9IHRoaXMuY2xlYXJDaGFuZ2VzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jbGVhckVycm9yID0gdGhpcy5jbGVhckVycm9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jbGVhclZhbGlkYXRpb24gPSB0aGlzLmNsZWFyVmFsaWRhdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlRmllbGQgPSB0aGlzLnVwZGF0ZUZpZWxkLmJpbmQodGhpcyk7XG4gICAgdGhpcy52YWxpZGF0ZUZpZWxkID0gdGhpcy52YWxpZGF0ZUZpZWxkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fZ2V0RGF0YSA9IHRoaXMuX2dldERhdGEuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9nZXRDaGFuZ2VzID0gdGhpcy5fZ2V0Q2hhbmdlcy5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZm9ybVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICBzZXR0aW5ncyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlndXJhdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICAgICAgICBzZXR0aW5ncy5maWVsZHMgICAgICAgICAgICAgICAgICAgICAgICAgRmllbGRzIGxpc3QsIHRoYXQgYXJlIHJlcXVpcmVkIHRvIGRpc3BsYXlcbiAgICogQHBhcmFtIHtGb3JtTW9kZWx9ICAgICAgICAgc2V0dGluZ3MubW9kZWwgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZGVsIG9mIGZvcm1cbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgW3NldHRpbmdzLmRhdGFdICAgICAgICAgICAgICAgICAgICAgICAgIFByZXNldCBkYXRhXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgIFtzZXR0aW5ncy5jaGFuZ2VzICAgICAgICAgICAgICAgICAgICAgICBQcmVzZXQgY2hhbmdlc1xuICAgKiBAcGFyYW0ge2Jvb2x9ICAgICAgICAgICAgICBbc2V0dGluZ3Muc3VibWl0QWxsPWZhbHNlXSAgICAgICAgICAgICAgU2VuZCBhbGwgZm9ybSBmb3IgdmFsaWRpdHkgY2hlY2tcbiAgICogQHBhcmFtIHtib29sfSAgICAgICAgICAgICAgW3NldHRpbmdzLnBhcnRpYWxFcnJvckNoZWNraW5nPWZhbHNlXSAgIEFjdGl2YXRlIHBhcnRpYWwgZ3JhZHVhbCBmb3JtIHZhbGlkYXRpb25cbiAgICogQHBhcmFtIHtib29sfSAgICAgICAgICAgICAgW3NldHRpbmdzLnNob3dEZXBlbmRlbnRGaWVsZHM9ZmFsc2VdICAgIE1hcmsgdGhlIGZpZWxkcyB3aGljaCBhcmUgaW52b2x2ZWQgaW4gdGhlIGdyb3VwIHZhbGlkYXRpb25cbiAgICogQHBhcmFtIHtWYWxpZGF0b3J9ICAgICAgICAgW3NldHRpbmdzLndhcm5pbmdzVmFsaWRhdG9yXSAgICAgICAgICAgIFdhcm5pbmdzIHZhbGlkYXRvciBmb3IgZmllbGRzXG4gICAqL1xuICBhc3luYyBpbml0KHNldHRpbmdzKSB7XG4gICAgaWYgKCFzZXR0aW5ncy5tb2RlbCkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1lvdSBtdXN0IHNwZWNpZnkgdGhlIG1vZGVsJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fZGF0YSA9IHNldHRpbmdzLmRhdGEgfHwgbnVsbDtcbiAgICB0aGlzLl9jaGFuZ2VzID0gc2V0dGluZ3MuY2hhbmdlcyB8fCB7fTtcbiAgICB0aGlzLl9pc1N1Ym1pdHRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnNob3dEZXBlbmRlbnRGaWVsZHMgPSBzZXR0aW5ncy5zaG93RGVwZW5kZW50RmllbGRzIHx8IGZhbHNlO1xuICAgIHRoaXMuX3BhcnRpYWxFcnJvckNoZWNraW5nID0gc2V0dGluZ3MucGFydGlhbEVycm9yQ2hlY2tpbmc7IC8vIEN1cnJlbnQgbW9kZVxuICAgIHRoaXMuX3BhcnRpYWxFcnJvckNoZWNraW5nRGVmYXVsdCA9IHNldHRpbmdzLnBhcnRpYWxFcnJvckNoZWNraW5nOyAvLyBEZWZhdWx0IG1vZGVcbiAgICB0aGlzLm1vZGVsID0gc2V0dGluZ3MubW9kZWw7IC8vIEZvcm1Nb2RlbFxuICAgIHRoaXMuc3VibWl0QWxsID0gc2V0dGluZ3Muc3VibWl0QWxsO1xuICAgIHRoaXMuX3dhcm5pbmdzVmFsaWRhdG9yID0gc2V0dGluZ3Mud2FybmluZ3NWYWxpZGF0b3IgfHwgbmV3IFZhbGlkYXRvcigpO1xuXG4gICAgdGhpcy52YWxpZGF0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5faGlkZGVuVmFsaWRhdGlvbkZpZWxkcyA9IFtdO1xuICAgIHRoaXMuc3VibWl0dGluZyA9IGZhbHNlO1xuICAgIHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuICAgIGlmIChzZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eSgnZmllbGRzJykpIHtcbiAgICAgIHRoaXMuZmllbGRzID0gc2V0dGluZ3MuZmllbGRzO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuX2RhdGEpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSBhd2FpdCBzZXR0aW5ncy5tb2RlbC5nZXREYXRhKHRoaXMuZmllbGRzKTtcbiAgICB9XG5cbiAgICB0aGlzLm1vZGVsLm9uKCd1cGRhdGUnLCB0aGlzLl9vbk1vZGVsQ2hhbmdlKTtcbiAgICB0aGlzLl9zZXRTdGF0ZSgpO1xuXG4gICAgaWYgKCFzZXR0aW5ncy5wYXJ0aWFsRXJyb3JDaGVja2luZykge1xuICAgICAgYXdhaXQgdGhpcy52YWxpZGF0ZUZvcm0oKTtcbiAgICB9XG4gIH1cblxuICBnZXRBbGwoKSB7XG4gICAgY29uc3QgaXNMb2FkZWQgPSB0aGlzLl9pc0xvYWRlZCgpO1xuXG4gICAgaWYgKCFpc0xvYWRlZCkge1xuICAgICAgY29uc3QgZW1wdHlEYXRhID0ge1xuICAgICAgICBpc0xvYWRlZCxcbiAgICAgICAgZGF0YToge30sXG4gICAgICAgIG9yaWdpbmFsRGF0YToge30sXG4gICAgICAgIGNoYW5nZXM6IHt9LFxuICAgICAgICBlcnJvcnM6IG5ldyBWYWxpZGF0aW9uRXJyb3JzKCksXG4gICAgICAgIHdhcm5pbmdzOiBuZXcgVmFsaWRhdGlvbkVycm9ycygpLFxuICAgICAgICBpc1N1Ym1pdHRpbmc6IGZhbHNlXG4gICAgICB9O1xuICAgICAgZW1wdHlEYXRhLmZpZWxkcyA9IHRoaXMuX2dldEZpZWxkcyhlbXB0eURhdGEuZGF0YSwgZW1wdHlEYXRhLmNoYW5nZXMsIGVtcHR5RGF0YS5lcnJvcnMsIGVtcHR5RGF0YS53YXJuaW5ncyk7XG4gICAgICByZXR1cm4gZW1wdHlEYXRhO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9nZXREYXRhKCk7XG4gICAgY29uc3QgY2hhbmdlcyA9IHRoaXMuX2dldENoYW5nZXNGaWVsZHMoKTtcbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLl9nZXREaXNwbGF5ZWRFcnJvcnModGhpcy5fZXJyb3JzKTtcbiAgICBjb25zdCB3YXJuaW5ncyA9IHRoaXMuX2dldERpc3BsYXllZEVycm9ycyh0aGlzLl93YXJuaW5ncyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNMb2FkZWQsXG4gICAgICBkYXRhLFxuICAgICAgb3JpZ2luYWxEYXRhOiB0aGlzLl9kYXRhLFxuICAgICAgY2hhbmdlcyxcbiAgICAgIGVycm9ycyxcbiAgICAgIHdhcm5pbmdzLFxuICAgICAgLy8gTm90ZSB0aGF0IHdlIHJldHVybiBlcnJvcnMgYW5kIHdhcm5pbmdzIGJvdGggaW4gYnVuY2ggYXMgYSBwcm9wZXJ0eSBhbmQgZm9yIGVhY2ggZmllbGQgc2VwYXJhdGVseVxuICAgICAgLy8gLSBpdCBpcyByZWR1bmRhbnRseSwgYnV0IGhhbmR5IDopXG4gICAgICBmaWVsZHM6IHRoaXMuX2dldEZpZWxkcyhkYXRhLCBjaGFuZ2VzLCBlcnJvcnMsIHdhcm5pbmdzKSxcbiAgICAgIGlzU3VibWl0dGluZzogdGhpcy5faXNTdWJtaXR0aW5nXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgZm9ybSB2YWx1ZS4gSXMgdXNlZCBhcyB0aGUgRWRpdG9ycyBvbkNoYW5nZSBoYW5kbGVyXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgZmllbGQgIFBhcmFtZXRlclxuICAgKiBAcGFyYW0geyp9ICAgICAgIHZhbHVlICBFdmVudCBvciBkYXRhXG4gICAqL1xuICBhc3luYyB1cGRhdGVGaWVsZChmaWVsZCwgdmFsdWUpIHtcbiAgICBhd2FpdCB0aGlzLnNldCh7XG4gICAgICBbZmllbGRdOiBwYXJzZVZhbHVlRnJvbUV2ZW50KHZhbHVlKVxuICAgIH0pO1xuICB9XG5cbiAgYWRkQ2hhbmdlTGlzdGVuZXIoZnVuYykge1xuICAgIHRoaXMuX2V2ZW50RW1pdHRlci5vbigndXBkYXRlJywgZnVuYyk7XG4gIH1cblxuICByZW1vdmVDaGFuZ2VMaXN0ZW5lcihmdW5jKSB7XG4gICAgdGhpcy5fZXZlbnRFbWl0dGVyLm9mZigndXBkYXRlJywgZnVuYyk7XG4gICAgaWYgKHRoaXMuX2V2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50KCd1cGRhdGUnKSA9PT0gMCAmJiAhdGhpcy5faXNOb3RJbml0aWFsaXplZCkge1xuICAgICAgdGhpcy5tb2RlbC5vZmYoJ3VwZGF0ZScsIHRoaXMuX29uTW9kZWxDaGFuZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZUFsbExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9ldmVudEVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCd1cGRhdGUnKTtcbiAgICB0aGlzLm1vZGVsLm9mZigndXBkYXRlJywgdGhpcy5fb25Nb2RlbENoYW5nZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGZpZWxkc1xuICAgKi9cbiAgY2xlYXJWYWxpZGF0aW9uKGZpZWxkcykge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gV2Uga2VlcCBpbmZvIGFib3V0IF9oaWRkZW5WYWxpZGF0aW9uRmllbGRzIGZvciBjYXNlcyB3aGVuIGNsZWFyVmFsaWRhdGlvbiB3YXMgY2FsbGVkIHdoaWxlIHZhbGlkYXRlRm9ybSB3YXNcbiAgICAvLyBjYWxsZWQgYW5kIGhhdmVuJ3QgZmluaXNoZWQsIHNvIHRoZW4gb2xkIHZhbGlkYXRpb24gcmVzdWx0IHNob3VsZG4ndCBzaG93IGVycm9ycyBmb3IgX2hpZGRlblZhbGlkYXRpb25GaWVsZHNcbiAgICAvLyBmaWVsZHMsIGJ1dCB0aGUgbmV4dCBjYWxsZWQgdmFsaWRhdGlvbnMgd2lsbCBjbGVhciBfaGlkZGVuVmFsaWRhdGlvbkZpZWxkcyBzbyB0aGUgZmllbGRzIHdpbGwgZ2V0IGVycm9ycyBhZ2Fpbi5cbiAgICAvLyBVc2UgY2FzZTogYSB1c2VyIGNoYW5nZWQgZmllbGQgJ25hbWUnLCBhIHZhbGlkYXRpb24gc3RhcnRlZCwgdGhlIHVzZXIgZm9jdXNlZCBmaWVsZCAnYWdlJyBzbyB3ZSBjYWxsZWRcbiAgICAvLyBjbGVhclZhbGlkYXRpb24oJ2FnZScpLCB0aGUgdmFsaWRhdGlvbiBmaW5pc2hlZCBhbmQgcmV0dXJuZWQgZXJyb3JzIGZvciBmaWVsZHMgJ25hbWUnIGFuZCAnYWdlJywgYnV0IHdlXG4gICAgLy8gc2hvdWxkbid0IHNob3cgZXJyb3IgZm9yIGZpZWxkICdhZ2UnIGJlY2F1c2UgdGhlIHVzZXIgaGFzIGp1c3QgZm9jdXNlZCBpdC4gVGhlbiB1c2VyIGJsdXJlZCBmaWVsZCAnYWdlJywgYSBuZXdcbiAgICAvLyB2YWxpZGF0aW9uIHN0YXRlZCBhbmQgaXQgc2hvdWxkIHNob3cgZXJyb3JzIGZvciBmaWVsZCAnYWdlJy5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShmaWVsZHMpKSB7XG4gICAgICB0aGlzLl9oaWRkZW5WYWxpZGF0aW9uRmllbGRzLnB1c2goLi4uZmllbGRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZGVuVmFsaWRhdGlvbkZpZWxkcy5wdXNoKGZpZWxkcyk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0U3RhdGUoKTtcbiAgfVxuXG4gIGNsZWFyRXJyb3IoZmllbGQpIHtcbiAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0ZWQ6IEZvcm1TZXJ2aWNlIG1ldGhvZCBcImNsZWFyRXJyb3JcIiByZW5hbWVkIHRvIFwiY2xlYXJWYWxpZGF0aW9uXCInKTtcbiAgICB0aGlzLmNsZWFyVmFsaWRhdGlvbihmaWVsZCk7XG4gIH1cblxuICBhc3luYyB2YWxpZGF0ZUZpZWxkKGZpZWxkLCB2YWx1ZSkge1xuICAgIGF3YWl0IHRoaXMuc2V0KHtcbiAgICAgIFtmaWVsZF06IHBhcnNlVmFsdWVGcm9tRXZlbnQodmFsdWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGRhdGEgaW4gdGhlIGZvcm1cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgIGRhdGEgICAgICAgICAgICAgIERhdGFcbiAgICogQHBhcmFtIHtib29sfSAgICAgIFt2YWxpZGF0ZT1mYWxzZV0gIFZhbGlkYXRlIGZvcm1cbiAgICovXG4gIGFzeW5jIHNldChkYXRhLCB2YWxpZGF0ZSkge1xuICAgIGlmICghdGhpcy5faXNMb2FkZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2NoYW5nZXMgPSBnZXRSZWNvcmRDaGFuZ2VzKHRoaXMubW9kZWwsIHRoaXMuX2RhdGEsIHRoaXMuX2NoYW5nZXMsIGRhdGEpO1xuXG4gICAgdGhpcy5fc2V0U3RhdGUoKTtcblxuICAgIGlmICh2YWxpZGF0ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy52YWxpZGF0ZUZvcm0oKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIFRocm90dGxlRXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHN1Ym1pdERhdGEoZGF0YSkge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5zZXQoZGF0YSk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc3VibWl0KCk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBmb3JtIGRhdGEgdG8gdGhlIG1vZGVsXG4gICAqL1xuICBhc3luYyBzdWJtaXQoKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQgfHwgdGhpcy5faXNTdWJtaXR0aW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2hhbmdlcyA9IHRoaXMuX2dldENoYW5nZXMoKTtcblxuICAgIHRoaXMuX2lzU3VibWl0dGluZyA9IHRydWU7XG4gICAgdGhpcy5fcGFydGlhbEVycm9yQ2hlY2tpbmcgPSBmYWxzZTtcbiAgICBjb25zdCBjb3VudE9mSGlkZGVuVmFsaWRhdGlvbkZpZWxkc1RvUmVtb3ZlID0gdGhpcy5faGlkZGVuVmFsaWRhdGlvbkZpZWxkcy5sZW5ndGg7XG5cbiAgICB0aGlzLl9zZXRTdGF0ZSgpO1xuXG4gICAgLy8gU2VuZCBjaGFuZ2VzIHRvIG1vZGVsXG4gICAgbGV0IGRhdGE7XG4gICAgbGV0IHZhbGlkYXRpb25FcnJvcnM7XG4gICAgdHJ5IHtcbiAgICAgIGRhdGEgPSBhd2FpdCB0aGlzLm1vZGVsLnN1Ym1pdChjaGFuZ2VzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIFZhbGlkYXRpb25FcnJvcnMpKSB7XG4gICAgICAgIHRoaXMuX2lzU3VibWl0dGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zZXRTdGF0ZSgpO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgICB2YWxpZGF0aW9uRXJyb3JzID0gZXJyO1xuICAgIH1cblxuICAgIHRoaXMuX2lzU3VibWl0dGluZyA9IGZhbHNlO1xuXG4gICAgY29uc3QgbmV3Q2hhbmdlcyA9IHRoaXMuX2dldENoYW5nZXMoKTtcbiAgICBjb25zdCBhY3R1YWxDaGFuZ2VzID0gaXNFcXVhbChjaGFuZ2VzLCBuZXdDaGFuZ2VzKTtcblxuICAgIGlmIChhY3R1YWxDaGFuZ2VzKSB7XG4gICAgICBpZiAodmFsaWRhdGlvbkVycm9ycykge1xuICAgICAgICB0aGlzLl9lcnJvcnMgPSB2YWxpZGF0aW9uRXJyb3JzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZXJyb3JzID0gbmV3IFZhbGlkYXRpb25FcnJvcnMoKTtcbiAgICAgICAgdGhpcy5fY2hhbmdlcyA9IHt9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2hpZGRlblZhbGlkYXRpb25GaWVsZHMuc3BsaWNlKDAsIGNvdW50T2ZIaWRkZW5WYWxpZGF0aW9uRmllbGRzVG9SZW1vdmUpO1xuXG4gICAgdGhpcy5fc2V0U3RhdGUoKTtcblxuICAgIGlmICh2YWxpZGF0aW9uRXJyb3JzKSB7XG4gICAgICB0aHJvdyB2YWxpZGF0aW9uRXJyb3JzO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgY2xlYXJGaWVsZENoYW5nZXMoZmllbGQpIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2Vycm9ycy5jbGVhckZpZWxkKGZpZWxkKTtcbiAgICB0aGlzLl93YXJuaW5ncy5jbGVhckZpZWxkKGZpZWxkKTtcbiAgICBkZWxldGUgdGhpcy5fY2hhbmdlc1tmaWVsZF07XG4gICAgdGhpcy5fc2V0U3RhdGUoKTtcbiAgfVxuXG4gIGNsZWFyQ2hhbmdlcygpIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2Vycm9ycy5jbGVhcigpO1xuICAgIHRoaXMuX3dhcm5pbmdzLmNsZWFyKCk7XG4gICAgdGhpcy5fY2hhbmdlcyA9IHt9O1xuICAgIHRoaXMuX3BhcnRpYWxFcnJvckNoZWNraW5nID0gdGhpcy5fcGFydGlhbEVycm9yQ2hlY2tpbmdEZWZhdWx0O1xuICAgIHRoaXMuX3NldFN0YXRlKCk7XG4gIH1cblxuICBzZXRQYXJ0aWFsRXJyb3JDaGVja2luZyh2YWx1ZSkge1xuICAgIHRoaXMuX3BhcnRpYWxFcnJvckNoZWNraW5nID0gdmFsdWU7XG4gICAgdGhpcy5fc2V0U3RhdGUoKTtcbiAgfVxuXG4gIGdldFBhcnRpYWxFcnJvckNoZWNraW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9wYXJ0aWFsRXJyb3JDaGVja2luZztcbiAgfVxuXG4gIGFzeW5jIHZhbGlkYXRlRm9ybSgpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3ZhbGlkYXRlRm9ybSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBUaHJvdHRsZUVycm9yKSkge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF92YWxpZGF0ZUZvcm0oKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBXZSBzaG91bGQgcmVtb3ZlIG9ubHkgdGhvc2UgaGlkZGVuVmFsaWRhdGlvbkZpZWxkcyB0aGF0IHdlcmUgcHJlc2VudCBiZWZvcmUgdmFsaWRhdGlvbiBzdGFydGVkIGFuZCBrZWVwIHRob3NlXG4gICAgLy8gdGhhdCB3ZXJlIGFkZGVkIGFmdGVyIHZhbGlkYXRpb24gc3RhcnRlZCAoc28gaXQgaXMgcG9zc2libGUgYW5kIG9rIHRoYXQgZmllbGQgJ25hbWUnIG1heSBiZSBwcmVzZW50IDIgdGltZXM6XG4gICAgLy8gMSBmb3Igb2xkIHZhbGlkYXRpb24gY2FsbCBhbmQgMSBmb3IgdGhlIG5ldykuXG4gICAgLy8gVGFrZSBpbnRvIGFjY291bnQgdGhhdCBfdmFsaWRhdGVGb3JtIGlzIHRocm90dGxlZCwgc28gbmV4dCBjYWxscyB3aWxsIGJlIHNraXBwZWQgb3Igc2NoZWR1bGVkIGFmdGVyIGN1cnJlbnQgY2FsbFxuICAgIC8vIGZpbmlzaGVzLiBJdCBtZWFucyB3ZSBkb24ndCBuZWVkIHRvIGNhcmUgYWJvdXQgcGFyYWxsZWwgY2FsbHMgYmVjYXVzZSB0aGV5IGFyZSBpbXBvc3NpYmxlLlxuICAgIGNvbnN0IGNvdW50T2ZIaWRkZW5WYWxpZGF0aW9uRmllbGRzVG9SZW1vdmUgPSB0aGlzLl9oaWRkZW5WYWxpZGF0aW9uRmllbGRzLmxlbmd0aDtcbiAgICB0aGlzLnZhbGlkYXRpbmcgPSB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgdGhpcy5fcnVuVmFsaWRhdG9yKHRoaXMubW9kZWwsIHRoaXMuX2dldENoYW5nZXMsICdfZXJyb3JzJyksXG4gICAgICAgIHRoaXMuX3J1blZhbGlkYXRvcih0aGlzLl93YXJuaW5nc1ZhbGlkYXRvciwgdGhpcy5fZ2V0RGF0YSwgJ193YXJuaW5ncycpXG4gICAgICBdKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy52YWxpZGF0aW5nID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuX2hpZGRlblZhbGlkYXRpb25GaWVsZHMuc3BsaWNlKDAsIGNvdW50T2ZIaWRkZW5WYWxpZGF0aW9uRmllbGRzVG9SZW1vdmUpO1xuXG4gICAgICB0aGlzLl9zZXRTdGF0ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGRpc3BsYXllZEVycm9ycyA9IHRoaXMuX2dldERpc3BsYXllZEVycm9ycyh0aGlzLl9lcnJvcnMpO1xuICAgIGNvbnN0IGRpc3BsYXllZFdhcm5pbmcgPSB0aGlzLl9nZXREaXNwbGF5ZWRFcnJvcnModGhpcy5fd2FybmluZ3MpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yczogIWRpc3BsYXllZEVycm9ycy5pc0VtcHR5KCkgPyBkaXNwbGF5ZWRFcnJvcnMgOiBudWxsLFxuICAgICAgd2FybmluZ3M6ICFkaXNwbGF5ZWRXYXJuaW5nLmlzRW1wdHkoKSA/IGRpc3BsYXllZFdhcm5pbmcgOiBudWxsLFxuICAgIH07XG4gIH1cblxuICBfZ2V0RmllbGRzKGRhdGEsIGNoYW5nZXMsIGVycm9ycywgd2FybmluZ3MpIHtcbiAgICBjb25zdCBwcm94eSA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgZ2V0KHRhcmdldCwgZmllbGROYW1lKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmFsdWU6IGRhdGFbZmllbGROYW1lXSxcbiAgICAgICAgICBpc0NoYW5nZWQ6IGNoYW5nZXMuaGFzT3duUHJvcGVydHkoZmllbGROYW1lKSxcbiAgICAgICAgICBlcnJvcnM6IGVycm9ycy5nZXRGaWVsZEVycm9yTWVzc2FnZXMoZmllbGROYW1lKSxcbiAgICAgICAgICB3YXJuaW5nczogd2FybmluZ3MuZ2V0RmllbGRFcnJvck1lc3NhZ2VzKGZpZWxkTmFtZSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEV4cGxpY2l0IGRlY2xhcmF0aW9uIG9mIGZpZWxkcyBpbiBhbiBvYmplY3RcbiAgICBpZiAodGhpcy5maWVsZHMpIHtcbiAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgdGhpcy5maWVsZHMpIHtcbiAgICAgICAgcHJveHlbZmllbGRdID0gcHJveHlbZmllbGRdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwcm94eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpcyBkYXRhIGxvYWRlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIF9pc0xvYWRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YSAhPT0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZm9ybSBjaGFuZ2VzXG4gICAqXG4gICAqIEByZXR1cm4ge3t9fVxuICAgKi9cbiAgX2dldENoYW5nZXNGaWVsZHMoKSB7IC8vIFRPRE8gX2dldENoYW5nZXNcbiAgICBjb25zdCBjaGFuZ2VzID0ge307XG4gICAgZm9yIChjb25zdCBmaWVsZCBpbiB0aGlzLl9jaGFuZ2VzKSB7XG4gICAgICBpZiAoIXRoaXMuX2lzRGVwZW5kZW50RmllbGQoZmllbGQpKSB7XG4gICAgICAgIGNoYW5nZXNbZmllbGRdID0gdGhpcy5fY2hhbmdlc1tmaWVsZF07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbHRlciBlcnJvcnMgZGVwZW5kaW5nIG9uIHRoZSBwYXJ0aWFsRXJyb3JDaGVja2luZyBtb2RlIGFuZCBjbGVhclZhbGlkYXRpb24gbWV0aG9kXG4gICAqXG4gICAqIEBwYXJhbSB7VmFsaWRhdGlvbkVycm9yc30gIHZhbGlkYXRpb25FcnJvcnNcbiAgICogQHJldHVybnMge1ZhbGlkYXRpb25FcnJvcnN9IEZvcm0gZmllbGRzXG4gICAqL1xuICBfZ2V0RGlzcGxheWVkRXJyb3JzKHZhbGlkYXRpb25FcnJvcnMpIHtcbiAgICBjb25zdCBmaWx0ZXJlZEVycm9ycyA9IHZhbGlkYXRpb25FcnJvcnMuY2xvbmUoKTtcblxuICAgIGZvciAoY29uc3QgZmllbGQgb2YgdmFsaWRhdGlvbkVycm9ycy5nZXRFcnJvcnMoKS5rZXlzKCkpIHtcbiAgICAgIGNvbnN0IGlzRmllbGRQcmlzdGluZSA9ICF0aGlzLl9jaGFuZ2VzLmhhc093blByb3BlcnR5KGZpZWxkKVxuICAgICAgICB8fCBpc0VxdWFsKHRoaXMuX2NoYW5nZXNbZmllbGRdLCB0aGlzLl9kYXRhW2ZpZWxkXSk7XG4gICAgICBpZiAodGhpcy5faGlkZGVuVmFsaWRhdGlvbkZpZWxkcy5pbmNsdWRlcyhmaWVsZCkgfHwgdGhpcy5fcGFydGlhbEVycm9yQ2hlY2tpbmcgJiYgaXNGaWVsZFByaXN0aW5lKSB7XG4gICAgICAgIGZpbHRlcmVkRXJyb3JzLmNsZWFyRmllbGQoZmllbGQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaWx0ZXJlZEVycm9ycztcbiAgfVxuXG4gIF9zZXRTdGF0ZSgpIHtcbiAgICB0aGlzLl9ldmVudEVtaXR0ZXIudHJpZ2dlcigndXBkYXRlJywgdGhpcy5nZXRBbGwoKSk7XG4gIH1cblxuICAvKipcbiAgICogTW9kZWwgcmVjb3JkcyBjaGFuZ2VzIGhhbmRsZXJcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNoYW5nZXMgIENoYW5nZXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9vbk1vZGVsQ2hhbmdlKGNoYW5nZXMpIHtcbiAgICB0aGlzLl9kYXRhID0gey4uLnRoaXMuX2RhdGEsIC4uLmNoYW5nZXN9O1xuICAgIHRoaXMuX3NldFN0YXRlKCk7XG4gIH1cblxuICBfZ2V0RGF0YSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fZGF0YSwgdGhpcy5fY2hhbmdlcyk7XG4gIH1cblxuICBfZ2V0Q2hhbmdlcygpIHtcbiAgICAvLyBTZW5kIGFsbCBkYXRhIG9yIGp1c3QgY2hhbmdlZCBmaWVsZHMgaW4gYWRkaWN0aW9uIG9mIGZvcm0gY29uZmlndXJhdGlvblxuICAgIGlmICh0aGlzLnN1Ym1pdEFsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldERhdGEoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NoYW5nZXM7XG4gIH1cblxuICBfaXNEZXBlbmRlbnRGaWVsZChmaWVsZCkge1xuICAgIHJldHVybiB0aGlzLl9jaGFuZ2VzLmhhc093blByb3BlcnR5KGZpZWxkKSAmJiBpc0VxdWFsKHRoaXMuX2NoYW5nZXNbZmllbGRdLCB0aGlzLl9kYXRhW2ZpZWxkXSk7XG4gIH1cblxuICBhc3luYyBfcnVuVmFsaWRhdG9yKHZhbGlkYXRvciwgZ2V0RGF0YSwgb3V0cHV0KSB7XG4gICAgY29uc3QgZGF0YSA9IGdldERhdGEoKTtcbiAgICBpZiAoaXNFbXB0eShkYXRhKSkge1xuICAgICAgdGhpc1tvdXRwdXRdLmNsZWFyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB2YWxpZEVycm9ycztcblxuICAgIHRyeSB7XG4gICAgICB2YWxpZEVycm9ycyA9IGF3YWl0IHZhbGlkYXRvci5pc1ZhbGlkUmVjb3JkKGRhdGEpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXNbb3V0cHV0XS5jbGVhcigpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgICBpZiAoaXNFcXVhbChkYXRhLCBnZXREYXRhKCkpKSB7XG4gICAgICB0aGlzW291dHB1dF0gPSB2YWxpZEVycm9ycztcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybVNlcnZpY2U7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgVmFsaWRhdGlvbkVycm9ycyBmcm9tICcuLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0aW9uRXJyb3JzJztcbmltcG9ydCBWYWxpZGF0b3IgZnJvbSAnLi4vY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdG9yJztcbmltcG9ydCBkZWZhdWx0WGhyIGZyb20gJy4uL2NvbW1vbi9kZWZhdWx0WGhyJztcbmltcG9ydCBFdmVudHNNb2RlbCBmcm9tICcuLi9jb21tb24vRXZlbnRzJztcbmltcG9ydCB1cmwgZnJvbSAndXJsJztcblxuY2xhc3MgRm9ybVhock1vZGVsIGV4dGVuZHMgRXZlbnRzTW9kZWwge1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBpZiAoIXNldHRpbmdzLmFwaSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0luaXRpYWxpemF0aW9uIHByb2JsZW06IFxcJ2FwaVxcJyBtdXN0IGJlIHNwZWNpZmllZC4nKTtcbiAgICB9XG5cbiAgICB0aGlzLl92YWxpZGF0b3IgPSBzZXR0aW5ncy52YWxpZGF0b3IgfHwgbmV3IFZhbGlkYXRvcigpO1xuICAgIHRoaXMuX3hociA9IHNldHRpbmdzLnhociB8fCBkZWZhdWx0WGhyO1xuICAgIHRoaXMuX2FwaVVybCA9IHNldHRpbmdzLmFwaVxuICAgICAgLnJlcGxhY2UoLyhbXi9dKVxcPy8sICckMS8/JykgLy8gQWRkIFwiL1wiIGJlZm9yZSBcIj9cIlxuICAgICAgLnJlcGxhY2UoL15bXj9dKlteL10kLywgJyQmLycpOyAvLyBBZGQgXCIvXCIgdG8gdGhlIGVuZFxuICB9XG5cbiAgYXN5bmMgZ2V0RGF0YShmaWVsZHMpIHtcbiAgICBjb25zdCBwYXJzZWRVcmwgPSB1cmwucGFyc2UodGhpcy5fYXBpVXJsLCB0cnVlKTtcbiAgICBwYXJzZWRVcmwucXVlcnkuZmllbGRzID0gSlNPTi5zdHJpbmdpZnkoZmllbGRzKTtcbiAgICBkZWxldGUgcGFyc2VkVXJsLnNlYXJjaDtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5feGhyKHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICB1cmk6IHVybC5mb3JtYXQocGFyc2VkVXJsKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICB9XG5cbiAgYXN5bmMgc3VibWl0KGNoYW5nZXMpIHtcbiAgICBsZXQgYm9keSA9IGF3YWl0IHRoaXMuX3hocih7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSxcbiAgICAgIHVyaTogdGhpcy5fYXBpVXJsLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2hhbmdlcylcbiAgICB9KTtcblxuICAgIGJvZHkgPSBKU09OLnBhcnNlKGJvZHkpO1xuXG4gICAgaWYgKGJvZHkuZXJyb3IpIHtcbiAgICAgIHRocm93IFZhbGlkYXRpb25FcnJvcnMuY3JlYXRlRnJvbUpTT04oYm9keS5lcnJvcik7XG4gICAgfVxuXG4gICAgdGhpcy50cmlnZ2VyKCd1cGRhdGUnLCBib2R5LmRhdGEpO1xuICAgIHJldHVybiBib2R5LmRhdGE7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGlvbiBjaGVja1xuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICByZWNvcmRcbiAgICovXG4gIGlzVmFsaWRSZWNvcmQocmVjb3JkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRvci5pc1ZhbGlkUmVjb3JkKHJlY29yZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBkZXBlbmRlbnQgZmllbGRzLCB0aGF0IGFyZSByZXF1aXJlZCBmb3IgdmFsaWRhdGlvblxuICAgKlxuICAgKiBAcGFyYW0gICB7QXJyYXl9ICBmaWVsZHMgICBGaWVsZHMgbGlzdFxuICAgKiBAcmV0dXJucyB7QXJyYXl9ICBEZXBlbmRlbmNpZXNcbiAgICovXG4gIGdldFZhbGlkYXRpb25EZXBlbmRlbmN5KGZpZWxkcykge1xuICAgIHJldHVybiB0aGlzLl92YWxpZGF0b3IuZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koZmllbGRzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtWGhyTW9kZWw7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgRXZlbnRzIGZyb20gJy4uLy4uL2NvbW1vbi9FdmVudHMnO1xuaW1wb3J0IHtwaWNrfSBmcm9tICcuLi8uLi9jb21tb24vdXRpbHMnO1xuXG5jbGFzcyBHcmlkVG9Gb3JtQ3JlYXRlIGV4dGVuZHMgRXZlbnRzIHtcbiAgLyoqXG4gICAqIEFkYXB0ZXIgYWxsb3dzIHRvIHVzZSBHcmlkIG1vZGVsIGFzIGEgbW9kZWwgZm9yIG5ldyBmb3JtIHJlY29yZCBjcmVhdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0Fic3RyYWN0R3JpZE1vZGVsfSAgIG1vZGVsICAgICAgICAgICBHcmlkIG1vZGVsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgICAgW2luaXRpYWxEYXRhXSAgIERlZmF1bHQgZmllbGQgdmFsdWVzXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IobW9kZWwsIGluaXRpYWxEYXRhKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuX2FkYXB0ZXIgPSB7XG4gICAgICBtb2RlbDogbW9kZWwsXG4gICAgICBpbml0aWFsRGF0YTogaW5pdGlhbERhdGEgfHwge31cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgICBmaWVsZHMgICAgIFJlcXVpcmVkIGZpZWxkc1xuICAgKi9cbiAgYXN5bmMgZ2V0RGF0YShmaWVsZHMpIHtcbiAgICBpZiAoZmllbGRzICYmIGZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBwaWNrKHRoaXMuX2FkYXB0ZXIuaW5pdGlhbERhdGEsIGZpZWxkcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hZGFwdGVyLmluaXRpYWxEYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBuZXcgcmVjb3JkXG4gICAqXG4gICAqIEBwYXJhbSAgIHtPYmplY3R9ICAgICAgZGF0YSAgICAgIFJlY29yZFxuICAgKi9cbiAgYXN5bmMgc3VibWl0KGRhdGEpIHtcbiAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2FkYXB0ZXIubW9kZWw7XG4gICAgcmV0dXJuIGF3YWl0IG1vZGVsLmNyZWF0ZShkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0aW9uIGNoZWNraW5nXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHJlY29yZCAgUmVjb3JkIG9iamVjdFxuICAgKi9cbiAgYXN5bmMgaXNWYWxpZFJlY29yZChyZWNvcmQpIHtcbiAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2FkYXB0ZXIubW9kZWw7XG4gICAgcmV0dXJuIGF3YWl0IG1vZGVsLmlzVmFsaWRSZWNvcmQocmVjb3JkLCBudWxsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGRlcGVuZGVudCBmaWVsZHMsIHRoYXQgYXJlIHJlcXVpcmVkIGZvciB2YWxpZGF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSAgIHtBcnJheX0gIGZpZWxkc1xuICAgKiBAcmV0dXJucyB7QXJyYXl9ICBEZXBlbmRlbmNpZXNcbiAgICovXG4gIGdldFZhbGlkYXRpb25EZXBlbmRlbmN5KGZpZWxkcykge1xuICAgIHJldHVybiB0aGlzLl9hZGFwdGVyLm1vZGVsLmdldFZhbGlkYXRpb25EZXBlbmRlbmN5KGZpZWxkcyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JpZFRvRm9ybUNyZWF0ZTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBWYWxpZGF0aW9uRXJyb3JzIGZyb20gJy4uLy4uL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRpb25FcnJvcnMnO1xuaW1wb3J0IEV2ZW50cyBmcm9tICcuLi8uLi9jb21tb24vRXZlbnRzJztcbmltcG9ydCB7aXNFcXVhbCwgY2xvbmV9IGZyb20gJy4uLy4uL2NvbW1vbi91dGlscyc7XG5cbmNsYXNzIEdyaWRUb0Zvcm1VcGRhdGUgZXh0ZW5kcyBFdmVudHMge1xuICAvKipcbiAgICogQWRhcHRlciB0aGF0IGFsbG93cyB1cyB0byB1c2UgR3JpZCBtb2RlbCByZWNvcmQgYXMgYSBmb3JtIG1vZGVsXG4gICAqXG4gICAqIEBwYXJhbSB7QWJzdHJhY3RHcmlkTW9kZWx9IG1vZGVsICAgR3JpZCBtb2RlbFxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9ICAgICBpZCAgICAgIFJlY29yZCBJRFxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1vZGVsLCBpZCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLl9hZGFwdGVyID0ge1xuICAgICAgbW9kZWw6IG1vZGVsLFxuICAgICAgaWQ6IGlkXG4gICAgfTtcblxuICAgIHRoaXMuX29uVXBkYXRlSGFuZGxlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gaW5uZXIgbW9kZWwgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgZXZlbnQgICBFdmVudCBJRFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgICBjYiAgICAgIENhbGxCYWNrIGZ1bmN0aW9uXG4gICAqL1xuICBvbihldmVudCwgY2IpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzO1xuXG4gICAgaWYgKGV2ZW50ICE9PSAndXBkYXRlJykge1xuICAgICAgRXZlbnRzLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIGV2ZW50LCBjYik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gb25DaGFuZ2UgZmlsdGVycyBvdXQgdGFibGUgZXZlbnRzLCB0aGF0IGRvIG5vdCByZWdhcmQgdG8gb3VyIHJlY29yZFxuICAgIGZ1bmN0aW9uIG9uQ2hhbmdlKGNoYW5nZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXNFcXVhbChjaGFuZ2VzW2ldWzBdLCBjdHguX2FkYXB0ZXIuaWQpKSB7XG4gICAgICAgICAgY2IoY2hhbmdlc1tpXVsxXSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fb25VcGRhdGVIYW5kbGVycy5wdXNoKHtcbiAgICAgIG9yaWdpbmFsQ2FsbGJhY2s6IGNiLFxuICAgICAgd3JhcHBlZENhbGxiYWNrOiBvbkNoYW5nZVxuICAgIH0pO1xuXG4gICAgdGhpcy5fYWRhcHRlci5tb2RlbC5vbigndXBkYXRlJywgb25DaGFuZ2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGZyb20gaW5uZXIgbW9kZWwgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgZXZlbnQgICBFdmVudCBJRFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgICBjYiAgICAgIENhbGxCYWNrIGZ1bmN0aW9uXG4gICAqL1xuICBvZmYoZXZlbnQsIGNiKSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcztcbiAgICBjb25zdCBuZXdPblVwZGF0ZUhhbmRsZXJzID0gW107XG5cbiAgICBpZiAoZXZlbnQgIT09ICd1cGRhdGUnKSB7XG4gICAgICBFdmVudHMucHJvdG90eXBlLm9mZi5jYWxsKHRoaXMsIGV2ZW50LCBjYik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fb25VcGRhdGVIYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4ge1xuICAgICAgaWYgKGhhbmRsZXIub3JpZ2luYWxDYWxsYmFjayA9PT0gY2IpIHtcbiAgICAgICAgY3R4Ll9hZGFwdGVyLm1vZGVsLm9mZigndXBkYXRlJywgaGFuZGxlci53cmFwcGVkQ2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3T25VcGRhdGVIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fb25VcGRhdGVIYW5kbGVycyA9IG5ld09uVXBkYXRlSGFuZGxlcnM7XG4gIH1cblxuICBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkYXB0ZXIubW9kZWwubGlzdGVuZXJDb3VudChldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gICAgIGZpZWxkcyAgICAgUmVxdWlyZWQgZmllbGRzXG4gICAqL1xuICBhc3luYyBnZXREYXRhKGZpZWxkcykge1xuICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fYWRhcHRlci5tb2RlbDtcbiAgICByZXR1cm4gYXdhaXQgbW9kZWwuZ2V0UmVjb3JkKHRoaXMuX2FkYXB0ZXIuaWQsIGZpZWxkcyk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgY2hhbmdlc1xuICAgKlxuICAgKiBAcGFyYW0gICB7T2JqZWN0fSAgICAgIGNoYW5nZXMgICAgIEZvcm0gZGF0YVxuICAgKi9cbiAgYXN5bmMgc3VibWl0KGNoYW5nZXMpIHtcbiAgICBjb25zdCByZWNvcmQgPSBjbG9uZShjaGFuZ2VzKTtcbiAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2FkYXB0ZXIubW9kZWw7XG5cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbW9kZWwudXBkYXRlKFtbdGhpcy5fYWRhcHRlci5pZCwgcmVjb3JkXV0pO1xuICAgIHJlc3VsdCA9IHJlc3VsdFswXVsxXTtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IgfHwgcmVzdWx0IGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9ycykge1xuICAgICAgdGhyb3cgcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlY29yZCB2YWxpZGl0eSBjaGVja1xuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICByZWNvcmQgIFJlY29yZCBvYmplY3RcbiAgICovXG4gIGFzeW5jIGlzVmFsaWRSZWNvcmQocmVjb3JkKSB7XG4gICAgY29uc3QgbW9kZWwgPSB0aGlzLl9hZGFwdGVyLm1vZGVsO1xuICAgIHJldHVybiBhd2FpdCBtb2RlbC5pc1ZhbGlkUmVjb3JkKHJlY29yZCwgdGhpcy5fYWRhcHRlci5pZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBkZXBlbmRlbnQgZmllbGRzLCB0aGF0IGFyZSByZXF1aXJlZCBmb3IgdmFsaWRhdGlvblxuICAgKlxuICAgKiBAcGFyYW0gICB7QXJyYXl9ICBmaWVsZHMgIEZpZWxkcyBsaXN0XG4gICAqIEByZXR1cm5zIHtBcnJheX0gIERlcGVuZGVuY2llc1xuICAgKi9cbiAgZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koZmllbGRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkYXB0ZXIubW9kZWwuZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koZmllbGRzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcmlkVG9Gb3JtVXBkYXRlO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGb3JtU2VydmljZSBmcm9tICcuL0Zvcm1TZXJ2aWNlJztcblxuZnVuY3Rpb24gY29ubmVjdEZvcm0oZmllbGRzID0gbnVsbCkge1xuICByZXR1cm4gQ29tcG9uZW50ID0+IGNsYXNzIENvbXBvbmVudFdpdGhGb3JtU2VydmljZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpcy5mb3JtID0gbmV3IEZvcm1TZXJ2aWNlKGZpZWxkcyk7XG4gICAgICB0aGlzLnN0YXRlID0gdGhpcy5mb3JtLmdldEFsbCgpO1xuXG4gICAgICB0aGlzLm9uRm9ybUNoYW5nZSA9IHRoaXMub25Gb3JtQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZm9ybS5nZXRBbGwoKTtcbiAgICAgIGlmIChzdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZm9ybS5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLm9uRm9ybUNoYW5nZSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICB0aGlzLmZvcm0ucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5vbkZvcm1DaGFuZ2UpO1xuICAgIH1cblxuICAgIG9uRm9ybUNoYW5nZShuZXdGb3JtU3RhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV3Rm9ybVN0YXRlKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gPENvbXBvbmVudCB7Li4udGhpcy5wcm9wc30gZm9ybURhdGE9e3RoaXMuc3RhdGV9IGZvcm1TZXJ2aWNlPXt0aGlzLmZvcm19Lz47XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0Rm9ybTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7dGhyb3R0bGUsIGlzRW1wdHksIGlzRXF1YWwsIGNsb25lRGVlcCwgcGFyc2VWYWx1ZUZyb21FdmVudCwgZ2V0UmVjb3JkQ2hhbmdlcywgZm9yRWFjaCwgY2xvbmV9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5pbXBvcnQgdG9Qcm9taXNlIGZyb20gJy4uL2NvbW1vbi90b1Byb21pc2UnO1xuaW1wb3J0IFZhbGlkYXRvciBmcm9tICcuLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0b3InO1xuaW1wb3J0IFZhbGlkYXRpb25FcnJvcnMgZnJvbSAnLi4vY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdGlvbkVycm9ycyc7XG5pbXBvcnQgY2FsbGJhY2tpZnkgZnJvbSAnLi4vY29tbW9uL2NhbGxiYWNraWZ5JztcblxuLyoqXG4gKiBHcmlkIGZvcm0gbWl4aW5cbiAqIEBtaXhpblxuICovXG5jb25zdCBGb3JtTWl4aW4gPSB7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX3ZhbGlkYXRlRm9ybSA9IHRocm90dGxlKHRoaXMuX3ZhbGlkYXRlRm9ybSk7XG5cbiAgICBpZiAodGhpcy5faGFuZGxlTW9kZWxDaGFuZ2UubmFtZS5pbmRleE9mKCdib3VuZCAnKSAhPT0gMCkgeyAvLyBTdXBwb3J0IFJlYWN0LmNyZWF0ZUNsYXNzIGFuZCBtaXhpbi1kZWNvcmF0b3JzXG4gICAgICB0aGlzLl9oYW5kbGVNb2RlbENoYW5nZSA9IHRoaXMuX2hhbmRsZU1vZGVsQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9nZXREYXRhID0gdGhpcy5fZ2V0RGF0YS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fZ2V0Q2hhbmdlcyA9IHRoaXMuX2dldENoYW5nZXMuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMudmFsaWRhdGVGb3JtID0gdGhpcy52YWxpZGF0ZUZvcm0uYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgX2Zvcm1NaXhpbjogbnVsbFxuICAgIH07XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5faXNVbm1vdW50ZWQgPSBmYWxzZTtcbiAgfSxcblxuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX2lzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICBpZiAoIXRoaXMuX2lzTm90SW5pdGlhbGl6ZWQoKSkge1xuICAgICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLm1vZGVsLm9mZigndXBkYXRlJywgdGhpcy5faGFuZGxlTW9kZWxDaGFuZ2UpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBmb3JtXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICAgIHNldHRpbmdzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgICAgICAgICAgIHNldHRpbmdzLmZpZWxkcyAgICAgICAgICAgICAgICAgICAgICAgICBGaWVsZHMgbGlzdCwgdGhhdCBhcmUgcmVxdWlyZWQgdG8gZGlzcGxheVxuICAgKiBAcGFyYW0ge0Zvcm1Nb2RlbH0gICAgICAgICBzZXR0aW5ncy5tb2RlbCAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kZWwgb2YgZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgICBbc2V0dGluZ3MuZGF0YV0gICAgICAgICAgICAgICAgICAgICAgICAgUHJlc2V0IGRhdGFcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgW3NldHRpbmdzLmNoYW5nZXMgICAgICAgICAgICAgICAgICAgICAgIFByZXNldCBjaGFuZ2VzXG4gICAqIEBwYXJhbSB7Ym9vbH0gICAgICAgICAgICAgIFtzZXR0aW5ncy5zdWJtaXRBbGw9ZmFsc2VdICAgICAgICAgICAgICBTZW5kIGFsbCBmb3JtIGZvciB2YWxpZGl0eSBjaGVja1xuICAgKiBAcGFyYW0ge2Jvb2x9ICAgICAgICAgICAgICBbc2V0dGluZ3MucGFydGlhbEVycm9yQ2hlY2tpbmc9ZmFsc2VdICAgQWN0aXZhdGUgcGFydGlhbCBncmFkdWFsIGZvcm0gdmFsaWRhdGlvblxuICAgKiBAcGFyYW0ge2Jvb2x9ICAgICAgICAgICAgICBbc2V0dGluZ3Muc2hvd0RlcGVuZGVudEZpZWxkcz1mYWxzZV0gICAgTWFyayB0aGUgZmllbGRzIHdoaWNoIGFyZSBpbnZvbHZlZCBpbiB0aGUgZ3JvdXAgdmFsaWRhdGlvblxuICAgKiBAcGFyYW0ge2Jvb2x9ICAgICAgICAgICAgICBbc2V0dGluZ3MuYXV0b1N1Ym1pdF0gICAgICAgICAgICAgICAgICAgQXV0b21hdGljIHN1Ym1pdCBiZWZvcmUgdXBkYXRlRmllbGRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gICAgICAgICAgW3NldHRpbmdzLmF1dG9TdWJtaXRIYW5kbGVyXSAgICAgICAgICAgIEF1dG9tYXRpYyBzdWJtaXQgaGFuZGxlclxuICAgKiBAcGFyYW0ge1ZhbGlkYXRvcn0gICAgICAgICBbc2V0dGluZ3Mud2FybmluZ3NWYWxpZGF0b3JdICAgICAgICAgICAgV2FybmluZ3NzIHZhbGlkYXRvciBmb3IgZmllbGRzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICAgICAgICAgIFtjYl0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYWxsQmFjayBmdW5jdGlvblxuICAgKi9cbiAgaW5pdEZvcm06IGNhbGxiYWNraWZ5KGFzeW5jIGZ1bmN0aW9uIChzZXR0aW5ncykge1xuICAgIHRoaXMuX2luaXRTdGF0ZShzZXR0aW5ncyk7XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5kYXRhKSB7XG4gICAgICBsZXQgZGF0YTtcbiAgICAgIGxldCBlcnI7XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhID0gYXdhaXQgc2V0dGluZ3MubW9kZWwuZ2V0RGF0YShzZXR0aW5ncy5maWVsZHMpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlcnIgPSBlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faXNVbm1vdW50ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5nbG9iYWxFcnJvciA9IGVycjtcbiAgICAgICAgYXdhaXQgdG9Qcm9taXNlKDo6dGhpcy5zZXRTdGF0ZSwgdHJ1ZSkodGhpcy5zdGF0ZSk7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLmRhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5tb2RlbC5vbigndXBkYXRlJywgdGhpcy5faGFuZGxlTW9kZWxDaGFuZ2UpO1xuICAgIGF3YWl0IHRvUHJvbWlzZSg6OnRoaXMuc2V0U3RhdGUsIHRydWUpKHRoaXMuc3RhdGUpO1xuICAgIGlmICghc2V0dGluZ3MucGFydGlhbEVycm9yQ2hlY2tpbmcpIHtcbiAgICAgIGF3YWl0IHRoaXMudmFsaWRhdGVGb3JtKCk7XG4gICAgfVxuICB9LCB0cnVlKSxcblxuICAvKipcbiAgICogQ2hlY2sgaXMgZGF0YSBsb2FkZWRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0xvYWRlZDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbiAmJlxuICAgICAgQm9vbGVhbih0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZGF0YSB8fCB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZ2xvYmFsRXJyb3IpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgZm9ybSBjaGFuZ2VzXG4gICAqXG4gICAqIEByZXR1cm4ge3t9fVxuICAgKi9cbiAgZ2V0Q2hhbmdlczogZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNoYW5nZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGZpZWxkIGluIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5jaGFuZ2VzKSB7XG4gICAgICBpZiAoIXRoaXMuX2lzRGVwZW5kZW50RmllbGQoZmllbGQpKSB7XG4gICAgICAgIGNoYW5nZXNbZmllbGRdID0gdGhpcy5zdGF0ZS5fZm9ybU1peGluLmNoYW5nZXNbZmllbGRdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlcztcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgZm9ybSBmaWVsZCAob3IgZW50aXJlIGZvcm0pIGlzIGNoYW5nZWRcbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSAgIGZpZWxkICBGaWVsZCBuYW1lXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBoYXNDaGFuZ2VzOiBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlLl9mb3JtTWl4aW47XG5cbiAgICBpZiAoZmllbGQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuICFpc0VtcHR5KHN0YXRlLmNoYW5nZXMpO1xuICAgIH1cblxuICAgIGlmICghc3RhdGUuc2hvd0RlcGVuZGVudEZpZWxkcyAmJiB0aGlzLl9pc0RlcGVuZGVudEZpZWxkKGZpZWxkKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBzdGF0ZS5jaGFuZ2VzLmhhc093blByb3BlcnR5KGZpZWxkKTtcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgZm9ybSBmaWVsZCBoYXMgdmFsaWRpdHkgZXJyb3JzXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ3xzdHJpbmdbXX0gICBmaWVsZCAgRmllbGQgbmFtZSBvciBhcnJheSBvZiBuYW1lc1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaGFzRXJyb3I6IGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGUuX2Zvcm1NaXhpbjtcblxuICAgIC8vIENoZWNrIGdyb3VwIG9mIGZpZWxkc1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZpZWxkKSkge1xuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBmaWVsZCkge1xuICAgICAgICBpZiAodGhpcy5oYXNFcnJvcihlbnRyeSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIElmIHBhcnRpYWwgY2hlY2sgaXMgb24gYW5kIGZpZWxkIGlzIGNoYW5nZWQsXG4gICAgLy8gZG8gbm90IGRpc3BsYXkgYW4gZXJyb3JcbiAgICBpZiAoc3RhdGUucGFydGlhbEVycm9yQ2hlY2tpbmcpIHtcbiAgICAgIGlmICghc3RhdGUuY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eShmaWVsZCkgfHwgaXNFcXVhbChzdGF0ZS5jaGFuZ2VzW2ZpZWxkXSwgc3RhdGUuZGF0YVtmaWVsZF0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5fZm9ybU1peGluLmVycm9ycy5oYXNFcnJvcihmaWVsZCkgfHwgdGhpcy5zdGF0ZS5fZm9ybU1peGluLndhcm5pbmdzLmhhc0Vycm9yKGZpZWxkKTtcbiAgfSxcblxuICBjbGVhckVycm9yOiBmdW5jdGlvbiAoZmllbGQsIGNiKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLl9mb3JtTWl4aW4udmFsaWRhdGluZykge1xuICAgICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLnBlbmRpbmdDbGVhckVycm9ycy5wdXNoKGZpZWxkKTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShmaWVsZCkpIHtcbiAgICAgIGZpZWxkLmZvckVhY2goZnVuY3Rpb24gKG9uZUZpZWxkKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5lcnJvcnMuY2xlYXJGaWVsZChvbmVGaWVsZCk7XG4gICAgICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi53YXJuaW5ncy5jbGVhckZpZWxkKG9uZUZpZWxkKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZXJyb3JzLmNsZWFyRmllbGQoZmllbGQpO1xuICAgICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLndhcm5pbmdzLmNsZWFyRmllbGQoZmllbGQpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5zdGF0ZSwgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nID8gY2IgOiBudWxsKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGZvcm0gZGF0YSB3aXRob3V0IGNoYW5nZXNcbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fG51bGx9XG4gICAqL1xuICBnZXRPcmlnaW5hbERhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCgpKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZGF0YSB8fCBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgZm9ybSBkYXRhXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdHxudWxsfVxuICAgKi9cbiAgZ2V0RGF0YTogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKCkpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lRGVlcCh0aGlzLl9nZXREYXRhKCkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgZm9ybSBlcnJvcnNcbiAgICpcbiAgICogQHJldHVybnMge1ZhbGlkYXRpb25FcnJvcnN9IEZvcm0gZXJyb3JzXG4gICAqL1xuICBnZXRWYWxpZGF0aW9uRXJyb3JzOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQoKSkge1xuICAgICAgcmV0dXJuIG5ldyBWYWxpZGF0aW9uRXJyb3JzKCk7XG4gICAgfVxuXG4gICAgbGV0IGZpZWxkO1xuICAgIGxldCBlcnJvcnMgPSBWYWxpZGF0aW9uRXJyb3JzLm1lcmdlKHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5lcnJvcnMsIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi53YXJuaW5ncyk7XG5cbiAgICAvLyBJZiBncmFkdWFsIHZhbGlkYXRpb24gaXMgb24sIHdlIG5lZWRcbiAgICAvLyB0byByZW1vdmUgdW5jaGFuZ2VkIHJlY29yZHMgZnJvbSBlcnJvcnMgb2JqZWN0XG4gICAgaWYgKHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5wYXJ0aWFsRXJyb3JDaGVja2luZykge1xuICAgICAgZXJyb3JzID0gdGhpcy5zdGF0ZS5fZm9ybU1peGluLmVycm9ycy5jbG9uZSgpO1xuXG4gICAgICAvLyBMb29rIHRocm91Z2ggYWxsIGZvcm0gZmllbGRzXG4gICAgICBmb3IgKGZpZWxkIGluIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5kYXRhKSB7XG4gICAgICAgIC8vIElmIGZpZWxkIGlzIHVuY2hhbmdlZCwgcmVtb3ZlIGVycm9ycywgdGhhdCByZWdhcmQgdG8gdGhpcyBmaWVsZFxuICAgICAgICBpZiAoXG4gICAgICAgICAgIXRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5jaGFuZ2VzLmhhc093blByb3BlcnR5KGZpZWxkKSB8fFxuICAgICAgICAgIGlzRXF1YWwodGhpcy5zdGF0ZS5fZm9ybU1peGluLmNoYW5nZXNbZmllbGRdLCB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZGF0YVtmaWVsZF0pXG4gICAgICAgICkge1xuICAgICAgICAgIGVycm9ycy5jbGVhckZpZWxkKGZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlcnJvcnM7XG4gIH0sXG5cbiAgZ2V0RmllbGRFcnJvcnM6IGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBJZiBwYXJ0aWFsIGNoZWNrIGlzIG9uIGFuZCBmaWVsZCBpcyBjaGFuZ2VkLFxuICAgIC8vIGRvIG5vdCBkaXNwbGF5IGFuIGVycm9yXG4gICAgaWYgKHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5wYXJ0aWFsRXJyb3JDaGVja2luZyAmJiAhdGhpcy5zdGF0ZS5fZm9ybU1peGluLmNoYW5nZXMuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZXJyb3JzLmdldEZpZWxkRXJyb3JNZXNzYWdlcyhmaWVsZCkgfHwgW107XG4gICAgY29uc3Qgd2FybmluZ3MgPSB0aGlzLnN0YXRlLl9mb3JtTWl4aW4ud2FybmluZ3MuZ2V0RmllbGRFcnJvck1lc3NhZ2VzKGZpZWxkKSB8fCBbXTtcblxuICAgIHJldHVybiBlcnJvcnMuY29uY2F0KHdhcm5pbmdzKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGdsb2JhbCBlcnJvciBkYXRhLCBpZiBpdCdzIHByZXNlbnRcbiAgICpcbiAgICogQHJldHVybnMge0Vycm9yfG51bGx9XG4gICAqL1xuICBnZXRHbG9iYWxFcnJvcjogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5fZm9ybU1peGluLmdsb2JhbEVycm9yO1xuICB9LFxuXG4gIC8qKlxuICAgKiBVcGRhdGUgZm9ybSB2YWx1ZS4gSXMgdXNlZCBhcyB0aGUgRWRpdG9ycyBvbkNoYW5nZSBoYW5kbGVyLlxuICAgKiBDYXVzZXMgY29tcG9uZW50IHJlZHJhdy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICBmaWVsZCAgIFBhcmFtZXRlclxuICAgKiBAcGFyYW0geyp9ICAgICAgICAgICAgICAgIHZhbHVlICAgRXZlbnQgb3IgZGF0YVxuICAgKi9cbiAgdXBkYXRlRmllbGQ6IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0KHtcbiAgICAgIFtmaWVsZF06IHBhcnNlVmFsdWVGcm9tRXZlbnQodmFsdWUpXG4gICAgfSk7XG4gIH0sXG5cbiAgdmFsaWRhdGVGaWVsZDogZnVuY3Rpb24gKGZpZWxkLCB2YWx1ZSwgY2IpIHtcbiAgICB0aGlzLnNldCh7XG4gICAgICBbZmllbGRdOiBwYXJzZVZhbHVlRnJvbUV2ZW50KHZhbHVlKVxuICAgIH0sIHRydWUsIGNiKTtcbiAgfSxcblxuICB2YWxpZGF0ZUZvcm06IGZ1bmN0aW9uIChjYikge1xuICAgIHRoaXMuX3ZhbGlkYXRlRm9ybShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9ycykpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0IGRhdGEgaW4gdGhlIGZvcm1cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgIGRhdGEgICAgICAgICAgICAgIERhdGFcbiAgICogQHBhcmFtIHtib29sZWFufSAgICAgIFt2YWxpZGF0ZT1mYWxzZV0gIFZhbGlkYXRlIGZvcm1cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gIFtjYl0gICAgICAgICAgICAgIENhbGxCYWNrXG4gICAqL1xuICBzZXQ6IGZ1bmN0aW9uIChkYXRhLCB2YWxpZGF0ZSwgY2IpIHtcbiAgICBpZiAoIXRoaXMuaXNMb2FkZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsaWRhdGUgPT09ICdmdW5jdGlvbicgJiYgIWNiKSB7XG4gICAgICBjYiA9IHZhbGlkYXRlO1xuICAgICAgdmFsaWRhdGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGUuX2Zvcm1NaXhpbjtcbiAgICBzdGF0ZS5jaGFuZ2VzID0gZ2V0UmVjb3JkQ2hhbmdlcyhzdGF0ZS5tb2RlbCwgc3RhdGUuZGF0YSwgc3RhdGUuY2hhbmdlcywgZGF0YSk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5fZm9ybU1peGluLmF1dG9TdWJtaXQpIHtcbiAgICAgIHRoaXMuc3VibWl0KChlcnIsIHJlc3VsdCkgPT4ge1xuICAgICAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uYXV0b1N1Ym1pdEhhbmRsZXIoZXJyLCByZXN1bHQpO1xuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY2IoZXJyLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodmFsaWRhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUodGhpcy5zdGF0ZSwgKCkgPT4gdGhpcy52YWxpZGF0ZUZvcm0oY2IpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHRoaXMuc3RhdGUsIHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJyA/IGNiIDogbnVsbCk7XG4gIH0sXG5cbiAgc3VibWl0RGF0YTogZnVuY3Rpb24gKGRhdGEsIGNiKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0KGRhdGEpO1xuICAgIHRoaXMuc3VibWl0KGNiKTtcbiAgfSxcblxuICAvKipcbiAgICogU2VuZCBmb3JtIGRhdGEgdG8gdGhlIG1vZGVsXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICBbY2JdICBDYWxsQmFjayBmdW5jdGlvblxuICAgKi9cbiAgc3VibWl0OiBjYWxsYmFja2lmeShhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5zdGF0ZS5fZm9ybU1peGluLmF1dG9TdWJtaXQgJiYgdGhpcy5pc1N1Ym1pdHRpbmcoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5zdWJtaXR0aW5nID0gdHJ1ZTtcblxuICAgIGNvbnN0IGNoYW5nZXMgPSB0aGlzLl9nZXRDaGFuZ2VzKCk7XG5cbiAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZ2xvYmFsRXJyb3IgPSBudWxsO1xuICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5wYXJ0aWFsRXJyb3JDaGVja2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLnN0YXRlKTtcblxuICAgIC8vIFNlbmQgY2hhbmdlcyB0byBtb2RlbFxuICAgIGxldCBkYXRhO1xuICAgIGxldCBlcnI7XG4gICAgdHJ5IHtcbiAgICAgIGRhdGEgPSBhd2FpdCB0aGlzLnN0YXRlLl9mb3JtTWl4aW4ubW9kZWwuc3VibWl0KGNoYW5nZXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVyciA9IGU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2lzVW5tb3VudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLnN1Ym1pdHRpbmcgPSBmYWxzZTtcblxuICAgIGNvbnN0IG5ld0NoYW5nZXMgPSB0aGlzLl9nZXRDaGFuZ2VzKCk7XG4gICAgY29uc3QgYWN0dWFsQ2hhbmdlcyA9IGlzRXF1YWwoY2hhbmdlcywgbmV3Q2hhbmdlcyk7XG4gICAgY29uc3QgdmFsaWRhdGlvbkVycm9yID0gZXJyIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9ycztcblxuICAgIC8vIFJlcGxhY2luZyBlbXB0eSBlcnJvciB0byBudWxsXG4gICAgaWYgKHZhbGlkYXRpb25FcnJvciAmJiBlcnIuaXNFbXB0eSgpKSB7XG4gICAgICBlcnIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChlcnIpIHtcbiAgICAgIGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgICAgaWYgKGFjdHVhbENoYW5nZXMpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZXJyb3JzID0gZXJyO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZ2xvYmFsRXJyb3IgPSBlcnI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhY3R1YWxDaGFuZ2VzKSB7XG4gICAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZXJyb3JzID0gbmV3IFZhbGlkYXRpb25FcnJvcnMoKTtcbiAgICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5jaGFuZ2VzID0ge307XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvckVhY2goY2hhbmdlcywgZnVuY3Rpb24gKHZhbHVlLCBmaWVsZCkge1xuICAgICAgICBpZiAoaXNFcXVhbCh2YWx1ZSwgbmV3Q2hhbmdlc1tmaWVsZF0pKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5jaGFuZ2VzW2ZpZWxkXTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgYXdhaXQgdG9Qcm9taXNlKDo6dGhpcy5zZXRTdGF0ZSwgdHJ1ZSkodGhpcy5zdGF0ZSk7XG5cbiAgICBpZiAoZXJyKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9KSxcblxuICBjbGVhckZpZWxkQ2hhbmdlczogZnVuY3Rpb24gKGZpZWxkLCBjYikge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZXJyb3JzLmNsZWFyRmllbGQoZmllbGQpO1xuICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi53YXJuaW5ncy5jbGVhckZpZWxkKGZpZWxkKTtcbiAgICBkZWxldGUgdGhpcy5zdGF0ZS5fZm9ybU1peGluLmNoYW5nZXNbZmllbGRdO1xuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5zdGF0ZSwgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nID8gY2IgOiBudWxsKTtcbiAgfSxcblxuICBjbGVhckNoYW5nZXM6IGZ1bmN0aW9uIChjYikge1xuICAgIGlmICh0aGlzLl9pc05vdEluaXRpYWxpemVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZXJyb3JzLmNsZWFyKCk7XG4gICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLndhcm5pbmdzLmNsZWFyKCk7XG4gICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLmNoYW5nZXMgPSB7fTtcbiAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZ2xvYmFsRXJyb3IgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4ucGFydGlhbEVycm9yQ2hlY2tpbmcgPSB0aGlzLnN0YXRlLl9mb3JtTWl4aW4ucGFydGlhbEVycm9yQ2hlY2tpbmdEZWZhdWx0O1xuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5zdGF0ZSwgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nID8gY2IgOiBudWxsKTtcbiAgfSxcblxuICBzZXRQYXJ0aWFsRXJyb3JDaGVja2luZzogZnVuY3Rpb24gKHZhbHVlLCBjYikge1xuICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5wYXJ0aWFsRXJyb3JDaGVja2luZyA9IHZhbHVlO1xuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5zdGF0ZSwgdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nID8gY2IgOiBudWxsKTtcbiAgfSxcblxuICBpc1N1Ym1pdHRpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5faXNOb3RJbml0aWFsaXplZCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5zdWJtaXR0aW5nO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RlbCByZWNvcmRzIGNoYW5nZXMgaGFuZGxlclxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gY2hhbmdlcyAgQ2hhbmdlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZU1vZGVsQ2hhbmdlOiBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5zdGF0ZS5fZm9ybU1peGluLmRhdGEsIGNsb25lRGVlcChjaGFuZ2VzKSk7XG4gICAgaWYgKCF0aGlzLl9pc1VubW91bnRlZCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLnN0YXRlKTtcbiAgICB9XG4gIH0sXG5cbiAgX2luaXRTdGF0ZTogZnVuY3Rpb24gKHNldHRpbmdzKSB7XG4gICAgaWYgKCFzZXR0aW5ncy5tb2RlbCkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1lvdSBtdXN0IHNwZWNpZnkgdGhlIG1vZGVsIGZvcm0gaW4gdGhpcy5pbml0Rm9ybSgpJyk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluID0ge1xuICAgICAgZGF0YTogc2V0dGluZ3MuZGF0YSxcbiAgICAgIGNoYW5nZXM6IHNldHRpbmdzLmNoYW5nZXMgfHwge30sXG4gICAgICBlcnJvcnM6IG5ldyBWYWxpZGF0aW9uRXJyb3JzKCksXG4gICAgICB3YXJuaW5nczogbmV3IFZhbGlkYXRpb25FcnJvcnMoKSxcbiAgICAgIGdsb2JhbEVycm9yOiBudWxsLFxuICAgICAgdmFsaWRhdGluZzogZmFsc2UsXG4gICAgICBwZW5kaW5nQ2xlYXJFcnJvcnM6IFtdLFxuICAgICAgc3VibWl0dGluZzogZmFsc2UsXG4gICAgICBzaG93RGVwZW5kZW50RmllbGRzOiBzZXR0aW5ncy5zaG93RGVwZW5kZW50RmllbGRzIHx8IGZhbHNlLFxuICAgICAgd2FybmluZ3NWYWxpZGF0b3I6IHNldHRpbmdzLndhcm5pbmdzVmFsaWRhdG9yIHx8IG5ldyBWYWxpZGF0b3IoKSxcblxuICAgICAgcGFydGlhbEVycm9yQ2hlY2tpbmc6IHNldHRpbmdzLnBhcnRpYWxFcnJvckNoZWNraW5nLCAvLyBDdXJyZW50IG1vZGVcbiAgICAgIHBhcnRpYWxFcnJvckNoZWNraW5nRGVmYXVsdDogc2V0dGluZ3MucGFydGlhbEVycm9yQ2hlY2tpbmcsIC8vIERlZmF1bHQgbW9kZVxuXG4gICAgICBtb2RlbDogc2V0dGluZ3MubW9kZWwsIC8vIEZvcm1Nb2RlbFxuICAgICAgZmllbGRzOiBzZXR0aW5ncy5maWVsZHMsXG4gICAgICBzdWJtaXRBbGw6IHNldHRpbmdzLnN1Ym1pdEFsbCxcbiAgICAgIGF1dG9TdWJtaXQ6IHNldHRpbmdzLmF1dG9TdWJtaXQsXG4gICAgICBhdXRvU3VibWl0SGFuZGxlcjogc2V0dGluZ3MuYXV0b1N1Ym1pdEhhbmRsZXJcbiAgICB9O1xuICB9LFxuXG4gIF9pc05vdEluaXRpYWxpemVkOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICF0aGlzLnN0YXRlIHx8ICF0aGlzLnN0YXRlLl9mb3JtTWl4aW47XG4gIH0sXG5cbiAgX3ZhbGlkYXRlRm9ybTogZnVuY3Rpb24gKGNiLCBzdG9wKSB7XG4gICAgaWYgKHRoaXMuX2lzTm90SW5pdGlhbGl6ZWQoKSkge1xuICAgICAgcmV0dXJuIHN0b3AoKTtcbiAgICB9XG5cbiAgICBsZXQgY29tcGxldGVkID0gMDtcbiAgICBsZXQgY29tcGxldGVFcnJvcjtcbiAgICBjb25zdCBvbkNvbXBsZXRlID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgbGV0IGZpZWxkO1xuXG4gICAgICBpZiAodGhpcy5faXNVbm1vdW50ZWQpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY29tcGxldGVFcnJvciA9IGVycjtcbiAgICAgIH1cblxuICAgICAgaWYgKCsrY29tcGxldGVkIDwgMikgey8vIFdhaXQgdHdvIGNhbGxiYWNrc1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi52YWxpZGF0aW5nID0gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChmaWVsZCA9IHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5wZW5kaW5nQ2xlYXJFcnJvcnMucG9wKCkpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLndhcm5pbmdzLmNsZWFyRmllbGQoZmllbGQpO1xuICAgICAgICB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZXJyb3JzLmNsZWFyRmllbGQoZmllbGQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHRoaXMuc3RhdGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNvbXBsZXRlRXJyb3IpIHtcbiAgICAgICAgICBjYihjb21wbGV0ZUVycm9yKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlcnJvcnNXaXRoUGFydGlhbENoZWNraW5nID0gdGhpcy5nZXRWYWxpZGF0aW9uRXJyb3JzKCk7XG4gICAgICAgIGNiKGVycm9yc1dpdGhQYXJ0aWFsQ2hlY2tpbmcuaXNFbXB0eSgpID8gbnVsbCA6IGVycm9yc1dpdGhQYXJ0aWFsQ2hlY2tpbmcpO1xuICAgICAgfSk7XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluLnZhbGlkYXRpbmcgPSB0cnVlO1xuXG4gICAgdGhpcy5fcnVuVmFsaWRhdG9yKHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5tb2RlbCwgdGhpcy5fZ2V0Q2hhbmdlcywgJ2Vycm9ycycsIG9uQ29tcGxldGUpO1xuICAgIHRoaXMuX3J1blZhbGlkYXRvcih0aGlzLnN0YXRlLl9mb3JtTWl4aW4ud2FybmluZ3NWYWxpZGF0b3IsIHRoaXMuX2dldERhdGEsICd3YXJuaW5ncycsIG9uQ29tcGxldGUpO1xuICB9LFxuXG4gIF9ydW5WYWxpZGF0b3I6IGZ1bmN0aW9uICh2YWxpZGF0b3IsIGdldERhdGEsIG91dHB1dCwgY2IpIHtcbiAgICBjb25zdCBkYXRhID0gZ2V0RGF0YSgpO1xuICAgIHZhbGlkYXRvci5pc1ZhbGlkUmVjb3JkKGRhdGEpXG4gICAgICAudGhlbih2YWxpZEVycm9ycyA9PiB7XG4gICAgICAgIGlmICghdGhpcy5faXNVbm1vdW50ZWQgJiYgaXNFcXVhbChkYXRhLCBnZXREYXRhKCkpKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5fZm9ybU1peGluW291dHB1dF0gPSB2YWxpZEVycm9ycztcbiAgICAgICAgfVxuICAgICAgICBjYigpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2lzVW5tb3VudGVkICYmIGlzRXF1YWwoZGF0YSwgZ2V0RGF0YSgpKSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuX2Zvcm1NaXhpbltvdXRwdXRdLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2IoZXJyKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gIF9nZXREYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZGF0YSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLl9mb3JtTWl4aW4uZGF0YSwgdGhpcy5zdGF0ZS5fZm9ybU1peGluLmNoYW5nZXMpO1xuICB9LFxuXG4gIF9nZXRDaGFuZ2VzOiBmdW5jdGlvbiAoKSB7XG4gICAgLy8gU2VuZCBhbGwgZGF0YSBvciBqdXN0IGNoYW5nZWQgZmllbGRzIGluIGFkZGljdGlvbiBvZiBmb3JtIGNvbmZpZ3VyYXRpb25cbiAgICBpZiAodGhpcy5zdGF0ZS5fZm9ybU1peGluLnN1Ym1pdEFsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldERhdGEoKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lKHRoaXMuc3RhdGUuX2Zvcm1NaXhpbi5jaGFuZ2VzKTtcbiAgfSxcblxuICBfaXNEZXBlbmRlbnRGaWVsZDogZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlLl9mb3JtTWl4aW47XG4gICAgcmV0dXJuIHN0YXRlLmNoYW5nZXMuaGFzT3duUHJvcGVydHkoZmllbGQpICYmIGlzRXF1YWwoc3RhdGUuY2hhbmdlc1tmaWVsZF0sIHN0YXRlLmRhdGFbZmllbGRdKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgRm9ybU1peGluO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLyoqXG4gKiBSZWFjdCB0YWJsZSBjb21wb25lbnRcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjcmVhdGVSZWFjdENsYXNzIGZyb20gJ2NyZWF0ZS1yZWFjdC1jbGFzcyc7XG5pbXBvcnQge3Rocm90dGxlLCBpc0VxdWFsfSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xuXG5pbXBvcnQgR3JpZENvbHVtbnNNaXhpbiBmcm9tICcuL21peGlucy9jb2x1bW5zJztcbmltcG9ydCBncmlkTWl4aW5QYWdpbmF0aW9uIGZyb20gJy4vbWl4aW5zL3BhZ2luYXRpb24nO1xuaW1wb3J0IGdyaWRNaXhpblN0YXR1c2VzIGZyb20gJy4vbWl4aW5zL3N0YXR1c2VzJztcbmltcG9ydCBncmlkTWl4aW5Tb3J0aW5nIGZyb20gJy4vbWl4aW5zL3NvcnRpbmcnO1xuaW1wb3J0IGdyaWRNaXhpbkRhdGEgZnJvbSAnLi9taXhpbnMvZGF0YSc7XG5pbXBvcnQgZ3JpZE1peGluRWRpdG9yIGZyb20gJy4vbWl4aW5zL2VkaXRvcic7XG5pbXBvcnQgZ3JpZE1peGluVUkgZnJvbSAnLi9taXhpbnMvdWknO1xuaW1wb3J0IGdyaWRNaXhpblNlbGVjdCBmcm9tICcuL21peGlucy9zZWxlY3QnO1xuaW1wb3J0IFRocm90dGxlRXJyb3IgZnJvbSAnLi4vY29tbW9uL1Rocm90dGxlRXJyb3InO1xuXG5jb25zdCBSRVNFVF9NT0RFTCA9IDEgPDwgMDtcbmNvbnN0IFJFU0VUX1ZJRVdfQ09MVU1OUyA9IDEgPDwgMTtcbmNvbnN0IFJFU0VUX1NPUlQgPSAxIDw8IDI7XG5jb25zdCBSRVNFVF9WSUVXX0NPVU5UID0gMSA8PCAzO1xuY29uc3QgUkVTRVRfU0VMRUNURURfQ09MVU1OUyA9IDEgPDwgNDtcbmNvbnN0IFJFU0VUX0JMQUNLX0xJU1RfTU9ERSA9IDEgPDwgNTtcblxuY29uc3QgcHJvcFR5cGVzID0gKCgpID0+IHtcbiAgY29uc3Qgc29ydEVsZW1lbnRQcm9wID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBjb2x1bW46IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZGlyZWN0aW9uOiBQcm9wVHlwZXMuYW55XG4gIH0pO1xuICBjb25zdCBzb3J0UHJvcCA9IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgIHNvcnRFbGVtZW50UHJvcCxcbiAgICBQcm9wVHlwZXMuYXJyYXlPZihzb3J0RWxlbWVudFByb3ApXG4gIF0pO1xuICByZXR1cm4ge1xuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBtb2RlbDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIHJlYWQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICB1cGRhdGU6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgaXNWYWxpZFJlY29yZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBnZXRWYWxpZGF0aW9uRGVwZW5kZW5jeTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBvbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBvZmY6IFByb3BUeXBlcy5mdW5jXG4gICAgfSksXG4gICAgY29sczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB2aWV3Q29sdW1uczogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSxcbiAgICAgIFByb3BUeXBlcy5vYmplY3RcbiAgICBdKSxcbiAgICBzZWxlY3RlZDogUHJvcFR5cGVzLmFycmF5LFxuICAgIC8vIHNvcnQ6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgcGFnZTogUHJvcFR5cGVzLm51bWJlcixcbiAgICBkZWZhdWx0Vmlld0NvdW50OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIHZpZXdDb3VudDogUHJvcFR5cGVzLm51bWJlcixcbiAgICB2aWV3VmFyaWFudHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLFxuICAgIG9uQ2hhbmdlVmlld0NvdW50OiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25FcnJvcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25QYWdlTG9hZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25Jbml0OiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkRlc3Ryb3k6IFByb3BUeXBlcy5mdW5jLFxuICAgIGF1dG9TdWJtaXQ6IFByb3BUeXBlcy5ib29sLFxuICAgIGhlaWdodDogUHJvcFR5cGVzLm51bWJlcixcbiAgICBvblNlbGVjdGVkQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvblNvcnRpbmc6IFByb3BUeXBlcy5mdW5jLFxuICAgIG11bHRpcGxlU29ydGluZzogUHJvcFR5cGVzLmJvb2wsXG4gICAgc2VsZWN0QWxsU3RhdHVzOiBQcm9wVHlwZXMuYW55LFxuICAgIG9uVG9nZ2xlU2VsZWN0ZWQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uVG9nZ2xlU2VsZWN0QWxsOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBkZWZhdWx0U29ydDogKHByb3BzLCBwcm9wTmFtZSwgLi4ucmVzdCkgPT4ge1xuICAgICAgaWYgKCFwcm9wcy5kZWZhdWx0U29ydCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB2YWxpZFByb3AgPSBzb3J0UHJvcChwcm9wcywgcHJvcE5hbWUsIC4uLnJlc3QpO1xuICAgICAgaWYgKHZhbGlkUHJvcCkge1xuICAgICAgICByZXR1cm4gdmFsaWRQcm9wO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KCdzb3J0JykpIHtcbiAgICAgICAgcmV0dXJuIEVycm9yKCdZb3UgY2FuIG5vdCBzZXQgXCJkZWZhdWx0U29ydFwiIHdoZW4gdGhlIFwic29ydFwiIHByb3AgaXMgc3BlY2lmaWVkJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzb3J0OiAocHJvcHMsIHByb3BOYW1lLCAuLi5yZXN0KSA9PiB7XG4gICAgICBpZiAoIXByb3BzLnNvcnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsaWRQcm9wID0gc29ydFByb3AocHJvcHMsIHByb3BOYW1lLCAuLi5yZXN0KTtcbiAgICAgIGlmICh2YWxpZFByb3ApIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkUHJvcDtcbiAgICAgIH1cbiAgICAgIGlmICghcHJvcHMub25Tb3J0aW5nKSB7XG4gICAgICAgIHJldHVybiBFcnJvcignWW91IG5lZWQgdG8gZGVmaW5lIHRoZSBcIm9uU29ydGluZ1wiIHByb3Agd2hlbiBcInNvcnRcIiBpcyBzZXQnKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNhdmVGdWxsUmVjb3JkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBwYXJ0aWFsRXJyb3JDaGVja2luZzogUHJvcFR5cGVzLmJvb2wsXG4gICAgd2FybmluZ3NWYWxpZGF0b3I6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBpc1ZhbGlkUmVjb3JkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIGdldFZhbGlkYXRpb25EZXBlbmRlbmN5OiBQcm9wVHlwZXMuZnVuY1xuICAgIH0pXG4gIH07XG59KSgpO1xuXG5jb25zdCBHcmlkQ29tcG9uZW50ID0gY3JlYXRlUmVhY3RDbGFzcyh7XG4gIC4uLkdyaWRDb2x1bW5zTWl4aW4sXG4gIC4uLmdyaWRNaXhpblBhZ2luYXRpb24sXG4gIC4uLmdyaWRNaXhpblN0YXR1c2VzLFxuICAuLi5ncmlkTWl4aW5Tb3J0aW5nLFxuICAuLi5ncmlkTWl4aW5EYXRhLFxuICAuLi5ncmlkTWl4aW5FZGl0b3IsXG4gIC4uLmdyaWRNaXhpblVJLFxuICAuLi5ncmlkTWl4aW5TZWxlY3QsXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiAoKSA9PiAoe1xuICAgIHBhZ2U6IDAsXG4gICAgZGVmYXVsdFZpZXdDb3VudDogMCxcbiAgICBwYXJ0aWFsRXJyb3JDaGVja2luZzogZmFsc2UsXG4gICAgc2VsZWN0ZWQ6IFtdXG4gIH0pLFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl90aHJvdHRsZWRVcGRhdGVUYWJsZSA9IHRocm90dGxlKHRoaXMudXBkYXRlVGFibGUpO1xuICAgIHRoaXMuX3ZhbGlkYXRlUm93ID0gdGhyb3R0bGUodGhpcy5fdmFsaWRhdGVSb3cpO1xuICAgIGlmICh0aGlzLnByb3BzLm9uSW5pdCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkluaXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZ2U6IHRoaXMucHJvcHMucGFnZSxcbiAgICAgIHZpZXdDb3VudDogdGhpcy5wcm9wcy5kZWZhdWx0Vmlld0NvdW50LFxuICAgICAgY291bnQ6IDAsXG4gICAgICBzdGF0dXNNYXA6IHtcbiAgICAgICAgbmV3OiAxIDw8IDBcbiAgICAgIH0sXG4gICAgICBzdGF0dXNlczoge30sXG4gICAgICBzb3J0OiB0aGlzLl9nZXREZWZhdWx0U29ydCgpLFxuICAgICAgZGF0YTogbnVsbCxcbiAgICAgIGNoYW5nZXM6IHt9LFxuICAgICAgd2FybmluZ3M6IHt9LFxuICAgICAgZXJyb3JzOiB7fSxcbiAgICAgIHRvdGFsczoge30sXG4gICAgICByZWNvcmRzSW5mbzoge30sXG4gICAgICBtYWluSWRzOiBbXSxcbiAgICAgIHBhcnRpYWxFcnJvckNoZWNraW5nOiB0aGlzLnByb3BzLnBhcnRpYWxFcnJvckNoZWNraW5nLFxuICAgICAgZWRpdG9yOiB7fSxcbiAgICAgIGNvbHNXaXRoRXNjYXBlRXJyb3JzOiB7fSxcbiAgICAgIHNlbGVjdEJsYWNrTGlzdE1vZGU6IGZhbHNlLFxuICAgICAgc2VsZWN0ZWQ6IFsuLi50aGlzLnByb3BzLnNlbGVjdGVkXSxcbiAgICAgIHNob3dMb2FkZXI6IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pc01vdW50ZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVsKSB7XG4gICAgICB0aGlzLnByb3BzLm1vZGVsLm9uKCdjcmVhdGUnLCB0aGlzLl9vblJlY29yZHNDcmVhdGVkKTtcbiAgICAgIHRoaXMucHJvcHMubW9kZWwub24oJ3VwZGF0ZScsIHRoaXMuX3NldERhdGEpO1xuICAgICAgdGhpcy5wcm9wcy5tb2RlbC5vbignZGVsZXRlJywgdGhpcy51cGRhdGVUYWJsZSk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlVGFibGUoKTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9pc01vdW50ZWQgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5wcm9wcy5tb2RlbCkge1xuICAgICAgdGhpcy5wcm9wcy5tb2RlbC5vZmYoJ2NyZWF0ZScsIHRoaXMuX29uUmVjb3Jkc0NyZWF0ZWQpO1xuICAgICAgdGhpcy5wcm9wcy5tb2RlbC5vZmYoJ3VwZGF0ZScsIHRoaXMuX3NldERhdGEpO1xuICAgICAgdGhpcy5wcm9wcy5tb2RlbC5vZmYoJ2RlbGV0ZScsIHRoaXMudXBkYXRlVGFibGUpO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkRlc3Ryb3kpIHtcbiAgICAgIHRoaXMucHJvcHMub25EZXN0cm95KCk7XG4gICAgfVxuICB9LFxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gICAgY29uc3Qgb2xkUHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGxldCByZXNldCA9IDA7XG5cbiAgICBpZiAoIWlzRXF1YWwodGhpcy5wcm9wcy5tb2RlbCwgbmV4dFByb3BzLm1vZGVsKSkge1xuICAgICAgcmVzZXQgfD0gUkVTRVRfTU9ERUw7XG4gICAgfVxuICAgIGlmICghaXNFcXVhbCh0aGlzLnByb3BzLnZpZXdDb2x1bW5zLCBuZXh0UHJvcHMudmlld0NvbHVtbnMpKSB7XG4gICAgICByZXNldCB8PSBSRVNFVF9WSUVXX0NPTFVNTlM7XG4gICAgfVxuICAgIGlmICghaXNFcXVhbCh0aGlzLnByb3BzLnNvcnQsIG5leHRQcm9wcy5zb3J0KSkge1xuICAgICAgcmVzZXQgfD0gUkVTRVRfU09SVDtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMudmlld0NvdW50ICE9PSBuZXh0UHJvcHMudmlld0NvdW50KSB7XG4gICAgICByZXNldCB8PSBSRVNFVF9WSUVXX0NPVU5UO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhaXNFcXVhbCh0aGlzLnByb3BzLnNlbGVjdGVkLCBuZXh0UHJvcHMuc2VsZWN0ZWQpXG4gICAgICB8fCB0aGlzLnByb3BzLnNlbGVjdEJsYWNrTGlzdE1vZGUgIT09IG5leHRQcm9wcy5zZWxlY3RCbGFja0xpc3RNb2RlXG4gICAgKSB7XG4gICAgICByZXNldCB8PSBSRVNFVF9TRUxFQ1RFRF9DT0xVTU5TO1xuICAgIH1cbiAgICBpZiAoIWlzRXF1YWwodGhpcy5wcm9wcy5ibGFja0xpc3RNb2RlLCBuZXh0UHJvcHMuYmxhY2tMaXN0TW9kZSkpIHtcbiAgICAgIHJlc2V0IHw9IFJFU0VUX0JMQUNLX0xJU1RfTU9ERTtcbiAgICB9XG5cbiAgICBpZiAoIXJlc2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5leHRQcm9wcy5zZWxlY3RlZCkge1xuICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZCA9IFsuLi5uZXh0UHJvcHMuc2VsZWN0ZWRdO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHt9LCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocmVzZXQgJiBSRVNFVF9TT1JUIHx8IHJlc2V0ICYgUkVTRVRfTU9ERUwgfHwgcmVzZXQgJiBSRVNFVF9WSUVXX0NPVU5UKSB7XG4gICAgICAgIGlmIChyZXNldCAmIFJFU0VUX01PREVMKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5kYXRhID0gbnVsbDtcbiAgICAgICAgICBpZiAob2xkUHJvcHMubW9kZWwpIHtcbiAgICAgICAgICAgIG9sZFByb3BzLm1vZGVsLm9mZignY3JlYXRlJywgdGhpcy5fb25SZWNvcmRzQ3JlYXRlZCk7XG4gICAgICAgICAgICBvbGRQcm9wcy5tb2RlbC5vZmYoJ3VwZGF0ZScsIHRoaXMuX3NldERhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5wcm9wcy5tb2RlbCkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5tb2RlbC5vbignY3JlYXRlJywgdGhpcy5fb25SZWNvcmRzQ3JlYXRlZCk7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm1vZGVsLm9uKCd1cGRhdGUnLCB0aGlzLl9zZXREYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fc2V0UGFnZSgwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90aHJvdHRsZWRVcGRhdGVUYWJsZSgpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgVGhyb3R0bGVFcnJvcikpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICgocmVzZXQgJiBSRVNFVF9WSUVXX0NPTFVNTlMpIHx8IChyZXNldCAmIFJFU0VUX1NFTEVDVEVEX0NPTFVNTlMpIHx8IChyZXNldCAmIFJFU0VUX0JMQUNLX0xJU1RfTU9ERSkpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyQm9keSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICByZW5kZXJTY3JvbGxhYmxlR3JpZChncmlkQ2xhc3NOYW1lcykge1xuICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuX2Zvcm1IZWFkZXIoKTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2dyaWRDbGFzc05hbWVzLmpvaW4oJyAnKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid3JhcHBlci1kZ3JpZC1oZWFkZXJcIj5cbiAgICAgICAgICA8dGFibGUgY2VsbFNwYWNpbmc9XCIwXCIgY2xhc3NOYW1lPVwiZGdyaWQtaGVhZGVyXCI+XG4gICAgICAgICAgICA8Y29sZ3JvdXA+e2hlYWRlci5jb2xHcm91cH08L2NvbGdyb3VwPlxuICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICB7aGVhZGVyLmNvbHMubWFwKChyb3csIGNvbEtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8dHIga2V5PXtjb2xLZXl9PlxuICAgICAgICAgICAgICAgICAgICB7cm93Lm1hcCgoY29sLCByb3dLZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSB0aGlzLl9nZXRIZWFkZXJDZWxsSFRNTChjb2wuaGFzT3duUHJvcGVydHkoJ25hbWUnKSA/IGNvbC5uYW1lIDogY29sLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogcm93S2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjb2wuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogY29sLnNvcnQgPyB0aGlzLl9zb3J0Q29sLmJpbmQodGhpcywgY29sLmZpZWxkKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUhlYWRlckNlbGxDbGljay5iaW5kKHRoaXMsIGNvbCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiBjb2wuY29scyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1NwYW46IGNvbC5yb3dzXG4gICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGhlYWRlciA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9faHRtbDogaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IDx0aCB7Li4ucHJvcHN9PntoZWFkZXJ9PC90aD4pO1xuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3ttYXhIZWlnaHQ6IHRoaXMucHJvcHMuaGVpZ2h0LCBoZWlnaHQ6IHRoaXMucHJvcHMuaGVpZ2h0fX1cbiAgICAgICAgICBjbGFzc05hbWU9J2RncmlkLWJvZHktd3JhcHBlciBkZ3JpZC1zY3JvbGxhYmxlJ1xuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZ3JpZC1ib2R5XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5zaG93TG9hZGVyID8gJ2RncmlkLWxvYWRlcicgOiAnJ30gcmVmPXsobG9hZGVyKSA9PiB0aGlzLmxvYWRlciA9IGxvYWRlciB9Lz5cbiAgICAgICAgICAgIDx0YWJsZVxuICAgICAgICAgICAgICBjZWxsU3BhY2luZz1cIjBcIlxuICAgICAgICAgICAgICByZWY9eyhib2R5KSA9PiB0aGlzLmJvZHkgPSBib2R5IH1cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5faGFuZGxlQm9keUNsaWNrfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Y29sZ3JvdXA+e2hlYWRlci5jb2xHcm91cH08L2NvbGdyb3VwPlxuICAgICAgICAgICAgICA8dGJvZHkgY2xhc3NOYW1lPVwiZGdyaWQtYm9keS10YWJsZVwiIHJlZj17KHRib2R5KSA9PiB0aGlzLnRCb2R5ID0gdGJvZHkgfS8+XG4gICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwcGVyLXRvdGFsc1wiPlxuICAgICAgICAgIHt0aGlzLl9yZW5kZXJUb3RhbHModGhpcy5wcm9wcy5oZWlnaHQpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3RoaXMuX3JlbmRlclBhZ2luYXRpb24oKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH0sXG4gIHJlbmRlckdyaWQoZ3JpZENsYXNzTmFtZXMpIHtcbiAgICBjb25zdCBoZWFkZXIgPSB0aGlzLl9mb3JtSGVhZGVyKCk7XG4gICAgZ3JpZENsYXNzTmFtZXMgPSBncmlkQ2xhc3NOYW1lcy5jb25jYXQoJ2RncmlkLW5vdC1zY3JvbGxhYmxlJyk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtncmlkQ2xhc3NOYW1lcy5qb2luKCcgJyl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5zaG93TG9hZGVyID8gJ2RncmlkLWxvYWRlcicgOiAnJ30gcmVmPXsobG9hZGVyKSA9PiB0aGlzLmxvYWRlciA9IGxvYWRlciB9Lz5cbiAgICAgICAgPHRhYmxlXG4gICAgICAgICAgY2VsbFNwYWNpbmc9XCIwXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJkZ3JpZC1ib2R5LXRhYmxlXCJcbiAgICAgICAgICByZWY9eyhib2R5KSA9PiB0aGlzLmJvZHkgPSBib2R5IH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLl9oYW5kbGVCb2R5Q2xpY2t9XG4gICAgICAgID5cbiAgICAgICAgICA8Y29sZ3JvdXA+e2hlYWRlci5jb2xHcm91cH08L2NvbGdyb3VwPlxuICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgIHtoZWFkZXIuY29scy5tYXAoKHJvdywgY29sS2V5KSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHRyIGtleT17Y29sS2V5fT5cbiAgICAgICAgICAgICAgICAgIHtyb3cubWFwKChjb2wsIHJvd0tleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSB0aGlzLl9nZXRIZWFkZXJDZWxsSFRNTChjb2wuaGFzT3duUHJvcGVydHkoJ25hbWUnKSA/IGNvbC5uYW1lIDogY29sLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAga2V5OiByb3dLZXksXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjb2wuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGNvbC5zb3J0ID8gdGhpcy5fc29ydENvbC5iaW5kKHRoaXMsIGNvbC5maWVsZCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlSGVhZGVyQ2VsbENsaWNrLmJpbmQodGhpcywgY29sKSxcbiAgICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiBjb2wuY29scyxcbiAgICAgICAgICAgICAgICAgICAgICByb3dTcGFuOiBjb2wucm93c1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBoZWFkZXIgPT09ICdzdHJpbmcnID9cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX19odG1sOiBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgOiA8dGggey4uLnByb3BzfT57aGVhZGVyfTwvdGg+KTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgIDx0Ym9keSBjbGFzc05hbWU9XCJkZ3JpZC1ib2R5LXRhYmxlXCIgcmVmPXsodGJvZHkpID0+IHRoaXMudEJvZHkgPSB0Ym9keSB9Lz5cbiAgICAgICAgICB7dGhpcy5fcmVuZGVyVG90YWxzKHRoaXMucHJvcHMuaGVpZ2h0KX1cbiAgICAgICAgPC90YWJsZT5cbiAgICAgICAge3RoaXMuX3JlbmRlclBhZ2luYXRpb24oKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGdyaWRDbGFzc05hbWVzID0gWydkYXRhLWdyaWQnXTtcblxuICAgIGlmICh0aGlzLnByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgZ3JpZENsYXNzTmFtZXMucHVzaCh0aGlzLnByb3BzLmNsYXNzTmFtZSk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnByb3BzLmhlaWdodCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyR3JpZChncmlkQ2xhc3NOYW1lcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVuZGVyU2Nyb2xsYWJsZUdyaWQoZ3JpZENsYXNzTmFtZXMpO1xuICB9XG59KTtcblxuR3JpZENvbXBvbmVudC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRDb21wb25lbnQ7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgQXJndW1lbnRzRXJyb3IgZnJvbSAnLi4vLi4vY29tbW9uL0FyZ3VtZW50c0Vycm9yJztcblxuZnVuY3Rpb24gZm9ybWF0Q29sdW1ucyhjb2x1bW5zLCB2aWV3Q29sdW1ucykge1xuICBjb25zdCBmb3JtYXR0ZWRDb2x1bW5zID0ge307XG4gIGxldCBjb2x1bW5JZDtcbiAgbGV0IGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHZpZXdDb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29sdW1uSWQgPSB2aWV3Q29sdW1uc1tpXTtcbiAgICBmb3JtYXR0ZWRDb2x1bW5zW2NvbHVtbklkXSA9IGAke2NvbHVtbnNbY29sdW1uSWRdLnBhcmVudCA/IGNvbHVtbnNbY29sdW1uSWRdLnBhcmVudCArICcgJyA6ICcnfSR7Y29sdW1uc1tjb2x1bW5JZF0ubmFtZX1gO1xuICB9XG5cbiAgcmV0dXJuIGZvcm1hdHRlZENvbHVtbnM7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFJlY29yZChyZWNvcmQsIGNvbHVtbnMsIHZpZXdDb2x1bW5zKSB7XG4gIGNvbnN0IGZvcm1hdHRlZFJlY29yZCA9IHt9O1xuXG4gIGZvciAoY29uc3Qgdmlld0NvbHVtbiBvZiB2aWV3Q29sdW1ucykge1xuICAgIGNvbnN0IGNvbHVtbiA9IGNvbHVtbnNbdmlld0NvbHVtbl07XG4gICAgZm9ybWF0dGVkUmVjb3JkW3ZpZXdDb2x1bW5dID0gY29sdW1uLnJlbmRlcltjb2x1bW4ucmVuZGVyLmxlbmd0aCAtIDFdKHJlY29yZCk7XG4gIH1cblxuICByZXR1cm4gZm9ybWF0dGVkUmVjb3JkO1xufVxuXG5mdW5jdGlvbiBmb3JtYXREYXRhKHJlY29yZHMsIHRvdGFscywgY29sdW1ucywgdmlld0NvbHVtbnMpIHtcbiAgY29uc3QgZm9ybWF0dGVkID0ge1xuICAgIGNvbHVtbnM6IGZvcm1hdENvbHVtbnMoY29sdW1ucywgdmlld0NvbHVtbnMpLFxuICAgIHJlY29yZHM6IHJlY29yZHMubWFwKHJlY29yZCA9PiBmb3JtYXRSZWNvcmQocmVjb3JkWzFdLCBjb2x1bW5zLCB2aWV3Q29sdW1ucykpXG4gIH07XG4gIGlmICh0b3RhbHMpIHtcbiAgICBmb3JtYXR0ZWQudG90YWxzID0gZm9ybWF0UmVjb3JkKHRvdGFscywgY29sdW1ucywgdmlld0NvbHVtbnMpO1xuICB9XG4gIHJldHVybiBmb3JtYXR0ZWQ7XG59XG5cbmZ1bmN0aW9uIGdldEZpZWxkcyhjb2x1bW5zLCB2aWV3Q29sdW1ucykge1xuICBjb25zdCBmaWVsZHMgPSB7fTtcbiAgZm9yIChjb25zdCBjb2x1bW5JZCBvZiB2aWV3Q29sdW1ucykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sdW1uc1tjb2x1bW5JZF0ucmVuZGVyLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgZmllbGRzW2NvbHVtbnNbY29sdW1uSWRdLnJlbmRlcltpXV0gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBPYmplY3Qua2V5cyhmaWVsZHMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7e319IGNvbHVtbnNcbiAqIEBwYXJhbSB7c3RyaW5nW119IHZpZXdDb2x1bW5zXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFZhbGlkVmlld0NvbHVtbnMoY29sdW1ucywgdmlld0NvbHVtbnMpIHtcbiAgaWYgKCF2aWV3Q29sdW1ucyB8fCAhdmlld0NvbHVtbnMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEFyZ3VtZW50c0Vycm9yKCdcInZpZXdDb2x1bW5zXCIgY2FuYHQgYmUgZW1wdHknKTtcbiAgfVxuXG4gIGNvbnN0IG5vdEV4aXN0Q29sdW1ucyA9IFtdO1xuICBmb3IgKGNvbnN0IGNvbHVtbklkIG9mIHZpZXdDb2x1bW5zKSB7XG4gICAgaWYgKCFjb2x1bW5zW2NvbHVtbklkXSkge1xuICAgICAgbm90RXhpc3RDb2x1bW5zLnB1c2goY29sdW1uSWQpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChub3RFeGlzdENvbHVtbnMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEFyZ3VtZW50c0Vycm9yKGBZb3UgdHJ5aW5nIHRvIGdldCBub3QgZXhpc3QgY29sdW1uczogJHtub3RFeGlzdENvbHVtbnMuam9pbignLCAnKX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7e319ICAgICAgICAgICAgICAgICAgICBncmlkTW9kZWxcbiAqIEBwYXJhbSB7e319ICAgICAgICAgICAgICAgICAgICBjb2x1bW5zXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSAgICAgICAgICAgICAgdmlld0NvbHVtbnNcbiAqIEBwYXJhbSB7RnVuY3Rpb259ICAgICAgICAgICAgICBleHBvcnRlclxuICogQHBhcmFtIHt7fX0gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzXG4gKiBAcGFyYW0ge1tzdHJpbmcsIHN0cmluZ11bXX0gICAgICBzZXR0aW5ncy5zb3J0XG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBzZXR0aW5ncy5saW1pdFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub2Zmc2V0XG4gKiBAcGFyYW0ge3N0cmluZ1tdfSAgICAgICAgICAgICAgICBzZXR0aW5ncy52aWV3Q29sdW1uc1xuICovXG5hc3luYyBmdW5jdGlvbiBleHBvcnRHcmlkRGF0YShncmlkTW9kZWwsIGNvbHVtbnMsIHZpZXdDb2x1bW5zLCBleHBvcnRlciwgc2V0dGluZ3MpIHtcbiAgYXNzZXJ0VmFsaWRWaWV3Q29sdW1ucyhjb2x1bW5zLCB2aWV3Q29sdW1ucyk7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdyaWRNb2RlbC5yZWFkKHtcbiAgICBmaWVsZHM6IGdldEZpZWxkcyhjb2x1bW5zLCB2aWV3Q29sdW1ucyksXG4gICAgc29ydDogc2V0dGluZ3Muc29ydCA/IFtbc2V0dGluZ3Muc29ydC5jb2x1bW4sIHNldHRpbmdzLnNvcnQuZGlyZWN0aW9uXV0gOiBudWxsLFxuICAgIGxpbWl0OiBzZXR0aW5ncy5saW1pdCxcbiAgICBvZmZzZXQ6IHNldHRpbmdzLm9mZnNldFxuICB9KTtcblxuICBjb25zdCBkYXRhID0gZm9ybWF0RGF0YShyZXN1bHQucmVjb3JkcywgcmVzdWx0LnRvdGFscywgY29sdW1ucywgdmlld0NvbHVtbnMpO1xuXG4gIHJldHVybiBhd2FpdCBleHBvcnRlcihkYXRhKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZXhwb3J0R3JpZERhdGE7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgdG9Qcm9taXNlIGZyb20gJy4uLy4uLy4uL2NvbW1vbi90b1Byb21pc2UnO1xuaW1wb3J0IGNzdiBmcm9tICdjc3Ytc3RyaW5naWZ5JztcblxuYXN5bmMgZnVuY3Rpb24gdG9DU1YoZGF0YSkge1xuICBjb25zdCBjc3ZEYXRhID0gYXdhaXQgdG9Qcm9taXNlKGNzdiwgdHJ1ZSkoZGF0YS5yZWNvcmRzLmNvbmNhdChbZGF0YS50b3RhbHNdKSwge1xuICAgIGhlYWRlcjogdHJ1ZSxcbiAgICBjb2x1bW5zOiBkYXRhLmNvbHVtbnNcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBtaW1lOiAndGV4dC9jc3YnLFxuICAgIGRhdGE6IGNzdkRhdGFcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdG9DU1Y7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5hc3luYyBmdW5jdGlvbiB0b0pTT04oZGF0YSkge1xuICByZXR1cm4ge1xuICAgIG1pbWU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICBkYXRhOiB7XG4gICAgICByZWNvcmRzOiBkYXRhLnJlY29yZHMsXG4gICAgICB0b3RhbHM6IGRhdGEudG90YWxzXG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b0pTT047XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQge3VuaW9ufSBmcm9tICcuLi8uLi9jb21tb24vdXRpbHMnO1xuaW1wb3J0IERPTSBmcm9tICdyZWFjdC1kb20tZmFjdG9yaWVzJztcblxuY29uc3QgR3JpZENvbHVtbnNNaXhpbiA9IHtcbiAgLyoqXG4gICAqIENvbHVtbiB2aXNpYmlsaXR5IGZsYWdcbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ30gICAgaWQgIENvbHVtbiBJRFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gICBDb2x1bW4gdmlzaWJpbGl0eVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2lzVmlld0NvbHVtbihpZCkge1xuICAgIGlmICghdGhpcy5wcm9wcy52aWV3Q29sdW1ucykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy52aWV3Q29sdW1ucykpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnZpZXdDb2x1bW5zLmluZGV4T2YoaWQpID4gLTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucHJvcHMudmlld0NvbHVtbnNbaWRdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDb2xsZWN0IGRhdGEgZm9yIHRhYmxlIGhlYWRlciBkaXNwbGF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEZvcm1lZCBkYXRhXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZm9ybUhlYWRlcigpIHtcbiAgICBjb25zdCByb3dzID0gW1svKiB0b3AgKi9dLCBbLyogYm90dG9tICovXV07XG4gICAgY29uc3QgY29sR3JvdXAgPSBbXTtcbiAgICBsZXQgbGFzdFBhcmVudCA9IHtuYW1lOiAnJ307XG5cbiAgICBmb3IgKGNvbnN0IGNvbHVtbklkIGluIHRoaXMucHJvcHMuY29scykge1xuICAgICAgLy8gU2tpcCBjb2x1bW4gaWYgaXQncyBpbnZpc2libGVcbiAgICAgIGlmICghdGhpcy5faXNWaWV3Q29sdW1uKGNvbHVtbklkKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29sR3JvdXAucHVzaChcbiAgICAgICAgRE9NLmNvbCh7XG4gICAgICAgICAga2V5OiBjb2x1bW5JZCxcbiAgICAgICAgICB3aWR0aDogdGhpcy5wcm9wcy5jb2xzW2NvbHVtbklkXS53aWR0aCxcbiAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuX2dldENvbHVtbkNsYXNzKGNvbHVtbklkKVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgY29uc3QgY2xhc3NOYW1lcyA9IFt0aGlzLl9nZXRDb2x1bW5DbGFzcyhjb2x1bW5JZCldO1xuICAgICAgY29uc3QgYWRkSW5mbyA9IHtcbiAgICAgICAgaWQ6IGNvbHVtbklkLFxuICAgICAgICBuYW1lOiB0aGlzLnByb3BzLmNvbHNbY29sdW1uSWRdLm5hbWUsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMucHJvcHMuY29sc1tjb2x1bW5JZF0ub25DbGljayxcbiAgICAgICAgb25DbGlja1JlZnM6IHRoaXMucHJvcHMuY29sc1tjb2x1bW5JZF0ub25DbGlja1JlZnMsXG4gICAgICAgIGNvbHM6IDEsXG4gICAgICAgIHJvd3M6IDFcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNvcnRQYXJhbXMgPSB0aGlzLl9nZXRTb3J0UGFyYW1zKGNvbHVtbklkKTtcbiAgICAgIGlmIChzb3J0UGFyYW1zKSB7XG4gICAgICAgIGNsYXNzTmFtZXMucHVzaChgZGdyaWQtJHtzb3J0UGFyYW1zLmRpcmVjdGlvbn1gKTtcbiAgICAgICAgYWRkSW5mby5maWVsZCA9IHNvcnRQYXJhbXMuY29sdW1uO1xuICAgICAgICBhZGRJbmZvLnNvcnQgPSBzb3J0UGFyYW1zLmRpcmVjdGlvbjtcbiAgICAgIH1cblxuICAgICAgYWRkSW5mby5jbGFzc05hbWUgPSBjbGFzc05hbWVzLmpvaW4oJyAnKTtcblxuICAgICAgaWYgKHRoaXMucHJvcHMuY29sc1tjb2x1bW5JZF0ucGFyZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNvbHNbY29sdW1uSWRdLnBhcmVudCAhPT0gbGFzdFBhcmVudC5uYW1lKSB7XG4gICAgICAgICAgbGFzdFBhcmVudCA9IHJvd3NbMF1bcm93c1swXS5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMucHJvcHMuY29sc1tjb2x1bW5JZF0ucGFyZW50LFxuICAgICAgICAgICAgY29sczogMSwgcm93czogMVxuICAgICAgICAgIH0pIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdFBhcmVudC5jb2xzKys7XG4gICAgICAgIH1cbiAgICAgICAgcm93c1sxXS5wdXNoKGFkZEluZm8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGFzdFBhcmVudCA9IHtuYW1lOiAnJ307XG4gICAgICAgIGFkZEluZm8ucm93cyA9IDI7XG4gICAgICAgIHJvd3NbMF0ucHVzaChhZGRJbmZvKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtjb2xzOiByb3dzLCBjb2xHcm91cDogY29sR3JvdXB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG5hbWVzIG9mIHRoZSBwYXJhbWV0ZXJzIHRoYXQgYXJlIHJlcXVpcmVkIHRvIGRpc3BsYXkgdGhlIGdyaWRcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nW119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0RmllbGRzVG9SZW5kZXIoKSB7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgY29scyA9IHRoaXMucHJvcHMuY29scztcbiAgICBsZXQgY29sdW1ucyA9IFtdO1xuICAgIGZvciAoaSBpbiBjb2xzKSB7XG4gICAgICBjb2x1bW5zID0gdW5pb24oY29sdW1ucywgY29sc1tpXS5yZW5kZXIuc2xpY2UoMCwgY29sc1tpXS5yZW5kZXIubGVuZ3RoIC0gMSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29sdW1ucztcbiAgfSxcblxuICAvKipcbiAgICogRG9lcyB0aGUgcGFyYW1ldGVycyB0byBkaXNwbGF5IGdyaWRcbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ30gIGZpZWxkXG4gICAqIEByZXR1cm4gIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2lzRmllbGRBZmZlY3RzUmVuZGVyKGZpZWxkKSB7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgY29scyA9IHRoaXMucHJvcHMuY29scztcbiAgICBmb3IgKGkgaW4gY29scykge1xuICAgICAgaWYgKGNvbHNbaV0ucmVuZGVyLmluZGV4T2YoZmllbGQpID49IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGRlcGVuZGVudCBjb2x1bW5zXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICAgIGZpZWxkXG4gICAqIEByZXR1cm4gIHtzdHJpbmdbXX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXREZXBlbmRlbnRDb2x1bW5zKGZpZWxkKSB7XG4gICAgY29uc3QgZGVwZW5kZW50Q29sdW1ucyA9IFtdO1xuICAgIGNvbnN0IGRlcGVuZGVuY3lGaWVsZHMgPSBbXG4gICAgICBmaWVsZCxcbiAgICAgIC4uLnRoaXMucHJvcHMubW9kZWwuZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koW2ZpZWxkXSlcbiAgICBdO1xuXG4gICAgZm9yIChjb25zdCBbY29sdW1uTmFtZSwgeyByZW5kZXIgfV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5wcm9wcy5jb2xzKSkge1xuICAgICAgaWYgKHJlbmRlci5zb21lKHJlbmRlckZpZWxkID0+IGRlcGVuZGVuY3lGaWVsZHMuaW5jbHVkZXMocmVuZGVyRmllbGQpKSkge1xuICAgICAgICBkZXBlbmRlbnRDb2x1bW5zLnB1c2goY29sdW1uTmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlcGVuZGVudENvbHVtbnM7XG4gIH0sXG5cbiAgX2dldENvbHVtbkNsYXNzKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY29sc1tpZF0uY2xhc3NOYW1lO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHcmlkQ29sdW1uc01peGluO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IFZhbGlkYXRpb25FcnJvcnMgZnJvbSAnLi4vLi4vY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdGlvbkVycm9ycyc7XG5pbXBvcnQge2Nsb25lRGVlcCwgcmVkdWNlLCBwaWNrLCBpc0VxdWFsLCBpc0VtcHR5LCBmb3JFYWNoLCBnZXRSZWNvcmRDaGFuZ2VzLCB0b0VuY29kZWRTdHJpbmcsIGNsb25lLCB3YXJufSBmcm9tICcuLi8uLi9jb21tb24vdXRpbHMnO1xuaW1wb3J0IFRocm90dGxlRXJyb3IgZnJvbSAnLi4vLi4vY29tbW9uL1Rocm90dGxlRXJyb3InO1xuXG5jb25zdCBHcmlkRGF0YU1peGluID0ge1xuICAvKipcbiAgICogQ2hhbmdlIHRhYmxlIHJlY29yZFxuICAgKiBUaGlzIG1ldGhvZCBtYXJrcyBjaGFuZ2VkIGZpZWxkcyBhbmQgdmFsaWRhdGVzIHRoZW1cbiAgICpcbiAgICogQHBhcmFtIHsqfSAgICAgICAgIHJlY29yZElkICAgIFJlY29yZCBJRFxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgZGF0YSAgICAgICAgQ2hhbmdlZCBkYXRhXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICBjYiAgICAgICAgICBDYWxsQmFjayBmdW5jdGlvblxuICAgKi9cbiAgc2V0KHJlY29yZElkLCBkYXRhLCBjYikgey8vVE9ETyBjYiBkb2VzJ3QgdXNlZFxuICAgIGNvbnN0IHJvdyA9IHRoaXMuX2dldFJvd0lEKHJlY29yZElkKTtcbiAgICB0aGlzLl9zZXRSb3dDaGFuZ2VzKHJvdywgY2xvbmVEZWVwKGRhdGEpLCBjYik7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5hdXRvU3VibWl0IHx8IHRoaXMucHJvcHMucmVhbHRpbWUpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnJlYWx0aW1lKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRlZDogR3JpZCBwcm9wIFwicmVhbHRpbWVcIiByZW5hbWVkIHRvIFwiYXV0b1N1Ym1pdFwiJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnNhdmUodGhpcy5wcm9wcy5vblJlYWx0aW1lU3VibWl0KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5zdGF0ZS5jaGFuZ2VzLCB0aGlzLnN0YXRlLmRhdGEpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IHJlY29yZCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSByZWNvcmRJZFxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBnZXRSZWNvcmQocmVjb3JkSWQpIHtcbiAgICBjb25zdCByb3cgPSB0aGlzLl9nZXRSb3dJRChyZWNvcmRJZCk7XG4gICAgcmV0dXJuIGNsb25lRGVlcCh0aGlzLl9nZXRSZWNvcmRXaXRoQ2hhbmdlcyhyb3cpKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHJlY29yZCBjaGFuZ2VzIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0gICB7Kn0gcmVjb3JkSWQgUmVjb3JkIElEXG4gICAqIEByZXR1cm4gIHtPYmplY3R9XG4gICAqL1xuICBnZXRSZWNvcmRDaGFuZ2VzKHJlY29yZElkKSB7XG4gICAgY29uc3Qgcm93ID0gdGhpcy5fZ2V0Um93SUQocmVjb3JkSWQpO1xuICAgIHJldHVybiB0aGlzLl9nZXRSZWNvcmRDaGFuZ2VzKHJvdyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCByZWNvcmQgd2FybmluZ3Mgb2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSAgIHsqfSByZWNvcmRJZCAgUmVjb3JkIElEXG4gICAqIEByZXR1cm4gIHtWYWxpZGF0aW9uRXJyb3JzfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UmVjb3JkV2FybmluZ3MocmVjb3JkSWQpIHtcbiAgICBjb25zdCByb3cgPSB0aGlzLl9nZXRSb3dJRChyZWNvcmRJZCk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUud2FybmluZ3Nbcm93XSB8fCBuZXcgVmFsaWRhdGlvbkVycm9ycygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdmFsaWRhdGlvbiB3YXJuaW5nc1xuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheXxudWxsfVxuICAgKi9cbiAgZ2V0V2FybmluZ3MoKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuc3RhdGUud2FybmluZ3MpIHtcbiAgICAgIHJlc3VsdC5wdXNoKFtcbiAgICAgICAgdGhpcy5zdGF0ZS5yZWNvcmRzSW5mb1tpXS5pZCxcbiAgICAgICAgdGhpcy5zdGF0ZS53YXJuaW5nc1tpXVxuICAgICAgXSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQubGVuZ3RoID8gcmVzdWx0IDogbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHJlY29yZCBlcnJvcnMgb2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSAgIHsqfSByZWNvcmRJZCAgUmVjb3JkIElEXG4gICAqIEByZXR1cm4gIHtWYWxpZGF0aW9uRXJyb3JzfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UmVjb3JkRXJyb3JzKHJlY29yZElkKSB7XG4gICAgY29uc3Qgcm93ID0gdGhpcy5fZ2V0Um93SUQocmVjb3JkSWQpO1xuICAgIHJldHVybiB0aGlzLl9nZXRSZWNvcmRFcnJvcnMocm93KTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHZhbGlkYXRpb24gZXJyb3JzXG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5fG51bGx9XG4gICAqL1xuICBnZXRFcnJvcnMoKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuc3RhdGUuZXJyb3JzKSB7XG4gICAgICByZXN1bHQucHVzaChbXG4gICAgICAgIHRoaXMuc3RhdGUucmVjb3Jkc0luZm9baV0uaWQsXG4gICAgICAgIHRoaXMuc3RhdGUuZXJyb3JzW2ldXG4gICAgICBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPyByZXN1bHQgOiBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGFibGUgbW9kZWxcbiAgICpcbiAgICogQHJldHVybnMge0Fic3RyYWN0R3JpZE1vZGVsfVxuICAgKi9cbiAgZ2V0TW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMubW9kZWw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNhdmUgZ3JpZCBjaGFuZ2VzXG4gICAqL1xuICBhc3luYyBzYXZlKCkge1xuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMuZ2V0RXJyb3JzKCk7XG5cbiAgICAvLyBDb2xsZWN0IGFsbCB2YWxpZCBjaGFuZ2VzXG4gICAgY29uc3QgY2hhbmdlcyA9IHJlZHVjZSh0aGlzLnN0YXRlLmNoYW5nZXMsIChyZXN1bHQsIHJvd0NoYW5nZXMsIHJvdykgPT4ge1xuICAgICAgaWYgKCFlcnJvcnMgfHwgIWVycm9yc1tyb3ddKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNhdmVGdWxsUmVjb3JkKSB7XG4gICAgICAgICAgcmVzdWx0W3Jvd10gPSB0aGlzLl9nZXRSZWNvcmRXaXRoQ2hhbmdlcyhyb3cpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdFtyb3ddID0ge307XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXN1bHRbcm93XSwgcm93Q2hhbmdlcywgcGljayhcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZGF0YVtyb3ddLFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5tb2RlbC5nZXRWYWxpZGF0aW9uRGVwZW5kZW5jeShPYmplY3Qua2V5cyhyZXN1bHRbcm93XSkpXG4gICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwge30pO1xuXG4gICAgLy8gQ2FuY2VsIG5ldyByZWNvcmQgZGlzcGxheVxuICAgIHRoaXMucmVtb3ZlUmVjb3JkU3RhdHVzQWxsKCduZXcnKTtcblxuICAgIC8vIFBhc3MgY2hhbmdlcyB0byB0YWJsZSBtb2RlbCBwcm9jZXNzaW5nXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucHJvcHMubW9kZWwudXBkYXRlKHRoaXMuX2RhdGFPYmplY3RUb0FycmF5KGNoYW5nZXMpKTtcbiAgICBpZiAoIXRoaXMuX2lzTW91bnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUucGFydGlhbEVycm9yQ2hlY2tpbmcgPSBmYWxzZTtcblxuICAgIGNvbnN0IHVuaGFuZGxlZEVycm9ycyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIGRhdGEpIHtcbiAgICAgIGNvbnN0IHJvdyA9IHRoaXMuX2dldFJvd0lEKHJlY29yZFswXSk7XG5cbiAgICAgIC8vIFNraXAgcmVjb3JkcyB0aGF0IGFyZSB1c2VyIGNoYW5nZWQgd2hpbGUgZGF0YSBwcm9jZXNzaW5nXG4gICAgICBpZiAoIWlzRXF1YWwodGhpcy5zdGF0ZS5jaGFuZ2VzW3Jvd10sIGNoYW5nZXNbcm93XSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmRbMV0gaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB1bmhhbmRsZWRFcnJvcnMucHVzaChyZWNvcmRbMV0pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gUHJvY2VzcyB2YWxpZGF0aW9uIGVycm9yc1xuICAgICAgaWYgKHJlY29yZFsxXSBpbnN0YW5jZW9mIFZhbGlkYXRpb25FcnJvcnMpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5lcnJvcnNbcm93XSA9IHJlY29yZFsxXTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENhbmNlbCBjaGFuZ2VkIGRhdGEgc3RhdHVzIG9mIHRoZSBwYXJhbWV0ZXJzLCB0aGF0IGFyZSBjaGFuZ2VkXG4gICAgICBmb3JFYWNoKGNoYW5nZXNbcm93XSwgZnVuY3Rpb24gKHZhbHVlLCBmaWVsZCkge1xuICAgICAgICBpZiAoaXNFcXVhbCh2YWx1ZSwgdGhpcy5zdGF0ZS5jaGFuZ2VzW3Jvd11bZmllbGRdKSkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0YXRlLmNoYW5nZXNbcm93XVtmaWVsZF07XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAvLyBDbGVhciBjaGFuZ2VkIGRhdGEgcm93IGlmIGl0J3MgZW1wdHlcbiAgICAgIGlmIChpc0VtcHR5KHRoaXMuc3RhdGUuY2hhbmdlc1tyb3ddKSkge1xuICAgICAgICBkZWxldGUgdGhpcy5zdGF0ZS5jaGFuZ2VzW3Jvd107XG4gICAgICAgIGlmICghdGhpcy5faXNNYWluUm93KHJvdykpIHtcbiAgICAgICAgICB0aGlzLl9yZW1vdmVSZWNvcmQocm93KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9yZW5kZXJCb2R5KCk7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnN0YXRlLmNoYW5nZXMsIHRoaXMuc3RhdGUuZGF0YSk7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JIYW5kbGVyID0gdGhpcy5wcm9wcy5vbkVycm9yIHx8IDo6Y29uc29sZS5lcnJvcjtcbiAgICB1bmhhbmRsZWRFcnJvcnMuZm9yRWFjaChlcnJvciA9PiBlcnJvckhhbmRsZXIoZXJyb3IpKTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDbGVhciByZWNvcmQgY2hhbmdlc1xuICAgKlxuICAgKiBAcGFyYW0geyp9IHJlY29yZElkIFJlY29yZCBJRFxuICAgKi9cbiAgY2xlYXJSZWNvcmRDaGFuZ2VzKHJlY29yZElkKSB7XG4gICAgY29uc3Qgcm93ID0gdGhpcy5fZ2V0Um93SUQocmVjb3JkSWQpO1xuXG4gICAgZGVsZXRlIHRoaXMuc3RhdGUuY2hhbmdlc1tyb3ddO1xuICAgIGRlbGV0ZSB0aGlzLnN0YXRlLndhcm5pbmdzW3Jvd107XG4gICAgZGVsZXRlIHRoaXMuc3RhdGUuZXJyb3JzW3Jvd107XG5cbiAgICB0aGlzLl91cGRhdGVSb3cocm93KTtcblxuICAgIGlmICh0aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMuc3RhdGUuY2hhbmdlcywgdGhpcy5zdGF0ZS5kYXRhKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCB0YWJsZSBjaGFuZ2VzXG4gICAqL1xuICBjbGVhckFsbENoYW5nZXMoKSB7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpIGluIHRoaXMuc3RhdGUuZGF0YSkge1xuICAgICAgaWYgKCF0aGlzLl9pc01haW5Sb3coaSkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuc3RhdGUuZGF0YVtpXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuc3RhdGUucmVjb3Jkc0luZm9baV07XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuY2hhbmdlcyA9IHt9O1xuICAgIHRoaXMuc3RhdGUuc3RhdHVzZXMgPSB7fTtcbiAgICB0aGlzLnN0YXRlLndhcm5pbmdzID0ge307XG4gICAgdGhpcy5zdGF0ZS5lcnJvcnMgPSB7fTtcbiAgICB0aGlzLnN0YXRlLnBhcnRpYWxFcnJvckNoZWNraW5nID0gdGhpcy5wcm9wcy5wYXJ0aWFsRXJyb3JDaGVja2luZztcblxuICAgIHRoaXMuX3JlbmRlckJvZHkoKTtcblxuICAgIGlmICh0aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMuc3RhdGUuY2hhbmdlcywgdGhpcy5zdGF0ZS5kYXRhKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlc2V0IHRvIGluaXRpYWwgdGFibGUgc3RhdGVcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3NldFBhZ2UoMCk7XG4gICAgaWYgKCF0aGlzLl9pc1NvcnRpbmdQcm9wc01vZGUoKSkge1xuICAgICAgdGhpcy5fcmVzZXRTb3J0aW5nKCk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlVGFibGUoKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHJlY29yZCBjaGFuZ2VzIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSAgICAgICAgcm93ICAgICBSb3cgSURcbiAgICogQHJldHVybiAge09iamVjdH1cbiAgICovXG4gIF9nZXRSZWNvcmRDaGFuZ2VzKHJvdykge1xuICAgIGlmICh0aGlzLnN0YXRlLmNoYW5nZXMuaGFzT3duUHJvcGVydHkocm93KSkge1xuICAgICAgcmV0dXJuIGNsb25lRGVlcCh0aGlzLnN0YXRlLmNoYW5nZXNbcm93XSk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0IHJlY29yZCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gICAgICAgcmVjb3JkSWQgIFJlY29yZCBJRFxuICAgKiBAcGFyYW0ge09iamVjdH0gIGRhdGEgICAgICBEYXRhXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0UmVjb3JkRGF0YShyZWNvcmRJZCwgZGF0YSkge1xuICAgIGlmICghdGhpcy5faXNSZWNvcmRMb2FkZWQocmVjb3JkSWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVE9ETyBkb25lIHRocm91Z2ggX2RhdGFBcnJheVRvT2JqZWN0XG4gICAgY29uc3Qgcm93ID0gdGhpcy5fZ2V0Um93SUQocmVjb3JkSWQpO1xuXG4gICAgLy8gQXBwbHkgYW5kIHJlZHJhdyBhbGwgcmVjb3JkIGNoYW5nZXNcbiAgICBmb3IgKGNvbnN0IGZpZWxkIGluIGRhdGEpIHtcbiAgICAgIHRoaXMuc3RhdGUuZGF0YVtyb3ddW2ZpZWxkXSA9IGNsb25lRGVlcChkYXRhW2ZpZWxkXSk7XG4gICAgICB0aGlzLl9yZW5kZXJCaW5kcyhyb3csIGZpZWxkKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRhYmxlIHJvdyBoYXMgd2FybmluZyBmbGFnXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICAgICAgICByb3cgICAgIFJvdyBJRFxuICAgKiBAcGFyYW0gICB7QXJyYXl8c3RyaW5nfSAgZmllbGRzXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhc1dhcm5pbmcocm93LCBmaWVsZHMpIHtcbiAgICByZXR1cm4gdGhpcy5fY2hlY2tGaWVsZEluVmFsaWRhdGlvbihyb3csIGZpZWxkcywgdGhpcy5zdGF0ZS53YXJuaW5ncyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRhYmxlIHJvdyBoYXMgZXJyb3IgZmxhZ1xuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSAgICAgICAgcm93ICAgICBSb3cgSURcbiAgICogQHBhcmFtICAge0FycmF5fHN0cmluZ30gIGZpZWxkc1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYXNFcnJvcihyb3csIGZpZWxkcykge1xuICAgIHJldHVybiB0aGlzLl9jaGVja0ZpZWxkSW5WYWxpZGF0aW9uKHJvdywgZmllbGRzLCB0aGlzLnN0YXRlLmVycm9ycyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRhYmxlIHJvdyBoYXMgZXJyb3IgaW4gXCJ2YWxpZGF0aW9uXCIgb2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICAgICAgICByb3dcbiAgICogQHBhcmFtICAge0FycmF5fHN0cmluZ30gIGZpZWxkc1xuICAgKiBAcGFyYW0gICB7VmFsaWRhdGlvbn0gICAgdmFsaWRhdGlvblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jaGVja0ZpZWxkSW5WYWxpZGF0aW9uKHJvdywgZmllbGRzLCB2YWxpZGF0aW9uKSB7XG4gICAgbGV0IGk7XG5cbiAgICBpZiAoIXZhbGlkYXRpb25bcm93XSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLnBhcnRpYWxFcnJvckNoZWNraW5nICYmICF0aGlzLnN0YXRlLmNoYW5nZXMuaGFzT3duUHJvcGVydHkocm93KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghQXJyYXkuaXNBcnJheShmaWVsZHMpKSB7XG4gICAgICBmaWVsZHMgPSBbZmllbGRzXTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodmFsaWRhdGlvbltyb3ddLmhhc0Vycm9yKGZpZWxkc1tpXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICAvKipcbiAgICogVGFibGUgcm93IGNoYW5nZWQgZmxhZ1xuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSAgICAgICAgcm93ICAgICAgICAgUm93IElEXG4gICAqIEBwYXJhbSAgIHtBcnJheXxzdHJpbmd9ICBbZmllbGRzXVxuICAgKiBAcmV0dXJuICB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pc0NoYW5nZWQocm93LCBmaWVsZHMpIHtcbiAgICBsZXQgaTtcbiAgICBpZiAoIXRoaXMuc3RhdGUuY2hhbmdlc1tyb3ddKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGZpZWxkcykge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGZpZWxkcykpIHtcbiAgICAgICAgZmllbGRzID0gW2ZpZWxkc107XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNoYW5nZXNbcm93XS5oYXNPd25Qcm9wZXJ0eShmaWVsZHNbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRhYmxlIHJvdyBlcnJvcnMgb2JqZWN0XG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9IHJvdyAgUm93IElEXG4gICAqIEByZXR1cm4gIHtWYWxpZGF0aW9uRXJyb3JzfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFJlY29yZEVycm9ycyhyb3cpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5lcnJvcnNbcm93XSB8fCBuZXcgVmFsaWRhdGlvbkVycm9ycygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBQYXNzIGNoYW5nZXMgdG8gdGhlIHRhYmxlXG4gICAqIFRoaXMgbWV0aG9kIG1hcmtzIGNoYW5nZWQgZmllbGRzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgIHJvdyAgICAgICAgIFJvdyBJRFxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICBkYXRhICAgICAgICBDaGFuZ2VkIGRhdGFcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRSb3dDaGFuZ2VzKHJvdywgZGF0YSkge1xuICAgIGNvbnN0IGNoYW5nZXMgPSB0aGlzLnN0YXRlLmNoYW5nZXM7XG5cbiAgICBpZiAoIWNoYW5nZXNbcm93XSkge1xuICAgICAgY2hhbmdlc1tyb3ddID0ge307XG4gICAgfVxuXG4gICAgY2hhbmdlc1tyb3ddID0gZ2V0UmVjb3JkQ2hhbmdlcyh0aGlzLnByb3BzLm1vZGVsLCB0aGlzLnN0YXRlLmRhdGFbcm93XSwgY2hhbmdlc1tyb3ddLCBkYXRhKTtcblxuICAgIGlmIChpc0VtcHR5KGNoYW5nZXNbcm93XSkpIHtcbiAgICAgIGRlbGV0ZSBjaGFuZ2VzW3Jvd107XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBjb2x1bW4gb2YgT2JqZWN0LmtleXMoZGF0YSkpIHtcbiAgICAgIHRoaXMuX3JlbmRlckJpbmRzKHJvdywgY29sdW1uKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnN0YXRlLmNoYW5nZXMsIHRoaXMuc3RhdGUuZGF0YSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGFibGUgcmVjb3JkIHdpdGggY2hhbmdlc1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcm93IFJvdyBJRFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXF1aXJlZCB0YWJsZSBkYXRhIHJlY29yZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFJlY29yZFdpdGhDaGFuZ2VzKHJvdykge1xuICAgIGlmICh0aGlzLnN0YXRlLmRhdGFbcm93XSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZGF0YVtyb3ddLCB0aGlzLnN0YXRlLmNoYW5nZXNbcm93XSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgdGFibGUgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSAgY2hhbmdlcyAgQ2hhbmdlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXN5bmMgX3NldERhdGEoY2hhbmdlcykge1xuICAgIC8vIEFwcGx5IGFsbCBjaGFuZ2VzXG4gICAgZm9yIChjb25zdCBbaWQsIGRhdGFdIG9mIGNoYW5nZXMpIHtcbiAgICAgIC8vIEZpcnN0bHkgd2UgdXBkYXRlIHRoZSBzdGF0ZVxuICAgICAgdGhpcy5fc2V0UmVjb3JkRGF0YShpZCwgZGF0YSk7XG4gICAgICAvLyBUaGVuIHdlIHZhbGlkYXRlIHRoZSB1cGRhdGVkIGRhdGEgaW4gc3RhdGVcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX2NoZWNrV2FybmluZ3MoaWQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgVGhyb3R0bGVFcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgcmVjb3JkIGZpZWxkIHRpdGxlIHRoYXQgY2hhbmdlcyBjb2x1bW4gRWRpdG9yXG4gICAqXG4gICAqIEBwYXJhbSAgICAgICB7c3RyaW5nfSAgICAgICAgaWQgIENvbHVtbiBJRFxuICAgKiBAcmV0dXJucyAgICAge0FycmF5fHN0cmluZ30gICAgIEZpZWxkcyB0aGF0IGNoYW5nZSBFZGl0b3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRCaW5kUGFyYW0oaWQpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jb2xzW2lkXS5lZGl0b3JGaWVsZCB8fCBpZDtcbiAgfSxcblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgY29udmVydHMgZGF0YSBhcnJheSB0byB0aGUgb2JqZWN0IHdpdGgga2V5cyBwcmVzZW50ZWQgYXMgcmVjb3JkIElEIGhhc2hcbiAgICpcbiAgICogQHBhcmFtICAge0FycmF5fSAgICBhcnIgICAgIERhdGEgYXJyYXlcbiAgICogQHJldHVybnMge09iamVjdH0gICAgT2JqZWN0IHJlc3VsdFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RhdGFBcnJheVRvT2JqZWN0OiBhcnIgPT4ge1xuICAgIGxldCBpO1xuICAgIGNvbnN0IHJlY29yZHMgPSB7fTtcbiAgICBjb25zdCBpbmZvID0ge307XG4gICAgbGV0IHJvdztcblxuICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJvdyA9IHRvRW5jb2RlZFN0cmluZyhhcnJbaV1bMF0pO1xuICAgICAgcmVjb3Jkc1tyb3ddID0gYXJyW2ldWzFdO1xuICAgICAgaW5mb1tyb3ddID0ge1xuICAgICAgICBpZDogYXJyW2ldWzBdLFxuICAgICAgICBpbmRleDogaSAvLyBTb3J0IGluZGV4XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZWNvcmRzOiByZWNvcmRzLFxuICAgICAgaW5mbzogaW5mb1xuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGNvbnZlcnRzIGRhdGEgb2JqZWN0IHRvIHRoZSBhcnJheSB3aXRoIGtleXMgcHJlc2VudGVkIGFzIHJlY29yZCBJRCBoYXNoXG4gICAqXG4gICAqIEBwYXJhbSAgIHtPYmplY3R9ICBvYmogICAgIERhdGEgb2JqZWN0XG4gICAqIEByZXR1cm5zIHtBcnJheX0gICBBcnJheSByZXN1bHRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9kYXRhT2JqZWN0VG9BcnJheShvYmopIHtcbiAgICBsZXQgaTtcbiAgICBjb25zdCBhcnIgPSBbXTtcblxuICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgIGFyci5wdXNoKFtcbiAgICAgICAgdGhpcy5zdGF0ZS5yZWNvcmRzSW5mb1tpXS5pZCxcbiAgICAgICAgY2xvbmUob2JqW2ldKVxuICAgICAgXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycjtcbiAgfSxcblxuICAvKipcbiAgICogSXMgbWFpbiB0YWJsZSByb3cgZmxhZ1xuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSAgICByb3cgICAgIFJvdyBJRFxuICAgKiBAcmV0dXJuICB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pc01haW5Sb3cocm93KSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUubWFpbklkcy5pbmRleE9mKHJvdykgPj0gMDtcbiAgfSxcblxuICBfaXNSZWNvcmRMb2FkZWQocmVjb3JkSWQpIHtcbiAgICAvLyBUT0RPIENhbiBiZSBvcHRpbWl6ZWRcbiAgICBjb25zdCByb3cgPSB0b0VuY29kZWRTdHJpbmcocmVjb3JkSWQpO1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmRhdGEuaGFzT3duUHJvcGVydHkocm93KTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRhYmxlIHJvdyBJRCBoYXZpbmcgcmVjb3JkIElEXG4gICAqXG4gICAqIEBwYXJhbSAgIHsqfSAgICAgICByZWNvcmRJZCAgICBSZWNvcmQgSURcbiAgICogQHJldHVybiAge3N0cmluZ30gIFJvdyBJRFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFJvd0lEKHJlY29yZElkKSB7XG4gICAgY29uc3Qgcm93ID0gdG9FbmNvZGVkU3RyaW5nKHJlY29yZElkKTtcblxuICAgIGlmICghdGhpcy5zdGF0ZS5kYXRhLmhhc093blByb3BlcnR5KHJvdykpIHtcbiAgICAgIHRocm93IEVycm9yKCdSZWNvcmQgd2l0aCB0aGUgSUQgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgdGFibGUuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJvdztcbiAgfSxcblxuICAvKipcbiAgICogTG9hZCBtb2RlbCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHNldHRpbmdzICAgIFJlcXVlc3QgcGFyYW1ldGVyc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXN5bmMgX2xvYWREYXRhKHNldHRpbmdzKSB7XG4gICAgbGV0IGRhdGE7XG4gICAgdHJ5IHtcbiAgICAgIGRhdGEgPSBhd2FpdCB0aGlzLnByb3BzLm1vZGVsLnJlYWQoc2V0dGluZ3MpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyciAmJiB0aGlzLnByb3BzLm9uRXJyb3IpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkVycm9yKGVycik7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMub25QYWdlTG9hZCkge1xuICAgICAgdGhpcy5wcm9wcy5vblBhZ2VMb2FkKGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfSxcblxuICAvKipcbiAgICogRmluZCByZWNvcmQgSURzIHRoYXQgbmVlZCB0byBiZSBkaXNwbGF5ZWQgYWRkaXRpb25hbGx5XG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5fSBBZGRpdGlvbmFsIElEcyBhcnJheVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldEFkZGl0aW9uYWxJZHMoKSB7XG4gICAgY29uc3QgYWRkaXRpb25hbElkcyA9IHRoaXMuX2dldFJlY29yZHNXaXRoU3RhdHVzKCk7XG4gICAgbGV0IGlkO1xuICAgIGZvciAoY29uc3Qgcm93IGluIHRoaXMuc3RhdGUuY2hhbmdlcykge1xuICAgICAgaWQgPSB0aGlzLnN0YXRlLnJlY29yZHNJbmZvW3Jvd10uaWQ7XG4gICAgICBpZiAoYWRkaXRpb25hbElkcy5pbmRleE9mKGlkKSA8IDApIHtcbiAgICAgICAgYWRkaXRpb25hbElkcy5wdXNoKGlkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFkZGl0aW9uYWxJZHM7XG4gIH0sXG5cbiAgX3JlbW92ZVJlY29yZChyb3dJZCwgY2IpIHtcbiAgICBjb25zdCB0b3VjaGVkQ2hhbmdlcyA9IHRoaXMuc3RhdGUuY2hhbmdlc1tyb3dJZF07XG4gICAgdGhpcy5fcmVtb3ZlVFIocm93SWQpO1xuICAgIC8vIHRoaXMudW5zZWxlY3RSZWNvcmQocmVjb3JkSWQsIHRydWUpOyAvLyBUT0RPIE1ha2UgdW5zZWxlY3RSZWNvcmQgYnkgcm93SWQgbWV0aG9kXG4gICAgZGVsZXRlIHRoaXMuc3RhdGUuZGF0YVtyb3dJZF07XG4gICAgZGVsZXRlIHRoaXMuc3RhdGUucmVjb3Jkc0luZm9bcm93SWRdO1xuICAgIGRlbGV0ZSB0aGlzLnN0YXRlLmNoYW5nZXNbcm93SWRdO1xuICAgIGRlbGV0ZSB0aGlzLnN0YXRlLndhcm5pbmdzW3Jvd0lkXTtcbiAgICBkZWxldGUgdGhpcy5zdGF0ZS5lcnJvcnNbcm93SWRdO1xuICAgIGRlbGV0ZSB0aGlzLnN0YXRlLmVkaXRvcltyb3dJZF07XG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLnN0YXRlLCBjYiA/IGNiLmJpbmQodGhpcykgOiBudWxsKTtcblxuICAgIGlmICh0b3VjaGVkQ2hhbmdlcyAmJiB0aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMuc3RhdGUuY2hhbmdlcywgdGhpcy5zdGF0ZS5kYXRhKTtcbiAgICB9XG4gIH0sXG5cbiAgYXN5bmMgX2NoZWNrV2FybmluZ3Mocm93KSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLndhcm5pbmdzVmFsaWRhdG9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jaGVja1ZhbGlkYXRvckVycm9ycyhcbiAgICAgIHJvdyxcbiAgICAgIHRoaXMucHJvcHMud2FybmluZ3NWYWxpZGF0b3IsXG4gICAgICB0aGlzLl9nZXRSZWNvcmRXaXRoQ2hhbmdlcyxcbiAgICAgIHRoaXMuc3RhdGUud2FybmluZ3NcbiAgICApO1xuICB9LFxuXG4gIGFzeW5jIF92YWxpZGF0ZVJvdyhyb3cpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fY2hlY2tWYWxpZGF0b3JFcnJvcnMocm93LCB0aGlzLnByb3BzLm1vZGVsLCB0aGlzLl9nZXRSZWNvcmRDaGFuZ2VzLCB0aGlzLnN0YXRlLmVycm9ycyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGVycm9ycyBpbiBcInZhbGlkYXRvclwiIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gICAgICAgIHJvdyAgICAgICAgIFJvdyBJRFxuICAgKiBAcGFyYW0ge1ZhbGlkYXRvcn0gICAgIHZhbGlkYXRvciAgIFZhbGlkYXRvciBvYmplY3RcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gICAgICBnZXREYXRhICAgICBEYXRhIHByb3ZpZGVyIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7e319ICAgICAgICAgICAgcmVzdWx0ICAgICAgVmFsaWRhdGlvbiByZXN1bHQgb2JqZWN0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhc3luYyBfY2hlY2tWYWxpZGF0b3JFcnJvcnMocm93LCB2YWxpZGF0b3IsIGdldERhdGEsIHJlc3VsdCkge1xuICAgIGNvbnN0IHJlY29yZElkID0gdGhpcy5zdGF0ZS5yZWNvcmRzSW5mb1tyb3ddLmlkO1xuICAgIGNvbnN0IHJlY29yZCA9IGdldERhdGEocm93KTtcblxuICAgIGNvbnN0IHZhbGlkRXJyb3JzID0gYXdhaXQgdmFsaWRhdG9yLmlzVmFsaWRSZWNvcmQocmVjb3JkLCByZWNvcmRJZCk7XG5cbiAgICBpZiAoaXNFcXVhbChyZWNvcmQsIGdldERhdGEocm93KSkpIHtcbiAgICAgIGlmICh2YWxpZEVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgICAgZGVsZXRlIHJlc3VsdFtyb3ddO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W3Jvd10gPSB2YWxpZEVycm9ycztcbiAgICAgIH1cblxuICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUm93KHJvdyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBIYW5kbGVyIGZvciBcImNyZWF0ZVwiIGV2ZW50IG9mIEdyaWRNb2RlbFxuICAgKlxuICAgKiBAcGFyYW0geypbXXwqfSByZWNvcmRJZHNcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9vblJlY29yZHNDcmVhdGVkKHJlY29yZElkcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShyZWNvcmRJZHMpKSB7XG4gICAgICB3YXJuKCdOb3QgYXJyYXkgcmVjb3Jkc0lkcyBpbiBcImNyZWF0ZVwiIGV2ZW50IGlzIGRlcHJlY2F0ZWQnKTtcbiAgICAgIHJlY29yZElkcyA9IFtyZWNvcmRJZHNdO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlVGFibGUoKS50aGVuKFxuICAgICAgUHJvbWlzZS5hbGwoXG4gICAgICAgIHJlY29yZElkcy5tYXAoYXN5bmMgcmVjb3JkSWQgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5faXNSZWNvcmRMb2FkZWQocmVjb3JkSWQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qgcm93SWQgPSB0aGlzLl9nZXRSb3dJRChyZWNvcmRJZCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2NoZWNrV2FybmluZ3Mocm93SWQpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBUaHJvdHRsZUVycm9yKSkge1xuICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHcmlkRGF0YU1peGluO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQge2F0LCBjbG9uZURlZXAsIHBhcnNlVmFsdWVGcm9tRXZlbnQsIHppcE9iamVjdH0gZnJvbSAnLi4vLi4vY29tbW9uL3V0aWxzJztcbmltcG9ydCBUaHJvdHRsZUVycm9yIGZyb20gJy4uLy4uL2NvbW1vbi9UaHJvdHRsZUVycm9yJztcblxuY29uc3QgZmluZERPTU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZTtcblxuY29uc3QgRU5URVJfS0VZID0gMTM7XG5jb25zdCBFU0NBUEVfS0VZID0gMjc7XG5cbmNvbnN0IEdyaWRFZGl0b3JNaXhpbiA9IHtcblxuICAvKipcbiAgICogRGlzcGxheSBFZGl0b3IgaW4gYSB0YWJsZSBjZWxsXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgICAgIENlbGwgRE9NIGVsZW1lbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgcm93ICAgICAgICAgUm93IElEXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgIGNvbHVtbiAgICAgIENvbHVtbiBJRFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlckVkaXRvcjogZnVuY3Rpb24gKGVsZW1lbnQsIHJvdywgY29sdW1uKSB7XG4gICAgY29uc3QgYmluZHMgPSB0aGlzLl9nZXRCaW5kUGFyYW0oY29sdW1uKTtcbiAgICBjb25zdCByZWNvcmQgPSB0aGlzLl9nZXRSZWNvcmRXaXRoQ2hhbmdlcyhyb3cpO1xuICAgIGxldCB2YWx1ZSA9IGF0KHJlY29yZCwgYmluZHMpO1xuICAgIGxldCBmb2N1c0RvbmUgPSBmYWxzZTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheShiaW5kcykpIHtcbiAgICAgIHZhbHVlID0gdmFsdWVbMF07XG4gICAgfVxuXG4gICAgLy8gUHJldmVudCByZWNyZWF0ZSBvZiB0aGUgb3BlbmVkIEVkaXRvclxuICAgIGlmICh0aGlzLl9pc0VkaXRvclZpc2libGUocm93LCBjb2x1bW4pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZWRpdG9yQ29udGV4dCA9IHtcbiAgICAgIHVwZGF0ZUZpZWxkOiAoZmllbGQsIG5leHRWYWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgIGRhdGFbZmllbGRdID0gbmV4dFZhbHVlO1xuICAgICAgICB0aGlzLl9zZXRSb3dDaGFuZ2VzKHJvdywgZGF0YSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgb25DaGFuZ2U6ICh2YWx1ZXMpID0+IHtcbiAgICAgICAgdGhpcy5fb25DaGFuZ2VFZGl0b3Iocm93LCBjb2x1bW4sIHZhbHVlcywgZWRpdG9yQ29udGV4dCwgZWxlbWVudCk7XG4gICAgICB9LFxuICAgICAgb25Gb2N1czogKCkgPT4ge1xuICAgICAgICB0aGlzLl9vbkZvY3VzRWRpdG9yKHJvdywgY29sdW1uKTtcbiAgICAgIH0sXG4gICAgICBvbkJsdXI6ICgpID0+IHtcbiAgICAgICAgLy8gUmVtb3ZlIEVkaXRvclxuICAgICAgICBpZiAoZm9jdXNEb25lKSB7XG4gICAgICAgICAgdGhpcy5fdW5tb3VudEVkaXRvcihlbGVtZW50LCByb3csIGNvbHVtbik7XG4gICAgICAgICAgdGhpcy5fb25CbHVyRWRpdG9yKHJvdyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbktleVVwOiAoZSkgPT4ge1xuICAgICAgICBpZiAoZm9jdXNEb25lICYmIFtFTlRFUl9LRVksIEVTQ0FQRV9LRVldLmluY2x1ZGVzKGUua2V5Q29kZSkpIHtcbiAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSBFU0NBUEVfS0VZKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRSb3dDaGFuZ2VzKHJvdywgeyBbY29sdW1uXTogdmFsdWUgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5fdW5tb3VudEVkaXRvcihlbGVtZW50LCByb3csIGNvbHVtbik7XG4gICAgICAgICAgdGhpcy5fb25CbHVyRWRpdG9yKHJvdyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9O1xuXG4gICAgZWRpdG9yQ29udGV4dC5wcm9wcyA9IHByb3BzO1xuXG4gICAgLy8gRGlzcGxheSBFZGl0b3JcbiAgICBjb25zdCBDb21wb25lbnQgPSB0aGlzLnByb3BzLmNvbHNbY29sdW1uXS5lZGl0b3IuY2FsbChlZGl0b3JDb250ZXh0LCByZWNvcmQsIHRoaXMpO1xuXG4gICAgaWYgKCFDb21wb25lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLmVkaXRvcltgJHtyb3d9XyR7Y29sdW1ufWBdID0gUmVhY3RET00ucmVuZGVyKENvbXBvbmVudCwgZWxlbWVudCwgZnVuY3Rpb24gKCkge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkZ3JpZC1pbnB1dC13cmFwcGVyJyk7XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5mb2N1cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaW5kRE9NTm9kZSh0aGlzKS5mb2N1cygpO1xuICAgICAgfVxuICAgICAgZm9jdXNEb25lID0gdHJ1ZTtcbiAgICB9KTtcbiAgfSxcblxuICBfdW5tb3VudEVkaXRvcihlbGVtZW50LCByb3csIGNvbHVtbikge1xuICAgIFJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUoZWxlbWVudCk7XG4gICAgZGVsZXRlIHRoaXMuc3RhdGUuZWRpdG9yW2Ake3Jvd31fJHtjb2x1bW59YF07XG4gICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkZ3JpZC1pbnB1dC13cmFwcGVyJyk7XG5cbiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuaXNTZWxlY3RlZCh0aGlzLnN0YXRlLnJlY29yZHNJbmZvW3Jvd10uaWQpO1xuICAgIHRoaXMuX3JlbmRlckNlbGwocm93LCBjb2x1bW4sIHNlbGVjdGVkKTtcbiAgfSxcblxuICBfb25DaGFuZ2VFZGl0b3I6IGZ1bmN0aW9uIChyb3csIGNvbHVtbiwgdmFsdWVzLCBlZGl0b3JDb250ZXh0LCBlbGVtZW50KSB7XG4gICAgbGV0IGJpbmRzID0gdGhpcy5fZ2V0QmluZFBhcmFtKGNvbHVtbik7XG5cbiAgICB2YWx1ZXMgPSBjbG9uZURlZXAocGFyc2VWYWx1ZUZyb21FdmVudCh2YWx1ZXMpKTtcblxuICAgIGNvbnN0IHJlY29yZCA9IHRoaXMuX2dldFJlY29yZFdpdGhDaGFuZ2VzKHJvdyk7XG4gICAgY29uc3QgY29udGV4dCA9IGNsb25lRGVlcChlZGl0b3JDb250ZXh0KTtcbiAgICBjb250ZXh0LnByb3BzLnZhbHVlID0gdmFsdWVzO1xuICAgIGNvbnN0IENvbXBvbmVudCA9IHRoaXMucHJvcHMuY29sc1tjb2x1bW5dLmVkaXRvci5jYWxsKGNvbnRleHQsIHJlY29yZCwgdGhpcyk7XG4gICAgdGhpcy5zdGF0ZS5lZGl0b3JbYCR7cm93fV8ke2NvbHVtbn1gXSA9IFJlYWN0RE9NLnJlbmRlcihDb21wb25lbnQsIGVsZW1lbnQpO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJpbmRzKSkge1xuICAgICAgYmluZHMgPSBbYmluZHNdO1xuICAgICAgdmFsdWVzID0gW3ZhbHVlc107XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0Um93Q2hhbmdlcyhyb3csIHppcE9iamVjdChiaW5kcywgdmFsdWVzKSk7XG4gIH0sXG5cbiAgX29uRm9jdXNFZGl0b3I6IGZ1bmN0aW9uIChyb3csIGNvbHVtbikge1xuICAgIGlmICghdGhpcy5zdGF0ZS5lcnJvcnNbcm93XSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBiaW5kcyA9IHRoaXMuX2dldEJpbmRQYXJhbShjb2x1bW4pO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShiaW5kcykpIHtcbiAgICAgIGJpbmRzID0gW2JpbmRzXTtcbiAgICB9XG5cbiAgICBiaW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgdGhpcy5zdGF0ZS5lcnJvcnNbcm93XS5jbGVhckZpZWxkKGZpZWxkKTtcbiAgICB9LCB0aGlzKTtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcnNbcm93XS5pc0VtcHR5KCkpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnN0YXRlLmVycm9yc1tyb3ddO1xuICAgIH1cbiAgfSxcblxuICBhc3luYyBfb25CbHVyRWRpdG9yKHJvdykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLl9jaGVja1dhcm5pbmdzKHJvdyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIFRocm90dGxlRXJyb3IpKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETyBEZXByZWNhdGVkIHByb3AgcmVhbHRpbWUgaW4gdjAuMTdcbiAgICBpZiAodGhpcy5wcm9wcy5hdXRvU3VibWl0IHx8IHRoaXMucHJvcHMucmVhbHRpbWUpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnJlYWx0aW1lKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRGVwcmVjYXRlZDogR3JpZCBwcm9wIFwicmVhbHRpbWVcIiByZW5hbWVkIHRvIFwiYXV0b1N1Ym1pdFwiJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnNhdmUodGhpcy5wcm9wcy5vblJlYWx0aW1lU3VibWl0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdmFsaWRhdGVSb3cocm93KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIFRocm90dGxlRXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnN0YXRlLmNoYW5nZXMsIHRoaXMuc3RhdGUuZGF0YSk7XG4gICAgfVxuICB9LFxuXG4gIF9pc0VkaXRvclZpc2libGU6IGZ1bmN0aW9uIChyb3csIGNvbHVtbikge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMuc3RhdGUuZWRpdG9yW2Ake3Jvd31fJHtjb2x1bW59YF0pO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHcmlkRWRpdG9yTWl4aW47XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgUmVhY3QsIHtGcmFnbWVudH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBHcmlkUGFnaW5hdGlvbk1peGluID0ge1xuICAvKipcbiAgICogQ2hhbmdlIGV2ZW50IGhhbmRsZXIgb2YgZGlzcGxheWVkIHJvd3MgY291bnQgaW4gYSB0YWJsZVxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICAgKi9cbiAgaGFuZGxlQ2hhbmdlVmlld0NvdW50OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBjb25zdCBjb3VudCA9IHRoaXMucHJvcHMudmlld1ZhcmlhbnRzW2V2ZW50LnRhcmdldC52YWx1ZV07XG4gICAgaWYgKHRoaXMuX2lzVmlld0NvdW50UHJvcHNNb2RlKCkpIHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2VWaWV3Q291bnQoY291bnQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldFZpZXdDb3VudChjb3VudCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmUgdG8gZmlyc3QgcGFnZSBldmVudCBoYW5kbGVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAqL1xuICBoYW5kbGVGaXJzdFBhZ2U6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5zZXRQYWdlKDApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIGxhc3QgcGFnZSBldmVudCBoYW5kbGVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAqL1xuICBoYW5kbGVMYXN0UGFnZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNldFBhZ2UodGhpcy5nZXRQYWdlc0NvdW50KCkgLSAxKTtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZSB0byBwcmV2aW91cyBwYWdlIGV2ZW50IGhhbmRsZXJcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICovXG4gIGhhbmRsZVByZXZQYWdlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuc2V0UGFnZSh0aGlzLnN0YXRlLnBhZ2UgLSAxKTtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZSB0byBuZXh0IHBhZ2UgZXZlbnQgaGFuZGxlclxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICAgKi9cbiAgaGFuZGxlTmV4dFBhZ2U6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5zZXRQYWdlKHRoaXMuc3RhdGUucGFnZSArIDEpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZWZyZXNoIHRhYmxlIGhhbmRsZXJcbiAgICpcbiAgICovXG4gIGhhbmRsZVJlZnJlc2hUYWJsZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IHBhZ2UgaW5kZXggbnVtYmVyXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldEN1cnJlbnRQYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucGFnZTtcbiAgfSxcblxuICBnZXRDb3VudFJlY29yZHM6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jb3VudDtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZSB0byBvdGhlciBwYWdlXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSAgcGFnZSAgICAgUGFnZSBpbmRleCBudW1iZXJcbiAgICovXG4gIHNldFBhZ2U6IGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgdGhpcy5fc2V0UGFnZShwYWdlKTtcbiAgICB0aGlzLnVwZGF0ZVRhYmxlKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldCBkaXNwbGF5ZWQgZWxlbWVudHMgY291bnRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZpZXdDb3VudFxuICAgKi9cbiAgc2V0Vmlld0NvdW50OiBmdW5jdGlvbiAodmlld0NvdW50KSB7XG4gICAgaWYgKHRoaXMuX2lzVmlld0NvdW50UHJvcHNNb2RlKCkpIHtcbiAgICAgIHRocm93IEVycm9yKCdZb3UgY2FuIG5vdCB1c2UgZnVuY3Rpb24gXCJzZXRWaWV3Q291bnRcIiB3aGVuIHNldCBwcm9wIFwidmlld0NvdW50XCInKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLnZpZXdDb3VudCA9IHZpZXdDb3VudDtcbiAgICB0aGlzLnN0YXRlLnBhZ2UgPSB0aGlzLl9jaGVja1BhZ2UodGhpcy5zdGF0ZS5wYWdlLCB2aWV3Q291bnQsIHRoaXMuc3RhdGUuY291bnQpO1xuICAgIHRoaXMudXBkYXRlVGFibGUoKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHBhZ2VzIGNvdW50XG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldFBhZ2VzQ291bnQ6IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB2aWV3Q291bnQgPSB0aGlzLmdldFZpZXdDb3VudCgpO1xuICAgIHJldHVybiB2aWV3Q291bnQgPyBNYXRoLmNlaWwodGhpcy5zdGF0ZS5jb3VudCAvIHZpZXdDb3VudCkgOiAxO1xuICB9LFxuXG4gIGdldFZpZXdDb3VudDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl9pc1ZpZXdDb3VudFByb3BzTW9kZSgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy52aWV3Q291bnQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0YXRlLnZpZXdDb3VudDtcbiAgfSxcblxuICBfc2V0UGFnZTogZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICB0aGlzLnN0YXRlLnBhZ2UgPSB0aGlzLl9jaGVja1BhZ2UocGFnZSwgdGhpcy5zdGF0ZS52aWV3Q291bnQsIHRoaXMuc3RhdGUuY291bnQpO1xuICB9LFxuXG4gIF9jaGVja1BhZ2U6IChwYWdlLCB2aWV3LCBjb3VudCkgPT4ge1xuICAgIGlmIChwYWdlICogdmlldyA+PSBjb3VudCkge1xuICAgICAgcGFnZSA9IHZpZXcgPyBNYXRoLmNlaWwoY291bnQgLyB2aWV3KSAtIDEgOiAwO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgcGFnZSk7XG4gIH0sXG5cbiAgX2lzVmlld0NvdW50UHJvcHNNb2RlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaGFzT3duUHJvcGVydHkoJ3ZpZXdDb3VudCcpO1xuICB9LFxuXG4gIF9yZW5kZXJQYWdpbmF0aW9uOiBmdW5jdGlvbiBfcmVuZGVyUGFnaW5hdGlvbigpIHtcbiAgICBjb25zdCB2aWV3Q291bnQgPSB0aGlzLmdldFZpZXdDb3VudCgpO1xuICAgIHJldHVybiBCb29sZWFuKHZpZXdDb3VudCkgJiYgKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZ3JpZC1mb290ZXJcIj5cbiAgICAgICAge0Jvb2xlYW4odGhpcy5wcm9wcy52aWV3VmFyaWFudHMpICYmIChcbiAgICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgICA8ZGl2IGtleT1cIjBcIiBjbGFzc05hbWU9XCJkZ3JpZC1wYWdpbmF0aW9uLXBhZ2Utc2l6ZVwiPiBQYWdlIFNpemUgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGtleT1cIjFcIiBjbGFzc05hbWU9XCJkZ3JpZC1wYWdpbmF0aW9uLXZpZXctdmFyaWFudHNcIj5cbiAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRncmlkLXBhZ2luYXRpb24tdmlldy12YXJpYW50cy1zZWxlY3RcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLnZpZXdWYXJpYW50cy5pbmRleE9mKHZpZXdDb3VudCl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlVmlld0NvdW50fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMudmlld1ZhcmlhbnRzLm1hcCgob3B0aW9uLCBrZXkpID0+IDxvcHRpb24ga2V5PXtrZXl9IHZhbHVlPXtrZXl9PntvcHRpb259PC9vcHRpb24+LCB0aGlzKX1cbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgICApfVxuICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImJ0bi1maXJzdC1wYWdlXCIgb25DbGljaz17dGhpcy5oYW5kbGVGaXJzdFBhZ2V9Lz5cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJidG4tcHJldi1wYWdlXCIgb25DbGljaz17dGhpcy5oYW5kbGVQcmV2UGFnZX0vPlxuICAgICAgICB7Qm9vbGVhbih0aGlzLnN0YXRlLmNvdW50KSAmJiAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHsodGhpcy5zdGF0ZS5wYWdlICogdmlld0NvdW50KSArIDF9XG4gICAgICAgICAgICB7JyAtICd9XG4gICAgICAgICAgICB7TWF0aC5taW4oXG4gICAgICAgICAgICAgICh0aGlzLnN0YXRlLnBhZ2UgKyAxKSAqIHZpZXdDb3VudCxcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHsnIG9mICd9XG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5jb3VudH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJidG4tbmV4dC1wYWdlXCIgb25DbGljaz17dGhpcy5oYW5kbGVOZXh0UGFnZX0vPlxuICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImJ0bi1sYXN0LXBhZ2VcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUxhc3RQYWdlfS8+XG4gICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwiYnRuLXJlZnJlc2gtcGFnZVwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlUmVmcmVzaFRhYmxlfS8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHcmlkUGFnaW5hdGlvbk1peGluO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtjbG9uZSwgaW5kZXhPZiwgdG9FbmNvZGVkU3RyaW5nfSBmcm9tICcuLi8uLi9jb21tb24vdXRpbHMnO1xuXG4vKipcbiAqIEdyaWQgbWl4aW4sIHJlc3BvbnNpYmxlIGZvciByb3dzIFNlbGVjdFxuICovXG5jb25zdCBHcmlkU2VsZWN0TWl4aW4gPSB7XG4gIC8qKlxuICAgKiBTZWxlY3Qgb25seSB0aGVzZSByZWNvcmRzXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgc2VsZWN0ZWRJZHMgICAgICAgUmVjb3JkIElEc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtibGFja0xpc3RNb2RlXSAgIElzIGJsYWNrIGxpc3QgbW9kZVxuICAgKi9cbiAgc2V0U2VsZWN0ZWRSZWNvcmRzOiBmdW5jdGlvbiAoc2VsZWN0ZWRJZHMsIGJsYWNrTGlzdE1vZGUpIHtcbiAgICB0aGlzLnN0YXRlLnNlbGVjdGVkID0gY2xvbmUoc2VsZWN0ZWRJZHMpO1xuICAgIGlmICh0eXBlb2YgYmxhY2tMaXN0TW9kZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aGlzLnN0YXRlLnNlbGVjdEJsYWNrTGlzdE1vZGUgPSBibGFja0xpc3RNb2RlO1xuICAgIH1cblxuICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICB0aGlzLl9yZW5kZXJCb2R5KCk7XG4gICAgdGhpcy5fZW1pdENoYW5nZVNlbGVjdGVkTnVtKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNlbGVjdCBhIHJlY29yZFxuICAgKlxuICAgKiBAcGFyYW0geyp9ICAgIHJlY29yZElkICAgICAgIFJlY29yZCBJRFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59ICAgICAgICAgICAgIFtpZ25vcmVCbGFja0xpc3Q9ZmFsc2VdICAgICBJZ25vcmUgQmxhY2tMaXN0IG1vZGVcbiAgICovXG4gIHNlbGVjdFJlY29yZDogZnVuY3Rpb24gKHJlY29yZElkLCBpZ25vcmVCbGFja0xpc3QpIHtcbiAgICBjb25zdCByb3cgPSB0b0VuY29kZWRTdHJpbmcocmVjb3JkSWQpO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0QmxhY2tMaXN0TW9kZSAmJiAhaWdub3JlQmxhY2tMaXN0KSB7XG4gICAgICByZXR1cm4gdGhpcy51bnNlbGVjdFJlY29yZChyZWNvcmRJZCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4T2YodGhpcy5zdGF0ZS5zZWxlY3RlZCwgcmVjb3JkSWQpIDwgMCkge1xuICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZC5wdXNoKHJlY29yZElkKTtcblxuICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWQubGVuZ3RoID09PSB0aGlzLnN0YXRlLmNvdW50KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdEJsYWNrTGlzdE1vZGUpIHtcbiAgICAgICAgICB0aGlzLnVuc2VsZWN0QWxsKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RBbGwoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlUm93KHJvdykudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLl9lbWl0Q2hhbmdlU2VsZWN0ZWROdW0oKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogVW5zZWxlY3QgcmVjb3JkXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gICByZWNvcmRJZCAgICAgICAgICAgICAgICAgICAgUmVjb3JkIElEXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gICAgICAgICBbaWdub3JlQmxhY2tMaXN0PWZhbHNlXSAgICAgSWdub3JlIEJsYWNrTGlzdCBtb2RlXG4gICAqL1xuICB1bnNlbGVjdFJlY29yZDogZnVuY3Rpb24gKHJlY29yZElkLCBpZ25vcmVCbGFja0xpc3QpIHtcbiAgICBjb25zdCByb3cgPSB0b0VuY29kZWRTdHJpbmcocmVjb3JkSWQpO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0QmxhY2tMaXN0TW9kZSAmJiAhaWdub3JlQmxhY2tMaXN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RSZWNvcmQocmVjb3JkSWQsIHRydWUpO1xuICAgIH1cblxuICAgIGNvbnN0IHBvcyA9IGluZGV4T2YodGhpcy5zdGF0ZS5zZWxlY3RlZCwgcmVjb3JkSWQpO1xuICAgIGlmIChwb3MgPj0gMCkge1xuICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZC5zcGxpY2UocG9zLCAxKTtcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVSb3cocm93KS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuX2VtaXRDaGFuZ2VTZWxlY3RlZE51bSgpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJcyBzZWxlY3RlZCByb3cgZmxhZyBpbiBhY2NvcmRhbmNlIHdpdGhcbiAgICogY3VycmVudCBzZWxlY3QgbW9kZSAod2hpdGVsaXN0L2JsYWNrbGlzdCkuXG4gICAqXG4gICAqIEBwYXJhbSAgIHtudW1iZXJ8c3RyaW5nfSAgICAgcmVjb3JkSWQgICAgUmVjb3JkIElEXG4gICAqIEByZXR1cm5zIHtib29sZWFufSAgICAgICAgICAgSXMgc2VsZWN0ZWQgcm93IGZsYWdcbiAgICovXG4gIGlzU2VsZWN0ZWQ6IGZ1bmN0aW9uIChyZWNvcmRJZCkge1xuICAgIGNvbnN0IHNlbGVjdGVkID0gaW5kZXhPZih0aGlzLnN0YXRlLnNlbGVjdGVkLCByZWNvcmRJZCkgPj0gMDtcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RCbGFja0xpc3RNb2RlKSB7XG4gICAgICByZXR1cm4gIXNlbGVjdGVkO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFN3aXRjaCBcInNlbGVjdFwiXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gICByZWNvcmRJZCAgUmVjb3JkIElEXG4gICAqL1xuICB0b2dnbGVTZWxlY3RlZDogZnVuY3Rpb24gKHJlY29yZElkKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25Ub2dnbGVTZWxlY3RlZCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub25Ub2dnbGVTZWxlY3RlZChyZWNvcmRJZCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzU2VsZWN0ZWQocmVjb3JkSWQpKSB7XG4gICAgICB0aGlzLnVuc2VsZWN0UmVjb3JkKHJlY29yZElkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3RSZWNvcmQocmVjb3JkSWQpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogU3dpdGNoIHJlY29yZHMgc2VsZWN0aW9uIG1vZGVcbiAgICovXG4gIHRvZ2dsZVNlbGVjdEFsbDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uVG9nZ2xlU2VsZWN0QWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vblRvZ2dsZVNlbGVjdEFsbCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RCbGFja0xpc3RNb2RlKSB7XG4gICAgICB0aGlzLnVuc2VsZWN0QWxsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VsZWN0QWxsKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZWxlY3QgYWxsIHJlY29yZHNcbiAgICogU3dpdGNoZXMgcmVjb3JkcyBzZWxlY3Rpb24gbW9kZSB0byBcImJsYWNrbGlzdFwiXG4gICAqL1xuICBzZWxlY3RBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnN0YXRlLnNlbGVjdEJsYWNrTGlzdE1vZGUgPSB0cnVlO1xuICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWQgPSBbXTtcbiAgICB0aGlzLl9yZW5kZXJCb2R5KCk7XG4gICAgdGhpcy5fZW1pdENoYW5nZVNlbGVjdGVkTnVtKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVuc2VsZWN0IGFsbCByZWNvcmRzIHN0YXR1c1xuICAgKiBTd2l0Y2hlcyByZWNvcmRzIHNlbGVjdGlvbiBtb2RlIHRvIFwid2hpdGVsaXN0XCJcbiAgICovXG4gIHVuc2VsZWN0QWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zdGF0ZS5zZWxlY3RCbGFja0xpc3RNb2RlID0gZmFsc2U7XG4gICAgdGhpcy5zdGF0ZS5zZWxlY3RlZCA9IFtdO1xuICAgIHRoaXMuX3JlbmRlckJvZHkoKTtcbiAgICB0aGlzLl9lbWl0Q2hhbmdlU2VsZWN0ZWROdW0oKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgcmVjb3JkcyBzZWxlY3Rpb24gbW9kZVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmVjb3JkcyBzZWxlY3Rpb24gbW9kZS4gdHJ1ZSAtIEJsYWNrbGlzdDsgZmFsc2UgLSBXaGl0ZWxpc3RcbiAgICovXG4gIGlzU2VsZWN0QmxhY2tNb2RlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2VsZWN0QmxhY2tMaXN0TW9kZTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGFsbCBzZWxlY3RlZCByZWNvcmRzXG4gICAqXG4gICAqIEByZXR1cm5zIHtBcnJheX0gICBSZWNvcmQgSURzIGFycmF5XG4gICAqL1xuICBnZXRBbGxTZWxlY3RlZDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjbG9uZSh0aGlzLnN0YXRlLnNlbGVjdGVkKTtcbiAgfSxcblxuICBnZXRTZWxlY3RBbGxTdGF0dXMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0QWxsU3RhdHVzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyIHNlbGVjdGVkIHJlY29yZHMgY291bnQgY2hhbmdlIGhhbmRsZXJcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9lbWl0Q2hhbmdlU2VsZWN0ZWROdW06IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblNlbGVjdGVkQ2hhbmdlKSB7XG4gICAgICBsZXQgc2VsZWN0ZWRDb3VudCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWQubGVuZ3RoO1xuICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0QmxhY2tMaXN0TW9kZSkge1xuICAgICAgICBzZWxlY3RlZENvdW50ID0gdGhpcy5nZXRDb3VudFJlY29yZHMoKSAtIHNlbGVjdGVkQ291bnQ7XG4gICAgICB9XG4gICAgICB0aGlzLnByb3BzLm9uU2VsZWN0ZWRDaGFuZ2UodGhpcy5nZXRBbGxTZWxlY3RlZCgpLCBzZWxlY3RlZENvdW50KTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRTZWxlY3RNaXhpbjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7Y2xvbmUsIGZpbmRJbmRleCwgY2xvbmVEZWVwfSBmcm9tICcuLi8uLi9jb21tb24vdXRpbHMnO1xuXG5jb25zdCBHcmlkU29ydGluZ01peGluID0ge1xuICAvKipcbiAgICogU29ydCBieSBjb2x1bW5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbHVtblxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9uXG4gICAqL1xuICBzb3J0OiBmdW5jdGlvbiAoY29sdW1uLCBkaXJlY3Rpb24pIHtcbiAgICBpZiAodGhpcy5faXNTb3J0aW5nUHJvcHNNb2RlKCkpIHtcbiAgICAgIHRocm93IEVycm9yKCdZb3UgY2FuIG5vdCB1c2UgZnVuY3Rpb24gXCJzb3J0XCIgd2hlbiBzZXQgcHJvcCBcInNvcnRcIicpO1xuICAgIH1cblxuICAgIGNvbnN0IHNvcnQgPSB7XG4gICAgICBjb2x1bW46IGNvbHVtbixcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgfTtcblxuICAgIGlmICh0aGlzLnByb3BzLm11bHRpcGxlU29ydGluZykge1xuICAgICAgdGhpcy5zdGF0ZS5zb3J0LnB1c2goc29ydCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGUuc29ydCA9IHNvcnQ7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRQYWdlKDApO1xuXG4gICAgaWYgKHRoaXMucHJvcHMub25Tb3J0aW5nKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU29ydGluZyh0aGlzLnN0YXRlLnNvcnQsIGNvbHVtbiwgZGlyZWN0aW9uKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBzb3J0IGRpcmVjdGlvblxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R8b2JqZWN0W119XG4gICAqL1xuICBnZXRTb3J0RGlyZWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX2lzU29ydGluZ1Byb3BzTW9kZSgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5zb3J0O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zb3J0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXNldCB0byBkZWZhdWx0IHNvcnQgcGFyYW1ldGVyc1xuICAgKi9cbiAgcmVzZXRTb3J0aW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX2lzU29ydGluZ1Byb3BzTW9kZSgpKSB7XG4gICAgICB0aHJvdyBFcnJvcignWW91IGNhbiBub3QgdXNlIGZ1bmN0aW9uIFwicmVzZXRTb3J0aW5nXCIgd2hlbiBzZXQgcHJvcCBcInNvcnRcIicpO1xuICAgIH1cblxuICAgIHRoaXMuX3Jlc2V0U29ydGluZygpO1xuICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVzZXQgdG8gZGVmYXVsdCBzb3J0IHBhcmFtZXRlcnNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZXNldFNvcnRpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzb3J0ID0gdGhpcy5fZ2V0RGVmYXVsdFNvcnQoKTtcblxuICAgIGlmICh0aGlzLl9pc1NvcnRpbmdQcm9wc01vZGUoKSkge1xuICAgICAgdGhpcy5vblNvcnRpbmcoc29ydCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5zb3J0ID0gc29ydDtcbiAgfSxcblxuICAvKipcbiAgICogVXNlIGNvbHVtbiBuYW1lIGZvciB0YWJsZSBzb3J0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb2x1bW4gIENvbHVtbiBuYW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc29ydENvbDogZnVuY3Rpb24gKGNvbHVtbikge1xuICAgIGxldCBuZXdPcmRlcjtcbiAgICBjb25zdCBjeWNsZSA9IHRoaXMucHJvcHMuY29sc1tjb2x1bW5dLnNvcnRDeWNsZTtcbiAgICBsZXQgbmV3U29ydHMgPSBjbG9uZSh0aGlzLmdldFNvcnREaXJlY3Rpb24oKSk7XG4gICAgY29uc3Qgc29ydEVsZW1lbnQgPSB7Y29sdW1uOiBjb2x1bW59O1xuICAgIGxldCBjdXJyZW50U29ydEluZGV4O1xuICAgIGxldCBjdXJyZW50U29ydDtcblxuICAgIGlmICh0aGlzLnByb3BzLm11bHRpcGxlU29ydGluZykge1xuICAgICAgLy8gRmluZCBhbiBlbGVtZW50IGFtb25nIHRoZSBvdGhlciBzb3J0c1xuICAgICAgY3VycmVudFNvcnRJbmRleCA9IGZpbmRJbmRleChuZXdTb3J0cywgc29ydCA9PiBzb3J0LmNvbHVtbiA9PT0gY29sdW1uKTtcblxuICAgICAgaWYgKGN1cnJlbnRTb3J0SW5kZXggPj0gMCkge1xuICAgICAgICBjdXJyZW50U29ydCA9IG5ld1NvcnRzW2N1cnJlbnRTb3J0SW5kZXhdO1xuXG4gICAgICAgIC8vIERldGVybWluZSB0aGUgZGlyZWN0aW9uIG9mIHNvcnRpbmdcbiAgICAgICAgaWYgKGN1cnJlbnRTb3J0SW5kZXggPCBuZXdTb3J0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgbmV3T3JkZXIgPSBjeWNsZVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJZiB0aGUgaXRlbSBpcyB0aGUgbGFzdCBvbmUsIHNlbGVjdCB0aGUgbmV4dCBkaXJlY3Rpb24gb2Ygc29ydGluZ1xuICAgICAgICAgIG5ld09yZGVyID0gY3ljbGVbKGN5Y2xlLmluZGV4T2YoY3VycmVudFNvcnQuZGlyZWN0aW9uKSArIDEpICUgY3ljbGUubGVuZ3RoXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdPcmRlciA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIGl0ZW0gZnJvbSB0aGUgc29ydHNcbiAgICAgICAgICBuZXdTb3J0cy5zcGxpY2UoY3VycmVudFNvcnRJbmRleCwgMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFNvcnRJbmRleCA9PT0gbmV3U29ydHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIC8vIFNldCBuZXcgZGlyZWN0aW9uLCBpZiB0aGUgbGFzdCBlbGVtZW50XG4gICAgICAgICAgY3VycmVudFNvcnQuZGlyZWN0aW9uID0gbmV3T3JkZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTW92ZSB0aGUgaXRlbSB0byB0aGUgZW5kLCBpZiBpdCBpcyBhbHJlYWR5IGluIHNvcnRzXG4gICAgICAgICAgbmV3U29ydHMuc3BsaWNlKGN1cnJlbnRTb3J0SW5kZXgsIDEpO1xuICAgICAgICAgIHNvcnRFbGVtZW50LmRpcmVjdGlvbiA9IG5ld09yZGVyO1xuICAgICAgICAgIG5ld1NvcnRzLnB1c2goc29ydEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBZGQgbmV3IGVsZW1lbnRcbiAgICAgICAgc29ydEVsZW1lbnQuZGlyZWN0aW9uID0gbmV3T3JkZXIgPSBjeWNsZVswXTtcbiAgICAgICAgbmV3U29ydHMucHVzaChzb3J0RWxlbWVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChuZXdTb3J0cyAmJiBuZXdTb3J0cy5jb2x1bW4gPT09IGNvbHVtbikge1xuICAgICAgICAvLyBTZWxlY3QgdGhlIG5leHQgZGlyZWN0aW9uIG9mIHNvcnRpbmdcbiAgICAgICAgbmV3T3JkZXIgPSBjeWNsZVsoY3ljbGUuaW5kZXhPZihuZXdTb3J0cy5kaXJlY3Rpb24pICsgMSkgJSBjeWNsZS5sZW5ndGhdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3T3JkZXIgPSBjeWNsZVswXTtcbiAgICAgIH1cbiAgICAgIGlmIChuZXdPcmRlciA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgIG5ld1NvcnRzID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvcnRFbGVtZW50LmRpcmVjdGlvbiA9IG5ld09yZGVyO1xuICAgICAgICBuZXdTb3J0cyA9IHNvcnRFbGVtZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLm9uU29ydGluZykge1xuICAgICAgdGhpcy5wcm9wcy5vblNvcnRpbmcobmV3U29ydHMsIGNvbHVtbiwgbmV3T3JkZXIpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5faXNTb3J0aW5nUHJvcHNNb2RlKCkpIHtcbiAgICAgIHRoaXMuc3RhdGUuc29ydCA9IG5ld1NvcnRzO1xuICAgICAgdGhpcy5zZXRQYWdlKDApO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IGluaXRpYWwgc29ydCBzdGF0ZVxuICAgKlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IEluaXRpYWwgc29ydCBzdGF0ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldERlZmF1bHRTb3J0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGVmYXVsdFNvcnQpIHtcbiAgICAgIHJldHVybiBjbG9uZURlZXAodGhpcy5wcm9wcy5kZWZhdWx0U29ydCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBtb2RlIGFuZCBjb2x1bW4gc29ydCBwYXJhbWV0ZXJcbiAgICpcbiAgICogQHBhcmFtICAgY29sdW1uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbHVtbiBJRFxuICAgKiBAcmV0dXJucyB7e2ZpZWxkOiB7c3RyaW5nfSwgc29ydDoge3N0cmluZ319fHt9fSAgU29ydCBwYXJhbWV0ZXIgYW5kIG1vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRTb3J0UGFyYW1zOiBmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge2NvbHVtbjogY29sdW1ufTtcbiAgICBjb25zdCBzb3J0cyA9IHRoaXMuZ2V0U29ydERpcmVjdGlvbigpO1xuICAgIGxldCBzb3J0SW5kZXg7XG5cbiAgICBpZiAoIXRoaXMucHJvcHMuY29sc1tjb2x1bW5dLnNvcnRDeWNsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFzb3J0cykge1xuICAgICAgcGFyYW1zLmRpcmVjdGlvbiA9ICdkZWZhdWx0JztcbiAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMubXVsdGlwbGVTb3J0aW5nKSB7XG4gICAgICBzb3J0SW5kZXggPSBmaW5kSW5kZXgoc29ydHMsIHNvcnQgPT4gc29ydC5jb2x1bW4gPT09IHBhcmFtcy5jb2x1bW4pO1xuXG4gICAgICBpZiAoc29ydEluZGV4IDwgMCB8fCBzb3J0SW5kZXggPCBzb3J0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHBhcmFtcy5kaXJlY3Rpb24gPSAnZGVmYXVsdCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbXMuZGlyZWN0aW9uID0gc29ydHNbc29ydEluZGV4XS5kaXJlY3Rpb247XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cblxuICAgIGlmIChzb3J0cy5jb2x1bW4gPT09IGNvbHVtbikge1xuICAgICAgcGFyYW1zLmRpcmVjdGlvbiA9IHNvcnRzLmRpcmVjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyYW1zLmRpcmVjdGlvbiA9ICdkZWZhdWx0JztcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEb2VzIHNvcnRpbmcgdXNpbmcgcHJvcHNcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pc1NvcnRpbmdQcm9wc01vZGU6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eSgnc29ydCcpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IHNvcnRpbmcgdG8gYXJyYXlcbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0W118T2JqZWN0fSBzb3J0c1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NvcnRpbmdUb0FycmF5OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gdG9BcnJheShzb3J0KSB7XG4gICAgICByZXR1cm4gW3NvcnQuY29sdW1uLCBzb3J0LmRpcmVjdGlvbl07XG4gICAgfVxuXG4gICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5nZXRTb3J0RGlyZWN0aW9uKCk7XG4gICAgaWYgKCFkaXJlY3Rpb24pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLm11bHRpcGxlU29ydGluZykge1xuICAgICAgaWYgKCFkaXJlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRpcmVjdGlvbi5tYXAodG9BcnJheSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFt0b0FycmF5KGRpcmVjdGlvbildO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHcmlkU29ydGluZ01peGluO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHt0b0VuY29kZWRTdHJpbmcsIHNpemV9IGZyb20gJy4uLy4uL2NvbW1vbi91dGlscyc7XG5pbXBvcnQge2ZpbmRET01Ob2RlfSBmcm9tICdyZWFjdC1kb20nO1xuXG4vKipcbiAqIEdyaWQgbWl4aW4sIHJlc3BvbnNpYmxlIGZvciByb3cgc3RhdHVzZXMgcHJvY2Vzc2luZ1xuICovXG5jb25zdCBHcmlkU3RhdHVzZXNNaXhpbiA9IHtcblxuICAvKipcbiAgICogQWRkIHJlY29yZCBzdGF0dXNcbiAgICpcbiAgICogQHBhcmFtIHsqfSAgICByZWNvcmRJZCAgICBSZWNvcmQgSURcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICBzdGF0dXMgICAgICBSZWNvcmQgc3RhdHVzXG4gICAqL1xuICBhZGRSZWNvcmRTdGF0dXM6IGZ1bmN0aW9uIChyZWNvcmRJZCwgc3RhdHVzKSB7XG4gICAgY29uc3Qgcm93ID0gdG9FbmNvZGVkU3RyaW5nKHJlY29yZElkKTtcblxuICAgIC8vIElmIGxpc3QgZG9lcyBub3QgY29udGFpbiB0aGUgcmVjb3JkLCBtYXJrIGl0cyBzdGF0dXMgYXMgZW1wdHlcbiAgICBpZiAoIXRoaXMuc3RhdGUuc3RhdHVzZXMuaGFzT3duUHJvcGVydHkocm93KSkge1xuICAgICAgdGhpcy5zdGF0ZS5zdGF0dXNlc1tyb3ddID0ge1xuICAgICAgICBpZDogcmVjb3JkSWQsXG4gICAgICAgIHN1bTogMFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLnN0YXR1c2VzW3Jvd10uc3VtIHw9IHRoaXMuX2dldFN0YXR1c0JpdChzdGF0dXMpO1xuXG4gICAgY29uc3QgZWxlbSA9IGZpbmRET01Ob2RlKHRoaXMuYm9keSkucXVlcnlTZWxlY3RvcihgdHJba2V5PVwiJHtyb3d9XCJdYCk7XG4gICAgaWYgKGVsZW0pIHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZChzdGF0dXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVwZGF0ZVRhYmxlKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBBZGQgc3RhdHVzIHRvIHJlY29yZHMgZ3JvdXBcbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gICAgICByZWNvcmRJZHMgICBSZWNvcmQgSURzIGFycmF5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgc3RhdHVzICAgICAgU3RhdHVzXG4gICAqL1xuICBhZGRSZWNvcmRTdGF0dXNHcm91cDogZnVuY3Rpb24gKHJlY29yZElkcywgc3RhdHVzKSB7XG4gICAgY29uc3QgYml0ID0gdGhpcy5fZ2V0U3RhdHVzQml0KHN0YXR1cyk7XG4gICAgbGV0IG5lZWRUYWJsZVVwZGF0ZTtcblxuICAgIGZvciAoY29uc3QgaWQgb2YgcmVjb3JkSWRzKSB7XG4gICAgICBjb25zdCByb3cgPSB0b0VuY29kZWRTdHJpbmcoaWQpO1xuXG4gICAgICBpZiAoIXRoaXMuc3RhdGUuc3RhdHVzZXMuaGFzT3duUHJvcGVydHkocm93KSkge1xuICAgICAgICB0aGlzLnN0YXRlLnN0YXR1c2VzW3Jvd10gPSB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgc3VtOiAwXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUuc3RhdHVzZXNbcm93XS5zdW0gfD0gYml0O1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5kYXRhW3Jvd10pIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlUm93KHJvdyk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBuZWVkVGFibGVVcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChuZWVkVGFibGVVcGRhdGUpIHtcbiAgICAgIHRoaXMudXBkYXRlVGFibGUoKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZSByZWNvcmQgc3RhdHVzXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gICAgICAgcmVjb3JkSWQgICAgUmVjb3JkIElEXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgc3RhdHVzICAgICAgUmVjb3JkIHN0YXR1c1xuICAgKi9cbiAgcmVtb3ZlUmVjb3JkU3RhdHVzOiBmdW5jdGlvbiAocmVjb3JkSWQsIHN0YXR1cykge1xuICAgIGNvbnN0IGJpdCA9IHRoaXMuX2dldFN0YXR1c0JpdChzdGF0dXMpO1xuICAgIGNvbnN0IHJvd0lkID0gdG9FbmNvZGVkU3RyaW5nKHJlY29yZElkKTtcblxuICAgIC8vIENhbmNlbCBtZXRob2QgZXhlY3V0aW9uIGlmIHJlY29yZCBoYXMgbm8gc3RhdHVzZXNcbiAgICBpZiAoIXRoaXMuc3RhdGUuc3RhdHVzZXNbcm93SWRdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHN0YXR1cyBpZiByZWNvcmQgaGFzIGl0XG4gICAgaWYgKHRoaXMuc3RhdGUuc3RhdHVzZXNbcm93SWRdLnN1bSAmIGJpdCkge1xuICAgICAgdGhpcy5zdGF0ZS5zdGF0dXNlc1tyb3dJZF0uc3VtIF49IGJpdDtcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5zdGF0dXNlc1tyb3dJZF0uc3VtKSB7XG4gICAgICAgIC8vIFJlbW92ZSB0YWJsZSByZWNvcmQgaWYgaXQncyBleHRyYVxuICAgICAgICBpZiAoIXRoaXMuX2lzTWFpblJvdyhyb3dJZCkpIHtcbiAgICAgICAgICB0aGlzLl9yZW1vdmVSZWNvcmQocm93SWQpO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLnN0YXRlLnN0YXR1c2VzW3Jvd0lkXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgZWxlbWVudCdzIGNsYXNzXG4gICAgY29uc3QgZWxlbSA9IGZpbmRET01Ob2RlKHRoaXMuYm9keSkucXVlcnlTZWxlY3RvcihgdHJba2V5PVwiJHtyb3dJZH1cIl1gKTtcbiAgICBpZiAoZWxlbSkge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKHN0YXR1cyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayByZWNvcmQgc3RhdHVzIHByZXNlbmNlXG4gICAqXG4gICAqIEBwYXJhbSAgIHsqfSAgICAgICByZWNvcmRJZCAgICBSZWNvcmQgSURcbiAgICogQHBhcmFtICAge251bWJlcn0gIHN0YXR1cyAgICAgIFJlY29yZCBzdGF0dXNcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJlY29yZCBoYXMgc3RhdHVzIGZsYWdcbiAgICovXG4gIGhhc1JlY29yZFN0YXR1czogZnVuY3Rpb24gKHJlY29yZElkLCBzdGF0dXMpIHtcbiAgICBjb25zdCByb3cgPSB0b0VuY29kZWRTdHJpbmcocmVjb3JkSWQpO1xuICAgIGlmICh0aGlzLnN0YXRlLnN0YXR1c2VzW3Jvd10pIHtcbiAgICAgIHJldHVybiAodGhpcy5zdGF0ZS5zdGF0dXNlc1tyb3ddLnN1bSAmIHRoaXMuX2dldFN0YXR1c0JpdChzdGF0dXMpKSA+IDA7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGFsbCByZWNvcmQgSURzIHRoYXQgaGF2ZSB0aGUgc3RhdHVzXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSAgc3RhdHVzICBTdGF0dXNcbiAgICogQHJldHVybnMge0FycmF5fSBSZWNvcmQgSURzIGFycmF5XG4gICAqL1xuICBnZXRBbGxXaXRoU3RhdHVzOiBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgcmVjb3JkcyA9IFtdO1xuICAgIGNvbnN0IGJpdCA9IHRoaXMuX2dldFN0YXR1c0JpdChzdGF0dXMpO1xuXG4gICAgZm9yIChpIGluIHRoaXMuc3RhdGUuc3RhdHVzZXMpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLnN0YXR1c2VzW2ldLnN1bSAmIGJpdCkge1xuICAgICAgICByZWNvcmRzLnB1c2godGhpcy5zdGF0ZS5zdGF0dXNlc1tpXS5pZCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZWNvcmRzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmUgcmVjb3JkcyBzdGF0dXNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgc3RhdHVzICBTdGF0dXNcbiAgICovXG4gIHJlbW92ZVJlY29yZFN0YXR1c0FsbDogZnVuY3Rpb24gKHN0YXR1cykge1xuICAgIGxldCBpO1xuICAgIGNvbnN0IGJpdCA9IHRoaXMuX2dldFN0YXR1c0JpdChzdGF0dXMpO1xuXG4gICAgZm9yIChpIGluIHRoaXMuc3RhdGUuc3RhdHVzZXMpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLnN0YXR1c2VzW2ldLnN1bSAmIGJpdCkge1xuICAgICAgICB0aGlzLnN0YXRlLnN0YXR1c2VzW2ldLnN1bSBePSBiaXQ7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuc3RhdGUuc3RhdHVzZXNbaV0uc3VtKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNNYWluUm93KGkpICYmICF0aGlzLl9pc0NoYW5nZWQoaSkpIHtcbiAgICAgICAgICB0aGlzLl9yZW1vdmVSZWNvcmQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuc3RhdGUuc3RhdHVzZXNbaV07XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGVsZW0gPSBmaW5kRE9NTm9kZSh0aGlzLmJvZHkpLnF1ZXJ5U2VsZWN0b3IoYC5kZ3JpZC1ib2R5IHRyLiR7c3RhdHVzfWApO1xuICAgIGlmIChlbGVtKSB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoc3RhdHVzKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBhbGwgc3RhdHVzIG5hbWVzIHRoYXQgYXJlIGFwcGxpZWQgdG8gdGhlIHJvd1xuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSAgICByb3cgICAgUm93IElEXG4gICAqIEByZXR1cm4gIHtBcnJheX0gIFN0YXR1cyBuYW1lcyBhcnJheVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFJvd1N0YXR1c05hbWVzOiBmdW5jdGlvbiAocm93KSB7XG4gICAgY29uc3QgbmFtZXMgPSBbXTtcbiAgICBjb25zdCBzdGF0dXNlcyA9IHRoaXMuc3RhdGUuc3RhdHVzZXNbcm93XSAmJiB0aGlzLnN0YXRlLnN0YXR1c2VzW3Jvd10uc3VtO1xuXG4gICAgaWYgKCFzdGF0dXNlcykge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnN0YXRlLnN0YXR1c01hcCkge1xuICAgICAgaWYgKHN0YXR1c2VzICYgdGhpcy5zdGF0ZS5zdGF0dXNNYXBbaV0pIHtcbiAgICAgICAgbmFtZXMucHVzaChpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmFtZXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBzdGF0dXMgYXMgYSBiaXQgdXNpbmcgaXRzIHRleHQgbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gICAgICAge3N0cmluZ30gICAgc3RhdHVzTmFtZSAgU3RhdHVzIG5hbWVcbiAgICogQHJldHVybiAgICAgIHtudW1iZXJ9ICAgIEJpdFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFN0YXR1c0JpdDogZnVuY3Rpb24gKHN0YXR1c05hbWUpIHtcbiAgICBsZXQgc3RhdHVzO1xuICAgIGxldCBvZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5zdGF0dXNNYXAuaGFzT3duUHJvcGVydHkoc3RhdHVzTmFtZSkpIHtcbiAgICAgIHN0YXR1cyA9IHRoaXMuc3RhdGUuc3RhdHVzTWFwW3N0YXR1c05hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUT0RPIG9mZnNldCBzdG9yZWQgaW4gdGhlIHN0YXRlLCBJIHJlbW92ZSB0aGUgdXRpbHMuc2l6ZVxuICAgICAgb2Zmc2V0ID0gc2l6ZSh0aGlzLnN0YXRlLnN0YXR1c01hcCk7XG4gICAgICBpZiAob2Zmc2V0ID4gMzApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1N0YXR1cyBxdWFudGl0eSBleGNlZWRzIDMwJyk7XG4gICAgICB9XG4gICAgICBzdGF0dXMgPSB0aGlzLnN0YXRlLnN0YXR1c01hcFtzdGF0dXNOYW1lXSA9IDEgPDwgb2Zmc2V0O1xuICAgIH1cblxuICAgIHJldHVybiBzdGF0dXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCByZWNvcmQgSURzIHRoYXQgaGF2ZSBhIHN0YXR1c1xuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRSZWNvcmRzV2l0aFN0YXR1czogZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGlkcyA9IFtdO1xuICAgIGxldCBpO1xuXG4gICAgZm9yIChpIGluIHRoaXMuc3RhdGUuc3RhdHVzZXMpIHtcbiAgICAgIGlkcy5wdXNoKHRoaXMuc3RhdGUuc3RhdHVzZXNbaV0uaWQpO1xuICAgIH1cbiAgICByZXR1cm4gaWRzO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHcmlkU3RhdHVzZXNNaXhpbjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB0b1Byb21pc2UgZnJvbSAnLi4vLi4vY29tbW9uL3RvUHJvbWlzZSc7XG5pbXBvcnQge3BhcmVudHMsIHBpY2ssIGVzY2FwZSwgbGFzdCwgaXNEZWZpbmVkLCBwYWlyc30gZnJvbSAnLi4vLi4vY29tbW9uL3V0aWxzJztcbmltcG9ydCB7ZmluZERPTU5vZGV9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRocm90dGxlRXJyb3IgZnJvbSAnLi4vLi4vY29tbW9uL1Rocm90dGxlRXJyb3InO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmNvbnN0IEdyaWRVSU1peGluID0ge1xuICAvKipcbiAgICogVGFibGUgY29udGVudCBjbGljayBldmVudCBoYW5kbGVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAqL1xuICBfaGFuZGxlQm9keUNsaWNrKGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IHJlZlBhcmVudCA9IHBhcmVudHModGFyZ2V0LCAnW3JlZl0nKVswXTtcblxuICAgIGxldCBlbGVtZW50O1xuXG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2RncmlkLWNlbGwnKSkge1xuICAgICAgZWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudCA9IHBhcmVudHModGFyZ2V0LCAndGQuZGdyaWQtY2VsbCcpWzBdO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGVsZW1lbnRcbiAgICAgICYmICEocmVmUGFyZW50ICYmIHJlZlBhcmVudC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpXG4gICAgKSB7XG4gICAgICB0aGlzLl9oYW5kbGVDZWxsQ2xpY2soZXZlbnQsIGVsZW1lbnQsIChyZWZQYXJlbnQgfHwgZXZlbnQudGFyZ2V0KS5nZXRBdHRyaWJ1dGUoJ3JlZicpKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENlbGwgY2xpY2sgaGFuZGxlclxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSAgICAgICAgICAgZXZlbnQgICAgICAgRXZlbnQgb2JqZWN0XG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9ICAgICBlbGVtZW50ICAgICBDZWxsIERPTSBlbGVtZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgICByZWYgICAgICAgICBDbGljayBoYW5kbGVyIG5hbWUgaW4gdGhlIHRhYmxlIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIF9oYW5kbGVDZWxsQ2xpY2soZXZlbnQsIGVsZW1lbnQsIHJlZikge1xuICAgIGNvbnN0IGNvbElkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2tleScpO1xuICAgIGNvbnN0IHJvdyA9IGVsZW1lbnQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2tleScpO1xuICAgIGNvbnN0IGNvbHVtbkNvbmZpZyA9IHRoaXMucHJvcHMuY29sc1tjb2xJZF07XG4gICAgY29uc3QgcmVjb3JkSWQgPSB0aGlzLnN0YXRlLnJlY29yZHNJbmZvW3Jvd10uaWQ7XG4gICAgY29uc3QgcmVjb3JkID0gdGhpcy5fZ2V0UmVjb3JkV2l0aENoYW5nZXMocm93KTtcblxuICAgIC8vIFRyaWdnZXIgY2xpY2sgaGFuZGxlciBvbiB0aGUgdGFibGUgY29uZmlndXJhdGlvblxuICAgIGlmIChyZWYpIHtcbiAgICAgIGNvbHVtbkNvbmZpZy5vbkNsaWNrUmVmc1tyZWZdKGV2ZW50LCByZWNvcmRJZCwgcmVjb3JkLCB0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGNvbHVtbkNvbmZpZy5vbkNsaWNrKSB7XG4gICAgICBjb2x1bW5Db25maWcub25DbGljayhldmVudCwgcmVjb3JkSWQsIHJlY29yZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgLy8gT3BlbiBjZWxsIGVkaXRvclxuICAgIGlmICh0aGlzLnByb3BzLmNvbHNbY29sSWRdLmVkaXRvcikge1xuICAgICAgdGhpcy5fcmVuZGVyRWRpdG9yKGVsZW1lbnQsIHJvdywgY29sSWQpO1xuICAgIH1cbiAgfSxcblxuICAvLyBUT0RPIERlcHJlY2F0ZWRcbiAgX2hhbmRsZUhlYWRlckNlbGxDbGljayhjb2wsIGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IHJlZlBhcmVudCA9IHBhcmVudHModGFyZ2V0LCAnW3JlZl0nKVswXTtcbiAgICBjb25zdCByZWYgPSAocmVmUGFyZW50IHx8IHRhcmdldCkuZ2V0QXR0cmlidXRlKCdyZWYnKTtcbiAgICBsZXQgaGFuZGxlcjtcblxuICAgIGlmIChyZWYgJiYgY29sLm9uQ2xpY2tSZWZzKSB7XG4gICAgICBoYW5kbGVyID0gY29sLm9uQ2xpY2tSZWZzW3JlZl07XG4gICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gaGFuZGxlcihldmVudCwgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvbC5vbkNsaWNrKSB7XG4gICAgICBjb2wub25DbGljayhldmVudCwgdGhpcyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBGZXRjaCBzZXJ2ZXIgZGF0YVxuICAgKi9cbiAgdXBkYXRlVGFibGU6IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93TG9hZGVyOiB0cnVlfSk7XG5cbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB2aWV3Q291bnQgPSB0aGlzLmdldFZpZXdDb3VudCgpO1xuXG4gICAgbGV0IG9iajtcbiAgICB0cnkge1xuICAgICAgb2JqID0gYXdhaXQgdGhpcy5fbG9hZERhdGEoe1xuICAgICAgICBsaW1pdDogdmlld0NvdW50LFxuICAgICAgICBvZmZzZXQ6IHRoaXMuc3RhdGUucGFnZSAqIHZpZXdDb3VudCxcbiAgICAgICAgc29ydDogdGhpcy5fc29ydGluZ1RvQXJyYXkoKSxcbiAgICAgICAgZmllbGRzOiB0aGlzLl9nZXRGaWVsZHNUb1JlbmRlcigpLFxuICAgICAgICBleHRyYTogdGhpcy5fZ2V0QWRkaXRpb25hbElkcygpXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoIShlIGluc3RhbmNlb2YgVGhyb3R0bGVFcnJvcikpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2lzTW91bnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmdldFZpZXdDb3VudCgpICYmICFvYmouaGFzT3duUHJvcGVydHkoJ2NvdW50JykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW5jb3JyZWN0IHJlc3BvbnNlIGZyb20gR3JpZE1vZGVsLiBcInJlc3BvbnNlLmNvdW50XCIgbm90IGRlZmluZWQnKTtcbiAgICB9XG5cbiAgICAvLyBJZiByZXF1aXJlZCBwYWdlIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgcmFuZ2Ugb2YgZXhpc3RpbmcgcGFnZXMsXG4gICAgLy8gcmVxdWVzdCBleGlzdGluZyBpbiBhIG1vbWVudCBwYWdlXG4gICAgY29uc3QgcGFnZSA9IHRoaXMuX2NoZWNrUGFnZSh0aGlzLnN0YXRlLnBhZ2UsIHRoaXMuZ2V0Vmlld0NvdW50KCksIG9iai5jb3VudCk7XG4gICAgaWYgKHBhZ2UgIT09IHRoaXMuc3RhdGUucGFnZSkge1xuICAgICAgdGhpcy5zdGF0ZS5wYWdlID0gcGFnZTtcbiAgICAgIHRoaXMudXBkYXRlVGFibGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gdGhpcy5fZGF0YUFycmF5VG9PYmplY3Qob2JqLnJlY29yZHMpO1xuICAgIGNvbnN0IGV4dHJhID0gdGhpcy5fZGF0YUFycmF5VG9PYmplY3Qob2JqLmV4dHJhUmVjb3JkcyB8fCBbXSk7XG4gICAgY29uc3QgcmVjb3JkSWRzID0gT2JqZWN0LmtleXMoZGF0YS5yZWNvcmRzKS5jb25jYXQoT2JqZWN0LmtleXMoZXh0cmEucmVjb3JkcykpO1xuXG4gICAgYXdhaXQgdG9Qcm9taXNlKHRoaXMuc2V0U3RhdGUuYmluZCh0aGlzKSwgdHJ1ZSkoe1xuICAgICAgZGF0YTogT2JqZWN0LmFzc2lnbih7fSwgZGF0YS5yZWNvcmRzLCBleHRyYS5yZWNvcmRzKSxcbiAgICAgIG1haW5JZHM6IE9iamVjdC5rZXlzKGRhdGEucmVjb3JkcyksXG4gICAgICBjb3VudDogb2JqLmNvdW50LFxuICAgICAgdG90YWxzOiBvYmoudG90YWxzLFxuICAgICAgcmVjb3Jkc0luZm86IE9iamVjdC5hc3NpZ24oe30sIGV4dHJhLmluZm8sIGRhdGEuaW5mbyksXG4gICAgICBlcnJvcnM6IHBpY2sodGhpcy5zdGF0ZS5lcnJvcnMsIHJlY29yZElkcyksXG4gICAgICBjaGFuZ2VzOiBwaWNrKHRoaXMuc3RhdGUuY2hhbmdlcywgcmVjb3JkSWRzKSxcbiAgICAgIHN0YXR1c2VzOiBwaWNrKHRoaXMuc3RhdGUuc3RhdHVzZXMsIHJlY29yZElkcylcbiAgICB9KTtcblxuICAgIHRoaXMuX3JlbmRlckJvZHkoKTtcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93TG9hZGVyOiBmYWxzZX0pO1xuICB9LFxuXG4gIF9nZXRIZWFkZXJDZWxsSFRNTChjb2x1bW5OYW1lKSB7XG4gICAgY29uc3QgY2VsbEh0bWwgPSB0eXBlb2YgY29sdW1uTmFtZSA9PT0gJ2Z1bmN0aW9uJyA/IGNvbHVtbk5hbWUodGhpcykgOiBjb2x1bW5OYW1lO1xuICAgIGlmIChjZWxsSHRtbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBjZWxsSHRtbDtcbiAgfSxcblxuICBfZXNjYXBlUmVjb3JkKGNvbHVtbklkLCByZWNvcmQpIHtcbiAgICBsZXQgZmllbGQ7XG4gICAgbGV0IHR5cGU7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgZXNjYXBlZFJlY29yZCA9IHt9O1xuICAgIGNvbnN0IGNvbHVtbiA9IHRoaXMucHJvcHMuY29sc1tjb2x1bW5JZF07XG4gICAgY29uc3QgbmVlZEVzY2FwaW5nID0gIWNvbHVtbi5oYXNPd25Qcm9wZXJ0eSgnZXNjYXBlJykgfHwgY29sdW1uLmVzY2FwZTtcbiAgICBjb25zdCBmaWVsZHMgPSBjb2x1bW4ucmVuZGVyLnNsaWNlKDAsIC0xKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZpZWxkID0gZmllbGRzW2ldO1xuICAgICAgdHlwZSA9IHR5cGVvZiByZWNvcmRbZmllbGRdO1xuXG4gICAgICBpZiAobmVlZEVzY2FwaW5nKSB7XG4gICAgICAgIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGVzY2FwZWRSZWNvcmRbZmllbGRdID0gZXNjYXBlKHJlY29yZFtmaWVsZF0pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnICYmIHJlY29yZFtmaWVsZF0gJiYgIXRoaXMuc3RhdGUuY29sc1dpdGhFc2NhcGVFcnJvcnNbY29sdW1uSWRdKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jb2xzV2l0aEVzY2FwZUVycm9yc1tjb2x1bW5JZF0gPSB0cnVlO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBgVUlLZXJuZWwuR3JpZCB3YXJuaW5nOiBgICtcbiAgICAgICAgICAgIGBZb3Ugc2VuZCByZWNvcmQgd2l0aCBmaWVsZHMgb2YgT2JqZWN0IHR5cGUgaW4gZXNjYXBlZCBjb2x1bW4gXCIke2NvbHVtbklkfVwiLiBgICtcbiAgICAgICAgICAgIGBUbyB1c2UgT2JqZWN0cywgc2V0IGNvbHVtbiBjb25maWcgXCJlc2NhcGVcIiB0byBmYWxzZSwgYCArXG4gICAgICAgICAgICBgYW5kIGVzY2FwZSBcIiR7Y29sdW1uSWR9XCIgZmllbGQgaW4gcmVuZGVyIGZ1bmN0aW9uIGJ5IHlvdXJzZWxmYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZXNjYXBlZFJlY29yZFtmaWVsZF0gPSByZWNvcmRbZmllbGRdO1xuICAgIH1cblxuICAgIHJldHVybiBlc2NhcGVkUmVjb3JkO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGFibGUgY2VsbCBIVE1MXG4gICAqXG4gICAqIEBwYXJhbSAgIHtudW1iZXJ9ICAgY29sdW1uSWQgICAgICAgQ29sdW1uIElEXG4gICAqIEBwYXJhbSAgIHtPYmplY3R9ICAgcmVjb3JkICAgICAgICAgVGFibGUgcmVjb3JkIChpbml0aWFsIHJlY29yZCArIGNoYW5nZXMpXG4gICAqIEBwYXJhbSAgIHtib29sZWFufSAgc2VsZWN0ZWQgICAgICAgXCJTZWxlY3RlZFwiIHJvdyBzdGF0dXNcbiAgICogQHBhcmFtICAge09iamVjdH0gICBpbml0aWFsUmVjb3JkICBJbml0aWFsIHJlY29yZFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSAgIFRhYmxlIGNlbGwgSFRNTFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldENlbGxIVE1MKGNvbHVtbklkLCByZWNvcmQsIHNlbGVjdGVkLCBpbml0aWFsUmVjb3JkKSB7XG4gICAgY29uc3QgcmVuZGVyID0gbGFzdCh0aGlzLnByb3BzLmNvbHNbY29sdW1uSWRdLnJlbmRlcik7XG4gICAgY29uc3QgY2VsbEh0bWwgPSByZW5kZXIoXG4gICAgICB0aGlzLl9lc2NhcGVSZWNvcmQoY29sdW1uSWQsIHJlY29yZCksXG4gICAgICBzZWxlY3RlZCxcbiAgICAgIHRoaXMuX2VzY2FwZVJlY29yZChjb2x1bW5JZCwgaW5pdGlhbFJlY29yZCksXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICByZXR1cm4gYCR7aXNEZWZpbmVkKGNlbGxIdG1sKSA/IGNlbGxIdG1sIDogJyd9YDtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRhYmxlIHJvdyBIVE1MXG4gICAqXG4gICAqIEBwYXJhbSAgICAgICB7bnVtYmVyfSAgICByb3dJZCAgICAgICAgIFJvdyBJRFxuICAgKiBAcGFyYW0gICAgICAge3N0cmluZ30gICAgY2xhc3NOYW1lICAgPFRSPiBjbGFzcyBhdHRyaWJ1dGVcbiAgICogQHJldHVybnMgICAgIHtzdHJpbmd9ICAgIFRhYmxlIHJvdyBIVE1MXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0Um93SFRNTChyb3dJZCwgY2xhc3NOYW1lKSB7XG4gICAgbGV0IGNvbElkO1xuICAgIGNvbnN0IHJlY29yZCA9IHRoaXMuX2dldFJlY29yZFdpdGhDaGFuZ2VzKHJvd0lkKTtcbiAgICBjb25zdCBpbml0aWFsUmVjb3JkID0gdGhpcy5zdGF0ZS5kYXRhW3Jvd0lkXSB8fCBudWxsO1xuICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5pc1NlbGVjdGVkKHRoaXMuc3RhdGUucmVjb3Jkc0luZm9bcm93SWRdLmlkKTtcbiAgICBjb25zdCBncmlkUm93Q2xhc3MgPSBjbGFzc05hbWVzKFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgdGhpcy5fZ2V0Um93U3RhdHVzTmFtZXMocm93SWQpLmpvaW4oJyAnKSxcbiAgICAgIHsnZGdyaWRfX3Jvd19zZWxlY3RlZCc6IHNlbGVjdGVkfVxuICAgICk7XG4gICAgbGV0IGh0bWwgPSBgPHRyIGtleT1cIiR7cm93SWR9XCIgY2xhc3M9XCIke2dyaWRSb3dDbGFzc31cIj5gO1xuICAgIGZvciAoY29sSWQgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wcy5jb2xzKSkge1xuICAgICAgaWYgKHRoaXMuX2lzVmlld0NvbHVtbihjb2xJZCkpIHtcbiAgICAgICAgY29uc3QgZ3JpZENlbGxDbGFzcyA9IGNsYXNzTmFtZXModGhpcy5fZ2V0Q29sdW1uQ2xhc3MoY29sSWQpLCB7XG4gICAgICAgICAgJ2RncmlkLWNlbGwnOiB0cnVlLFxuICAgICAgICAgICdkZ3JpZC1jaGFuZ2VkJzogdGhpcy5faXNDaGFuZ2VkKHJvd0lkLCB0aGlzLl9nZXRCaW5kUGFyYW0oY29sSWQpKSxcbiAgICAgICAgICAnZGdyaWQtZXJyb3InOiB0aGlzLl9oYXNFcnJvcihyb3dJZCwgdGhpcy5fZ2V0QmluZFBhcmFtKGNvbElkKSksXG4gICAgICAgICAgJ2RncmlkLXdhcm5pbmcnOiB0aGlzLl9oYXNXYXJuaW5nKHJvd0lkLCB0aGlzLl9nZXRCaW5kUGFyYW0oY29sSWQpKVxuICAgICAgICB9KTtcbiAgICAgICAgaHRtbCArPSBgXG4gICAgICAgICAgPHRkIGtleT1cIiR7Y29sSWR9XCIgY2xhc3M9XCIke2dyaWRDZWxsQ2xhc3N9XCI+XG4gICAgICAgICAgICAke3RoaXMuX2dldENlbGxIVE1MKGNvbElkLCByZWNvcmQsIHNlbGVjdGVkLCBpbml0aWFsUmVjb3JkKX1cbiAgICAgICAgICA8L3RkPmA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBgJHtodG1sfTwvdHI+YDtcbiAgfSxcblxuICAvKipcbiAgICogUmVkcmF3IHRhYmxlIGNvbnRlbnQgdG90YWxseVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlckJvZHkoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmRhdGEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgaTtcbiAgICBsZXQgcm93O1xuICAgIGxldCBodG1sRXh0cmEgPSAnJztcbiAgICBsZXQgaHRtbEJvZHkgPSAnJztcbiAgICBjb25zdCBzb3J0ZWQgPSBwYWlycyh0aGlzLnN0YXRlLnJlY29yZHNJbmZvKS5zb3J0KChhLCBiKSA9PiBhWzFdLmluZGV4IC0gYlsxXS5pbmRleCk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc29ydGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICByb3cgPSBzb3J0ZWRbaV1bMF07XG4gICAgICBpZiAodGhpcy5faXNNYWluUm93KHJvdykpIHtcbiAgICAgICAgaHRtbEJvZHkgKz0gdGhpcy5fZ2V0Um93SFRNTChyb3cpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9pc0NoYW5nZWQocm93KSB8fCB0aGlzLl9nZXRSb3dTdGF0dXNOYW1lcyhyb3cpLmxlbmd0aCkge1xuICAgICAgICBodG1sRXh0cmEgKz0gdGhpcy5fZ2V0Um93SFRNTChyb3csICdvdGhlcnMnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnRCb2R5LmlubmVySFRNTCA9IGh0bWxFeHRyYSArIGh0bWxCb2R5O1xuICB9LFxuXG4gIC8qKlxuICAgKiBEaXNwbGF5IG1vZGVsIGNoYW5nZXNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJvdyAgICAgIFJvdyBJRFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0gICAgTW9kZWwgcGFyYW1ldGVyXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVuZGVyQmluZHMocm93LCBwYXJhbSkge1xuICAgIC8vIElmIHBhcmFtZXRlciBkb2VzIG5vdCBhZmZlY3Qgb24gdGhlIHJlZHJhdywgZG8gbm90aGluZ1xuICAgIGlmICghdGhpcy5faXNGaWVsZEFmZmVjdHNSZW5kZXIocGFyYW0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLmlzU2VsZWN0ZWQodGhpcy5zdGF0ZS5yZWNvcmRzSW5mb1tyb3ddLmlkKTtcblxuICAgIC8vIFVwZGF0ZSBjb2x1bW4gZGVwZW5kZW5jaWVzXG4gICAgZm9yIChjb25zdCBjb2x1bW4gb2YgdGhpcy5fZ2V0RGVwZW5kZW50Q29sdW1ucyhwYXJhbSkpIHtcbiAgICAgIGlmICh0aGlzLl9pc1ZpZXdDb2x1bW4oY29sdW1uKSAmJiAhdGhpcy5faXNFZGl0b3JWaXNpYmxlKHJvdywgY29sdW1uKSkge1xuICAgICAgICB0aGlzLl9yZW5kZXJDZWxsKHJvdywgY29sdW1uLCBzZWxlY3RlZCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIF9yZW1vdmVUUihyb3dJZCkge1xuICAgIGZpbmRET01Ob2RlKHRoaXMuYm9keSkucmVtb3ZlUm93KHJvd0lkKTtcbiAgfSxcblxuICBfcmVuZGVyVG90YWxzKGlzU2Nyb2xsYWJsZSkge1xuICAgIGxldCB0b3RhbHNEaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICBsZXQgaTtcbiAgICBsZXQgY2xhc3NOYW1lO1xuICAgIGxldCB0b3RhbHNSb3dIVE1MID0gJyc7XG4gICAgY29uc3QgaGVhZGVyID0gdGhpcy5fZm9ybUhlYWRlcigpO1xuXG4gICAgLy8gSWYgZGF0YSBmb3IgcmVzdWx0IGxpbmUgZGlzcGxheSBleGlzdHMsIGZvcm0gaXRcbiAgICBpZiAodGhpcy5zdGF0ZS50b3RhbHMpIHtcbiAgICAgIGZvciAoaSBvZiBPYmplY3Qua2V5cyh0aGlzLnByb3BzLmNvbHMpKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNWaWV3Q29sdW1uKGkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjbGFzc05hbWUgPSB0aGlzLnByb3BzLmNvbHNbaV0uY2xhc3NOYW1lO1xuICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgdG90YWxzUm93SFRNTCArPSBgPHRkIGNsYXNzPVwiJHtjbGFzc05hbWV9XCI+YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b3RhbHNSb3dIVE1MICs9ICc8dGQ+JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnRvdGFscy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgIHRvdGFsc1Jvd0hUTUwgKz0gdGhpcy5fZ2V0Q2VsbEhUTUwoaSwgdGhpcy5zdGF0ZS50b3RhbHMsIGZhbHNlLCB0aGlzLnN0YXRlLnRvdGFscyk7XG4gICAgICAgICAgdG90YWxzRGlzcGxheWVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvdGFsc1Jvd0hUTUwgKz0gJzwvdGQ+JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRvdGFsc0Rpc3BsYXllZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGlzU2Nyb2xsYWJsZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHRhYmxlIGNlbGxTcGFjaW5nPVwiMFwiIGNsYXNzTmFtZT1cImRncmlkLXRvdGFsc1wiPlxuICAgICAgICAgIDxjb2xncm91cD57aGVhZGVyLmNvbEdyb3VwfTwvY29sZ3JvdXA+XG4gICAgICAgICAgPHRyIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiB0b3RhbHNSb3dIVE1MfX0vPlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHRmb290IGNsYXNzTmFtZT1cImRncmlkLXRvdGFsc1wiPlxuICAgICAgICA8dHIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IHRvdGFsc1Jvd0hUTUx9fS8+XG4gICAgICA8L3Rmb290PlxuICAgICk7XG4gIH0sXG5cbiAgX3JlbmRlckNlbGwocm93SWQsIGNvbHVtbiwgaXNTZWxlY3RlZCkge1xuICAgIGNvbnN0IGNlbGwgPSBmaW5kRE9NTm9kZSh0aGlzLmJvZHkpLnF1ZXJ5U2VsZWN0b3IoYHRyW2tleT1cIiR7cm93SWR9XCJdIHRkW2tleT0ke2NvbHVtbn1dYCk7XG4gICAgY29uc3QgaW5pdGlhbFJlY29yZCA9IHRoaXMuc3RhdGUuZGF0YVtyb3dJZF0gfHwgbnVsbDtcblxuICAgIGNvbnN0IGNlbGxIVE1MID0gdGhpcy5fZ2V0Q2VsbEhUTUwoY29sdW1uLCB0aGlzLl9nZXRSZWNvcmRXaXRoQ2hhbmdlcyhyb3dJZCksIGlzU2VsZWN0ZWQsIGluaXRpYWxSZWNvcmQpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNlbGwuaW5uZXJIVE1MID0gY2VsbEhUTUw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gU29tZXRpbWVzIGl0IGlzIHBvc3NpYmxlIGEgc2l0dWF0aW9uIHdoZW4gcmVyZW5kZXJpbmcgb2YgdGhlIGNlbGwgaXMgY2FsbGVkIGluIHRoZSBtaWRkbGUgb2YgcGVyZm9ybWluZyBvZiBhblxuICAgICAgLy8gZXZlbnQgaW4gdGhhdCBjZWxsIHdoaWNoIG1heSBjYXVzZSBhbiBlcnJvciBsaWtlIFwiRE9NRXhjZXB0aW9uOiBUaGUgbm9kZSB0byBiZSByZW1vdmVkIGlzIG5vIGxvbmdlciBhIGNoaWxkXG4gICAgICAvLyBvZiB0aGlzIG5vZGVcIiwgc28ganVzdCBpZ25vcmUgaXRcbiAgICB9XG5cbiAgICBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoJ2RncmlkLWNoYW5nZWQnLCAnZGdyaWQtZXJyb3InLCAnZGdyaWQtd2FybmluZycpO1xuICAgIGNvbnN0IGNlbGxDbGFzc0xpc3QgPSBbXTtcbiAgICBpZiAodGhpcy5faXNDaGFuZ2VkKHJvd0lkLCB0aGlzLl9nZXRCaW5kUGFyYW0oY29sdW1uKSkpIHtcbiAgICAgIGNlbGxDbGFzc0xpc3QucHVzaCgnZGdyaWQtY2hhbmdlZCcpO1xuICAgIH1cbiAgICBpZiAodGhpcy5faGFzRXJyb3Iocm93SWQsIHRoaXMuX2dldEJpbmRQYXJhbShjb2x1bW4pKSkge1xuICAgICAgY2VsbENsYXNzTGlzdC5wdXNoKCdkZ3JpZC1lcnJvcicpO1xuICAgIH1cbiAgICBpZiAodGhpcy5faGFzV2FybmluZyhyb3dJZCwgdGhpcy5fZ2V0QmluZFBhcmFtKGNvbHVtbikpKSB7XG4gICAgICBjZWxsQ2xhc3NMaXN0LnB1c2goJ2RncmlkLXdhcm5pbmcnKTtcbiAgICB9XG4gICAgY2VsbC5jbGFzc0xpc3QuYWRkKC4uLmNlbGxDbGFzc0xpc3QpO1xuICB9LFxuXG4gIGFzeW5jIF91cGRhdGVSb3cocm93KSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmRhdGEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5kYXRhW3Jvd10pIHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5pc1NlbGVjdGVkKHRoaXMuc3RhdGUucmVjb3Jkc0luZm9bcm93XS5pZCk7XG4gICAgICBjb25zdCB2aWV3Q29sdW1ucyA9IE9iamVjdC5rZXlzKHRoaXMucHJvcHMuY29scykuZmlsdGVyKHRoaXMuX2lzVmlld0NvbHVtbik7XG5cbiAgICAgIGZvciAoY29uc3Qgdmlld0NvbHVtbiBvZiB2aWV3Q29sdW1ucykge1xuICAgICAgICBpZiAoIXRoaXMuX2lzRWRpdG9yVmlzaWJsZShyb3csIHZpZXdDb2x1bW4pKSB7XG4gICAgICAgICAgdGhpcy5fcmVuZGVyQ2VsbChyb3csIHZpZXdDb2x1bW4sIHNlbGVjdGVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZVRhYmxlKCk7IC8vIFRPRE8gQ2hlY2sgaXMgaXQgbmVlZFxuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgR3JpZFVJTWl4aW47XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgVmFsaWRhdGlvbkVycm9ycyBmcm9tICcuLi8uLi9jb21tb24vdmFsaWRhdGlvbi9WYWxpZGF0aW9uRXJyb3JzJztcbmltcG9ydCBFdmVudHNNb2RlbCBmcm9tICcuLi8uLi9jb21tb24vRXZlbnRzJztcblxuLyoqXG4gKiBHcmlkIG1vZGVsIGFic3RyYWN0aW9uXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBFdmVudHNNb2RlbFxuICovXG5jbGFzcyBBYnN0cmFjdEdyaWRNb2RlbCBleHRlbmRzIEV2ZW50c01vZGVsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSByZWNvcmRcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgcmVjb3JkICBSZWNvcmQgb2JqZWN0XG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgY3JlYXRlKC8qcmVjb3JkKi8pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJlY29yZHMgbGlzdFxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICBzZXR0aW5ncyAgICAgICAgICAgICAgICBSZXF1ZXN0XG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgICAgIHNldHRpbmdzLmZpZWxkcyAgICAgICAgIEZpZWxkc1xuICAgKiBAcGFyYW0ge251bWJlcn0gICAgICBbc2V0dGluZ3MubGltaXRdICAgICAgICBMaW1pdFxuICAgKiBAcGFyYW0ge251bWJlcn0gICAgICBbc2V0dGluZ3Mub2Zmc2V0XSAgICAgICBPZmZzZXRcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgW3NldHRpbmdzLmZpbHRlcnNdICAgICAgRmlsdGVyIHZhbHVlcyBvYmplY3RcbiAgICogQHBhcmFtIHtBcnJheX0gICAgICAgW3NldHRpbmdzLnNvcnRdICAgICAgICAgU29ydCBwYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgICAgIFtzZXR0aW5ncy5leHRyYV0gICAgICAgIFJlY29yZCBJRHMsIHdlIG5lZWQgdG8gZ2V0IGZvciBzdXJlXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgcmVhZCgvKnNldHRpbmdzKi8pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgIHJlY29yZHM6IFtdLCAvLyBQcmltYXJ5IHJlY29yZHNcbiAgICAgIGlkczogW10sIC8vIEV4dHJhIHJlY29yZHNcbiAgICAgIGV4dHJhUmVjb3JkczogMCAvLyBJbiBhbGwgcmVjb3JkcyBjb3VudFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGFydGljdWxhciByZWNvcmRcbiAgICpcbiAgICogQHBhcmFtIHsqfSAgICAgICAgIGlkICAgICAgUmVjb3JkIElEXG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgICBmaWVsZHMgIFJlcXVpcmVkIGZpZWxkc1xuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGdldFJlY29yZCgvKmlkLCBmaWVsZHMqLykge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSByZWNvcmQgY2hhbmdlc1xuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICBjaGFuZ2VzICAgICBDaGFuZ2VzIGFycmF5XG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgdXBkYXRlKC8qY2hhbmdlcyovKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGlvbiBjaGVja1xuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICByZWNvcmRcbiAgICogQHBhcmFtIHsqfG51bGx9ICAgICAgcmVjb3JkSWRcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBpc1ZhbGlkUmVjb3JkKC8qcmVjb3JkLCByZWNvcmRJZCovKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgVmFsaWRhdGlvbkVycm9ycygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGRlcGVuZGVudCBmaWVsZHMsIHRoYXQgYXJlIHJlcXVpcmVkIGZvciB2YWxpZGF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSAgIHtBcnJheX0gIGZpZWxkcyAgIEZpZWxkcyBsaXN0XG4gICAqIEByZXR1cm5zIHtBcnJheX0gIERlcGVuZGVuY2llc1xuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGdldFZhbGlkYXRpb25EZXBlbmRlbmN5KCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBYnN0cmFjdEdyaWRNb2RlbDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBWYWxpZGF0b3IgZnJvbSAnLi4vLi4vY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdG9yJztcbmltcG9ydCBBYnN0cmFjdEdyaWRNb2RlbCBmcm9tICcuL0Fic3RyYWN0R3JpZE1vZGVsJztcbmltcG9ydCB7Y2xvbmVEZWVwLCB3YXJuLCBpc0VxdWFsLCB3aXRob3V0LCBjbG9uZSwgZm9yRWFjaCwgZmluZH0gZnJvbSAnLi4vLi4vY29tbW9uL3V0aWxzJztcblxuY2xhc3MgR3JpZENvbGxlY3Rpb25Nb2RlbCBleHRlbmRzIEFic3RyYWN0R3JpZE1vZGVsIHtcbiAgLyoqXG4gICAqIFNwZWNpZmllcyBhIGdyaWQgbW9kZWwgdGhhdCB3aWxsIHdvcmsgd2l0aCBhcnJheSBkYXRhIHBhc3NlZCB0byBpdCBhcyBhIHBhcmFtZXRlci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgIFtvcHRpb25zXVxuICAgKiBAcGFyYW0ge09iamVjdFtdfSAgW29wdGlvbnMuZGF0YV0gICAgICAgICAgICAgIERhdGEgYXJyYXlcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gIFtvcHRpb25zLmZpbHRlcnNIYW5kbGVyXVxuICAgKiBAcGFyYW0ge1ZhbGlkYXRvcn0gW29wdGlvbnMudmFsaWRhdG9yXVxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSAgW29wdGlvbnMucmVxdWlyZWRGaWVsZHNdXG4gICAqIEBwYXJhbSB7Ym9vbH0gICAgICBbb3B0aW9ucy52YWxpZGF0ZU9uQ3JlYXRlXVxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5kYXRhID0gY2xvbmVEZWVwKG9wdGlvbnMuZGF0YSkgfHwgW107XG4gICAgdGhpcy5faWQgPSAxO1xuICAgIHRoaXMuX2ZpbHRlcnNIYW5kbGVyID0gb3B0aW9ucy5maWx0ZXJzSGFuZGxlcjtcbiAgICBpZiAob3B0aW9ucy52YWxpZGF0aW9uKSB7XG4gICAgICB3YXJuKCdQcm9wZXJ0eSBcInZhbGlkYXRpb25cIiBpcyBkZXByZWNhdGVkLCB1c2UgXCJ2YWxpZGF0b3JcIiBpbnN0ZWFkJyk7XG4gICAgfVxuICAgIHRoaXMuX3ZhbGlkYXRvciA9IG9wdGlvbnMudmFsaWRhdG9yIHx8IG9wdGlvbnMudmFsaWRhdGlvbiB8fCBuZXcgVmFsaWRhdG9yKCk7XG4gICAgdGhpcy5fcmVxdWlyZWRGaWVsZHMgPSBvcHRpb25zLnJlcXVpcmVkRmllbGRzIHx8IFtdO1xuICAgIHRoaXMuX3ZhbGlkYXRlT25DcmVhdGUgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCd2YWxpZGF0ZU9uQ3JlYXRlJykgPyBvcHRpb25zLnZhbGlkYXRlT25DcmVhdGUgOiB0cnVlO1xuXG4gICAgLy8gVE9ETyBEZXByZWNhdGVkLiBXaWxsIGJlIGRlbGV0ZWQgaW4gdjAuMTcuMFxuICAgIGlmICghdGhpcy5fdmFsaWRhdGVPbkNyZWF0ZSkge1xuICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGVkIG9wdGlvbiBcInZhbGlkYXRlT25DcmVhdGVcIi4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IGRhdGEgYXJyYXkgaW4gbW9kZWxcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3RbXX0gZGF0YVxuICAgKi9cbiAgc2V0RGF0YShkYXRhKSB7XG4gICAgY29uc3QgY3VycmVudERhdGEgPSB0aGlzLmRhdGEucmVkdWNlKChyZXN1bHQsIFtyZWNvcmRJZCwgcmVjb3JkXSkgPT4ge1xuICAgICAgcmVzdWx0W0pTT04uc3RyaW5naWZ5KHJlY29yZElkKV0gPSByZWNvcmQ7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIHt9KTtcblxuICAgIGNvbnN0IGNyZWF0ZWRSZWNvcmRzSWRzID0gW107XG4gICAgY29uc3QgdXBkYXRlZFJlY29yZHMgPSBbXTtcblxuICAgIGNvbnN0IHJlY29yZElkcyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBbcmVjb3JkSWQsIHJlY29yZF0gb2YgZGF0YSkge1xuICAgICAgY29uc3QgaWQgPSBKU09OLnN0cmluZ2lmeShyZWNvcmRJZCk7XG5cbiAgICAgIHJlY29yZElkcy5wdXNoKGlkKTtcblxuICAgICAgaWYgKCFjdXJyZW50RGF0YVtpZF0pIHtcbiAgICAgICAgY3JlYXRlZFJlY29yZHNJZHMucHVzaChyZWNvcmRJZCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzRXF1YWwocmVjb3JkLCBjdXJyZW50RGF0YVtpZF0pKSB7XG4gICAgICAgIHVwZGF0ZWRSZWNvcmRzLnB1c2gocmVjb3JkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkZWxldGVkUmVjb3Jkc0lkcyA9IHdpdGhvdXQoT2JqZWN0LmtleXMoY3VycmVudERhdGEpLCByZWNvcmRJZHMpLm1hcChKU09OLnBhcnNlKTtcblxuICAgIHRoaXMuZGF0YSA9IGNsb25lRGVlcChkYXRhKTtcblxuICAgIGlmIChjcmVhdGVkUmVjb3Jkc0lkcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMudHJpZ2dlcignY3JlYXRlJywgW2NyZWF0ZWRSZWNvcmRzSWRzXSk7XG4gICAgfVxuXG4gICAgaWYgKGRlbGV0ZWRSZWNvcmRzSWRzLmxlbmd0aCkge1xuICAgICAgdGhpcy50cmlnZ2VyKCdkZWxldGUnLCBkZWxldGVkUmVjb3Jkc0lkcyk7XG4gICAgfVxuXG4gICAgaWYgKHVwZGF0ZWRSZWNvcmRzLmxlbmd0aCkge1xuICAgICAgdGhpcy50cmlnZ2VyKCd1cGRhdGUnLCB1cGRhdGVkUmVjb3Jkcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBmaWVsZCBieSByZWNvcmQgaWQgZnJvbSBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSAgIHtOdW1iZXJ9ICByZWNvcmRJZCAgIHJlY29yZCBpZCBmb3IgcmVtb3ZlXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9ICByZWNvcmRJZCAgIHJldHVybiBpZCBvZiBkZWxldGVkIHJlY29yZFxuICAgKi9cbiAgYXN5bmMgZGVsZXRlKHJlY29yZElkKSB7XG4gICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhLmZpbHRlcihyZWNvcmQgPT4ge1xuICAgICAgcmV0dXJuIHJlY29yZFswXSAhPT0gcmVjb3JkSWQ7XG4gICAgfSk7XG4gICAgdGhpcy50cmlnZ2VyKCdkZWxldGUnLCByZWNvcmRJZCk7XG4gICAgcmV0dXJuIHJlY29yZElkO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHJlY29yZCB0byBsb2NhbCBjb2xsZWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHJlY29yZCAgUmVjb3JkIG9iamVjdFxuICAgKi9cbiAgYXN5bmMgY3JlYXRlKHJlY29yZCkge1xuICAgIGxldCBpO1xuICAgIGxldCBmaWVsZDtcbiAgICBsZXQgdmFsaWRhdGlvbkVycm9ycztcbiAgICBsZXQgaWQgPSB0aGlzLl9nZXRJRCgpO1xuICAgIGxldCBjbG9uZWRSZWNvcmQgPSBjbG9uZShyZWNvcmQpO1xuICAgIC8vIENyZWF0ZSByZWNvcmQgd2l0aCBkZWZpbml0ZSBpZFxuICAgIGlmIChBcnJheS5pc0FycmF5KGNsb25lZFJlY29yZCkgJiYgY2xvbmVkUmVjb3JkLmxlbmd0aCA9PT0gMikge1xuICAgICAgaWQgPSBjbG9uZWRSZWNvcmRbMF07XG4gICAgICBjbG9uZWRSZWNvcmQgPSBjbG9uZWRSZWNvcmRbMV07XG4gICAgfVxuXG4gICAgZm9yIChpIGluIHRoaXMuX3JlcXVpcmVkRmllbGRzKSB7XG4gICAgICBmaWVsZCA9IHRoaXMuX3JlcXVpcmVkRmllbGRzW2ldO1xuICAgICAgaWYgKCFjbG9uZWRSZWNvcmQuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XG4gICAgICAgIGNsb25lZFJlY29yZFtmaWVsZF0gPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl92YWxpZGF0ZU9uQ3JlYXRlKSB7XG4gICAgICB2YWxpZGF0aW9uRXJyb3JzID0gYXdhaXQgdGhpcy5pc1ZhbGlkUmVjb3JkKGNsb25lZFJlY29yZCk7XG4gICAgICBpZiAoIXZhbGlkYXRpb25FcnJvcnMuaXNFbXB0eSgpKSB7XG4gICAgICAgIHRocm93IHZhbGlkYXRpb25FcnJvcnM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9jcmVhdGUoY2xvbmVkUmVjb3JkLCBpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9jcmVhdGUoY2xvbmVkUmVjb3JkLCBpZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCByZWNvcmRzIGxpc3RcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgc2V0dGluZ3MgICAgICAgICAgICAgICAgUmVxdWVzdFxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSAgICBzZXR0aW5ncy5maWVsZHMgICAgICAgICBGaWVsZHNcbiAgICogQHBhcmFtIHtudW1iZXJ9ICAgICAgW3NldHRpbmdzLmxpbWl0XSAgICAgICAgTGltaXRcbiAgICogQHBhcmFtIHtudW1iZXJ9ICAgICAgW3NldHRpbmdzLm9mZnNldD0wXSAgICAgT2Zmc2V0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIFtzZXR0aW5ncy5maWx0ZXJzXSAgICAgIEZpbHRlciB2YWx1ZXMgb2JqZWN0XG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgICAgIFtzZXR0aW5ncy5zb3J0XSAgICAgICAgIFNvcnQgcGFyYW1ldGVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICBbc2V0dGluZ3MuaWRzXSAgICAgICAgICBSZWNvcmQgSURzLCB3ZSBuZWVkIHRvIGdldCBmb3Igc3VyZVxuICAgKi9cbiAgcmVhZChzZXR0aW5ncykge1xuICAgIGxldCBkYXRhID0gY2xvbmVEZWVwKHRoaXMuZGF0YSk7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG5cbiAgICAvLyBHZXQgZXh0cmEgcmVjb3Jkc1xuICAgIGlmIChzZXR0aW5ncy5leHRyYSAmJiBzZXR0aW5ncy5leHRyYS5sZW5ndGggPiAwKSB7XG4gICAgICByZXN1bHQuZXh0cmFSZWNvcmRzID0gZGF0YS5maWx0ZXIocmVjb3JkID0+IHNldHRpbmdzLmV4dHJhLmluZGV4T2YocmVjb3JkWzBdKSA+PSAwKTtcbiAgICB9XG5cbiAgICAvLyBEZWxldGUgdW5uZWNlc3NhcnkgZmllbGRzXG4gICAgaWYgKHNldHRpbmdzLmZpZWxkcykge1xuICAgICAgZm9yRWFjaChyZXN1bHQuZXh0cmFSZWNvcmRzLCByZWNvcmQgPT4ge1xuICAgICAgICBmb3JFYWNoKHJlY29yZFsxXSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICBpZiAoc2V0dGluZ3MuZmllbGRzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSByZWNvcmRbMV1ba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU29ydGluZ1xuICAgIGlmIChzZXR0aW5ncy5zb3J0ICYmIHNldHRpbmdzLnNvcnQubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgc29ydEZpZWxkID0gc2V0dGluZ3Muc29ydFswXVswXTtcbiAgICAgIGNvbnN0IHNvcnRNb2RlID0gc2V0dGluZ3Muc29ydFswXVsxXTtcblxuICAgICAgZGF0YSA9IGRhdGEuc29ydCgocHJldiwgbmV4dCkgPT4ge1xuICAgICAgICBpZiAocHJldlsxXVtzb3J0RmllbGRdIDwgbmV4dFsxXVtzb3J0RmllbGRdKSB7XG4gICAgICAgICAgcmV0dXJuIHNvcnRNb2RlID09PSAnYXNjJyA/IC0xIDogMTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2WzFdW3NvcnRGaWVsZF0gPiBuZXh0WzFdW3NvcnRGaWVsZF0pIHtcbiAgICAgICAgICByZXR1cm4gc29ydE1vZGUgPT09ICdhc2MnID8gMSA6IC0xO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBcHBseSBmaWx0ZXJzXG4gICAgaWYgKHRoaXMuX2ZpbHRlcnNIYW5kbGVyICYmIHNldHRpbmdzLmZpbHRlcnMpIHtcbiAgICAgIGRhdGEgPSBjbG9uZURlZXAodGhpcy5fZmlsdGVyc0hhbmRsZXIoZGF0YSwgc2V0dGluZ3MuZmlsdGVycykpO1xuICAgIH1cblxuICAgIHJlc3VsdC5jb3VudCA9IGRhdGEubGVuZ3RoO1xuXG4gICAgLy8gT2Zmc2V0IGFuZCBsaW1pdFxuICAgIGlmIChzZXR0aW5ncy5vZmZzZXQgfHwgc2V0dGluZ3MubGltaXQpIHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gc2V0dGluZ3Mub2Zmc2V0IHx8IDA7XG4gICAgICBjb25zdCBlbmQgPSAoc2V0dGluZ3Mub2Zmc2V0ICsgc2V0dGluZ3MubGltaXQpIHx8IGRhdGEubGVuZ3RoO1xuICAgICAgZGF0YSA9IGRhdGEuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLy8gRGVsZXRlIHVubmVjZXNzYXJ5IGZpZWxkc1xuICAgIGlmIChzZXR0aW5ncy5maWVsZHMpIHtcbiAgICAgIGZvckVhY2goZGF0YSwgcmVjb3JkID0+IHtcbiAgICAgICAgZm9yRWFjaChyZWNvcmRbMV0sICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgaWYgKHNldHRpbmdzLmZpZWxkcy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICAgICAgICBkZWxldGUgcmVjb3JkWzFdW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc3VsdC5yZWNvcmRzID0gZGF0YTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHBhcnRpY3VsYXIgcmVjb3JkXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gICBpZCAgICAgIFJlY29yZCBJRFxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICAgICAgZmllbGRzICBSZXF1aXJlZCBmaWVsZHNcbiAgICovXG4gIGdldFJlY29yZChpZCwgZmllbGRzKSB7XG4gICAgY29uc3QgcmVjb3JkID0gY2xvbmVEZWVwKHRoaXMuX2dldFJlY29yZEJ5SUQoaWQpKTtcbiAgICBpZiAoIXJlY29yZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignUmVjb3JkIG5vdCBmb3VuZC4nKSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmV0dXJuUmVjb3JkID0gcmVjb3JkWzFdO1xuXG4gICAgLy8gRGVsZXRpbmcgdW51c2VkIGZpZWxkc1xuICAgIGlmIChmaWVsZHMpIHtcbiAgICAgIGZvckVhY2gocmV0dXJuUmVjb3JkLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBpZiAoZmllbGRzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgICAgICBkZWxldGUgcmV0dXJuUmVjb3JkW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmV0dXJuUmVjb3JkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSByZWNvcmQgY2hhbmdlc1xuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICBjaGFuZ2VzICAgICBDaGFuZ2VzIGFycmF5XG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgYXN5bmMgdXBkYXRlKGNoYW5nZXMpIHtcbiAgICBpZiAoIWNoYW5nZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgYXBwbGllZENoYW5nZXMgPSBbXTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgY2hhbmdlcy5tYXAoXG4gICAgICAgIGFzeW5jIChbcmVjb3JkSWQsIGNoYW5nZXNdKSA9PiB7XG4gICAgICAgICAgY29uc3QgdmFsaWRFcnJvcnMgPSBhd2FpdCB0aGlzLmlzVmFsaWRSZWNvcmQoY2hhbmdlcyk7XG5cbiAgICAgICAgICBpZiAoIXZhbGlkRXJyb3JzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtyZWNvcmRJZCwgdmFsaWRFcnJvcnNdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFwcGxpZWRDaGFuZ2VzLnB1c2goW3JlY29yZElkLCBjaGFuZ2VzXSk7XG4gICAgICAgICAgcmV0dXJuIFtyZWNvcmRJZCwgY2hhbmdlc107XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuXG4gICAgaWYgKGFwcGxpZWRDaGFuZ2VzLmxlbmd0aCkge1xuICAgICAgLy8gQXBwbHkgY2hhbmdlc1xuICAgICAgZm9yIChjb25zdCBbcmVjb3JkSWQsIGNoYW5nZXNdIG9mIGFwcGxpZWRDaGFuZ2VzKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fZ2V0UmVjb3JkQnlJRChyZWNvcmRJZClbMV0sIGNoYW5nZXMpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRyaWdnZXIoJ3VwZGF0ZScsIGFwcGxpZWRDaGFuZ2VzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRpb24gY2hlY2tcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgcmVjb3JkXG4gICAqL1xuICBpc1ZhbGlkUmVjb3JkKHJlY29yZCkge1xuICAgIHJldHVybiB0aGlzLl92YWxpZGF0b3IuaXNWYWxpZFJlY29yZChyZWNvcmQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgZGVwZW5kZW50IGZpZWxkcywgdGhhdCBhcmUgcmVxdWlyZWQgZm9yIHZhbGlkYXRpb25cbiAgICpcbiAgICogQHBhcmFtICAge0FycmF5fSAgZmllbGRzICAgRmllbGRzIGxpc3RcbiAgICogQHJldHVybnMge0FycmF5fSAgRGVwZW5kZW5jaWVzXG4gICAqL1xuICBnZXRWYWxpZGF0aW9uRGVwZW5kZW5jeShmaWVsZHMpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsaWRhdG9yLmdldFZhbGlkYXRpb25EZXBlbmRlbmN5KGZpZWxkcyk7XG4gIH1cblxuICBfZ2V0SUQoKSB7XG4gICAgd2hpbGUgKHRoaXMuX2dldFJlY29yZEJ5SUQodGhpcy5faWQpKSB7XG4gICAgICB0aGlzLl9pZCsrO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faWQrKztcbiAgfVxuXG4gIF9nZXRSZWNvcmRCeUlEKGlkKSB7XG4gICAgcmV0dXJuIGZpbmQodGhpcy5kYXRhLCByZWNvcmQgPT4gcmVjb3JkWzBdID09PSBpZCk7XG4gIH1cblxuICBfY3JlYXRlKHJlY29yZCwgaWQpIHtcbiAgICB0aGlzLmRhdGEucHVzaChbaWQsIHJlY29yZF0pO1xuICAgIHRoaXMudHJpZ2dlcignY3JlYXRlJywgW2lkXSk7XG4gICAgcmV0dXJuIGlkO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRDb2xsZWN0aW9uTW9kZWw7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBWYWxpZGF0aW9uRXJyb3JzIGZyb20gJy4uLy4uL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRpb25FcnJvcnMnO1xuaW1wb3J0IHthc3luY0hhbmRsZXJ9IGZyb20gJy4uLy4uL2NvbW1vbi91dGlscyc7XG5cbi8qKlxuICogRm9ybSBFeHByZXNzIEFQSSBmb3IgR3JpZCBtb2RlbCBpbnRlcmFjdGlvblxuICpcbiAqIEByZXR1cm4ge0dyaWRFeHByZXNzQXBpfVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIEdyaWRFeHByZXNzQXBpIHtcbiAgc3RhdGljIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gbmV3IEdyaWRFeHByZXNzQXBpKCk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1pZGRsZXdhcmVzID0ge1xuICAgICAgcmVhZEdldDogW2FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB7fTtcbiAgICAgICAgaWYgKHJlcS5xdWVyeS5saW1pdCkge1xuICAgICAgICAgIHNldHRpbmdzLmxpbWl0ID0gcGFyc2VJbnQocmVxLnF1ZXJ5LmxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxLnF1ZXJ5Lm9mZnNldCkge1xuICAgICAgICAgIHNldHRpbmdzLm9mZnNldCA9IHBhcnNlSW50KHJlcS5xdWVyeS5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEucXVlcnkuc29ydCkge1xuICAgICAgICAgIHNldHRpbmdzLnNvcnQgPSBKU09OLnBhcnNlKHJlcS5xdWVyeS5zb3J0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxLnF1ZXJ5LmZpZWxkcykge1xuICAgICAgICAgIHNldHRpbmdzLmZpZWxkcyA9IEpTT04ucGFyc2UocmVxLnF1ZXJ5LmZpZWxkcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcS5xdWVyeS5leHRyYSkge1xuICAgICAgICAgIHNldHRpbmdzLmV4dHJhID0gSlNPTi5wYXJzZShyZXEucXVlcnkuZXh0cmEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEucXVlcnkuZmlsdGVycykge1xuICAgICAgICAgIHNldHRpbmdzLmZpbHRlcnMgPSBKU09OLnBhcnNlKHJlcS5xdWVyeS5maWx0ZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLl9jb21tb25SZWFkTWlkZGxld2FyZShyZXEsIHJlcywgbmV4dCwgc2V0dGluZ3MpO1xuICAgICAgfSldLFxuICAgICAgcmVhZFBvc3Q6IFthc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0ge307XG4gICAgICAgIGlmIChyZXEuYm9keS5saW1pdCkge1xuICAgICAgICAgIHNldHRpbmdzLmxpbWl0ID0gcGFyc2VJbnQocmVxLmJvZHkubGltaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEuYm9keS5vZmZzZXQpIHtcbiAgICAgICAgICBzZXR0aW5ncy5vZmZzZXQgPSBwYXJzZUludChyZXEuYm9keS5vZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEuYm9keS5zb3J0KSB7XG4gICAgICAgICAgc2V0dGluZ3Muc29ydCA9IHJlcS5ib2R5LnNvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcS5ib2R5LmZpZWxkcykge1xuICAgICAgICAgIHNldHRpbmdzLmZpZWxkcyA9IHJlcS5ib2R5LmZpZWxkcztcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxLmJvZHkuZXh0cmEpIHtcbiAgICAgICAgICBzZXR0aW5ncy5leHRyYSA9IHJlcS5ib2R5LmV4dHJhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEuYm9keS5maWx0ZXJzKSB7XG4gICAgICAgICAgc2V0dGluZ3MuZmlsdGVycyA9IHJlcS5ib2R5LmZpbHRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5fY29tbW9uUmVhZE1pZGRsZXdhcmUocmVxLCByZXMsIG5leHQsIHNldHRpbmdzKTtcbiAgICAgIH0pXSxcbiAgICAgIHZhbGlkYXRlOiBbYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKHJlcSwgcmVzKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcmVzdWx0KCd2YWxpZGF0ZScpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGVycm9ycyA9IGF3YWl0IG1vZGVsLmlzVmFsaWRSZWNvcmQocmVxLmJvZHkucmVjb3JkLCByZXEuYm9keS5pZCk7XG4gICAgICAgICAgcmVzdWx0KG51bGwsIGVycm9ycywgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZXN1bHQoZXJyLCBudWxsLCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0pXSxcbiAgICAgIGdldFJlY29yZDogW2FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgY29uc3QgY29scyA9IHJlcS5xdWVyeS5jb2xzID8gSlNPTi5wYXJzZShyZXEucXVlcnkuY29scykgOiBudWxsO1xuICAgICAgICBjb25zdCByZWNvcmRJZCA9IHJlcS5wYXJhbXMucmVjb3JkSWQgPyBKU09OLnBhcnNlKHJlcS5wYXJhbXMucmVjb3JkSWQpIDogbnVsbDtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChyZXEsIHJlcyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3Jlc3VsdCgnZ2V0UmVjb3JkJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5nZXRSZWNvcmQocmVjb3JkSWQsIGNvbHMpO1xuICAgICAgICAgIHJlc3VsdChudWxsLCByZXNwb25zZSwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZXN1bHQoZXJyLCBudWxsLCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0pXSxcbiAgICAgIHVwZGF0ZTogW2FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChyZXEsIHJlcyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3Jlc3VsdCgndXBkYXRlJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG1vZGVsLnVwZGF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgcmVzdWx0KG51bGwsIGRhdGEsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmVzdWx0KGVyciwgbnVsbCwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9XG4gICAgICB9KV0sXG4gICAgICBjcmVhdGU6IFthc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwocmVxLCByZXMpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9yZXN1bHQoJ2NyZWF0ZScpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBtb2RlbC5jcmVhdGUocmVxLmJvZHkpO1xuICAgICAgICAgIHJlc3VsdChudWxsLCBkYXRhLCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHJlc3VsdChlcnIsIG51bGwsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSldXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGVjaWZ5IEdyaWQgbW9kZWxcbiAgICpcbiAgICogQHBhcmFtICAge0Z1bmN0aW9ufEFic3RyYWN0R3JpZE1vZGVsfSAgbW9kZWwgICBHcmlkIG1vZGVsXG4gICAqIEByZXR1cm4gIHtHcmlkRXhwcmVzc0FwaX1cbiAgICovXG4gIG1vZGVsKG1vZGVsKSB7XG4gICAgaWYgKHR5cGVvZiBtb2RlbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fZ2V0TW9kZWwgPSBtb2RlbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZ2V0TW9kZWwgPSAoKSA9PiBtb2RlbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXRSb3V0ZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBleHByZXNzLlJvdXRlcigpXG4gICAgICAuZ2V0KCcvJywgdGhpcy5taWRkbGV3YXJlcy5yZWFkR2V0KVxuICAgICAgLnBvc3QoJy9yZWFkJywgdGhpcy5taWRkbGV3YXJlcy5yZWFkUG9zdClcbiAgICAgIC5wb3N0KCcvdmFsaWRhdGlvbicsIHRoaXMubWlkZGxld2FyZXMudmFsaWRhdGUpXG4gICAgICAuZ2V0KCcvOnJlY29yZElkJywgdGhpcy5taWRkbGV3YXJlcy5nZXRSZWNvcmQpXG4gICAgICAucHV0KCcvJywgdGhpcy5taWRkbGV3YXJlcy51cGRhdGUpXG4gICAgICAucG9zdCgnLycsIHRoaXMubWlkZGxld2FyZXMuY3JlYXRlKVxuICAgICAgLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICB0aGlzLl9yZXN1bHQoKShlcnIsIG51bGwsIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVhZChtaWRkbGV3YXJlcykge1xuICAgIHRoaXMuX2FkZE1pZGVsd2FyZXMoJ3JlYWRHZXQnLCBtaWRkbGV3YXJlcyk7XG4gICAgdGhpcy5fYWRkTWlkZWx3YXJlcygncmVhZFBvc3QnLCBtaWRkbGV3YXJlcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YWxpZGF0ZShtaWRkbGV3YXJlcykge1xuICAgIHJldHVybiB0aGlzLl9hZGRNaWRlbHdhcmVzKCd2YWxpZGF0ZScsIG1pZGRsZXdhcmVzKTtcbiAgfVxuXG4gIGdldFJlY29yZChtaWRkbGV3YXJlcykge1xuICAgIHJldHVybiB0aGlzLl9hZGRNaWRlbHdhcmVzKCdnZXRSZWNvcmQnLCBtaWRkbGV3YXJlcyk7XG4gIH1cblxuICB1cGRhdGUobWlkZGxld2FyZXMpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRkTWlkZWx3YXJlcygndXBkYXRlJywgbWlkZGxld2FyZXMpO1xuICB9XG5cbiAgY3JlYXRlKG1pZGRsZXdhcmVzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZE1pZGVsd2FyZXMoJ2NyZWF0ZScsIG1pZGRsZXdhcmVzKTtcbiAgfVxuXG4gIF9hZGRNaWRlbHdhcmVzKG1ldGhvZCwgbWlkZGxld2FyZXMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobWlkZGxld2FyZXMpKSB7XG4gICAgICBtaWRkbGV3YXJlcyA9IFttaWRkbGV3YXJlc107XG4gICAgfVxuICAgIHRoaXMubWlkZGxld2FyZXNbbWV0aG9kXSA9IG1pZGRsZXdhcmVzLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVzW21ldGhvZF0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvblxuICBfZ2V0TW9kZWwoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNb2RlbCBpcyBub3QgZGVmaW5lZC4nKTtcbiAgfVxuXG4gIF9yZXN1bHQobWV0aG9kKSB7XG4gICAgaWYgKG1ldGhvZCA9PT0gJ3VwZGF0ZScpIHtcbiAgICAgIHJldHVybiAoZXJyLCBkYXRhLCByZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbmQoZXJyLCBudWxsLCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhID0gZGF0YS5yZWR1Y2UoXG4gICAgICAgICAgKHJlc3VsdCwgcmVjb3JkKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlY29yZCkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlY29yZFsxXSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5lcnJvcnMucHVzaChyZWNvcmQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZWNvcmRbMV0gaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3JzKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC52YWxpZGF0aW9uLnB1c2gocmVjb3JkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5jaGFuZ2VzLnB1c2gocmVjb3JkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7Y2hhbmdlczogW10sIGVycm9yczogW10sIHZhbGlkYXRpb246IFtdfVxuICAgICAgICApO1xuXG4gICAgICAgIHNlbmQobnVsbCwgZGF0YSwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAobWV0aG9kID09PSAnY3JlYXRlJykge1xuICAgICAgcmV0dXJuIChlcnIsIGRhdGEsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3JzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbmQoZXJyLCBudWxsLCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzZW5kKG51bGwsIHtkYXRhOiBudWxsLCBlcnJvcjogZXJyfSwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZW5kKG51bGwsIHtkYXRhOiBkYXRhLCBlcnJvcjogbnVsbH0sIHJlcSwgcmVzLCBuZXh0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbmQ7XG5cbiAgICBmdW5jdGlvbiBzZW5kKGVyciwgZGF0YSwgcmVxLCByZXMsIG5leHQpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgbmV4dChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLmpzb24oZGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX2NvbW1vblJlYWRNaWRkbGV3YXJlKHJlcSwgcmVzLCBuZXh0LCBzZXR0aW5ncykge1xuICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwocmVxLCByZXMpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3Jlc3VsdCgncmVhZCcpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1vZGVsLnJlYWQoc2V0dGluZ3MpO1xuICAgICAgcmVzdWx0KG51bGwsIHJlc3BvbnNlLCByZXEsIHJlcywgbmV4dCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXN1bHQoZXJyLCBudWxsLCByZXEsIHJlcywgbmV4dCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRFeHByZXNzQXBpO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IFZhbGlkYXRpb25FcnJvcnMgZnJvbSAnLi4vLi4vY29tbW9uL3ZhbGlkYXRpb24vVmFsaWRhdGlvbkVycm9ycyc7XG5pbXBvcnQgVmFsaWRhdG9yIGZyb20gJy4uLy4uL2NvbW1vbi92YWxpZGF0aW9uL1ZhbGlkYXRvcic7XG5pbXBvcnQgZGVmYXVsdFhociBmcm9tICcuLi8uLi9jb21tb24vZGVmYXVsdFhocic7XG5pbXBvcnQgQWJzdHJhY3RHcmlkTW9kZWwgZnJvbSAnLi9BYnN0cmFjdEdyaWRNb2RlbCc7XG5pbXBvcnQgdXJsIGZyb20gJ3VybCc7XG5cbmNvbnN0IE1BWF9VUklfTEVOR1RIID0gMjA0ODtcblxuLyoqXG4gKiBHcmlkIG1vZGVsLCB0aGF0IHdvcmtzIHdpdGggQVBJIHZpYSBYSFJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gICAgc2V0dGluZ3MgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZGVsIHNldHRpbmdzXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgc2V0dGluZ3MuYXBpICAgICAgICAgICAgICAgICAgICAgIEFQSSBhZGRyZXNzXG4gKiBAcGFyYW0ge1ZhbGlkYXRvcn0gW3NldHRpbmdzLnZhbGlkYXRvcl0gICAgICAgICAgICAgIEdlbmVyYWwgdmFsaWRhdG9yXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSAgW3NldHRpbmdzLnhocl0gICAgICAgICAgICAgICAgICAgIFhIUiBpbnRlcmZhY2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gICBbc2V0dGluZ3MudmFsaWRhdGVPbkNsaWVudD1mYWxzZV0gRG9uJ3Qgc2VuZCB2YWxpZGF0aW9uIHJlcXVlc3QgdG8gc2VydmVyXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgR3JpZFhock1vZGVsIGV4dGVuZHMgQWJzdHJhY3RHcmlkTW9kZWwge1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBpZiAoIXNldHRpbmdzLmFwaSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbml0aWFsaXphdGlvbiBwcm9ibGVtOiBcXCdhcGlcXCcgbXVzdCBiZSBzcGVjaWZpZWQuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fdmFsaWRhdG9yID0gc2V0dGluZ3MudmFsaWRhdG9yIHx8IG5ldyBWYWxpZGF0b3IoKTtcbiAgICB0aGlzLl94aHIgPSBzZXR0aW5ncy54aHIgfHwgZGVmYXVsdFhocjtcbiAgICB0aGlzLl92YWxpZGF0ZU9uQ2xpZW50ID0gc2V0dGluZ3MudmFsaWRhdGVPbkNsaWVudCB8fCBmYWxzZTtcbiAgICB0aGlzLl9hcGlVcmwgPSBzZXR0aW5ncy5hcGlcbiAgICAgIC5yZXBsYWNlKC8oW14vXSlcXD8vLCAnJDEvPycpIC8vIEFkZCBcIi9cIiBiZWZvcmUgXCI/XCJcbiAgICAgIC5yZXBsYWNlKC9eW14/XSpbXi9dJC8sICckJi8nKTsgLy8gQWRkIFwiL1wiIHRvIHRoZSBlbmRcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSByZWNvcmRcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgcmVjb3JkICBSZWNvcmQgb2JqZWN0XG4gICAqL1xuICBhc3luYyBjcmVhdGUocmVjb3JkKSB7XG4gICAgbGV0IGJvZHkgPSBhd2FpdCB0aGlzLl94aHIoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sXG4gICAgICB1cmk6IHRoaXMuX2FwaVVybCxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlY29yZClcbiAgICB9KTtcblxuICAgIGJvZHkgPSBKU09OLnBhcnNlKGJvZHkpO1xuXG4gICAgaWYgKGJvZHkuZXJyb3IpIHtcbiAgICAgIHRocm93IFZhbGlkYXRpb25FcnJvcnMuY3JlYXRlRnJvbUpTT04oYm9keS5lcnJvcik7XG4gICAgfVxuXG4gICAgdGhpcy50cmlnZ2VyKCdjcmVhdGUnLCBbYm9keS5kYXRhXSk7XG5cbiAgICByZXR1cm4gYm9keS5kYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCByZWNvcmRzIGxpc3RcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgc2V0dGluZ3MgICAgICAgICAgICAgICAgUmVxdWVzdFxuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICBzZXR0aW5ncy5maWVsZHMgICAgICAgICBGaWVsZHNcbiAgICogQHBhcmFtIHtudW1iZXJ9ICAgICAgW3NldHRpbmdzLmxpbWl0XSAgICAgICAgTGltaXRcbiAgICogQHBhcmFtIHtudW1iZXJ9ICAgICAgW3NldHRpbmdzLm9mZnNldD0wXSAgICAgT2Zmc2V0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIFtzZXR0aW5ncy5maWx0ZXJzXSAgICAgIEZpbHRlciB2YWx1ZXMgb2JqZWN0XG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgICAgIFtzZXR0aW5ncy5zb3J0XSAgICAgICAgIFNvcnQgcGFyYW1ldGVyc1xuICAgKiBAcGFyYW0ge0FycmF5fSAgICAgICBbc2V0dGluZ3MuZXh0cmFdICAgICAgICBSZWNvcmQgSURzLCB3ZSBuZWVkIHRvIGdldCBmb3Igc3VyZVxuICAgKi9cbiAgYXN5bmMgcmVhZChzZXR0aW5ncykge1xuICAgIGNvbnN0IHF1ZXJ5VXJsID0gdGhpcy5fZ2V0UXVlcnlVcmwoc2V0dGluZ3MpO1xuXG4gICAgaWYgKHVybC5mb3JtYXQocXVlcnlVcmwpLmxlbmd0aCA+IE1BWF9VUklfTEVOR1RIKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5fcmVhZFBvc3RSZXF1ZXN0KHNldHRpbmdzKTtcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX3hocih7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJpOiB1cmwuZm9ybWF0KHF1ZXJ5VXJsKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGFydGljdWxhciByZWNvcmRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSAgIGlkICAgICAgUmVjb3JkIElEXG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgICAgICAgICBmaWVsZHMgIFJlcXVpcmVkIGZpZWxkc1xuICAgKi9cbiAgYXN5bmMgZ2V0UmVjb3JkKGlkLCBmaWVsZHMpIHtcbiAgICBjb25zdCBwYXJzZWRVcmwgPSB1cmwucGFyc2UodGhpcy5fYXBpVXJsLCB0cnVlKTtcbiAgICBwYXJzZWRVcmwucXVlcnkuY29scyA9IEpTT04uc3RyaW5naWZ5KGZpZWxkcyk7IC8vIFRPRE8gcmVuYW1lIGNvbHMgdG8gZmllbGRzXG4gICAgcGFyc2VkVXJsLnBhdGhuYW1lID0gdXJsLnJlc29sdmUocGFyc2VkVXJsLnBhdGhuYW1lLCBKU09OLnN0cmluZ2lmeShpZCkpO1xuICAgIGRlbGV0ZSBwYXJzZWRVcmwuc2VhcmNoO1xuXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHRoaXMuX3hocih7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJpOiB1cmwuZm9ybWF0KHBhcnNlZFVybClcbiAgICB9KTtcblxuICAgIHJldHVybiBKU09OLnBhcnNlKGJvZHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IHJlY29yZCBjaGFuZ2VzXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9ICAgICAgIGNoYW5nZXMgICAgIENoYW5nZXMgYXJyYXlcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBhc3luYyB1cGRhdGUoY2hhbmdlcykge1xuICAgIGxldCBib2R5ID0gYXdhaXQgdGhpcy5feGhyKHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH0sXG4gICAgICB1cmk6IHRoaXMuX2FwaVVybCxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNoYW5nZXMpXG4gICAgfSk7XG5cbiAgICBib2R5ID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICBjb25zdCByZXMgPSBbXTtcblxuICAgIGlmIChib2R5LmNoYW5nZXMgJiYgYm9keS5jaGFuZ2VzLmxlbmd0aCkge1xuICAgICAgdGhpcy50cmlnZ2VyKCd1cGRhdGUnLCBib2R5LmNoYW5nZXMpO1xuICAgICAgcmVzLnB1c2goLi4uYm9keS5jaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKGJvZHkudmFsaWRhdGlvbiAmJiBib2R5LnZhbGlkYXRpb24ubGVuZ3RoKSB7XG4gICAgICBmb3IgKGNvbnN0IGVycm9yIG9mIGJvZHkudmFsaWRhdGlvbikge1xuICAgICAgICBpZiAoZXJyb3IgJiYgZXJyb3JbMV0pIHtcbiAgICAgICAgICBlcnJvclsxXSA9IFZhbGlkYXRpb25FcnJvcnMuY3JlYXRlRnJvbUpTT04oZXJyb3JbMV0pO1xuICAgICAgICAgIHJlcy5wdXNoKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYm9keS5lcnJvcnMgJiYgYm9keS5lcnJvcnMubGVuZ3RoKSB7XG4gICAgICBmb3IgKGNvbnN0IGVycm9yIG9mIGJvZHkuZXJyb3JzKSB7XG4gICAgICAgIGlmIChlcnJvciAmJiBlcnJvclsxXSkge1xuICAgICAgICAgIGVycm9yWzFdID0gT2JqZWN0LmFzc2lnbihuZXcgRXJyb3IoKSwgZXJyb3JbMV0pOyAvLyBOb3RlLCB0aGF0IE9iamVjdCBzcHJlYWQgb3BlcmF0b3Igd29uJ3Qgd29yayBoZXJlXG4gICAgICAgICAgcmVzLnB1c2goZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0aW9uIGNoZWNrXG4gICAqXG4gICAqIEBwYXJhbSB7e1tzdHJpbmddOiAqfX0gcmVjb3JkXG4gICAqIEBwYXJhbSB7UHJvbWlzZTwqPn0gICAgcmVjb3JkSWRcbiAgICovXG4gIGFzeW5jIGlzVmFsaWRSZWNvcmQocmVjb3JkLCByZWNvcmRJZCkge1xuICAgIGlmICh0aGlzLl92YWxpZGF0ZU9uQ2xpZW50KSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdmFsaWRhdG9yLmlzVmFsaWRSZWNvcmQocmVjb3JkKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJzZWRVcmwgPSB1cmwucGFyc2UodGhpcy5fYXBpVXJsLCB0cnVlKTtcbiAgICBwYXJzZWRVcmwucGF0aG5hbWUgPSB1cmwucmVzb2x2ZShwYXJzZWRVcmwucGF0aG5hbWUsICd2YWxpZGF0aW9uJyk7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5feGhyKHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHVyaTogdXJsLmZvcm1hdChwYXJzZWRVcmwpLFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgcmVjb3JkLFxuICAgICAgICAgIGlkOiByZWNvcmRJZFxuICAgICAgICB9LFxuICAgICAgICBqc29uOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChlcnIuc3RhdHVzQ29kZSA9PT0gNDEzKSB7XG4gICAgICAgIC8vIFdoZW4gcmVxdWVzdCBleGNlZWRzIHNlcnZlciBsaW1pdHMgYW5kXG4gICAgICAgIC8vIGNsaWVudCB2YWxpZGF0b3JzIGFyZSBhYmxlIHRvIGZpbmQgZXJyb3JzLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJldHVybiB0aGVzZSBlcnJvcnN7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb25FcnJvcnMgPSBhd2FpdCB0aGlzLl92YWxpZGF0b3IuaXNWYWxpZFJlY29yZChyZWNvcmQpO1xuICAgICAgICBpZiAoIXZhbGlkYXRpb25FcnJvcnMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25FcnJvcnM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG5cbiAgICByZXR1cm4gVmFsaWRhdGlvbkVycm9ycy5jcmVhdGVGcm9tSlNPTihyZXNwb25zZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBkZXBlbmRlbnQgZmllbGRzLCB0aGF0IGFyZSByZXF1aXJlZCBmb3IgdmFsaWRhdGlvblxuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nW119ICBmaWVsZHMgICBGaWVsZHMgbGlzdFxuICAgKiBAcmV0dXJucyB7c3RyaW5nW119ICBEZXBlbmRlbmNpZXNcbiAgICovXG4gIGdldFZhbGlkYXRpb25EZXBlbmRlbmN5KGZpZWxkcykge1xuICAgIHJldHVybiB0aGlzLl92YWxpZGF0b3IuZ2V0VmFsaWRhdGlvbkRlcGVuZGVuY3koZmllbGRzKTtcbiAgfVxuXG4gIF9nZXRRdWVyeVVybChzZXR0aW5ncykge1xuICAgIGNvbnN0IHBhcnNlZFVybCA9IHVybC5wYXJzZSh0aGlzLl9hcGlVcmwsIHRydWUpO1xuICAgIHBhcnNlZFVybC5xdWVyeS5maWVsZHMgPSBKU09OLnN0cmluZ2lmeShzZXR0aW5ncy5maWVsZHMpO1xuICAgIHBhcnNlZFVybC5xdWVyeS5vZmZzZXQgPSBzZXR0aW5ncy5vZmZzZXQgfHwgMDtcbiAgICBpZiAoc2V0dGluZ3MubGltaXQpIHtcbiAgICAgIHBhcnNlZFVybC5xdWVyeS5saW1pdCA9IHNldHRpbmdzLmxpbWl0O1xuICAgIH1cbiAgICBpZiAoc2V0dGluZ3MuZmlsdGVycykge1xuICAgICAgcGFyc2VkVXJsLnF1ZXJ5LmZpbHRlcnMgPSBKU09OLnN0cmluZ2lmeShzZXR0aW5ncy5maWx0ZXJzKTtcbiAgICB9XG4gICAgaWYgKHNldHRpbmdzLnNvcnQpIHtcbiAgICAgIHBhcnNlZFVybC5xdWVyeS5zb3J0ID0gSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3Muc29ydCk7XG4gICAgfVxuICAgIGlmIChzZXR0aW5ncy5leHRyYSkge1xuICAgICAgcGFyc2VkVXJsLnF1ZXJ5LmV4dHJhID0gSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MuZXh0cmEpO1xuICAgIH1cbiAgICBkZWxldGUgcGFyc2VkVXJsLnNlYXJjaDtcblxuICAgIHJldHVybiBwYXJzZWRVcmw7XG4gIH1cblxuICBhc3luYyBfcmVhZFBvc3RSZXF1ZXN0KHNldHRpbmdzKSB7XG4gICAgY29uc3QgcmVxdWVzdEJvZHkgPSB7fTtcbiAgICByZXF1ZXN0Qm9keS5maWVsZHMgPSBzZXR0aW5ncy5maWVsZHM7XG4gICAgcmVxdWVzdEJvZHkub2Zmc2V0ID0gc2V0dGluZ3Mub2Zmc2V0IHx8IDA7XG4gICAgaWYgKHNldHRpbmdzLmxpbWl0KSB7XG4gICAgICByZXF1ZXN0Qm9keS5saW1pdCA9IHNldHRpbmdzLmxpbWl0O1xuICAgIH1cbiAgICBpZiAoc2V0dGluZ3MuZmlsdGVycykge1xuICAgICAgcmVxdWVzdEJvZHkuZmlsdGVycyA9IHNldHRpbmdzLmZpbHRlcnM7XG4gICAgfVxuICAgIGlmIChzZXR0aW5ncy5zb3J0KSB7XG4gICAgICByZXF1ZXN0Qm9keS5zb3J0ID0gc2V0dGluZ3Muc29ydDtcbiAgICB9XG4gICAgaWYgKHNldHRpbmdzLmV4dHJhKSB7XG4gICAgICByZXF1ZXN0Qm9keS5leHRyYSA9IHNldHRpbmdzLmV4dHJhO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcnNlZFVybCA9IHVybC5wYXJzZSh0aGlzLl9hcGlVcmwsIHRydWUpO1xuICAgIHBhcnNlZFVybC5wYXRobmFtZSA9IHVybC5yZXNvbHZlKHBhcnNlZFVybC5wYXRobmFtZSwgJ3JlYWQnKTtcblxuICAgIHJldHVybiBhd2FpdCB0aGlzLl94aHIoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBqc29uOiB0cnVlLFxuICAgICAgdXJpOiB1cmwuZm9ybWF0KHBhcnNlZFVybCksXG4gICAgICBib2R5OiByZXF1ZXN0Qm9keVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyaWRYaHJNb2RlbDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKNGBKSAyMDE1LXByZXNlbnQsIFNvZnRJbmRleCBMTEMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7ZGVjb3JhdGV9IGZyb20gJy4uLy4uL2NvbW1vbi91dGlscyc7XG5cbi8qKlxuICogRGVmaW5lcyBmaWx0ZXIgdmFsdWVzIHdoaWxlIHJlYWRpbmcgR3JpZCBtb2RlbCBkYXRhXG4gKlxuICogQHBhcmFtIHtBYnN0cmFjdEdyaWRNb2RlbH0gbW9kZWwgICAgICAgR3JpZCBtb2RlbFxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgZmlsdGVycyAgICAgRmlsdGVyIHZhbHVlc1xuICovXG5mdW5jdGlvbiBhcHBseUdyaWRGaWx0ZXJzKG1vZGVsLCBmaWx0ZXJzKSB7XG4gIHJldHVybiBkZWNvcmF0ZShtb2RlbCwge1xuICAgIGFzeW5jIHJlYWQob3B0aW9ucykge1xuICAgICAgb3B0aW9ucy5maWx0ZXJzID0ge1xuICAgICAgICAuLi5maWx0ZXJzLFxuICAgICAgICAuLi5vcHRpb25zLmZpbHRlcnNcbiAgICAgIH07XG4gICAgICByZXR1cm4gYXdhaXQgbW9kZWwucmVhZChvcHRpb25zKTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBhcHBseUdyaWRGaWx0ZXJzO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLyoqXG4gKiBBYnN0cmFjdCBMaXN0IG1vZGVsXG4gKi9cbmNsYXNzIEFic3RyYWN0TGlzdE1vZGVsIHtcbiAgLyoqXG4gICAqIEdldCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICBzZWFyY2ggIFNlYXJjaCBxdWVyeVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHJlYWQoLypzZWFyY2gqLykge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvcHRpb24gbmFtZSB1c2luZyBJRFxuICAgKlxuICAgKiBAcGFyYW0geyp9ICAgICAgICAgaWQgIE9wdGlvbiBJRFxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGdldExhYmVsKC8qaWQqLykge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFic3RyYWN0TGlzdE1vZGVsO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQge2FzeW5jSGFuZGxlcn0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcblxuLyoqXG4gKiBGb3JtIEV4cHJlc3MgQVBJIGZvciBMaXN0IG1vZGVsIGludGVyYWN0aW9uXG4gKlxuICogQHJldHVybiB7TGlzdEV4cHJlc3NBcGl9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgTGlzdEV4cHJlc3NBcGkge1xuICBzdGF0aWMgY3JlYXRlKCkge1xuICAgIHJldHVybiBuZXcgTGlzdEV4cHJlc3NBcGkoKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWlkZGxld2FyZXMgPSB7XG4gICAgICByZWFkOiBbYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKHJlcSwgcmVzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG1vZGVsLnJlYWQocmVxLnF1ZXJ5LnYpO1xuICAgICAgICAgIHRoaXMuX3Jlc3VsdChudWxsLCByZXNwb25zZSwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB0aGlzLl9yZXN1bHQoZXJyLCBudWxsLCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0pXSxcbiAgICAgIGdldExhYmVsOiBbYXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IEpTT04ucGFyc2UocmVxLnBhcmFtcy5pZCk7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwocmVxLCByZXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbW9kZWwuZ2V0TGFiZWwoaWQpO1xuICAgICAgICAgIHRoaXMuX3Jlc3VsdChudWxsLCByZXNwb25zZSwgcmVxLCByZXMsIG5leHQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB0aGlzLl9yZXN1bHQoZXJyLCBudWxsLCByZXEsIHJlcywgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0pXVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU3BlY2lmeSBMaXN0IG1vZGVsXG4gICAqXG4gICAqIEBwYXJhbSAgIHtGdW5jdGlvbnxBYnN0cmFjdExpc3RNb2RlbH0gIG1vZGVsICBMaXN0IG1vZGVsXG4gICAqIEByZXR1cm4ge0xpc3RFeHByZXNzQXBpfVxuICAgKi9cbiAgbW9kZWwobW9kZWwpIHtcbiAgICBpZiAodHlwZW9mIG1vZGVsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLl9nZXRNb2RlbCA9IG1vZGVsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9nZXRNb2RlbCA9ICgpID0+IG1vZGVsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldFJvdXRlcigpIHtcbiAgICByZXR1cm4gbmV3IGV4cHJlc3MuUm91dGVyKClcbiAgICAgIC5nZXQoJy8nLCB0aGlzLm1pZGRsZXdhcmVzLnJlYWQpXG4gICAgICAuZ2V0KCcvbGFiZWwvOmlkJywgdGhpcy5taWRkbGV3YXJlcy5nZXRMYWJlbCk7XG4gIH1cblxuICByZWFkKG1pZGRsZXdhcmVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG1pZGRsZXdhcmVzKSkge1xuICAgICAgbWlkZGxld2FyZXMgPSBbbWlkZGxld2FyZXNdO1xuICAgIH1cbiAgICB0aGlzLm1pZGRsZXdhcmVzLnJlYWQgPSBtaWRkbGV3YXJlcy5jb25jYXQodGhpcy5taWRkbGV3YXJlcy5yZWFkKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldExhYmVsKG1pZGRsZXdhcmVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG1pZGRsZXdhcmVzKSkge1xuICAgICAgbWlkZGxld2FyZXMgPSBbbWlkZGxld2FyZXNdO1xuICAgIH1cbiAgICB0aGlzLm1pZGRsZXdhcmVzLmdldExhYmVsID0gbWlkZGxld2FyZXMuY29uY2F0KHRoaXMubWlkZGxld2FyZXMuZ2V0TGFiZWwpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvblxuICBfZ2V0TW9kZWwoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ01vZGVsIGlzIG5vdCBkZWZpbmVkLicpO1xuICB9XG5cbiAgX3Jlc3VsdChlcnIsIGRhdGEsIHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgbmV4dChlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGRhdGEgPSBkYXRhLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICByZXMuanNvbihkYXRhKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdEV4cHJlc3NBcGk7XG4iLCIvKlxuICogQ29weXJpZ2h0ICjRgSkgMjAxNS1wcmVzZW50LCBTb2Z0SW5kZXggTExDLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgZGVmYXVsdFhociBmcm9tICcuLi9jb21tb24vZGVmYXVsdFhocic7XG5pbXBvcnQgdXJsIGZyb20gJ3VybCc7XG5cbmNsYXNzIExpc3RYTUxIdHRwUmVxdWVzdE1vZGVsIHtcbiAgLyoqXG4gICAqIFNpbXBsZSBsaXN0IGNsaWVudCBtb2RlbCB3aGljaCB3b3JrcyB2aWEgWE1MSHR0cFJlcXVlc3RcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgIGFwaVVSTCAgQVBJIGFkZHJlc3MgZm9yIGxpc3QgbW9kZWwgaW50ZXJhY3Rpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gIFt4aHJdICAgWEhSIHdyYXBwZXJcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhcGlVUkwsIHhocikge1xuICAgIHRoaXMuX2FwaVVSTCA9IGFwaVVSTDtcbiAgICB0aGlzLl94aHIgPSB4aHIgfHwgZGVmYXVsdFhocjtcbiAgICB0aGlzLl9hcGlVcmwgPSBhcGlVUkxcbiAgICAgIC5yZXBsYWNlKC8oW14vXSlcXD8vLCAnJDEvPycpIC8vIEFkZCBcIi9cIiBiZWZvcmUgXCI/XCJcbiAgICAgIC5yZXBsYWNlKC9eW14/XSpbXi9dJC8sICckJi8nKTsgLy8gQWRkIFwiL1wiIHRvIHRoZSBlbmRcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbW9kZWwgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gICAgc2VhcmNoICBMaXN0IHNlYXJjaCBxdWVyeVxuICAgKi9cbiAgYXN5bmMgcmVhZChzZWFyY2gpIHtcbiAgICBjb25zdCBwYXJzZWRVcmwgPSB1cmwucGFyc2UodGhpcy5fYXBpVXJsLCB0cnVlKTtcbiAgICBkZWxldGUgcGFyc2VkVXJsLnNlYXJjaDtcbiAgICBpZiAoc2VhcmNoKSB7XG4gICAgICBwYXJzZWRVcmwucXVlcnkudiA9IHNlYXJjaDtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0gYXdhaXQgdGhpcy5feGhyKHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH0sXG4gICAgICB1cmk6IHVybC5mb3JtYXQocGFyc2VkVXJsKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoYm9keSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG9wdGlvbiBuYW1lIHVzaW5nIElEXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gICAgICAgICBpZCAgT3B0aW9uIElEXG4gICAqL1xuICBhc3luYyBnZXRMYWJlbChpZCkge1xuICAgIGNvbnN0IHBhcnNlZFVybCA9IHVybC5wYXJzZSh0aGlzLl9hcGlVcmwsIHRydWUpO1xuICAgIHBhcnNlZFVybC5wYXRobmFtZSA9IHVybC5yZXNvbHZlKHBhcnNlZFVybC5wYXRobmFtZSwgYGxhYmVsLyR7SlNPTi5zdHJpbmdpZnkoaWQpfWApO1xuXG4gICAgbGV0IGJvZHkgPSBhd2FpdCB0aGlzLl94aHIoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSxcbiAgICAgIHVyaTogdXJsLmZvcm1hdChwYXJzZWRVcmwpXG4gICAgfSk7XG5cbiAgICBib2R5ID0gSlNPTi5wYXJzZShib2R5KTtcblxuICAgIHJldHVybiBib2R5O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExpc3RYTUxIdHRwUmVxdWVzdE1vZGVsO1xuIiwiLypcbiAqIENvcHlyaWdodCAo0YEpIDIwMTUtcHJlc2VudCwgU29mdEluZGV4IExMQy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGJyb3dzZXJNb2R1bGUgZnJvbSAnLi9icm93c2VyJztcbmltcG9ydCBHcmlkRXhwcmVzc0FwaSBmcm9tICcuL2dyaWQvbW9kZWxzL0dyaWRFeHByZXNzQXBpJztcbmltcG9ydCBMaXN0RXhwcmVzc0FwaSBmcm9tICcuL2xpc3QvTGlzdEV4cHJlc3NBcGknO1xuaW1wb3J0IEZvcm1FeHByZXNzQXBpIGZyb20gJy4vZm9ybS9Gb3JtRXhwcmVzc0FwaSc7XG5pbXBvcnQgdG9DU1YgZnJvbSAnLi9ncmlkL2V4cG9ydC9leHBvcnRlcnMvdG9DU1YnO1xuXG5icm93c2VyTW9kdWxlLmdyaWRFeHByZXNzQXBpID0gR3JpZEV4cHJlc3NBcGkuY3JlYXRlO1xuYnJvd3Nlck1vZHVsZS5saXN0RXhwcmVzc0FwaSA9IExpc3RFeHByZXNzQXBpLmNyZWF0ZTtcbmJyb3dzZXJNb2R1bGUuZm9ybUV4cHJlc3NBcGkgPSBGb3JtRXhwcmVzc0FwaS5jcmVhdGU7XG5icm93c2VyTW9kdWxlLnRvQ1NWID0gdG9DU1Y7XG5cbmV4cG9ydCBkZWZhdWx0IGJyb3dzZXJNb2R1bGU7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcG9seWZpbGwvYnJvd3NlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3JcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVja1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHlcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2ZcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0c1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXlcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZlwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjbGFzc25hbWVzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNyZWF0ZS1yZWFjdC1jbGFzc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjc3Ytc3RyaW5naWZ5XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibW9tZW50XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInByb3AtdHlwZXNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3QtZGF0ZXBpY2tlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3QtZG9tLWZhY3Rvcmllc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ1cmxcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwieGhyXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=